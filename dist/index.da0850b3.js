let e,t,n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R,k,D,N,M,L,j,F,B,z,U,W,H,V,G,$;function q(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var X=globalThis;function Y(e){return e&&e.__esModule?e.default:e}function K(e){Object.defineProperty(e,"__esModule",{value:!0,configurable:!0})}function Z(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}var J={},Q={},ee=X.parcelRequire0bb8;null==ee&&((ee=function(e){if(e in J)return J[e].exports;if(e in Q){var t=Q[e];delete Q[e];var n={id:e,exports:{}};return J[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){Q[e]=t},X.parcelRequire0bb8=ee);var et=ee.register;et("lfr5Y",function(e,t){(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),e.exports=ee("1yIDA")}),et("1yIDA",function(e,t){q(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>W,e=>W=e),q(e.exports,"createPortal",()=>H,e=>H=e),q(e.exports,"createRoot",()=>V,e=>V=e),q(e.exports,"findDOMNode",()=>G,e=>G=e),q(e.exports,"flushSync",()=>$,e=>$=e),q(e.exports,"hydrate",()=>X,e=>X=e),q(e.exports,"hydrateRoot",()=>Y,e=>Y=e),q(e.exports,"render",()=>K,e=>K=e),q(e.exports,"unmountComponentAtNode",()=>Z,e=>Z=e),q(e.exports,"unstable_batchedUpdates",()=>J,e=>J=e),q(e.exports,"unstable_renderSubtreeIntoContainer",()=>Q,e=>Q=e),q(e.exports,"version",()=>et,e=>et=e);var n,i,o,a,s,l,u=ee("dm060"),c=ee("3qop6");function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=new Set,h={};function f(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(h[e]=t,e=0;e<t.length;e++)p.add(t[e])}var m=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},w={};function x(e,t,n,i,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function T(e,t,n,i){var o,a=S.hasOwnProperty(t)?S[t]:null;(null!==a?0!==a.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(i)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,i)&&(n=null),i||null===a?(o=t,(!!v.call(w,o)||!v.call(b,o)&&(y.test(o)?w[o]=!0:(b[o]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,i=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,E);S[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,E);S[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,E);S[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var O=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),P=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var B=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function U(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var W,H,V,G,$,X,Y,K,Z,J,Q,et,er,en=Object.assign;function ei(e){if(void 0===er)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);er=t&&t[1]||""}return"\n"+er+e}var eo=!1;function ea(e,t){if(!e||eo)return"";eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){i=e}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=i.stack.split("\n"),s=o.length-1,l=a.length-1;1<=s&&0<=l&&o[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==a[l]){if(1!==s||1!==l)do if(s--,0>--l||o[s]!==a[l]){var u="\n"+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l)break}}}finally{eo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ei(e):""}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function el(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function eu(e){e._valueTracker||(e._valueTracker=function(e){var t=el(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=el(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ed(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ep(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function eh(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=es(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function eg(e,t){ef(e,t);var n=es(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i){e.removeAttribute("value");return}t.hasOwnProperty("value")?ev(e,t.type,n):t.hasOwnProperty("defaultValue")&&ev(e,t.type,es(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ev(e,t,n){("number"!==t||ed(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ey=Array.isArray;function eb(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(o=0,n=""+es(n),t=null;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ew(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(d(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ex(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(d(92));if(ey(n)){if(1<n.length)throw Error(d(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function eS(e,t){var n=es(t.value),i=es(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function e_(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function eE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eT(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?eE(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eO,eI,eP=(eO=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eI=eI||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eI.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return eO(e,t,n,i)})}:eO);function eC(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];function ek(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eA.hasOwnProperty(e)&&eA[e]?(""+t).trim():t+"px"}function eD(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=ek(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(eA).forEach(function(e){eR.forEach(function(t){eA[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eA[e]})});var eN=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eM(e,t){if(t){if(eN[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(d(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(d(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(d(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(d(62))}}function eL(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ej=null;function eF(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eB=null,ez=null,eU=null;function eW(e){if(e=nK(e)){if("function"!=typeof eB)throw Error(d(280));var t=e.stateNode;t&&(t=nJ(t),eB(e.stateNode,e.type,t))}}function eH(e){ez?eU?eU.push(e):eU=[e]:ez=e}function eV(){if(ez){var e=ez,t=eU;if(eU=ez=null,eW(e),t)for(e=0;e<t.length;e++)eW(t[e])}}function eG(e,t){return e(t)}function e$(){}var eq=!1;function eX(e,t,n){if(eq)return e(t,n);eq=!0;try{return eG(e,t,n)}finally{eq=!1,(null!==ez||null!==eU)&&(e$(),eV())}}function eY(e,t){var n=e.stateNode;if(null===n)return null;var i=nJ(n);if(null===i)return null;switch(n=i[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(d(231,t,typeof n));return n}var eK=!1;if(m)try{var eZ={};Object.defineProperty(eZ,"passive",{get:function(){eK=!0}}),window.addEventListener("test",eZ,eZ),window.removeEventListener("test",eZ,eZ)}catch(e){eK=!1}function eJ(e,t,n,i,o,a,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var eQ=!1,e0=null,e1=!1,e2=null,e3={onError:function(e){eQ=!0,e0=e}};function e5(e,t,n,i,o,a,s,l,u){eQ=!1,e0=null,eJ.apply(e3,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e8(e){if(e4(e)!==e)throw Error(d(188))}function e9(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(d(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return e8(o),e;if(a===i)return e8(o),t;a=a.sibling}throw Error(d(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s)throw Error(d(189))}}if(n.alternate!==i)throw Error(d(190))}if(3!==n.tag)throw Error(d(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e7=c.unstable_scheduleCallback,te=c.unstable_cancelCallback,tt=c.unstable_shouldYield,tr=c.unstable_requestPaint,tn=c.unstable_now,ti=c.unstable_getCurrentPriorityLevel,to=c.unstable_ImmediatePriority,ta=c.unstable_UserBlockingPriority,ts=c.unstable_NormalPriority,tl=c.unstable_LowPriority,tu=c.unstable_IdlePriority,tc=null,td=null,tp=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tf|0)|0},th=Math.log,tf=Math.LN2,tg=64,tm=4194304;function tv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function ty(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,s=0xfffffff&n;if(0!==s){var l=s&~o;0!==l?i=tv(l):0!=(a&=s)&&(i=tv(a))}else 0!=(s=n&~o)?i=tv(s):0!==a&&(i=tv(a));if(0===i)return 0;if(0!==t&&t!==i&&0==(t&o)&&((o=i&-i)>=(a=t&-t)||16===o&&0!=(4194240&a)))return t;if(0!=(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-tp(t)),i|=e[n],t&=~o;return i}function tb(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function tw(){var e=tg;return 0==(4194240&(tg<<=1))&&(tg=64),e}function tx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tS(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tp(t)]=n}function t_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-tp(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var tE=0;function tT(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var tO,tI,tP,tC,tA,tR=!1,tk=[],tD=null,tN=null,tM=null,tL=new Map,tj=new Map,tF=[],tB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tz(e,t){switch(e){case"focusin":case"focusout":tD=null;break;case"dragenter":case"dragleave":tN=null;break;case"mouseover":case"mouseout":tM=null;break;case"pointerover":case"pointerout":tL.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tj.delete(t.pointerId)}}function tU(e,t,n,i,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},null!==t&&null!==(t=nK(t))&&tI(t)):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o)),e}function tW(e){var t=nY(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tA(e.priority,function(){tP(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tH(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=t0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=nK(n))&&tI(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);ej=i,n.target.dispatchEvent(i),ej=null,t.shift()}return!0}function tV(e,t,n){tH(e)&&n.delete(t)}function tG(){tR=!1,null!==tD&&tH(tD)&&(tD=null),null!==tN&&tH(tN)&&(tN=null),null!==tM&&tH(tM)&&(tM=null),tL.forEach(tV),tj.forEach(tV)}function t$(e,t){e.blockedOn===t&&(e.blockedOn=null,tR||(tR=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tG)))}function tq(e){function t(t){return t$(t,e)}if(0<tk.length){t$(tk[0],e);for(var n=1;n<tk.length;n++){var i=tk[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==tD&&t$(tD,e),null!==tN&&t$(tN,e),null!==tM&&t$(tM,e),tL.forEach(t),tj.forEach(t),n=0;n<tF.length;n++)(i=tF[n]).blockedOn===e&&(i.blockedOn=null);for(;0<tF.length&&null===(n=tF[0]).blockedOn;)tW(n),null===n.blockedOn&&tF.shift()}var tX=O.ReactCurrentBatchConfig,tY=!0;function tK(e,t,n,i){var o=tE,a=tX.transition;tX.transition=null;try{tE=1,tJ(e,t,n,i)}finally{tE=o,tX.transition=a}}function tZ(e,t,n,i){var o=tE,a=tX.transition;tX.transition=null;try{tE=4,tJ(e,t,n,i)}finally{tE=o,tX.transition=a}}function tJ(e,t,n,i){if(tY){var o=t0(e,t,n,i);if(null===o)nx(e,t,i,tQ,n),tz(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return tD=tU(tD,e,t,n,i,o),!0;case"dragenter":return tN=tU(tN,e,t,n,i,o),!0;case"mouseover":return tM=tU(tM,e,t,n,i,o),!0;case"pointerover":var a=o.pointerId;return tL.set(a,tU(tL.get(a)||null,e,t,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,tj.set(a,tU(tj.get(a)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(tz(e,i),4&t&&-1<tB.indexOf(e)){for(;null!==o;){var a=nK(o);if(null!==a&&tO(a),null===(a=t0(e,t,n,i))&&nx(e,t,i,tQ,n),a===o)break;o=a}null!==o&&i.stopPropagation()}else nx(e,t,i,null,n)}}var tQ=null;function t0(e,t,n,i){if(tQ=null,null!==(e=nY(e=eF(i)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tQ=e,null}function t1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case to:return 1;case ta:return 4;case ts:case tl:return 16;case tu:return 0x20000000;default:return 16}default:return 16}}var t2=null,t3=null,t5=null;function t4(){if(t5)return t5;var e,t,n=t3,i=n.length,o="value"in t2?t2.value:t2.textContent,a=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[a-t];t++);return t5=o.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t8(){return!0}function t9(){return!1}function t7(e){function t(t,n,i,o,a){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?t8:t9,this.isPropagationStopped=t9,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t8)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t8)},persist:function(){},isPersistent:t8}),t}var re,rt,rr,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=t7(rn),ro=en({},rn,{view:0,detail:0}),ra=t7(ro),rs=en({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ry,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&"mousemove"===e.type?(re=e.screenX-rr.screenX,rt=e.screenY-rr.screenY):rt=re=0,rr=e),re)},movementY:function(e){return"movementY"in e?e.movementY:rt}}),rl=t7(rs),ru=t7(en({},rs,{dataTransfer:0})),rc=t7(en({},ro,{relatedTarget:0})),rd=t7(en({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),rp=t7(en({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),rh=t7(en({},rn,{data:0})),rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=rm[e])&&!!t[e]}function ry(){return rv}var rb=t7(en({},ro,{key:function(e){if(e.key){var t=rf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ry,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),rw=t7(en({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),rx=t7(en({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ry})),rS=t7(en({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),r_=t7(en({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),rE=[9,13,27,32],rT=m&&"CompositionEvent"in window,rO=null;m&&"documentMode"in document&&(rO=document.documentMode);var rI=m&&"TextEvent"in window&&!rO,rP=m&&(!rT||rO&&8<rO&&11>=rO),rC=!1;function rA(e,t){switch(e){case"keyup":return -1!==rE.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rR(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var rk=!1,rD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!rD[e.type]:"textarea"===t}function rM(e,t,n,i){eH(i),0<(t=n_(t,"onChange")).length&&(n=new ri("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var rL=null,rj=null;function rF(e){ng(e,0)}function rB(e){if(ec(nZ(e)))return e}function rz(e,t){if("change"===e)return t}var rU=!1;if(m){if(m){var rW="oninput"in document;if(!rW){var rH=document.createElement("div");rH.setAttribute("oninput","return;"),rW="function"==typeof rH.oninput}n=rW}else n=!1;rU=n&&(!document.documentMode||9<document.documentMode)}function rV(){rL&&(rL.detachEvent("onpropertychange",rG),rj=rL=null)}function rG(e){if("value"===e.propertyName&&rB(rj)){var t=[];rM(t,rj,e,eF(e)),eX(rF,t)}}function r$(e,t,n){"focusin"===e?(rV(),rL=t,rj=n,rL.attachEvent("onpropertychange",rG)):"focusout"===e&&rV()}function rq(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rB(rj)}function rX(e,t){if("click"===e)return rB(t)}function rY(e,t){if("input"===e||"change"===e)return rB(t)}var rK="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function rZ(e,t){if(rK(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!v.call(t,o)||!rK(e[o],t[o]))return!1}return!0}function rJ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rQ(e,t){var n,i=rJ(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rJ(i)}}function r0(){for(var e=window,t=ed();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ed(e.document)}return t}function r1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var r2=m&&"documentMode"in document&&11>=document.documentMode,r3=null,r5=null,r4=null,r6=!1;function r8(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;r6||null==r3||r3!==ed(i)||(i="selectionStart"in(i=r3)&&r1(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},r4&&rZ(r4,i)||(r4=i,0<(i=n_(r5,"onSelect")).length&&(t=new ri("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=r3)))}function r9(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var r7={animationend:r9("Animation","AnimationEnd"),animationiteration:r9("Animation","AnimationIteration"),animationstart:r9("Animation","AnimationStart"),transitionend:r9("Transition","TransitionEnd")},ne={},nt={};function nr(e){if(ne[e])return ne[e];if(!r7[e])return e;var t,n=r7[e];for(t in n)if(n.hasOwnProperty(t)&&t in nt)return ne[e]=n[t];return e}m&&(nt=document.createElement("div").style,"AnimationEvent"in window||(delete r7.animationend.animation,delete r7.animationiteration.animation,delete r7.animationstart.animation),"TransitionEvent"in window||delete r7.transitionend.transition);var nn=nr("animationend"),ni=nr("animationiteration"),no=nr("animationstart"),na=nr("transitionend"),ns=new Map,nl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nu(e,t){ns.set(e,t),f(t,[e])}for(var nc=0;nc<nl.length;nc++){var nd=nl[nc];nu(nd.toLowerCase(),"on"+(nd[0].toUpperCase()+nd.slice(1)))}nu(nn,"onAnimationEnd"),nu(ni,"onAnimationIteration"),nu(no,"onAnimationStart"),nu("dblclick","onDoubleClick"),nu("focusin","onFocus"),nu("focusout","onBlur"),nu(na,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nh=new Set("cancel close invalid load scroll toggle".split(" ").concat(np));function nf(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,a,s,l,u){if(e5.apply(this,arguments),eQ){if(eQ){var c=e0;eQ=!1,e0=null}else throw Error(d(198));e1||(e1=!0,e2=c)}}(i,t,void 0,e),e.currentTarget=null}function ng(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var l=i[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&o.isPropagationStopped())break e;nf(o,l,c),a=u}else for(s=0;s<i.length;s++){if(u=(l=i[s]).instance,c=l.currentTarget,l=l.listener,u!==a&&o.isPropagationStopped())break e;nf(o,l,c),a=u}}}if(e1)throw e=e2,e1=!1,e2=null,e}function nm(e,t){var n=t[n$];void 0===n&&(n=t[n$]=new Set);var i=e+"__bubble";n.has(i)||(nw(t,e,2,!1),n.add(i))}function nv(e,t,n){var i=0;t&&(i|=4),nw(n,e,i,t)}var ny="_reactListening"+Math.random().toString(36).slice(2);function nb(e){if(!e[ny]){e[ny]=!0,p.forEach(function(t){"selectionchange"!==t&&(nh.has(t)||nv(t,!1,e),nv(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ny]||(t[ny]=!0,nv("selectionchange",!1,t))}}function nw(e,t,n,i){switch(t1(t)){case 1:var o=tK;break;case 4:o=tZ;break;default:o=tJ}n=o.bind(null,t,n,e),o=void 0,eK&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function nx(e,t,n,i,o){var a=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var l=i.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===o||8===u.nodeType&&u.parentNode===o))return;s=s.return}for(;null!==l;){if(null===(s=nY(l)))return;if(5===(u=s.tag)||6===u){i=a=s;continue e}l=l.parentNode}}i=i.return}eX(function(){var i=a,o=eF(n),s=[];e:{var l=ns.get(e);if(void 0!==l){var u=ri,c=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":u=rb;break;case"focusin":c="focus",u=rc;break;case"focusout":c="blur",u=rc;break;case"beforeblur":case"afterblur":u=rc;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=rx;break;case nn:case ni:case no:u=rd;break;case na:u=rS;break;case"scroll":u=ra;break;case"wheel":u=r_;break;case"copy":case"cut":case"paste":u=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=rw}var d=0!=(4&t),p=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var f,g=i;null!==g;){var m=(f=g).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&null!=(m=eY(g,h))&&d.push(nS(g,m,f))),p)break;g=g.return}0<d.length&&(l=new u(l,c,null,n,o),s.push({event:l,listeners:d}))}}if(0==(7&t)){if(l="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,!(l&&n!==ej&&(c=n.relatedTarget||n.fromElement)&&(nY(c)||c[nG]))&&(u||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,u?(c=n.relatedTarget||n.toElement,u=i,null!==(c=c?nY(c):null)&&(p=e4(c),c!==p||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=i),u!==c)){if(d=rl,m="onMouseLeave",h="onMouseEnter",g="mouse",("pointerout"===e||"pointerover"===e)&&(d=rw,m="onPointerLeave",h="onPointerEnter",g="pointer"),p=null==u?l:nZ(u),f=null==c?l:nZ(c),(l=new d(m,g+"leave",u,n,o)).target=p,l.relatedTarget=f,m=null,nY(o)===i&&((d=new d(h,g+"enter",c,n,o)).target=f,d.relatedTarget=p,m=d),p=m,u&&c)t:{for(d=u,h=c,g=0,f=d;f;f=nE(f))g++;for(f=0,m=h;m;m=nE(m))f++;for(;0<g-f;)d=nE(d),g--;for(;0<f-g;)h=nE(h),f--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break t;d=nE(d),h=nE(h)}d=null}else d=null;null!==u&&nT(s,l,u,d,!1),null!==c&&null!==p&&nT(s,p,c,d,!0)}e:{if("select"===(u=(l=i?nZ(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var v,y=rz;else if(rN(l)){if(rU)y=rY;else{y=rq;var b=r$}}else(u=l.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=rX);if(y&&(y=y(e,i))){rM(s,y,n,o);break e}b&&b(e,l,i),"focusout"===e&&(b=l._wrapperState)&&b.controlled&&"number"===l.type&&ev(l,"number",l.value)}switch(b=i?nZ(i):window,e){case"focusin":(rN(b)||"true"===b.contentEditable)&&(r3=b,r5=i,r4=null);break;case"focusout":r4=r5=r3=null;break;case"mousedown":r6=!0;break;case"contextmenu":case"mouseup":case"dragend":r6=!1,r8(s,n,o);break;case"selectionchange":if(r2)break;case"keydown":case"keyup":r8(s,n,o)}if(rT)t:{switch(e){case"compositionstart":var w="onCompositionStart";break t;case"compositionend":w="onCompositionEnd";break t;case"compositionupdate":w="onCompositionUpdate";break t}w=void 0}else rk?rA(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(rP&&"ko"!==n.locale&&(rk||"onCompositionStart"!==w?"onCompositionEnd"===w&&rk&&(v=t4()):(t3="value"in(t2=o)?t2.value:t2.textContent,rk=!0)),0<(b=n_(i,w)).length&&(w=new rh(w,e,null,n,o),s.push({event:w,listeners:b}),v?w.data=v:null!==(v=rR(n))&&(w.data=v))),(v=rI?function(e,t){switch(e){case"compositionend":return rR(t);case"keypress":if(32!==t.which)return null;return rC=!0," ";case"textInput":return" "===(e=t.data)&&rC?null:e;default:return null}}(e,n):function(e,t){if(rk)return"compositionend"===e||!rT&&rA(e,t)?(e=t4(),t5=t3=t2=null,rk=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rP&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(i=n_(i,"onBeforeInput")).length&&(o=new rh("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:i}),o.data=v)}ng(s,t)})}function nS(e,t,n){return{instance:e,listener:t,currentTarget:n}}function n_(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=eY(e,n))&&i.unshift(nS(e,a,o)),null!=(a=eY(e,t))&&i.push(nS(e,a,o))),e=e.return}return i}function nE(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function nT(e,t,n,i,o){for(var a=t._reactName,s=[];null!==n&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(null!==u&&u===i)break;5===l.tag&&null!==c&&(l=c,o?null!=(u=eY(n,a))&&s.unshift(nS(n,u,l)):o||null!=(u=eY(n,a))&&s.push(nS(n,u,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var nO=/\r\n?/g,nI=/\u0000|\uFFFD/g;function nP(e){return("string"==typeof e?e:""+e).replace(nO,"\n").replace(nI,"")}function nC(e,t,n){if(t=nP(t),nP(e)!==t&&n)throw Error(d(425))}function nA(){}var nR=null,nk=null;function nD(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var nN="function"==typeof setTimeout?setTimeout:void 0,nM="function"==typeof clearTimeout?clearTimeout:void 0,nL="function"==typeof Promise?Promise:void 0,nj="function"==typeof queueMicrotask?queueMicrotask:void 0!==nL?function(e){return nL.resolve(null).then(e).catch(nF)}:nN;function nF(e){setTimeout(function(){throw e})}function nB(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType){if("/$"===(n=o.data)){if(0===i){e.removeChild(o),tq(t);return}i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++}n=o}while(n)tq(t)}function nz(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function nU(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var nW=Math.random().toString(36).slice(2),nH="__reactFiber$"+nW,nV="__reactProps$"+nW,nG="__reactContainer$"+nW,n$="__reactEvents$"+nW,nq="__reactListeners$"+nW,nX="__reactHandles$"+nW;function nY(e){var t=e[nH];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nG]||n[nH]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=nU(e);null!==e;){if(n=e[nH])return n;e=nU(e)}return t}n=(e=n).parentNode}return null}function nK(e){return(e=e[nH]||e[nG])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function nZ(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(d(33))}function nJ(e){return e[nV]||null}var nQ=[],n0=-1;function n1(e){return{current:e}}function n2(e){0>n0||(e.current=nQ[n0],nQ[n0]=null,n0--)}function n3(e,t){nQ[++n0]=e.current,e.current=t}var n5={},n4=n1(n5),n6=n1(!1),n8=n5;function n9(e,t){var n=e.type.contextTypes;if(!n)return n5;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function n7(e){return null!=(e=e.childContextTypes)}function ie(){n2(n6),n2(n4)}function it(e,t,n){if(n4.current!==n5)throw Error(d(168));n3(n4,t),n3(n6,n)}function ir(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(d(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case C:return"Fragment";case P:return"Portal";case R:return"Profiler";case A:return"StrictMode";case M:return"Suspense";case L:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case N:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case j:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case F:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",o));return en({},n,i)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||n5,n8=n4.current,n3(n4,e),n3(n6,n6.current),!0}function io(e,t,n){var i=e.stateNode;if(!i)throw Error(d(169));n?(e=ir(e,t,n8),i.__reactInternalMemoizedMergedChildContext=e,n2(n6),n2(n4),n3(n4,e)):n2(n6),n3(n6,n)}var ia=null,is=!1,il=!1;function iu(e){null===ia?ia=[e]:ia.push(e)}function ic(){if(!il&&null!==ia){il=!0;var e=0,t=tE;try{var n=ia;for(tE=1;e<n.length;e++){var i=n[e];do i=i(!0);while(null!==i)}ia=null,is=!1}catch(t){throw null!==ia&&(ia=ia.slice(e+1)),e7(to,ic),t}finally{tE=t,il=!1}}return null}var id=[],ip=0,ih=null,ig=0,im=[],iv=0,iy=null,ib=1,iw="";function ix(e,t){id[ip++]=ig,id[ip++]=ih,ih=e,ig=t}function iS(e,t,n){im[iv++]=ib,im[iv++]=iw,im[iv++]=iy,iy=e;var i=ib;e=iw;var o=32-tp(i)-1;i&=~(1<<o),n+=1;var a=32-tp(t)+o;if(30<a){var s=o-o%5;a=(i&(1<<s)-1).toString(32),i>>=s,o-=s,ib=1<<32-tp(t)+o|n<<o|i,iw=a+e}else ib=1<<a|n<<o|i,iw=e}function i_(e){null!==e.return&&(ix(e,1),iS(e,1,0))}function iE(e){for(;e===ih;)ih=id[--ip],id[ip]=null,ig=id[--ip],id[ip]=null;for(;e===iy;)iy=im[--iv],im[iv]=null,iw=im[--iv],im[iv]=null,ib=im[--iv],im[iv]=null}var iT=null,iO=null,iI=!1,iP=null;function iC(e,t){var n=s9(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iA(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iT=e,iO=nz(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iT=e,iO=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==iy?{id:ib,overflow:iw}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:0x40000000},(n=s9(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iT=e,iO=null,!0);default:return!1}}function iR(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ik(e){if(iI){var t=iO;if(t){var n=t;if(!iA(e,t)){if(iR(e))throw Error(d(418));t=nz(n.nextSibling);var i=iT;t&&iA(e,t)?iC(i,n):(e.flags=-4097&e.flags|2,iI=!1,iT=e)}}else{if(iR(e))throw Error(d(418));e.flags=-4097&e.flags|2,iI=!1,iT=e}}}function iD(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iT=e}function iN(e){if(e!==iT)return!1;if(!iI)return iD(e),iI=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nD(e.type,e.memoizedProps)),t&&(t=iO)){if(iR(e))throw iM(),Error(d(418));for(;t;)iC(e,t),t=nz(t.nextSibling)}if(iD(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iO=nz(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iO=null}}else iO=iT?nz(e.stateNode.nextSibling):null;return!0}function iM(){for(var e=iO;e;)e=nz(e.nextSibling)}function iL(){iO=iT=null,iI=!1}function ij(e){null===iP?iP=[e]:iP.push(e)}var iF=O.ReactCurrentBatchConfig;function iB(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(d(309));var i=n.stateNode}if(!i)throw Error(d(147,e));var o=i,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!=typeof e)throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function iz(e,t){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iU(e){return(0,e._init)(e._payload)}function iW(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=le(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return(t.index=i,e)?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?(t=li(n,e.mode,i)).return=e:(t=o(t,n)).return=e,t}function u(e,t,n,i){var a=n.type;return a===C?p(e,t,n.props.children,i,n.key):(null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===F&&iU(a)===t.type)?(i=o(t,n.props)).ref=iB(e,t,n):(i=lt(n.type,n.key,n.props,null,e.mode,i)).ref=iB(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=lo(n,e.mode,i)).return=e:(t=o(t,n.children||[])).return=e,t}function p(e,t,n,i,a){return null===t||7!==t.tag?(t=lr(n,e.mode,i,a)).return=e:(t=o(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=li(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=lt(t.type,t.key,t.props,null,e.mode,n)).ref=iB(e,null,t),n.return=e,n;case P:return(t=lo(t,e.mode,n)).return=e,t;case F:return h(e,(0,t._init)(t._payload),n)}if(ey(t)||U(t))return(t=lr(t,e.mode,n,null)).return=e,t;iz(e,t)}return null}function f(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===o?u(e,t,n,i):null;case P:return n.key===o?c(e,t,n,i):null;case F:return f(e,t,(o=n._init)(n._payload),i)}if(ey(n)||U(n))return null!==o?null:p(e,t,n,i,null);iz(e,n)}return null}function g(e,t,n,i,o){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case I:return u(t,e=e.get(null===i.key?n:i.key)||null,i,o);case P:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o);case F:return g(e,t,n,(0,i._init)(i._payload),o)}if(ey(i)||U(i))return p(t,e=e.get(n)||null,i,o,null);iz(t,i)}return null}return function l(u,c,p,m){if("object"==typeof p&&null!==p&&p.type===C&&null===p.key&&(p=p.props.children),"object"==typeof p&&null!==p){switch(p.$$typeof){case I:e:{for(var v=p.key,y=c;null!==y;){if(y.key===v){if((v=p.type)===C){if(7===y.tag){n(u,y.sibling),(c=o(y,p.props.children)).return=u,u=c;break e}}else if(y.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===F&&iU(v)===y.type){n(u,y.sibling),(c=o(y,p.props)).ref=iB(u,y,p),c.return=u,u=c;break e}n(u,y);break}t(u,y),y=y.sibling}p.type===C?((c=lr(p.props.children,u.mode,m,p.key)).return=u,u=c):((m=lt(p.type,p.key,p.props,null,u.mode,m)).ref=iB(u,c,p),m.return=u,u=m)}return s(u);case P:e:{for(y=p.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===p.containerInfo&&c.stateNode.implementation===p.implementation){n(u,c.sibling),(c=o(c,p.children||[])).return=u,u=c;break e}n(u,c);break}t(u,c),c=c.sibling}(c=lo(p,u.mode,m)).return=u,u=c}return s(u);case F:return l(u,c,(y=p._init)(p._payload),m)}if(ey(p))return function(o,s,l,u){for(var c=null,d=null,p=s,m=s=0,v=null;null!==p&&m<l.length;m++){p.index>m?(v=p,p=null):v=p.sibling;var y=f(o,p,l[m],u);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&t(o,p),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y,p=v}if(m===l.length)return n(o,p),iI&&ix(o,m),c;if(null===p){for(;m<l.length;m++)null!==(p=h(o,l[m],u))&&(s=a(p,s,m),null===d?c=p:d.sibling=p,d=p);return iI&&ix(o,m),c}for(p=i(o,p);m<l.length;m++)null!==(v=g(p,o,m,l[m],u))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(o,e)}),iI&&ix(o,m),c}(u,c,p,m);if(U(p))return function(o,s,l,u){var c=U(l);if("function"!=typeof c)throw Error(d(150));if(null==(l=c.call(l)))throw Error(d(151));for(var p=c=null,m=s,v=s=0,y=null,b=l.next();null!==m&&!b.done;v++,b=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var w=f(o,m,b.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(o,m),s=a(w,s,v),null===p?c=w:p.sibling=w,p=w,m=y}if(b.done)return n(o,m),iI&&ix(o,v),c;if(null===m){for(;!b.done;v++,b=l.next())null!==(b=h(o,b.value,u))&&(s=a(b,s,v),null===p?c=b:p.sibling=b,p=b);return iI&&ix(o,v),c}for(m=i(o,m);!b.done;v++,b=l.next())null!==(b=g(m,o,v,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?v:b.key),s=a(b,s,v),null===p?c=b:p.sibling=b,p=b);return e&&m.forEach(function(e){return t(o,e)}),iI&&ix(o,v),c}(u,c,p,m);iz(u,p)}return"string"==typeof p&&""!==p||"number"==typeof p?(p=""+p,null!==c&&6===c.tag?(n(u,c.sibling),(c=o(c,p)).return=u):(n(u,c),(c=li(p,u.mode,m)).return=u),s(u=c)):n(u,c)}}var iH=iW(!0),iV=iW(!1),iG=n1(null),i$=null,iq=null,iX=null;function iY(){iX=iq=i$=null}function iK(e){var t=iG.current;n2(iG),e._currentValue=t}function iZ(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function iJ(e,t){i$=e,iX=iq=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ax=!0),e.firstContext=null)}function iQ(e){var t=e._currentValue;if(iX!==e){if(e={context:e,memoizedValue:t,next:null},null===iq){if(null===i$)throw Error(d(308));iq=e,i$.dependencies={lanes:0,firstContext:e}}else iq=iq.next=e}return t}var i0=null;function i1(e){null===i0?i0=[e]:i0.push(e)}function i2(e,t,n,i){var o=t.interleaved;return null===o?(n.next=n,i1(t)):(n.next=o.next,o.next=n),t.interleaved=n,i3(e,i)}function i3(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i5=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i8(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i9(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&sl)){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,i3(e,n)}return null===(o=i.interleaved)?(t.next=t,i1(i)):(t.next=o.next,o.next=t),i.interleaved=t,i3(e,n)}function i7(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,t_(e,n)}}function oe(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=s:a=a.next=s,n=n.next}while(null!==n)null===a?o=a=t:a=a.next=t}else o=a=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ot(e,t,n,i){var o=e.updateQueue;i5=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var d=e.alternate;null!==d&&(l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u)}if(null!==a){var p=o.baseState;for(s=0,d=c=u=null,l=a;;){var h=l.lane,f=l.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(g=m.payload)){p=g.call(f,p,h);break e}p=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(h="function"==typeof(g=m.payload)?g.call(f,p,h):g))break e;p=en({},p,h);break e;case 2:i5=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=f,u=p):d=d.next=f,s|=h;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(h=l).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===d&&(u=p),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do s|=o.lane,o=o.next;while(o!==t)}else null===a&&(o.shared.lanes=0);sm|=s,e.lanes=s,e.memoizedState=p}}function or(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!=typeof o)throw Error(d(191,o));o.call(i)}}}var on={},oi=n1(on),oo=n1(on),oa=n1(on);function os(e){if(e===on)throw Error(d(174));return e}function ol(e,t){switch(n3(oa,t),n3(oo,e),n3(oi,on),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eT(null,"");break;default:t=eT(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}n2(oi),n3(oi,t)}function ou(){n2(oi),n2(oo),n2(oa)}function oc(e){os(oa.current);var t=os(oi.current),n=eT(t,e.type);t!==n&&(n3(oo,e),n3(oi,n))}function od(e){oo.current===e&&(n2(oi),n2(oo))}var op=n1(0);function oh(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var of=[];function og(){for(var e=0;e<of.length;e++)of[e]._workInProgressVersionPrimary=null;of.length=0}var om=O.ReactCurrentDispatcher,ov=O.ReactCurrentBatchConfig,oy=0,ob=null,ow=null,ox=null,oS=!1,o_=!1,oE=0,oT=0;function oO(){throw Error(d(321))}function oI(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rK(e[n],t[n]))return!1;return!0}function oP(e,t,n,i,o,a){if(oy=a,ob=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,om.current=null===e||null===e.memoizedState?at:ar,e=n(i,o),o_){a=0;do{if(o_=!1,oE=0,25<=a)throw Error(d(301));a+=1,ox=ow=null,t.updateQueue=null,om.current=an,e=n(i,o)}while(o_)}if(om.current=ae,t=null!==ow&&null!==ow.next,oy=0,ox=ow=ob=null,oS=!1,t)throw Error(d(300));return e}function oC(){var e=0!==oE;return oE=0,e}function oA(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ox?ob.memoizedState=ox=e:ox=ox.next=e,ox}function oR(){if(null===ow){var e=ob.alternate;e=null!==e?e.memoizedState:null}else e=ow.next;var t=null===ox?ob.memoizedState:ox.next;if(null!==t)ox=t,ow=e;else{if(null===e)throw Error(d(310));e={memoizedState:(ow=e).memoizedState,baseState:ow.baseState,baseQueue:ow.baseQueue,queue:ow.queue,next:null},null===ox?ob.memoizedState=ox=e:ox=ox.next=e}return ox}function ok(e,t){return"function"==typeof t?t(e):t}function oD(e){var t=oR(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var i=ow,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,i=i.baseState;var l=s=null,u=null,c=a;do{var p=c.lane;if((oy&p)===p)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var h={lane:p,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,s=i):u=u.next=h,ob.lanes|=p,sm|=p}c=c.next}while(null!==c&&c!==a)null===u?s=i:u.next=l,rK(i,t.memoizedState)||(ax=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do a=o.lane,ob.lanes|=a,sm|=a,o=o.next;while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oN(e){var t=oR(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do a=e(a,s.action),s=s.next;while(s!==o)rK(a,t.memoizedState)||(ax=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function oM(){}function oL(e,t){var n=ob,i=oR(),o=t(),a=!rK(i.memoizedState,o);if(a&&(i.memoizedState=o,ax=!0),i=i.queue,oX(oB.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ox&&1&ox.memoizedState.tag){if(n.flags|=2048,oH(9,oF.bind(null,n,i,o,t),void 0,null),null===su)throw Error(d(349));0!=(30&oy)||oj(n,t,o)}return o}function oj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ob.updateQueue)?(t={lastEffect:null,stores:null},ob.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function oF(e,t,n,i){t.value=n,t.getSnapshot=i,oz(t)&&oU(e)}function oB(e,t,n){return n(function(){oz(t)&&oU(e)})}function oz(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rK(e,n)}catch(e){return!0}}function oU(e){var t=i3(e,1);null!==t&&sL(t,e,1,-1)}function oW(e){var t=oA();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ok,lastRenderedState:e},t.queue=e,e=e.dispatch=o6.bind(null,ob,e),[t.memoizedState,e]}function oH(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ob.updateQueue)?(t={lastEffect:null,stores:null},ob.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function oV(){return oR().memoizedState}function oG(e,t,n,i){var o=oA();ob.flags|=e,o.memoizedState=oH(1|t,n,void 0,void 0===i?null:i)}function o$(e,t,n,i){var o=oR();i=void 0===i?null:i;var a=void 0;if(null!==ow){var s=ow.memoizedState;if(a=s.destroy,null!==i&&oI(i,s.deps)){o.memoizedState=oH(t,n,a,i);return}}ob.flags|=e,o.memoizedState=oH(1|t,n,a,i)}function oq(e,t){return oG(8390656,8,e,t)}function oX(e,t){return o$(2048,8,e,t)}function oY(e,t){return o$(4,2,e,t)}function oK(e,t){return o$(4,4,e,t)}function oZ(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oJ(e,t,n){return n=null!=n?n.concat([e]):null,o$(4,4,oZ.bind(null,t,e),n)}function oQ(){}function o0(e,t){var n=oR();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&oI(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function o1(e,t){var n=oR();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&oI(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function o2(e,t,n){return 0==(21&oy)?(e.baseState&&(e.baseState=!1,ax=!0),e.memoizedState=n):(rK(n,t)||(n=tw(),ob.lanes|=n,sm|=n,e.baseState=!0),t)}function o3(e,t){var n=tE;tE=0!==n&&4>n?n:4,e(!0);var i=ov.transition;ov.transition={};try{e(!1),t()}finally{tE=n,ov.transition=i}}function o5(){return oR().memoizedState}function o4(e,t,n){var i=sM(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},o8(e)?o9(t,n):null!==(n=i2(e,t,n,i))&&(sL(n,e,i,sN()),o7(n,t,i))}function o6(e,t,n){var i=sM(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(o8(e))o9(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.hasEagerState=!0,o.eagerState=l,rK(l,s)){var u=t.interleaved;null===u?(o.next=o,i1(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch(e){}finally{}null!==(n=i2(e,t,o,i))&&(sL(n,e,i,o=sN()),o7(n,t,i))}}function o8(e){var t=e.alternate;return e===ob||null!==t&&t===ob}function o9(e,t){o_=oS=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o7(e,t,n){if(0!=(4194240&n)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,t_(e,n)}}var ae={readContext:iQ,useCallback:oO,useContext:oO,useEffect:oO,useImperativeHandle:oO,useInsertionEffect:oO,useLayoutEffect:oO,useMemo:oO,useReducer:oO,useRef:oO,useState:oO,useDebugValue:oO,useDeferredValue:oO,useTransition:oO,useMutableSource:oO,useSyncExternalStore:oO,useId:oO,unstable_isNewReconciler:!1},at={readContext:iQ,useCallback:function(e,t){return oA().memoizedState=[e,void 0===t?null:t],e},useContext:iQ,useEffect:oq,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,oG(4194308,4,oZ.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oG(4194308,4,e,t)},useInsertionEffect:function(e,t){return oG(4,2,e,t)},useMemo:function(e,t){var n=oA();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=oA();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=o4.bind(null,ob,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},oA().memoizedState=e},useState:oW,useDebugValue:oQ,useDeferredValue:function(e){return oA().memoizedState=e},useTransition:function(){var e=oW(!1),t=e[0];return e=o3.bind(null,e[1]),oA().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ob,o=oA();if(iI){if(void 0===n)throw Error(d(407));n=n()}else{if(n=t(),null===su)throw Error(d(349));0!=(30&oy)||oj(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,oq(oB.bind(null,i,a,e),[e]),i.flags|=2048,oH(9,oF.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=oA(),t=su.identifierPrefix;if(iI){var n=iw,i=ib;t=":"+t+"R"+(n=(i&~(1<<32-tp(i)-1)).toString(32)+n),0<(n=oE++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=oT++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ar={readContext:iQ,useCallback:o0,useContext:iQ,useEffect:oX,useImperativeHandle:oJ,useInsertionEffect:oY,useLayoutEffect:oK,useMemo:o1,useReducer:oD,useRef:oV,useState:function(){return oD(ok)},useDebugValue:oQ,useDeferredValue:function(e){return o2(oR(),ow.memoizedState,e)},useTransition:function(){return[oD(ok)[0],oR().memoizedState]},useMutableSource:oM,useSyncExternalStore:oL,useId:o5,unstable_isNewReconciler:!1},an={readContext:iQ,useCallback:o0,useContext:iQ,useEffect:oX,useImperativeHandle:oJ,useInsertionEffect:oY,useLayoutEffect:oK,useMemo:o1,useReducer:oN,useRef:oV,useState:function(){return oN(ok)},useDebugValue:oQ,useDeferredValue:function(e){var t=oR();return null===ow?t.memoizedState=e:o2(t,ow.memoizedState,e)},useTransition:function(){return[oN(ok)[0],oR().memoizedState]},useMutableSource:oM,useSyncExternalStore:oL,useId:o5,unstable_isNewReconciler:!1};function ai(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function ao(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=sN(),o=sM(e),a=i8(i,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=i9(e,a,o))&&(sL(t,e,o,i),i7(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=sN(),o=sM(e),a=i8(i,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=i9(e,a,o))&&(sL(t,e,o,i),i7(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sN(),i=sM(e),o=i8(n,i);o.tag=2,null!=t&&(o.callback=t),null!==(t=i9(e,o,i))&&(sL(t,e,i,n),i7(t,e,i))}};function as(e,t,n,i,o,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!t.prototype||!t.prototype.isPureReactComponent||!rZ(n,i)||!rZ(o,a)}function al(e,t,n){var i=!1,o=n5,a=t.contextType;return"object"==typeof a&&null!==a?a=iQ(a):(o=n7(t)?n8:n4.current,a=(i=null!=(i=t.contextTypes))?n9(e,o):n5),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function au(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function ac(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},i4(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=iQ(a):(a=n7(t)?n8:n4.current,o.context=n9(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ao(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&aa.enqueueReplaceState(o,o.state,null),ot(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function ad(e,t){try{var n="",i=t;do n+=function(e){switch(e.tag){case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return ei("Suspense");case 19:return ei("SuspenseList");case 0:case 2:case 15:return e=ea(e.type,!1);case 11:return e=ea(e.type.render,!1);case 1:return e=ea(e.type,!0);default:return""}}(i),i=i.return;while(i)var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ap(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ah(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var af="function"==typeof WeakMap?WeakMap:Map;function ag(e,t,n){(n=i8(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){sE||(sE=!0,sT=i),ah(e,t)},n}function am(e,t,n){(n=i8(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){ah(e,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){ah(e,t),"function"!=typeof i&&(null===sO?sO=new Set([this]):sO.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function av(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new af;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=s3.bind(null,e,t,n),t.then(e,e))}function ay(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function ab(e,t,n,i,o){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i8(-1,1)).tag=2,i9(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=o),e}var aw=O.ReactCurrentOwner,ax=!1;function aS(e,t,n,i){t.child=null===e?iV(t,null,n,i):iH(t,e.child,n,i)}function a_(e,t,n,i,o){n=n.render;var a=t.ref;return(iJ(t,o),i=oP(e,t,n,i,a,o),n=oC(),null===e||ax)?(iI&&n&&i_(t),t.flags|=1,aS(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,aW(e,t,o))}function aE(e,t,n,i,o){if(null===e){var a=n.type;return"function"!=typeof a||s7(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=lt(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,aT(e,t,a,i,o))}if(a=e.child,0==(e.lanes&o)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:rZ)(s,i)&&e.ref===t.ref)return aW(e,t,o)}return t.flags|=1,(e=le(a,i)).ref=t.ref,e.return=t,t.child=e}function aT(e,t,n,i,o){if(null!==e){var a=e.memoizedProps;if(rZ(a,i)&&e.ref===t.ref){if(ax=!1,t.pendingProps=i=a,0==(e.lanes&o))return t.lanes=e.lanes,aW(e,t,o);0!=(131072&e.flags)&&(ax=!0)}}return aP(e,t,n,i,o)}function aO(e,t,n){var i=t.pendingProps,o=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n3(sh,sp),sp|=n;else{if(0==(0x40000000&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,n3(sh,sp),sp|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,n3(sh,sp),sp|=i}}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,n3(sh,sp),sp|=i;return aS(e,t,o,n),t.child}function aI(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aP(e,t,n,i,o){var a=n7(n)?n8:n4.current;return(a=n9(t,a),iJ(t,o),n=oP(e,t,n,i,a,o),i=oC(),null===e||ax)?(iI&&i&&i_(t),t.flags|=1,aS(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,aW(e,t,o))}function aC(e,t,n,i,o){if(n7(n)){var a=!0;ii(t)}else a=!1;if(iJ(t,o),null===t.stateNode)aU(e,t),al(t,n,i),ac(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,c=n.contextType;c="object"==typeof c&&null!==c?iQ(c):n9(t,c=n7(n)?n8:n4.current);var d=n.getDerivedStateFromProps,p="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;p||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==i||u!==c)&&au(t,s,i,c),i5=!1;var h=t.memoizedState;s.state=h,ot(t,i,s,o),u=t.memoizedState,l!==i||h!==u||n6.current||i5?("function"==typeof d&&(ao(t,n,d,i),u=t.memoizedState),(l=i5||as(t,n,l,i,h,u,c))?(p||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),s.props=i,s.state=u,s.context=c,i=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,i6(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ai(t.type,l),s.props=c,p=t.pendingProps,h=s.context,u="object"==typeof(u=n.contextType)&&null!==u?iQ(u):n9(t,u=n7(n)?n8:n4.current);var f=n.getDerivedStateFromProps;(d="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l!==p||h!==u)&&au(t,s,i,u),i5=!1,h=t.memoizedState,s.state=h,ot(t,i,s,o);var g=t.memoizedState;l!==p||h!==g||n6.current||i5?("function"==typeof f&&(ao(t,n,f,i),g=t.memoizedState),(c=i5||as(t,n,c,i,h,g,u)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=u,i=c):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return aA(e,t,n,i,a,o)}function aA(e,t,n,i,o,a){aI(e,t);var s=0!=(128&t.flags);if(!i&&!s)return o&&io(t,n,!1),aW(e,t,a);i=t.stateNode,aw.current=t;var l=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=iH(t,e.child,null,a),t.child=iH(t,null,l,a)):aS(e,t,l,a),t.memoizedState=i.state,o&&io(t,n,!0),t.child}function aR(e){var t=e.stateNode;t.pendingContext?it(e,t.pendingContext,t.pendingContext!==t.context):t.context&&it(e,t.context,!1),ol(e,t.containerInfo)}function ak(e,t,n,i,o){return iL(),ij(o),t.flags|=256,aS(e,t,n,i),t.child}var aD={dehydrated:null,treeContext:null,retryLane:0};function aN(e){return{baseLanes:e,cachePool:null,transitions:null}}function aM(e,t,n){var i,o=t.pendingProps,a=op.current,s=!1,l=0!=(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!=(2&a)),i?(s=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(a|=1),n3(op,1&a),null===e)return(ik(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ln(l,o,0,null),e=lr(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=aN(n),t.memoizedState=aD,e):aL(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,aj(e,t,s,i=ap(Error(d(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=ln({mode:"visible",children:i.children},o,0,null),a=lr(a,o,s,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!=(1&t.mode)&&iH(t,e.child,null,s),t.child.memoizedState=aN(s),t.memoizedState=aD,a);if(0==(1&t.mode))return aj(e,t,s,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,aj(e,t,s,i=ap(a=Error(d(419)),i,void 0))}if(l=0!=(s&e.childLanes),ax||l){if(null!==(i=su)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:o=32;break;case 0x20000000:o=0x10000000;break;default:o=0}0!==(o=0!=(o&(i.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,i3(e,o),sL(i,e,o,-1))}return sY(),aj(e,t,s,i=ap(Error(d(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=s4.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,iO=nz(o.nextSibling),iT=t,iI=!0,iP=null,null!==e&&(im[iv++]=ib,im[iv++]=iw,im[iv++]=iy,ib=e.id,iw=e.overflow,iy=t),t=aL(t,i.children),t.flags|=4096,t)}(e,t,l,o,i,a,n);if(s){s=o.fallback,l=t.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0==(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=le(a,u)).subtreeFlags=0xe00000&a.subtreeFlags,null!==i?s=le(i,s):(s=lr(s,l,n,null),s.flags|=2),s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?aN(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=aD,o}return e=(s=e.child).sibling,o=le(s,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function aL(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aj(e,t,n,i){return null!==i&&ij(i),iH(t,e.child,null,n),e=aL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aF(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),iZ(e.return,t,n)}function aB(e,t,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function az(e,t,n){var i=t.pendingProps,o=i.revealOrder,a=i.tail;if(aS(e,t,i.children,n),0!=(2&(i=op.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aF(e,n,t);else if(19===e.tag)aF(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(n3(op,i),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(o=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===oh(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),aB(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===oh(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}aB(t,!0,n,null,a);break;case"together":aB(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aU(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aW(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),sm|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(d(153));if(null!==t.child){for(n=le(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=le(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aH(e,t){if(!iI)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function aV(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=0xe00000&o.subtreeFlags,i|=0xe00000&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},o=function(){},a=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,os(oi.current);var a,s=null;switch(n){case"input":o=ep(e,o),i=ep(e,i),s=[];break;case"select":o=en({},o,{value:void 0}),i=en({},i,{value:void 0}),s=[];break;case"textarea":o=ew(e,o),i=ew(e,i),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=nA)}for(c in eM(n,i),n=null,o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c]){if("style"===c){var l=o[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(h.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null))}for(c in i){var u=i[c];if(l=null!=o?o[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l)){if("style"===c){if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u}else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(h.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&nm("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},s=function(e,t,n,i){n!==i&&(t.flags|=4)};var aG=!1,a$=!1,aq="function"==typeof WeakSet?WeakSet:Set,aX=null;function aY(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){s2(e,t,n)}else n.current=null}}function aK(e,t,n){try{n()}catch(n){s2(e,t,n)}}var aZ=!1;function aJ(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&aK(t,n,a)}o=o.next}while(o!==i)}}function aQ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function a0(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function a1(e){return 5===e.tag||3===e.tag||4===e.tag}function a2(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var a3=null,a5=!1;function a4(e,t,n){for(n=n.child;null!==n;)a6(e,t,n),n=n.sibling}function a6(e,t,n){if(td&&"function"==typeof td.onCommitFiberUnmount)try{td.onCommitFiberUnmount(tc,n)}catch(e){}switch(n.tag){case 5:a$||aY(n,t);case 6:var i=a3,o=a5;a3=null,a4(e,t,n),a3=i,a5=o,null!==a3&&(a5?(e=a3,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):a3.removeChild(n.stateNode));break;case 18:null!==a3&&(a5?(e=a3,n=n.stateNode,8===e.nodeType?nB(e.parentNode,n):1===e.nodeType&&nB(e,n),tq(e)):nB(a3,n.stateNode));break;case 4:i=a3,o=a5,a3=n.stateNode.containerInfo,a5=!0,a4(e,t,n),a3=i,a5=o;break;case 0:case 11:case 14:case 15:if(!a$&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){o=i=i.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)?aK(n,t,s):0!=(4&a)&&aK(n,t,s)),o=o.next}while(o!==i)}a4(e,t,n);break;case 1:if(!a$&&(aY(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){s2(n,t,e)}a4(e,t,n);break;case 21:default:a4(e,t,n);break;case 22:1&n.mode?(a$=(i=a$)||null!==n.memoizedState,a4(e,t,n),a$=i):a4(e,t,n)}}function a8(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aq),t.forEach(function(t){var i=s6.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function a9(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:a3=s.stateNode,a5=!1;break e;case 3:case 4:a3=s.stateNode.containerInfo,a5=!0;break e}s=s.return}if(null===a3)throw Error(d(160));a6(e,a,o),a3=null,a5=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(e){s2(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)a7(t,e),t=t.sibling}function a7(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(a9(t,e),se(e),4&i){try{aJ(3,e,e.return),aQ(3,e)}catch(t){s2(e,e.return,t)}try{aJ(5,e,e.return)}catch(t){s2(e,e.return,t)}}break;case 1:a9(t,e),se(e),512&i&&null!==n&&aY(n,n.return);break;case 5:if(a9(t,e),se(e),512&i&&null!==n&&aY(n,n.return),32&e.flags){var o=e.stateNode;try{eC(o,"")}catch(t){s2(e,e.return,t)}}if(4&i&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&ef(o,a),eL(l,s);var c=eL(l,a);for(s=0;s<u.length;s+=2){var p=u[s],h=u[s+1];"style"===p?eD(o,h):"dangerouslySetInnerHTML"===p?eP(o,h):"children"===p?eC(o,h):T(o,p,h,c)}switch(l){case"input":eg(o,a);break;case"textarea":eS(o,a);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?eb(o,!!a.multiple,g,!1):!!a.multiple!==f&&(null!=a.defaultValue?eb(o,!!a.multiple,a.defaultValue,!0):eb(o,!!a.multiple,a.multiple?[]:"",!1))}o[nV]=a}catch(t){s2(e,e.return,t)}}break;case 6:if(a9(t,e),se(e),4&i){if(null===e.stateNode)throw Error(d(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){s2(e,e.return,t)}}break;case 3:if(a9(t,e),se(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{tq(t.containerInfo)}catch(t){s2(e,e.return,t)}break;case 4:default:a9(t,e),se(e);break;case 13:a9(t,e),se(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,a&&(null===o.alternate||null===o.alternate.memoizedState)&&(sx=tn())),4&i&&a8(e);break;case 22:if(p=null!==n&&null!==n.memoizedState,1&e.mode?(a$=(c=a$)||p,a9(t,e),a$=c):a9(t,e),se(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!p&&0!=(1&e.mode))for(aX=e,p=e.child;null!==p;){for(h=aX=p;null!==aX;){switch(g=(f=aX).child,f.tag){case 0:case 11:case 14:case 15:aJ(4,f,f.return);break;case 1:aY(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){i=f,n=f.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){s2(i,n,e)}}break;case 5:aY(f,f.return);break;case 22:if(null!==f.memoizedState){sr(h);continue}}null!==g?(g.return=f,aX=g):sr(h)}p=p.sibling}e:for(p=null,h=e;;){if(5===h.tag){if(null===p){p=h;try{o=h.stateNode,c?(a=o.style,"function"==typeof a.setProperty?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,s=null!=(u=h.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=ek("display",s))}catch(t){s2(e,e.return,t)}}}else if(6===h.tag){if(null===p)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(t){s2(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:a9(t,e),se(e),4&i&&a8(e);case 21:}}function se(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(a1(n)){var i=n;break e}n=n.return}throw Error(d(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(eC(o,""),i.flags&=-33);var a=a2(e);!function e(t,n,i){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==o&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,a,o);break;case 3:case 4:var s=i.stateNode.containerInfo,l=a2(e);!function e(t,n,i){var o=t.tag;if(5===o||6===o)t=t.stateNode,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!=(i=i._reactRootContainer)||null!==n.onclick||(n.onclick=nA));else if(4!==o&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,l,s);break;default:throw Error(d(161))}}catch(t){s2(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function st(e){for(;null!==aX;){var t=aX;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:a$||aQ(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!a$){if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ai(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}}var a=t.updateQueue;null!==a&&or(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}or(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var p=c.memoizedState;if(null!==p){var h=p.dehydrated;null!==h&&tq(h)}}}break;default:throw Error(d(163))}a$||512&t.flags&&a0(t)}catch(e){s2(t,t.return,e)}}if(t===e){aX=null;break}if(null!==(n=t.sibling)){n.return=t.return,aX=n;break}aX=t.return}}function sr(e){for(;null!==aX;){var t=aX;if(t===e){aX=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aX=n;break}aX=t.return}}function sn(e){for(;null!==aX;){var t=aX;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aQ(4,t)}catch(e){s2(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(e){s2(t,o,e)}}var a=t.return;try{a0(t)}catch(e){s2(t,a,e)}break;case 5:var s=t.return;try{a0(t)}catch(e){s2(t,s,e)}}}catch(e){s2(t,t.return,e)}if(t===e){aX=null;break}var l=t.sibling;if(null!==l){l.return=t.return,aX=l;break}aX=t.return}}var si=Math.ceil,so=O.ReactCurrentDispatcher,sa=O.ReactCurrentOwner,ss=O.ReactCurrentBatchConfig,sl=0,su=null,sc=null,sd=0,sp=0,sh=n1(0),sf=0,sg=null,sm=0,sv=0,sy=0,sb=null,sw=null,sx=0,sS=1/0,s_=null,sE=!1,sT=null,sO=null,sI=!1,sP=null,sC=0,sA=0,sR=null,sk=-1,sD=0;function sN(){return 0!=(6&sl)?tn():-1!==sk?sk:sk=tn()}function sM(e){return 0==(1&e.mode)?1:0!=(2&sl)&&0!==sd?sd&-sd:null!==iF.transition?(0===sD&&(sD=tw()),sD):0!==(e=tE)?e:e=void 0===(e=window.event)?16:t1(e.type)}function sL(e,t,n,i){if(50<sA)throw sA=0,sR=null,Error(d(185));tS(e,n,i),(0==(2&sl)||e!==su)&&(e===su&&(0==(2&sl)&&(sv|=n),4===sf&&sU(e,sd)),sj(e,i),1===n&&0===sl&&0==(1&t.mode)&&(sS=tn()+500,is&&ic()))}function sj(e,t){var n,i=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-tp(a),l=1<<s,u=o[s];-1===u?(0==(l&n)||0!=(l&i))&&(o[s]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var o=ty(e,e===su?sd:0);if(0===o)null!==i&&te(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(null!=i&&te(i),1===t)0===e.tag?(n=sW.bind(null,e),is=!0,iu(n)):iu(sW.bind(null,e)),nj(function(){0==(6&sl)&&ic()}),i=null;else{switch(tT(o)){case 1:i=to;break;case 4:i=ta;break;case 16:default:i=ts;break;case 0x20000000:i=tu}i=e7(i,sF.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function sF(e,t){if(sk=-1,sD=0,0!=(6&sl))throw Error(d(327));var n=e.callbackNode;if(s0()&&e.callbackNode!==n)return null;var i=ty(e,e===su?sd:0);if(0===i)return null;if(0!=(30&i)||0!=(i&e.expiredLanes)||t)t=sK(e,i);else{t=i;var o=sl;sl|=2;var a=sX();for((su!==e||sd!==t)&&(s_=null,sS=tn()+500,s$(e,t));;)try{(function(){for(;null!==sc&&!tt();)sZ(sc)})();break}catch(t){sq(e,t)}iY(),so.current=a,sl=o,null!==sc?t=0:(su=null,sd=0,t=sf)}if(0!==t){if(2===t&&0!==(o=tb(e))&&(i=o,t=sB(e,o)),1===t)throw n=sg,s$(e,0),sU(e,i),sj(e,tn()),n;if(6===t)sU(e,i);else{if(o=e.current.alternate,0==(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!rK(a(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=sK(e,i))&&0!==(a=tb(e))&&(i=a,t=sB(e,a)),1===t))throw n=sg,s$(e,0),sU(e,i),sj(e,tn()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(d(345));case 2:case 5:sQ(e,sw,s_);break;case 3:if(sU(e,i),(0x7c00000&i)===i&&10<(t=sx+500-tn())){if(0!==ty(e,0))break;if(((o=e.suspendedLanes)&i)!==i){sN(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=nN(sQ.bind(null,e,sw,s_),t);break}sQ(e,sw,s_);break;case 4:if(sU(e,i),(4194240&i)===i)break;for(o=-1,t=e.eventTimes;0<i;){var s=31-tp(i);a=1<<s,(s=t[s])>o&&(o=s),i&=~a}if(i=o,10<(i=(120>(i=tn()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*si(i/1960))-i)){e.timeoutHandle=nN(sQ.bind(null,e,sw,s_),i);break}sQ(e,sw,s_);break;default:throw Error(d(329))}}}return sj(e,tn()),e.callbackNode===n?sF.bind(null,e):null}function sB(e,t){var n=sb;return e.current.memoizedState.isDehydrated&&(s$(e,t).flags|=256),2!==(e=sK(e,t))&&(t=sw,sw=n,null!==t&&sz(t)),e}function sz(e){null===sw?sw=e:sw.push.apply(sw,e)}function sU(e,t){for(t&=~sy,t&=~sv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tp(t),i=1<<n;e[n]=-1,t&=~i}}function sW(e){if(0!=(6&sl))throw Error(d(327));s0();var t=ty(e,0);if(0==(1&t))return sj(e,tn()),null;var n=sK(e,t);if(0!==e.tag&&2===n){var i=tb(e);0!==i&&(t=i,n=sB(e,i))}if(1===n)throw n=sg,s$(e,0),sU(e,t),sj(e,tn()),n;if(6===n)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sQ(e,sw,s_),sj(e,tn()),null}function sH(e,t){var n=sl;sl|=1;try{return e(t)}finally{0===(sl=n)&&(sS=tn()+500,is&&ic())}}function sV(e){null!==sP&&0===sP.tag&&0==(6&sl)&&s0();var t=sl;sl|=1;var n=ss.transition,i=tE;try{if(ss.transition=null,tE=1,e)return e()}finally{tE=i,ss.transition=n,0==(6&(sl=t))&&ic()}}function sG(){sp=sh.current,n2(sh)}function s$(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,nM(n)),null!==sc)for(n=sc.return;null!==n;){var i=n;switch(iE(i),i.tag){case 1:null!=(i=i.type.childContextTypes)&&ie();break;case 3:ou(),n2(n6),n2(n4),og();break;case 5:od(i);break;case 4:ou();break;case 13:case 19:n2(op);break;case 10:iK(i.type._context);break;case 22:case 23:sG()}n=n.return}if(su=e,sc=e=le(e.current,null),sd=sp=t,sf=0,sg=null,sy=sv=sm=0,sw=sb=null,null!==i0){for(t=0;t<i0.length;t++)if(null!==(i=(n=i0[t]).interleaved)){n.interleaved=null;var o=i.next,a=n.pending;if(null!==a){var s=a.next;a.next=o,i.next=s}n.pending=i}i0=null}return e}function sq(e,t){for(;;){var n=sc;try{if(iY(),om.current=ae,oS){for(var i=ob.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}oS=!1}if(oy=0,ox=ow=ob=null,o_=!1,oE=0,sa.current=null,null===n||null===n.return){sf=1,sg=t,sc=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=sd,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,p=l,h=p.tag;if(0==(1&p.mode)&&(0===h||11===h||15===h)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=ay(s);if(null!==g){g.flags&=-257,ab(g,s,l,a,t),1&g.mode&&av(a,c,t),t=g,u=c;var m=t.updateQueue;if(null===m){var v=new Set;v.add(u),t.updateQueue=v}else m.add(u);break e}if(0==(1&t)){av(a,c,t),sY();break e}u=Error(d(426))}else if(iI&&1&l.mode){var y=ay(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),ab(y,s,l,a,t),ij(ad(u,l));break e}}a=u=ad(u,l),4!==sf&&(sf=2),null===sb?sb=[a]:sb.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=ag(a,u,t);oe(a,b);break e;case 1:l=u;var w=a.type,x=a.stateNode;if(0==(128&a.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===sO||!sO.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=am(a,l,t);oe(a,S);break e}}a=a.return}while(null!==a)}sJ(n)}catch(e){t=e,sc===n&&null!==n&&(sc=n=n.return);continue}break}}function sX(){var e=so.current;return so.current=ae,null===e?ae:e}function sY(){(0===sf||3===sf||2===sf)&&(sf=4),null===su||0==(0xfffffff&sm)&&0==(0xfffffff&sv)||sU(su,sd)}function sK(e,t){var n=sl;sl|=2;var i=sX();for((su!==e||sd!==t)&&(s_=null,s$(e,t));;)try{(function(){for(;null!==sc;)sZ(sc)})();break}catch(t){sq(e,t)}if(iY(),sl=n,so.current=i,null!==sc)throw Error(d(261));return su=null,sd=0,sf}function sZ(e){var t=l(e.alternate,e,sp);e.memoizedProps=e.pendingProps,null===t?sJ(e):sc=t,sa.current=null}function sJ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var l=t.pendingProps;switch(iE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aV(t),null;case 1:case 17:return n7(t.type)&&ie(),aV(t),null;case 3:return l=t.stateNode,ou(),n2(n6),n2(n4),og(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(null===e||null===e.child)&&(iN(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iP&&(sz(iP),iP=null))),o(e,t),aV(t),null;case 5:od(t);var u=os(oa.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,l,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(null===t.stateNode)throw Error(d(166));return aV(t),null}if(e=os(oi.current),iN(t)){l=t.stateNode,n=t.type;var c=t.memoizedProps;switch(l[nH]=t,l[nV]=c,e=0!=(1&t.mode),n){case"dialog":nm("cancel",l),nm("close",l);break;case"iframe":case"object":case"embed":nm("load",l);break;case"video":case"audio":for(u=0;u<np.length;u++)nm(np[u],l);break;case"source":nm("error",l);break;case"img":case"image":case"link":nm("error",l),nm("load",l);break;case"details":nm("toggle",l);break;case"input":eh(l,c),nm("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!c.multiple},nm("invalid",l);break;case"textarea":ex(l,c),nm("invalid",l)}for(var p in eM(n,c),u=null,c)if(c.hasOwnProperty(p)){var f=c[p];"children"===p?"string"==typeof f?l.textContent!==f&&(!0!==c.suppressHydrationWarning&&nC(l.textContent,f,e),u=["children",f]):"number"==typeof f&&l.textContent!==""+f&&(!0!==c.suppressHydrationWarning&&nC(l.textContent,f,e),u=["children",""+f]):h.hasOwnProperty(p)&&null!=f&&"onScroll"===p&&nm("scroll",l)}switch(n){case"input":eu(l),em(l,c,!0);break;case"textarea":eu(l),e_(l);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(l.onclick=nA)}l=u,t.updateQueue=l,null!==l&&(t.flags|=4)}else{p=9===u.nodeType?u:u.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eE(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=p.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof l.is?e=p.createElement(n,{is:l.is}):(e=p.createElement(n),"select"===n&&(p=e,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):e=p.createElementNS(e,n),e[nH]=t,e[nV]=l,i(e,t,!1,!1),t.stateNode=e;e:{switch(p=eL(n,l),n){case"dialog":nm("cancel",e),nm("close",e),u=l;break;case"iframe":case"object":case"embed":nm("load",e),u=l;break;case"video":case"audio":for(u=0;u<np.length;u++)nm(np[u],e);u=l;break;case"source":nm("error",e),u=l;break;case"img":case"image":case"link":nm("error",e),nm("load",e),u=l;break;case"details":nm("toggle",e),u=l;break;case"input":eh(e,l),u=ep(e,l),nm("invalid",e);break;case"option":default:u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=en({},l,{value:void 0}),nm("invalid",e);break;case"textarea":ex(e,l),u=ew(e,l),nm("invalid",e)}for(c in eM(n,u),f=u)if(f.hasOwnProperty(c)){var g=f[c];"style"===c?eD(e,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&eP(e,g):"children"===c?"string"==typeof g?("textarea"!==n||""!==g)&&eC(e,g):"number"==typeof g&&eC(e,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(h.hasOwnProperty(c)?null!=g&&"onScroll"===c&&nm("scroll",e):null!=g&&T(e,c,g,p))}switch(n){case"input":eu(e),em(e,l,!1);break;case"textarea":eu(e),e_(e);break;case"option":null!=l.value&&e.setAttribute("value",""+es(l.value));break;case"select":e.multiple=!!l.multiple,null!=(c=l.value)?eb(e,!!l.multiple,c,!1):null!=l.defaultValue&&eb(e,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=nA)}switch(n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return aV(t),null;case 6:if(e&&null!=t.stateNode)s(e,t,e.memoizedProps,l);else{if("string"!=typeof l&&null===t.stateNode)throw Error(d(166));if(n=os(oa.current),os(oi.current),iN(t)){if(l=t.stateNode,n=t.memoizedProps,l[nH]=t,(c=l.nodeValue!==n)&&null!==(e=iT))switch(e.tag){case 3:nC(l.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&nC(l.nodeValue,n,0!=(1&e.mode))}c&&(t.flags|=4)}else(l=(9===n.nodeType?n:n.ownerDocument).createTextNode(l))[nH]=t,t.stateNode=l}return aV(t),null;case 13:if(n2(op),l=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iI&&null!==iO&&0!=(1&t.mode)&&0==(128&t.flags))iM(),iL(),t.flags|=98560,c=!1;else if(c=iN(t),null!==l&&null!==l.dehydrated){if(null===e){if(!c)throw Error(d(318));if(!(c=null!==(c=t.memoizedState)?c.dehydrated:null))throw Error(d(317));c[nH]=t}else iL(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aV(t),c=!1}else null!==iP&&(sz(iP),iP=null),c=!0;if(!c)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(l=null!==l)!=(null!==e&&null!==e.memoizedState)&&l&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&op.current)?0===sf&&(sf=3):sY())),null!==t.updateQueue&&(t.flags|=4),aV(t),null;case 4:return ou(),o(e,t),null===e&&nb(t.stateNode.containerInfo),aV(t),null;case 10:return iK(t.type._context),aV(t),null;case 19:if(n2(op),null===(c=t.memoizedState))return aV(t),null;if(l=0!=(128&t.flags),null===(p=c.rendering)){if(l)aH(c,!1);else{if(0!==sf||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(p=oh(e))){for(t.flags|=128,aH(c,!1),null!==(l=p.updateQueue)&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=n,n=t.child;null!==n;)c=n,e=l,c.flags&=0xe00002,null===(p=c.alternate)?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,e=p.dependencies,c.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return n3(op,1&op.current|2),t.child}e=e.sibling}null!==c.tail&&tn()>sS&&(t.flags|=128,l=!0,aH(c,!1),t.lanes=4194304)}}else{if(!l){if(null!==(e=oh(p))){if(t.flags|=128,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aH(c,!0),null===c.tail&&"hidden"===c.tailMode&&!p.alternate&&!iI)return aV(t),null}else 2*tn()-c.renderingStartTime>sS&&0x40000000!==n&&(t.flags|=128,l=!0,aH(c,!1),t.lanes=4194304)}c.isBackwards?(p.sibling=t.child,t.child=p):(null!==(n=c.last)?n.sibling=p:t.child=p,c.last=p)}if(null!==c.tail)return t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tn(),t.sibling=null,n=op.current,n3(op,l?1&n|2:1&n),t;return aV(t),null;case 22:case 23:return sG(),l=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==l&&(t.flags|=8192),l&&0!=(1&t.mode)?0!=(0x40000000&sp)&&(aV(t),6&t.subtreeFlags&&(t.flags|=8192)):aV(t),null;case 24:case 25:return null}throw Error(d(156,t.tag))}(n,t,sp))){sc=n;return}}else{if(null!==(n=function(e,t){switch(iE(t),t.tag){case 1:return n7(t.type)&&ie(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ou(),n2(n6),n2(n4),og(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return od(t),null;case 13:if(n2(op),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(d(340));iL()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return n2(op),null;case 4:return ou(),null;case 10:return iK(t.type._context),null;case 22:case 23:return sG(),null;default:return null}}(n,t))){n.flags&=32767,sc=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sf=6,sc=null;return}}if(null!==(t=t.sibling)){sc=t;return}sc=t=e}while(null!==t)0===sf&&(sf=5)}function sQ(e,t,n){var i=tE,o=ss.transition;try{ss.transition=null,tE=1,function(e,t,n,i){do s0();while(null!==sP)if(0!=(6&sl))throw Error(d(327));n=e.finishedWork;var o=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tp(n),a=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~a}}(e,a),e===su&&(sc=su=null,sd=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||sI||(sI=!0,s=ts,l=function(){return s0(),null},e7(s,l)),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=ss.transition,ss.transition=null;var s,l,u,c,p,h=tE;tE=1;var f=sl;sl|=4,sa.current=null,function(e,t){if(nR=tY,r1(e=r0())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o,a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(e){n=null;break e}var l=0,u=-1,c=-1,p=0,h=0,f=e,g=null;t:for(;;){for(;f!==n||0!==a&&3!==f.nodeType||(u=l+a),f!==s||0!==i&&3!==f.nodeType||(c=l+i),3===f.nodeType&&(l+=f.nodeValue.length),null!==(o=f.firstChild);)g=f,f=o;for(;;){if(f===e)break t;if(g===n&&++p===a&&(u=l),g===s&&++h===i&&(c=l),null!==(o=f.nextSibling))break;g=(f=g).parentNode}f=o}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nk={focusedElem:e,selectionRange:n},tY=!1,aX=t;null!==aX;)if(e=(t=aX).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aX=e;else for(;null!==aX;){t=aX;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,y=m.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:ai(t.type,v),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(d(163))}}catch(e){s2(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aX=e;break}aX=t.return}m=aZ,aZ=!1}(e,n),a7(n,e),function(e){var t=r0(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==i&&r1(n)){if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=void 0===i.end?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=rQ(n,a);var s=rQ(n,i);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(nk),tY=!!nR,nk=nR=null,e.current=n,u=n,c=e,p=o,aX=u,function e(t,n,i){for(var o=0!=(1&t.mode);null!==aX;){var a=aX,s=a.child;if(22===a.tag&&o){var l=null!==a.memoizedState||aG;if(!l){var u=a.alternate,c=null!==u&&null!==u.memoizedState||a$;u=aG;var d=a$;if(aG=l,(a$=c)&&!d)for(aX=a;null!==aX;)c=(l=aX).child,22===l.tag&&null!==l.memoizedState?sn(a):null!==c?(c.return=l,aX=c):sn(a);for(;null!==s;)aX=s,e(s,n,i),s=s.sibling;aX=a,aG=u,a$=d}st(t,n,i)}else 0!=(8772&a.subtreeFlags)&&null!==s?(s.return=a,aX=s):st(t,n,i)}}(u,c,p),tr(),sl=f,tE=h,ss.transition=a}else e.current=n;if(sI&&(sI=!1,sP=e,sC=o),0===(a=e.pendingLanes)&&(sO=null),function(e){if(td&&"function"==typeof td.onCommitFiberRoot)try{td.onCommitFiberRoot(tc,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,i),sj(e,tn()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)i((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(sE)throw sE=!1,e=sT,sT=null,e;0!=(1&sC)&&0!==e.tag&&s0(),0!=(1&(a=e.pendingLanes))?e===sR?sA++:(sA=0,sR=e):sA=0,ic()}}(e,t,n,i)}finally{ss.transition=o,tE=i}return null}function s0(){if(null!==sP){var e=tT(sC),t=ss.transition,n=tE;try{if(ss.transition=null,tE=16>e?16:e,null===sP)var i=!1;else{if(e=sP,sP=null,sC=0,0!=(6&sl))throw Error(d(331));var o=sl;for(sl|=4,aX=e.current;null!==aX;){var a=aX,s=a.child;if(0!=(16&aX.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(aX=c;null!==aX;){var p=aX;switch(p.tag){case 0:case 11:case 15:aJ(8,p,a)}var h=p.child;if(null!==h)h.return=p,aX=h;else for(;null!==aX;){var f=(p=aX).sibling,g=p.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[nH],delete n[nV],delete n[n$],delete n[nq],delete n[nX]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(p),p===c){aX=null;break}if(null!==f){f.return=g,aX=f;break}aX=g}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}aX=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,aX=s;else for(;null!==aX;){if(a=aX,0!=(2048&a.flags))switch(a.tag){case 0:case 11:case 15:aJ(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,aX=b;break}aX=a.return}}var w=e.current;for(aX=w;null!==aX;){var x=(s=aX).child;if(0!=(2064&s.subtreeFlags)&&null!==x)x.return=s,aX=x;else for(s=w;null!==aX;){if(l=aX,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:aQ(9,l)}}catch(e){s2(l,l.return,e)}if(l===s){aX=null;break}var S=l.sibling;if(null!==S){S.return=l.return,aX=S;break}aX=l.return}}if(sl=o,ic(),td&&"function"==typeof td.onPostCommitFiberRoot)try{td.onPostCommitFiberRoot(tc,e)}catch(e){}i=!0}return i}finally{tE=n,ss.transition=t}}return!1}function s1(e,t,n){t=ag(e,t=ad(n,t),1),e=i9(e,t,1),t=sN(),null!==e&&(tS(e,1,t),sj(e,t))}function s2(e,t,n){if(3===e.tag)s1(e,e,n);else for(;null!==t;){if(3===t.tag){s1(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===sO||!sO.has(i))){e=am(t,e=ad(n,e),1),t=i9(t,e,1),e=sN(),null!==t&&(tS(t,1,e),sj(t,e));break}}t=t.return}}function s3(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=sN(),e.pingedLanes|=e.suspendedLanes&n,su===e&&(sd&n)===n&&(4===sf||3===sf&&(0x7c00000&sd)===sd&&500>tn()-sx?s$(e,0):sy|=n),sj(e,t)}function s5(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(0x7c00000&(tm<<=1))&&(tm=4194304)));var n=sN();null!==(e=i3(e,t))&&(tS(e,t,n),sj(e,n))}function s4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),s5(e,n)}function s6(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(d(314))}null!==i&&i.delete(t),s5(e,n)}function s8(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function s9(e,t,n,i){return new s8(e,t,n,i)}function s7(e){return!(!(e=e.prototype)||!e.isReactComponent)}function le(e,t){var n=e.alternate;return null===n?((n=s9(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function lt(e,t,n,i,o,a){var s=2;if(i=e,"function"==typeof e)s7(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return lr(n.children,o,a,t);case A:s=8,o|=8;break;case R:return(e=s9(12,n,t,2|o)).elementType=R,e.lanes=a,e;case M:return(e=s9(13,n,t,o)).elementType=M,e.lanes=a,e;case L:return(e=s9(19,n,t,o)).elementType=L,e.lanes=a,e;case B:return ln(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case D:s=9;break e;case N:s=11;break e;case j:s=14;break e;case F:s=16,i=null;break e}throw Error(d(130,null==e?e:typeof e,""))}return(t=s9(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function lr(e,t,n,i){return(e=s9(7,e,i,t)).lanes=n,e}function ln(e,t,n,i){return(e=s9(22,e,i,t)).elementType=B,e.lanes=n,e.stateNode={isHidden:!1},e}function li(e,t,n){return(e=s9(6,e,null,t)).lanes=n,e}function lo(e,t,n){return(t=s9(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function la(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tx(0),this.expirationTimes=tx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tx(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ls(e,t,n,i,o,a,s,l,u){return e=new la(e,t,n,l,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=s9(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(a),e}function ll(e){if(!e)return n5;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(n7(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(d(171))}if(1===e.tag){var n=e.type;if(n7(n))return ir(e,n,t)}return t}function lu(e,t,n,i,o,a,s,l,u){return(e=ls(n,i,!0,e,o,a,s,l,u)).context=ll(null),n=e.current,(a=i8(i=sN(),o=sM(n))).callback=null!=t?t:null,i9(n,a,o),e.current.lanes=o,tS(e,o,i),sj(e,i),e}function lc(e,t,n,i){var o=t.current,a=sN(),s=sM(o);return n=ll(n),null===t.context?t.context=n:t.pendingContext=n,(t=i8(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=i9(o,t,s))&&(sL(e,o,s,a),i7(e,o,s)),s}function ld(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lh(e,t){lp(e,t),(e=e.alternate)&&lp(e,t)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||n6.current)ax=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ax=!1,function(e,t,n){switch(t.tag){case 3:aR(t),iL();break;case 5:oc(t);break;case 1:n7(t.type)&&ii(t);break;case 4:ol(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;n3(iG,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=t.memoizedState)){if(null!==i.dehydrated)return n3(op,1&op.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aM(e,t,n);return n3(op,1&op.current),null!==(e=aW(e,t,n))?e.sibling:null}n3(op,1&op.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(128&e.flags)){if(i)return az(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),n3(op,op.current),!i)return null;break;case 22:case 23:return t.lanes=0,aO(e,t,n)}return aW(e,t,n)}(e,t,n);ax=0!=(131072&e.flags)}}else ax=!1,iI&&0!=(1048576&t.flags)&&iS(t,ig,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;aU(e,t),e=t.pendingProps;var o=n9(t,n4.current);iJ(t,n),o=oP(null,t,i,e,o,n);var a=oC();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,n7(i)?(a=!0,ii(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,i4(t),o.updater=aa,t.stateNode=o,o._reactInternals=t,ac(t,i,e,n),t=aA(null,t,i,!0,a,n)):(t.tag=0,iI&&a&&i_(t),aS(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(aU(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return s7(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(i),e=ai(i,e),o){case 0:t=aP(null,t,i,e,n);break e;case 1:t=aC(null,t,i,e,n);break e;case 11:t=a_(null,t,i,e,n);break e;case 14:t=aE(null,t,i,ai(i.type,e),n);break e}throw Error(d(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ai(i,o),aP(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ai(i,o),aC(e,t,i,o,n);case 3:e:{if(aR(t),null===e)throw Error(d(387));i=t.pendingProps,o=(a=t.memoizedState).element,i6(e,t),ot(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){o=ad(Error(d(423)),t),t=ak(e,t,i,n,o);break e}if(i!==o){o=ad(Error(d(424)),t),t=ak(e,t,i,n,o);break e}for(iO=nz(t.stateNode.containerInfo.firstChild),iT=t,iI=!0,iP=null,n=iV(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iL(),i===o){t=aW(e,t,n);break e}aS(e,t,i,n)}t=t.child}return t;case 5:return oc(t),null===e&&ik(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,nD(i,o)?s=null:null!==a&&nD(i,a)&&(t.flags|=32),aI(e,t),aS(e,t,s,n),t.child;case 6:return null===e&&ik(t),null;case 13:return aM(e,t,n);case 4:return ol(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=iH(t,null,i,n):aS(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ai(i,o),a_(e,t,i,o,n);case 7:return aS(e,t,t.pendingProps,n),t.child;case 8:case 12:return aS(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,n3(iG,i._currentValue),i._currentValue=s,null!==a){if(rK(a.value,s)){if(a.children===o.children&&!n6.current){t=aW(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=i8(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var p=(c=c.shared).pending;null===p?u.next=u:(u.next=p.next,p.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),iZ(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(d(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iZ(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}aS(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,iJ(t,n),i=i(o=iQ(o)),t.flags|=1,aS(e,t,i,n),t.child;case 14:return o=ai(i=t.type,t.pendingProps),o=ai(i.type,o),aE(e,t,i,o,n);case 15:return aT(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ai(i,o),aU(e,t),t.tag=1,n7(i)?(e=!0,ii(t)):e=!1,iJ(t,n),al(t,i,o),ac(t,i,o,n),aA(null,t,i,!0,e,n);case 19:return az(e,t,n);case 22:return aO(e,t,n)}throw Error(d(156,t.tag))};var lf="function"==typeof reportError?reportError:function(e){console.error(e)};function lg(e){this._internalRoot=e}function lm(e){this._internalRoot=e}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ly(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lb(){}function lw(e,t,n,i,o){var a=n._reactRootContainer;if(a){var s=a;if("function"==typeof o){var l=o;o=function(){var e=ld(s);l.call(e)}}lc(t,s,e,o)}else s=function(e,t,n,i,o){if(o){if("function"==typeof i){var a=i;i=function(){var e=ld(s);a.call(e)}}var s=lu(t,i,e,0,null,!1,!1,"",lb);return e._reactRootContainer=s,e[nG]=s.current,nb(8===e.nodeType?e.parentNode:e),sV(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof i){var l=i;i=function(){var e=ld(u);l.call(e)}}var u=ls(e,0,!1,null,null,!1,!1,"",lb);return e._reactRootContainer=u,e[nG]=u.current,nb(8===e.nodeType?e.parentNode:e),sV(function(){lc(t,u,n,i)}),u}(n,t,e,o,i);return ld(s)}lm.prototype.render=lg.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(d(409));lc(e,t,null,null)},lm.prototype.unmount=lg.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sV(function(){lc(null,e,null,null)}),t[nG]=null}},lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tF.length&&0!==t&&t<tF[n].priority;n++);tF.splice(n,0,e),0===n&&tW(e)}},tO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tv(t.pendingLanes);0!==n&&(t_(t,1|n),sj(t,tn()),0==(6&sl)&&(sS=tn()+500,ic()))}break;case 13:sV(function(){var t=i3(e,1);null!==t&&sL(t,e,1,sN())}),lh(e,1)}},tI=function(e){if(13===e.tag){var t=i3(e,0x8000000);null!==t&&sL(t,e,0x8000000,sN()),lh(e,0x8000000)}},tP=function(e){if(13===e.tag){var t=sM(e),n=i3(e,t);null!==n&&sL(n,e,t,sN()),lh(e,t)}},tC=function(){return tE},tA=function(e,t){var n=tE;try{return tE=e,t()}finally{tE=n}},eB=function(e,t,n){switch(t){case"input":if(eg(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=nJ(i);if(!o)throw Error(d(90));ec(i),eg(i,o)}}}break;case"textarea":eS(e,n);break;case"select":null!=(t=n.value)&&eb(e,!!n.multiple,t,!1)}},eG=sH,e$=sV;var lx={findFiberByHostInstance:nY,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lS={bundleType:lx.bundleType,version:lx.version,rendererPackageName:lx.rendererPackageName,rendererConfig:lx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e9(e))?null:e.stateNode},findFiberByHostInstance:lx.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var l_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l_.isDisabled&&l_.supportsFiber)try{tc=l_.inject(lS),td=l_}catch(e){}}W={usingClientEntryPoint:!1,Events:[nK,nZ,nJ,eH,eV,sH]},H=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lv(t))throw Error(d(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},V=function(e,t){if(!lv(e))throw Error(d(299));var n=!1,i="",o=lf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=ls(e,1,!1,null,null,n,!1,i,o),e[nG]=t.current,nb(8===e.nodeType?e.parentNode:e),new lg(t)},G=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return e=null===(e=e9(t))?null:e.stateNode},$=function(e){return sV(e)},X=function(e,t,n){if(!ly(t))throw Error(d(200));return lw(null,e,t,!0,n)},Y=function(e,t,n){if(!lv(e))throw Error(d(405));var i=null!=n&&n.hydratedSources||null,o=!1,a="",s=lf;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=lu(t,null,e,1,null!=n?n:null,o,!1,a,s),e[nG]=t.current,nb(e),i)for(e=0;e<i.length;e++)o=(o=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new lm(t)},K=function(e,t,n){if(!ly(t))throw Error(d(200));return lw(null,e,t,!1,n)},Z=function(e){if(!ly(e))throw Error(d(40));return!!e._reactRootContainer&&(sV(function(){lw(null,null,e,!1,function(){e._reactRootContainer=null,e[nG]=null})}),!0)},J=sH,Q=function(e,t,n,i){if(!ly(n))throw Error(d(200));if(null==e||void 0===e._reactInternals)throw Error(d(38));return lw(e,t,n,!1,i)},et="18.3.1-next-f1338f8080-20240426"}),et("dm060",function(e,t){e.exports=ee("HLVX5")}),et("HLVX5",function(e,t){q(e.exports,"Children",()=>n,e=>n=e),q(e.exports,"Component",()=>i,e=>i=e),q(e.exports,"Fragment",()=>o,e=>o=e),q(e.exports,"Profiler",()=>a,e=>a=e),q(e.exports,"PureComponent",()=>s,e=>s=e),q(e.exports,"StrictMode",()=>l,e=>l=e),q(e.exports,"Suspense",()=>u,e=>u=e),q(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),q(e.exports,"act",()=>d,e=>d=e),q(e.exports,"cloneElement",()=>p,e=>p=e),q(e.exports,"createContext",()=>h,e=>h=e),q(e.exports,"createElement",()=>f,e=>f=e),q(e.exports,"createFactory",()=>g,e=>g=e),q(e.exports,"createRef",()=>m,e=>m=e),q(e.exports,"forwardRef",()=>v,e=>v=e),q(e.exports,"isValidElement",()=>y,e=>y=e),q(e.exports,"lazy",()=>b,e=>b=e),q(e.exports,"memo",()=>w,e=>w=e),q(e.exports,"startTransition",()=>x,e=>x=e),q(e.exports,"unstable_act",()=>S,e=>S=e),q(e.exports,"useCallback",()=>_,e=>_=e),q(e.exports,"useContext",()=>E,e=>E=e),q(e.exports,"useDebugValue",()=>T,e=>T=e),q(e.exports,"useDeferredValue",()=>O,e=>O=e),q(e.exports,"useEffect",()=>I,e=>I=e),q(e.exports,"useId",()=>P,e=>P=e),q(e.exports,"useImperativeHandle",()=>C,e=>C=e),q(e.exports,"useInsertionEffect",()=>A,e=>A=e),q(e.exports,"useLayoutEffect",()=>R,e=>R=e),q(e.exports,"useMemo",()=>k,e=>k=e),q(e.exports,"useReducer",()=>D,e=>D=e),q(e.exports,"useRef",()=>N,e=>N=e),q(e.exports,"useState",()=>M,e=>M=e),q(e.exports,"useSyncExternalStore",()=>L,e=>L=e),q(e.exports,"useTransition",()=>j,e=>j=e),q(e.exports,"version",()=>F,e=>F=e);var n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R,k,D,N,M,L,j,F,B=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.iterator,J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ee={};function et(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}function er(){}function en(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}et.prototype.isReactComponent={},et.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},et.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},er.prototype=et.prototype;var ei=en.prototype=new er;ei.constructor=en,Q(ei,et.prototype),ei.isPureReactComponent=!0;var eo=Array.isArray,ea=Object.prototype.hasOwnProperty,es={current:null},el={key:!0,ref:!0,__self:!0,__source:!0};function eu(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)ea.call(t,i)&&!el.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:B,type:e,key:a,ref:s,props:o,_owner:es.current}}function ec(e){return"object"==typeof e&&null!==e&&e.$$typeof===B}var ed=/\/+/g;function ep(e,t){var n,i;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return i[e]})):t.toString(36)}function eh(e,t,n){if(null==e)return e;var i=[],o=0;return function e(t,n,i,o,a){var s,l,u,c=typeof t;("undefined"===c||"boolean"===c)&&(t=null);var d=!1;if(null===t)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case B:case z:d=!0}}if(d)return a=a(d=t),t=""===o?"."+ep(d,0):o,eo(a)?(i="",null!=t&&(i=t.replace(ed,"$&/")+"/"),e(a,n,i,"",function(e){return e})):null!=a&&(ec(a)&&(s=a,l=i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(ed,"$&/")+"/")+t,a={$$typeof:B,type:s.type,key:l,ref:s.ref,props:s.props,_owner:s._owner}),n.push(a)),1;if(d=0,o=""===o?".":o+":",eo(t))for(var p=0;p<t.length;p++){var h=o+ep(c=t[p],p);d+=e(c,n,i,h,a)}else if("function"==typeof(h=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=Z&&u[Z]||u["@@iterator"])?u:null))for(t=h.call(t),p=0;!(c=t.next()).done;)h=o+ep(c=c.value,p++),d+=e(c,n,i,h,a);else if("object"===c)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}(e,i,"","",function(e){return t.call(n,e,o++)}),i}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var eg={current:null},em={transition:null};function ev(){throw Error("act(...) is not supported in production builds of React.")}n={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(e){return e})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=et,o=U,a=H,s=en,l=W,u=X,c={ReactCurrentDispatcher:eg,ReactCurrentBatchConfig:em,ReactCurrentOwner:es},d=ev,p=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Q({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=es.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)ea.call(t,u)&&!el.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:B,type:e.type,key:o,ref:a,props:i,_owner:s}},h=function(e){return(e={$$typeof:G,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:V,_context:e},e.Consumer=e},f=eu,g=function(e){var t=eu.bind(null,e);return t.type=e,t},m=function(){return{current:null}},v=function(e){return{$$typeof:$,render:e}},y=ec,b=function(e){return{$$typeof:K,_payload:{_status:-1,_result:e},_init:ef}},w=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},x=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},S=ev,_=function(e,t){return eg.current.useCallback(e,t)},E=function(e){return eg.current.useContext(e)},T=function(){},O=function(e){return eg.current.useDeferredValue(e)},I=function(e,t){return eg.current.useEffect(e,t)},P=function(){return eg.current.useId()},C=function(e,t,n){return eg.current.useImperativeHandle(e,t,n)},A=function(e,t){return eg.current.useInsertionEffect(e,t)},R=function(e,t){return eg.current.useLayoutEffect(e,t)},k=function(e,t){return eg.current.useMemo(e,t)},D=function(e,t,n){return eg.current.useReducer(e,t,n)},N=function(e){return eg.current.useRef(e)},M=function(e){return eg.current.useState(e)},L=function(e,t,n){return eg.current.useSyncExternalStore(e,t,n)},j=function(){return eg.current.useTransition()},F="18.3.1"}),et("3qop6",function(e,t){e.exports=ee("jgbiG")}),et("jgbiG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,o=e[i];if(0<a(o,t))e[i]=t,e[n]=o,n=i;else break}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,o=e.length,s=o>>>1;i<s;){var l=2*(i+1)-1,u=e[l],c=l+1,d=e[c];if(0>a(u,n))c<o&&0>a(d,u)?(e[i]=d,e[c]=n,i=c):(e[i]=u,e[l]=n,i=l);else if(c<o&&0>a(d,n))e[i]=d,e[c]=n,i=c;else break}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(q(e.exports,"unstable_now",()=>s,e=>s=e),q(e.exports,"unstable_IdlePriority",()=>l,e=>l=e),q(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),q(e.exports,"unstable_LowPriority",()=>c,e=>c=e),q(e.exports,"unstable_NormalPriority",()=>d,e=>d=e),q(e.exports,"unstable_Profiling",()=>p,e=>p=e),q(e.exports,"unstable_UserBlockingPriority",()=>h,e=>h=e),q(e.exports,"unstable_cancelCallback",()=>f,e=>f=e),q(e.exports,"unstable_continueExecution",()=>g,e=>g=e),q(e.exports,"unstable_forceFrameRate",()=>m,e=>m=e),q(e.exports,"unstable_getCurrentPriorityLevel",()=>v,e=>v=e),q(e.exports,"unstable_getFirstCallbackNode",()=>y,e=>y=e),q(e.exports,"unstable_next",()=>b,e=>b=e),q(e.exports,"unstable_pauseExecution",()=>w,e=>w=e),q(e.exports,"unstable_requestPaint",()=>x,e=>x=e),q(e.exports,"unstable_runWithPriority",()=>S,e=>S=e),q(e.exports,"unstable_scheduleCallback",()=>_,e=>_=e),q(e.exports,"unstable_shouldYield",()=>E,e=>E=e),q(e.exports,"unstable_wrapCallback",()=>T,e=>T=e),"object"==typeof performance&&"function"==typeof performance.now){var s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I=performance;s=function(){return I.now()}}else{var P=Date,C=P.now();s=function(){return P.now()-C}}var A=[],R=[],k=1,D=null,N=3,M=!1,L=!1,j=!1,F="function"==typeof setTimeout?setTimeout:null,B="function"==typeof clearTimeout?clearTimeout:null,z="undefined"!=typeof setImmediate?setImmediate:null;function U(e){for(var t=i(R);null!==t;){if(null===t.callback)o(R);else if(t.startTime<=e)o(R),t.sortIndex=t.expirationTime,n(A,t);else break;t=i(R)}}function W(e){if(j=!1,U(e),!L){if(null!==i(A))L=!0,ee(H);else{var t=i(R);null!==t&&et(W,t.startTime-e)}}}function H(e,t){L=!1,j&&(j=!1,B($),$=-1),M=!0;var n=N;try{for(U(t),D=i(A);null!==D&&(!(D.expirationTime>t)||e&&!K());){var a=D.callback;if("function"==typeof a){D.callback=null,N=D.priorityLevel;var l=a(D.expirationTime<=t);t=s(),"function"==typeof l?D.callback=l:D===i(A)&&o(A),U(t)}else o(A);D=i(A)}if(null!==D)var u=!0;else{var c=i(R);null!==c&&et(W,c.startTime-t),u=!1}return u}finally{D=null,N=n,M=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var V=!1,G=null,$=-1,X=5,Y=-1;function K(){return!(s()-Y<X)}function Z(){if(null!==G){var e=s();Y=e;var t=!0;try{t=G(!0,e)}finally{t?O():(V=!1,G=null)}}else V=!1}if("function"==typeof z)O=function(){z(Z)};else if("undefined"!=typeof MessageChannel){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=Z,O=function(){Q.postMessage(null)}}else O=function(){F(Z,0)};function ee(e){G=e,V||(V=!0,O())}function et(e,t){$=F(function(){e(s())},t)}l=5,u=1,c=4,d=3,p=null,h=2,f=function(e){e.callback=null},g=function(){L||M||(L=!0,ee(H))},m=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<e?Math.floor(1e3/e):5},v=function(){return N},y=function(){return i(A)},b=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},w=function(){},x=function(){},S=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},_=function(e,t,o){var a=s();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:k++,callback:t,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>a?(e.sortIndex=o,n(R,e),null===i(A)&&e===i(R)&&(j?(B($),$=-1):j=!0,et(W,o-a))):(e.sortIndex=l,n(A,e),L||M||(L=!0,ee(H))),e},E=K,T=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}}),et("bEWqL",function(e,t){q(e.exports,"connect",()=>el),q(e.exports,"Provider",()=>eu);var n=ee("dm060"),i=ee("dkBcO"),o=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,d=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))u.call(t,n)&&d(e,n,t[n]);if(l)for(var n of l(t))c.call(t,n)&&d(e,n,t[n]);return e},h=(e,t)=>a(e,s(t)),f=(e,t)=>{var n={};for(var i in e)u.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&l)for(var i of l(e))0>t.indexOf(i)&&c.call(e,i)&&(n[i]=e[i]);return n},g="default"in n?n.default:n,m=Symbol.for("react-redux-context"),v="undefined"!=typeof globalThis?globalThis:{},y=/* @__PURE__ */function(){var e;if(!g.createContext)return{};let t=null!=(e=v[m])?e:v[m]=/* @__PURE__ */new Map,n=t.get(g.createContext);return n||(n=g.createContext(null),t.set(g.createContext,n)),n}(),b=()=>{throw Error("uSES not initialized!")},w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.context"),I=Symbol.for("react.server_context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),k=Symbol.for("react.lazy");function D(e){return function(t){let n=e(t);function i(){return n}return i.dependsOnOwnProps=!1,i}}function N(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:1!==e.length}function M(e,t){return function(t,{displayName:n}){let i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=N(e);let o=i(t,n);return"function"==typeof o&&(i.mapToProps=o,i.dependsOnOwnProps=N(o),o=i(t,n)),o},i}}function L(e,t){return(n,i)=>{throw Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function j(e,t,n){return p(p(p({},n),e),t)}Symbol.for("react.offscreen"),Symbol.for("react.client.reference");var F={notify(){},get:()=>[]};function B(e,t){let n;let i=F,o=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function l(){if(o++,!n){let o,a;n=t?t.addNestedSub(s):e.subscribe(s),o=null,a=null,i={clear(){o=null,a=null},notify(){(()=>{let e=o;for(;e;)e.callback(),e=e.next})()},get(){let e=[],t=o;for(;t;)e.push(t),t=t.next;return e},subscribe(e){let t=!0,n=a={callback:e,next:null,prev:a};return n.prev?n.prev.next=n:o=n,function(){t&&null!==o&&(t=!1,n.next?n.next.prev=n.prev:a=n.prev,n.prev?n.prev.next=n.next:o=n.next)}}}}}function u(){o--,n&&0===o&&(n(),n=void 0,i.clear(),i=F)}let c={addNestedSub:function(e){l();let t=i.subscribe(e),n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,l())},tryUnsubscribe:function(){a&&(a=!1,u())},getListeners:()=>i};return c}var z=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),U="undefined"!=typeof navigator&&"ReactNative"===navigator.product,W=z||U?g.useLayoutEffect:g.useEffect;function H(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function V(e,t){if(H(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!H(e[n[i]],t[n[i]]))return!1;return!0}var G={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},X={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y={[P]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[R]:X};function K(e){return function(e){if("object"==typeof e&&null!==e){let t=e.$$typeof;switch(t){case w:{let n=e.type;switch(n){case S:case E:case _:case C:case A:return n;default:{let e=n&&n.$$typeof;switch(e){case I:case O:case P:case k:case R:case T:return e;default:return t}}}}case x:return t}}}(e)===R?X:Y[e.$$typeof]||G}var Z=Object.defineProperty,J=Object.getOwnPropertyNames,Q=Object.getOwnPropertySymbols,et=Object.getOwnPropertyDescriptor,er=Object.getPrototypeOf,en=Object.prototype;function ei(e,t){if("string"!=typeof t){if(en){let n=er(t);n&&n!==en&&ei(e,n)}let n=J(t);Q&&(n=n.concat(Q(t)));let i=K(e),o=K(t);for(let a=0;a<n.length;++a){let s=n[a];if(!$[s]&&!(o&&o[s])&&!(i&&i[s])){let n=et(t,s);try{Z(e,s,n)}catch(e){}}}}return e}var eo=b,ea=[null,null];function es(e,t){return e===t}var el=function(e,t,n,{pure:i,areStatesEqual:o=es,areOwnPropsEqual:a=V,areStatePropsEqual:s=V,areMergedPropsEqual:l=V,forwardRef:u=!1,context:c=y}={}){let d=e?"function"==typeof e?M(e,"mapStateToProps"):L(e,"mapStateToProps"):D(()=>({})),m=t&&"object"==typeof t?D(e=>(function(e,t){let n={};for(let i in e){let o=e[i];"function"==typeof o&&(n[i]=(...e)=>t(o(...e)))}return n})(t,e)):t?"function"==typeof t?M(t,"mapDispatchToProps"):L(t,"mapDispatchToProps"):D(e=>({dispatch:e})),v=n?"function"==typeof n?function(e,{displayName:t,areMergedPropsEqual:i}){let o,a=!1;return function(e,t,s){let l=n(e,t,s);return a?i(l,o)||(o=l):(a=!0,o=l),o}}:L(n,"mergeProps"):()=>j,b=!!e;return e=>{let t=e.displayName||e.name||"Component",n=`Connect(${t})`,i={shouldHandleStateChanges:b,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:d,initMapDispatchToProps:m,initMergeProps:v,areStatesEqual:o,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function y(t){var n;let o;let[a,s,l]=g.useMemo(()=>{let{reactReduxForwardedRef:e}=t,n=f(t,["reactReduxForwardedRef"]);return[t.context,e,n]},[t]),u=g.useMemo(()=>(null==a||a.Consumer,c),[a,c]),d=g.useContext(u),m=!!t.store&&!!t.store.getState&&!!t.store.dispatch,v=!!d&&!!d.store,y=m?t.store:d.store,w=v?d.getServerState:y.getState,x=g.useMemo(()=>(function(e,t){var{initMapStateToProps:n,initMapDispatchToProps:i,initMergeProps:o}=t,a=f(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);return function(e,t,n,i,{areStatesEqual:o,areOwnPropsEqual:a,areStatePropsEqual:s}){let l,u,c,d,p,h=!1;return function(f,g){return h?function(h,f){let g=!a(f,u),m=!o(h,l,f,u);return(l=h,u=f,g&&m)?(c=e(l,u),t.dependsOnOwnProps&&(d=t(i,u)),p=n(c,d,u)):g?(e.dependsOnOwnProps&&(c=e(l,u)),t.dependsOnOwnProps&&(d=t(i,u)),p=n(c,d,u)):m?function(){let t=e(l,u),i=!s(t,c);return c=t,i&&(p=n(c,d,u)),p}():p}(f,g):(c=e(l=f,u=g),d=t(i,u),p=n(c,d,u),h=!0,p)}}(n(e,a),i(e,a),o(e,a),e,a)})(y.dispatch,i),[y]),[S,_]=g.useMemo(()=>{if(!b)return ea;let e=B(y,m?void 0:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[y,m,d]),E=g.useMemo(()=>m?d:h(p({},d),{subscription:S}),[m,d,S]),T=g.useRef(void 0),O=g.useRef(l),I=g.useRef(void 0),P=g.useRef(!1),C=g.useRef(!1),A=g.useRef(void 0);W(()=>(C.current=!0,()=>{C.current=!1}),[]);let R=g.useMemo(()=>()=>I.current&&l===O.current?I.current:x(y.getState(),l),[y,l]),k=g.useMemo(()=>e=>S?function(e,t,n,i,o,a,s,l,u,c,d){if(!e)return()=>{};let p=!1,h=null,f=()=>{let e,n;if(p||!l.current)return;let f=t.getState();try{e=i(f,o.current)}catch(e){n=e,h=e}n||(h=null),e===a.current?s.current||c():(a.current=e,u.current=e,s.current=!0,d())};return n.onStateChange=f,n.trySubscribe(),f(),()=>{if(p=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(b,y,S,x,O,T,P,C,I,_,e):()=>{},[S]);n=[O,T,P,l,I,_],W(()=>(function(e,t,n,i,o,a){e.current=i,n.current=!1,o.current&&(o.current=null,a())})(...n),void 0);try{o=eo(k,R,w?()=>x(w(),l):R)}catch(e){throw A.current&&(e.message+=`
The error may be correlated with this previous error:
${A.current.stack}

`),e}W(()=>{A.current=void 0,I.current=void 0,T.current=o});let D=g.useMemo(()=>/* @__PURE__ */g.createElement(e,h(p({},o),{ref:s})),[s,e,o]);return g.useMemo(()=>b?/* @__PURE__ */g.createElement(u.Provider,{value:E},D):D,[u,D,E])}let w=g.memo(y);if(w.WrappedComponent=e,w.displayName=y.displayName=n,u){let t=g.forwardRef(function(e,t){return /* @__PURE__ */g.createElement(w,h(p({},e),{reactReduxForwardedRef:t}))});return t.displayName=n,t.WrappedComponent=e,/* @__PURE__ */ei(t,e)}return /* @__PURE__ */ei(w,e)}},eu=function({store:e,context:t,children:n,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}){let s=g.useMemo(()=>{let t=B(e);return{store:e,subscription:t,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}},[e,i,o,a]),l=g.useMemo(()=>e.getState(),[e]);return W(()=>{let{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),l!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}},[s,l]),/* @__PURE__ */g.createElement((t||y).Provider,{value:s},n)};i.useSyncExternalStoreWithSelector,eo=n.useSyncExternalStore}),et("dkBcO",function(e,t){e.exports=ee("4vT7X")}),et("4vT7X",function(e,t){q(e.exports,"useSyncExternalStoreWithSelector",()=>n,e=>n=e);var n,i=ee("dm060"),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=i.useRef,l=i.useEffect,u=i.useMemo,c=i.useDebugValue;n=function(e,t,n,i,d){var p=s(null);if(null===p.current){var h={hasValue:!1,value:null};p.current=h}else h=p.current;var f=a(e,(p=u(function(){function e(e){if(!l){if(l=!0,a=e,e=i(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=i(e);return void 0!==d&&d(t,n)?t:(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,i,d]))[0],p[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),c(f),f}}),et("4H1G7",function(e,t){var n=ee("iowCO"),i=ee("b8GTY");e.exports=function(e,t,o){return null==e?e:n(e,t,i(o))}}),et("iowCO",function(e,t){var n=ee("8r7u7"),i=ee("ecuCb");e.exports=function(e,t,o,a){return i(e,t,o(n(e,t)),a)}}),et("8r7u7",function(e,t){var n=ee("1PK08"),i=ee("1N7wp");e.exports=function(e,t){t=n(t,e);for(var o=0,a=t.length;null!=e&&o<a;)e=e[i(t[o++])];return o&&o==a?e:void 0}}),et("1PK08",function(e,t){var n=ee("1mNSP"),i=ee("3pkve"),o=ee("8uXPx"),a=ee("j40El");e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:o(a(e))}}),et("1mNSP",function(e,t){var n=Array.isArray;e.exports=n}),et("3pkve",function(e,t){var n=ee("1mNSP"),i=ee("bS7h5"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var s=typeof e;return!!("number"==s||"symbol"==s||"boolean"==s||null==e||i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}}),et("bS7h5",function(e,t){var n=ee("hmGiX"),i=ee("fpZyM");e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}}),et("hmGiX",function(e,t){var n=ee("653sB"),i=ee("4jcW1"),o=ee("aMqat"),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}}),et("653sB",function(e,t){var n=ee("azsR2").Symbol;e.exports=n}),et("azsR2",function(e,t){var n=ee("gKZkV"),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o}),et("gKZkV",function(e,t){var n="object"==typeof X&&X&&X.Object===Object&&X;e.exports=n}),et("4jcW1",function(e,t){var n=ee("653sB"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var l=a.call(e);return i&&(t?e[s]=n:delete e[s]),l}}),et("aMqat",function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}}),et("fpZyM",function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}}),et("8uXPx",function(e,t){var n=ee("ei9HH"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,i,a){t.push(i?a.replace(o,"$1"):n||e)}),t});e.exports=a}),et("ei9HH",function(e,t){var n=ee("sOzDZ");e.exports=function(e){var t=n(e,function(e){return 500===i.size&&i.clear(),e}),i=t.cache;return t}}),et("sOzDZ",function(e,t){var n=ee("3qHiw");function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=o.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return o.cache=a.set(i,s)||a,s};return o.cache=new(i.Cache||n),o}i.Cache=n,e.exports=i}),et("3qHiw",function(e,t){var n=ee("jiBpJ"),i=ee("ialCk"),o=ee("9goE6"),a=ee("ePsJd"),s=ee("639il");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l}),et("jiBpJ",function(e,t){var n=ee("9vSce"),i=ee("1pmMY"),o=ee("4XsTI");e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||i),string:new n}}}),et("9vSce",function(e,t){var n=ee("bel9N"),i=ee("8M4jV"),o=ee("9qiEM"),a=ee("1UaLF"),s=ee("dMiN2");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l}),et("bel9N",function(e,t){var n=ee("5oHl8");e.exports=function(){this.__data__=n?n(null):{},this.size=0}}),et("5oHl8",function(e,t){var n=ee("iKHDU")(Object,"create");e.exports=n}),et("iKHDU",function(e,t){var n=ee("e7EKo"),i=ee("7xpq1");e.exports=function(e,t){var o=i(e,t);return n(o)?o:void 0}}),et("e7EKo",function(e,t){var n=ee("gMYkB"),i=ee("gtnOO"),o=ee("iGPgj"),a=ee("vSbyx"),s=/^\[object .+?Constructor\]$/,l=Object.prototype,u=Function.prototype.toString,c=l.hasOwnProperty,d=RegExp("^"+u.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(n(e)?d:s).test(a(e))}}),et("gMYkB",function(e,t){var n=ee("hmGiX"),i=ee("iGPgj");e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}}),et("iGPgj",function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}),et("gtnOO",function(e,t){var n,i=ee("2gqWq"),o=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}}),et("2gqWq",function(e,t){var n=ee("azsR2")["__core-js_shared__"];e.exports=n}),et("vSbyx",function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}}),et("7xpq1",function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}}),et("8M4jV",function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}),et("9qiEM",function(e,t){var n=ee("5oHl8"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var o=t[e];return"__lodash_hash_undefined__"===o?void 0:o}return i.call(t,e)?t[e]:void 0}}),et("1UaLF",function(e,t){var n=ee("5oHl8"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}}),et("dMiN2",function(e,t){var n=ee("5oHl8");e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}}),et("1pmMY",function(e,t){var n=ee("4crv5"),i=ee("4KRpz"),o=ee("dSmrs"),a=ee("iXW6V"),s=ee("d8FQ2");function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l}),et("4crv5",function(e,t){e.exports=function(){this.__data__=[],this.size=0}}),et("4KRpz",function(e,t){var n=ee("4HN45"),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,o=n(t,e);return!(o<0)&&(o==t.length-1?t.pop():i.call(t,o,1),--this.size,!0)}}),et("4HN45",function(e,t){var n=ee("7eWhk");e.exports=function(e,t){for(var i=e.length;i--;)if(n(e[i][0],t))return i;return -1}}),et("7eWhk",function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}}),et("dSmrs",function(e,t){var n=ee("4HN45");e.exports=function(e){var t=this.__data__,i=n(t,e);return i<0?void 0:t[i][1]}}),et("iXW6V",function(e,t){var n=ee("4HN45");e.exports=function(e){return n(this.__data__,e)>-1}}),et("d8FQ2",function(e,t){var n=ee("4HN45");e.exports=function(e,t){var i=this.__data__,o=n(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}}),et("4XsTI",function(e,t){var n=ee("iKHDU")(ee("azsR2"),"Map");e.exports=n}),et("ialCk",function(e,t){var n=ee("klMR3");e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}}),et("klMR3",function(e,t){var n=ee("kMOpv");e.exports=function(e,t){var i=e.__data__;return n(t)?i["string"==typeof t?"string":"hash"]:i.map}}),et("kMOpv",function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}}),et("9goE6",function(e,t){var n=ee("klMR3");e.exports=function(e){return n(this,e).get(e)}}),et("ePsJd",function(e,t){var n=ee("klMR3");e.exports=function(e){return n(this,e).has(e)}}),et("639il",function(e,t){var n=ee("klMR3");e.exports=function(e,t){var i=n(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}}),et("j40El",function(e,t){var n=ee("klo26");e.exports=function(e){return null==e?"":n(e)}}),et("klo26",function(e,t){var n=ee("653sB"),i=ee("aVHp4"),o=ee("1mNSP"),a=ee("bS7h5"),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}}),et("aVHp4",function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}}),et("1N7wp",function(e,t){var n=ee("bS7h5"),i=1/0;e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}}),et("ecuCb",function(e,t){var n=ee("5qJ2F"),i=ee("1PK08"),o=ee("8CZjq"),a=ee("iGPgj"),s=ee("1N7wp");e.exports=function(e,t,l,u){if(!a(e))return e;t=i(t,e);for(var c=-1,d=t.length,p=d-1,h=e;null!=h&&++c<d;){var f=s(t[c]),g=l;if("__proto__"===f||"constructor"===f||"prototype"===f)break;if(c!=p){var m=h[f];void 0===(g=u?u(m,f,h):void 0)&&(g=a(m)?m:o(t[c+1])?[]:{})}n(h,f,g),h=h[f]}return e}}),et("5qJ2F",function(e,t){var n=ee("5yn3z"),i=ee("7eWhk"),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var s=e[t];o.call(e,t)&&i(s,a)&&(void 0!==a||t in e)||n(e,t,a)}}),et("5yn3z",function(e,t){var n=ee("ihRlb");e.exports=function(e,t,i){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}}),et("ihRlb",function(e,t){var n=ee("iKHDU"),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i}),et("8CZjq",function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}}),et("b8GTY",function(e,t){var n=ee("8FZ5X");e.exports=function(e){return"function"==typeof e?e:n}}),et("8FZ5X",function(e,t){e.exports=function(e){return e}}),et("fTOjY",function(e,t){q(e.exports,"default",()=>p);var n=ee("bw9XX"),i=ee("4wXAy"),o=ee("h0a6y"),a=ee("eyqfR"),s=ee("7LLaT"),l=ee("lfJgr"),u=ee("3Jd8l"),c=ee("43TQa"),d=ee("cv3r0"),p={annotations:i.default,attribution:s.default,canvas:a.default,collection:d.default,custom:c.default,info:o.default,layers:u.default,search:l.default,thumbnailNavigation:n.default}}),et("bw9XX",function(e,t){q(e.exports,"default",()=>g);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("5BWNH"),l=ee("j21iK"),u=ee("hJg9G"),c=ee("8jlY4"),d=ee("cOFmZ"),p=ee("8uJ99"),h=ee("cEqnD"),f=ee("lPJ6l"),g=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.windowId;return{canvasGroupings:(0,u.getCanvasGroupings)(e,{windowId:n}),canvasIndex:(0,c.getCanvasIndex)(e,{windowId:n}),hasNextCanvas:!!(0,u.getNextCanvasGrouping)(e,{windowId:n}),hasPreviousCanvas:!!(0,u.getPreviousCanvasGrouping)(e,{windowId:n}),position:(0,d.getCompanionWindow)(e,{companionWindowId:(0,h.getWindow)(e,{windowId:n}).thumbnailNavigationId}).position,thumbnailNavigation:(0,p.getConfig)(e).thumbnailNavigation,view:(0,f.getWindowViewType)(e,{windowId:n}),viewingDirection:(0,c.getSequenceViewingDirection)(e,{windowId:n})}},function(e,t){var n=t.windowId;return{setNextCanvas:function(){return e(s.setNextCanvas(n))},setPreviousCanvas:function(){return e(s.setPreviousCanvas(n))}}}),(0,a.withPlugins)("ThumbnailNavigation"))(l.ThumbnailNavigation)}),et("1l9KS",function(e,t){function n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}q(e.exports,"createStore",()=>s),q(e.exports,"combineReducers",()=>l),q(e.exports,"bindActionCreators",()=>c),q(e.exports,"compose",()=>d),q(e.exports,"applyMiddleware",()=>p);var i="function"==typeof Symbol&&Symbol.observable||"@@observable",o=()=>Math.random().toString(36).substring(7).split("").join("."),a={INIT:`@@redux/INIT${o()}`,REPLACE:`@@redux/REPLACE${o()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${o()}`};function s(e,t,o){if("function"!=typeof e)throw Error(n(2));if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw Error(n(0));if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw Error(n(1));return o(s)(e,t)}let l=e,u=t,c=/* @__PURE__ */new Map,d=c,p=0,h=!1;function f(){d===c&&(d=/* @__PURE__ */new Map,c.forEach((e,t)=>{d.set(t,e)}))}function g(){if(h)throw Error(n(3));return u}function m(e){if("function"!=typeof e)throw Error(n(4));if(h)throw Error(n(5));let t=!0;f();let i=p++;return d.set(i,e),function(){if(t){if(h)throw Error(n(6));t=!1,f(),d.delete(i),c=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw Error(n(7));if(void 0===e.type)throw Error(n(8));if("string"!=typeof e.type)throw Error(n(17));if(h)throw Error(n(9));try{h=!0,u=l(u,e)}finally{h=!1}return(c=d).forEach(e=>{e()}),e}return v({type:a.INIT}),{dispatch:v,subscribe:m,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw Error(n(10));l=e,v({type:a.REPLACE})},[i]:function(){return{subscribe(e){if("object"!=typeof e||null===e)throw Error(n(11));function t(){e.next&&e.next(g())}return t(),{unsubscribe:m(t)}},[i](){return this}}}}}function l(e){let t;let i=Object.keys(e),o={};for(let t=0;t<i.length;t++){let n=i[t];"function"==typeof e[n]&&(o[n]=e[n])}let s=Object.keys(o);try{!function(e){Object.keys(e).forEach(t=>{let i=e[t];if(void 0===i(void 0,{type:a.INIT}))throw Error(n(12));if(void 0===i(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw Error(n(13))})}(o)}catch(e){t=e}return function(e={},i){if(t)throw t;let a=!1,l={};for(let t=0;t<s.length;t++){let u=s[t],c=o[u],d=e[u],p=c(d,i);if(void 0===p)throw i&&i.type,Error(n(14));l[u]=p,a=a||p!==d}return(a=a||s.length!==Object.keys(e).length)?l:e}}function u(e,t){return function(...n){return t(e.apply(this,n))}}function c(e,t){if("function"==typeof e)return u(e,t);if("object"!=typeof e||null===e)throw Error(n(16));let i={};for(let n in e){let o=e[n];"function"==typeof o&&(i[n]=u(o,t))}return i}function d(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function p(...e){return t=>(i,o)=>{let a=t(i,o),s=()=>{throw Error(n(15))},l={getState:a.getState,dispatch:(e,...t)=>s(e,...t)};return s=d(...e.map(e=>e(l)))(a.dispatch),{...a,dispatch:s}}}}),et("2IInF",function(e,t){q(e.exports,"withTranslation",()=>ee("9xAYM").withTranslation),q(e.exports,"I18nextProvider",()=>ee("i8poc").I18nextProvider),q(e.exports,"initReactI18next",()=>ee("bhY44").initReactI18next),ee("syu2J"),ee("1gSlE"),ee("gtOO5"),ee("9xAYM"),ee("6FYfN"),ee("i8poc"),ee("6tbXp"),ee("fcply"),ee("bhY44"),ee("lkTq8"),ee("g0YV8"),ee("3ghgm")}),et("syu2J",function(e,t){ee("dm060"),ee("1gSlE"),ee("3ghgm"),ee("g0YV8"),ee("3ghgm")}),et("1gSlE",function(e,t){q(e.exports,"Trans",()=>p);var n=ee("1NlRu"),i=ee("dm060"),o=ee("kck2h"),a=ee("31tcz"),s=ee("lkTq8"),l=ee("g0YV8");function u(e,t){if(!e)return!1;let n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function c(e){if(!e)return[];let t=e.props?e.props.children:e.children;return e.props&&e.props.i18nIsDynamicList?d(t):t}function d(e){return Array.isArray(e)?e:[e]}function p(e){let{children:t,count:p,parent:h,i18nKey:f,context:g,tOptions:m={},values:v,defaults:y,components:b,ns:w,i18n:x,t:S,shouldUnescape:_,...E}=e,T=x||(0,l.getI18n)();if(!T)return(0,a.warnOnce)("You will need to pass in an i18next instance by using i18nextReactModule"),t;let O=S||T.t.bind(T)||(e=>e);g&&(m.context=g);let I={...(0,s.getDefaults)(),...T.options&&T.options.react},P=w||O.ns||T.options&&T.options.defaultNS;P="string"==typeof P?[P]:P||["translation"];let C=function e(t,n){if(!t)return"";let o="",s=d(t),l=n.transSupportBasicHtmlNodes&&n.transKeepBasicHtmlNodesFor?n.transKeepBasicHtmlNodesFor:[];return s.forEach((t,s)=>{if("string"==typeof t)o+=`${t}`;else if((0,i.isValidElement)(t)){let i=Object.keys(t.props).length,a=l.indexOf(t.type)>-1,u=t.props.children;if(!u&&a&&0===i)o+=`<${t.type}/>`;else if(u||a&&0===i){if(t.props.i18nIsDynamicList)o+=`<${s}></${s}>`;else if(a&&1===i&&"string"==typeof u)o+=`<${t.type}>${u}</${t.type}>`;else{let t=e(u,n);o+=`<${s}>${t}</${s}>`}}else o+=`<${s}></${s}>`}else if(null===t)(0,a.warn)("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"==typeof t){let{format:e,...n}=t,i=Object.keys(n);if(1===i.length){let t=e?`${i[0]}, ${e}`:i[0];o+=`{{${t}}}`}else(0,a.warn)("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",t)}else(0,a.warn)("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",t)}),o}(t,I),A=y||C||I.transEmptyNodeValue||f,{hashTransKey:R}=I,k=f||(R?R(C||A):C||A);T.options&&T.options.interpolation&&T.options.interpolation.defaultVariables&&(v=v&&Object.keys(v).length>0?{...v,...T.options.interpolation.defaultVariables}:{...T.options.interpolation.defaultVariables});let D=v?m.interpolation:{interpolation:{...m.interpolation,prefix:"#$?",suffix:"?$#"}},N={...m,count:p,...v,...D,defaultValue:A,ns:P},M=k?O(k,N):A;b&&Object.keys(b).forEach(e=>{let t=b[e];"function"==typeof t.type||!t.props||!t.props.children||0>M.indexOf(`${e}/>`)&&0>M.indexOf(`${e} />`)||(b[e]=/*@__PURE__*/Y(i).createElement(function(){return /*@__PURE__*/Y(i).createElement(/*@__PURE__*/Y(i).Fragment,null,t)},null))});let L=function(e,t,a,s,l,p){if(""===t)return[];let h=s.transKeepBasicHtmlNodesFor||[],f=t&&new RegExp(h.map(e=>`<${e}`).join("|")).test(t);if(!e&&!f&&!p)return[t];let g={};!function e(t){d(t).forEach(t=>{"string"==typeof t||(u(t)?e(c(t)):"object"!=typeof t||(0,i.isValidElement)(t)||Object.assign(g,t))})}(e);let m=(0,o.default).parse(`<0>${t}</0>`),v={...g,...l};function y(e,t,n){let o=c(e),a=w(o,t.children,n);return"[object Array]"===Object.prototype.toString.call(o)&&o.every(e=>(0,i.isValidElement)(e))&&0===a.length||e.props&&e.props.i18nIsDynamicList?o:a}function b(e,t,o,a,s){e.dummy?(e.children=t,o.push((0,i.cloneElement)(e,{key:a},s?void 0:t))):o.push(...(0,i.Children).map([e],e=>{let o={...e.props};return delete o.i18nIsDynamicList,/*@__PURE__*/Y(i).createElement(e.type,/*@__PURE__*/Y(n)({},o,{key:a,ref:e.ref},s?{}:{children:t}))}))}function w(t,n,o){let l=d(t);return d(n).reduce((t,n,c)=>{let d=n.children&&n.children[0]&&n.children[0].content&&a.services.interpolator.interpolate(n.children[0].content,v,a.language);if("tag"===n.type){let p=l[parseInt(n.name,10)];1!==o.length||p||(p=o[0][n.name]),p||(p={});let g=0!==Object.keys(n.attrs).length?function(e,t){let n={...t};return n.props=Object.assign(e.props,t.props),n}({props:n.attrs},p):p,m=(0,i.isValidElement)(g),x=m&&u(n,!0)&&!n.voidElement,S=f&&"object"==typeof g&&g.dummy&&!m,_="object"==typeof e&&null!==e&&Object.hasOwnProperty.call(e,n.name);if("string"==typeof g){let e=a.services.interpolator.interpolate(g,v,a.language);t.push(e)}else if(u(g)||x){let e=y(g,n,o);b(g,e,t,c)}else if(S)b(g,w(l,n.children,o),t,c);else if(Number.isNaN(parseFloat(n.name))){if(_){let e=y(g,n,o);b(g,e,t,c,n.voidElement)}else if(s.transSupportBasicHtmlNodes&&h.indexOf(n.name)>-1){if(n.voidElement)t.push((0,i.createElement)(n.name,{key:`${n.name}-${c}`}));else{let e=w(l,n.children,o);t.push((0,i.createElement)(n.name,{key:`${n.name}-${c}`},e))}}else if(n.voidElement)t.push(`<${n.name} />`);else{let e=w(l,n.children,o);t.push(`<${n.name}>${e}</${n.name}>`)}}else if("object"!=typeof g||m)b(g,d,t,c,1!==n.children.length||!d);else{let e=n.children[0]?d:null;e&&t.push(e)}}else if("text"===n.type){let e=s.transWrapTextNodes,o=p?s.unescape(a.services.interpolator.interpolate(n.content,v,a.language)):a.services.interpolator.interpolate(n.content,v,a.language);e?t.push((0,i.createElement)(e,{key:`${n.name}-${c}`},o)):t.push(o)}return t},[])}return c(w([{dummy:!0,children:e||[]}],m,d(e||[]))[0])}(b||t,M,T,I,N,_),j=void 0!==h?h:I.defaultTransParent;return j?(0,i.createElement)(j,E,L):L}}),et("1NlRu",function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),et("kck2h",function(e,t){q(e.exports,"default",()=>u);var n=ee("eliPs"),i=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function o(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},o=e.match(/<\/?([^\s]+?)[/\s>]/);if(o&&(t.name=o[1],(/*@__PURE__*/Y(n)[o[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var a=e.indexOf("-->");return{type:"comment",comment:-1!==a?e.slice(4,a):""}}for(var s=new RegExp(i),l=null;null!==(l=s.exec(e));)if(l[0].trim()){if(l[1]){var u=l[1].trim(),c=[u,""];u.indexOf("=")>-1&&(c=u.split("=")),t.attrs[c[0]]=c[1],s.lastIndex--}else l[2]&&(t.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1))}return t}var a=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,s=/^\s*$/,l=Object.create(null),u={parse:function(e,t){t||(t={}),t.components||(t.components=l);var n,i=[],u=[],c=-1,d=!1;if(0!==e.indexOf("<")){var p=e.indexOf("<");i.push({type:"text",content:-1===p?e:e.substring(0,p)})}return e.replace(a,function(a,l){if(d){if(a!=="</"+n.name+">")return;d=!1}var p,h="/"!==a.charAt(1),f=a.startsWith("<!--"),g=l+a.length,m=e.charAt(g);if(f){var v=o(a);return c<0?i.push(v):(p=u[c]).children.push(v),i}if(h&&(c++,"tag"===(n=o(a)).type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!m||"<"===m||n.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),0===c&&i.push(n),(p=u[c-1])&&p.children.push(n),u[c]=n),(!h||n.voidElement)&&(c>-1&&(n.voidElement||n.name===a.slice(2,-1))&&(n=-1==--c?i:u[c]),!d&&"<"!==m&&m)){p=-1===c?i:u[c].children;var y=e.indexOf("<",g),b=e.slice(g,-1===y?void 0:y);s.test(b)&&(b=" "),(y>-1&&c+p.length>=0||" "!==b)&&p.push({type:"text",content:b})}}),i},stringify:function(e){return e.reduce(function(e,t){return e+function e(t,n){switch(n.type){case"text":return t+n.content;case"tag":return t+="<"+n.name+(n.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?t:t+n.children.reduce(e,"")+"</"+n.name+">";case"comment":return t+"<!--"+n.comment+"-->"}}("",t)},"")}}}),et("eliPs",function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}}),et("31tcz",function(e,t){function n(){if(console&&console.warn){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}q(e.exports,"warn",()=>n),q(e.exports,"warnOnce",()=>o),q(e.exports,"loadNamespaces",()=>s),q(e.exports,"loadLanguages",()=>l),q(e.exports,"hasLoadedNamespace",()=>u),q(e.exports,"getDisplayName",()=>c);let i={};function o(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];"string"==typeof t[0]&&i[t[0]]||("string"==typeof t[0]&&(i[t[0]]=new Date),n(...t))}let a=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function s(e,t,n){e.loadNamespaces(t,a(e,n))}function l(e,t,n,i){"string"==typeof n&&(n=[n]),n.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,a(e,i))}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],o=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;let s=(e,n)=>{let i=t.services.backendConnector.state[`${e}|${n}`];return -1===i||2===i};return(!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!s(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(i,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||s(i,e)&&(!o||s(a,e)))}(e,t,n):(o("i18n.languages were undefined or empty",t.languages),!0)}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}}),et("lkTq8",function(e,t){q(e.exports,"setDefaults",()=>i),q(e.exports,"getDefaults",()=>o);let n={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ee("fS66a").unescape};function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n={...n,...e}}function o(){return n}}),et("fS66a",function(e,t){q(e.exports,"unescape",()=>a);let n=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,i={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},o=e=>i[e],a=e=>e.replace(n,o)}),et("g0YV8",function(e,t){let n;function i(e){n=e}function o(){return n}q(e.exports,"setI18n",()=>i),q(e.exports,"getI18n",()=>o)}),et("3ghgm",function(e,t){q(e.exports,"I18nContext",()=>o),q(e.exports,"ReportNamespaces",()=>a),q(e.exports,"composeInitialProps",()=>s),q(e.exports,"getDefaults",()=>ee("lkTq8").getDefaults),q(e.exports,"getI18n",()=>ee("g0YV8").getI18n);var n=ee("dm060");ee("lkTq8");var i=ee("g0YV8");ee("bhY44");let o=(0,n.createContext)();class a{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function s(e){return t=>new Promise(n=>{let o=function(){let e=(0,i.getI18n)(),t=e.reportNamespaces?e.reportNamespaces.getUsedNamespaces():[],n={},o={};return e.languages.forEach(n=>{o[n]={},t.forEach(t=>{o[n][t]=e.getResourceBundle(n,t)||{}})}),n.initialI18nStore=o,n.initialLanguage=e.language,n}();e.getInitialProps?e.getInitialProps(t).then(e=>{n({...e,...o})}):n(o)})}}),et("bhY44",function(e,t){q(e.exports,"initReactI18next",()=>o);var n=ee("lkTq8"),i=ee("g0YV8");let o={type:"3rdParty",init(e){(0,n.setDefaults)(e.options.react),(0,i.setI18n)(e)}}}),et("gtOO5",function(e,t){q(e.exports,"useTranslation",()=>u);var n=ee("dm060");ee("3ghgm");var i=ee("lkTq8"),o=ee("g0YV8"),a=ee("3ghgm"),s=ee("31tcz");let l=(e,t)=>{let i=(0,n.useRef)();return(0,n.useEffect)(()=>{i.current=t?i.current:e},[e,t]),i.current};function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:u}=t,{i18n:c,defaultNS:d}=(0,n.useContext)(a.I18nContext)||{},p=u||c||(0,o.getI18n)();if(p&&!p.reportNamespaces&&(p.reportNamespaces=new a.ReportNamespaces),!p){(0,s.warnOnce)("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}p.options.react&&void 0!==p.options.react.wait&&(0,s.warnOnce)("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let h={...(0,i.getDefaults)(),...p.options.react,...t},{useSuspense:f,keyPrefix:g}=h,m=e||d||p.options&&p.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],p.reportNamespaces.addUsedNamespaces&&p.reportNamespaces.addUsedNamespaces(m);let v=(p.isInitialized||p.initializedStoreOnce)&&m.every(e=>(0,s.hasLoadedNamespace)(e,p,h));function y(){return p.getFixedT(t.lng||null,"fallback"===h.nsMode?m:m[0],g)}let[b,w]=(0,n.useState)(y),x=m.join();t.lng&&(x=`${t.lng}${x}`);let S=l(x),_=(0,n.useRef)(!0);(0,n.useEffect)(()=>{let{bindI18n:e,bindI18nStore:n}=h;function i(){_.current&&w(y)}return _.current=!0,v||f||(t.lng?(0,s.loadLanguages)(p,t.lng,m,()=>{_.current&&w(y)}):(0,s.loadNamespaces)(p,m,()=>{_.current&&w(y)})),v&&S&&S!==x&&_.current&&w(y),e&&p&&p.on(e,i),n&&p&&p.store.on(n,i),()=>{_.current=!1,e&&p&&e.split(" ").forEach(e=>p.off(e,i)),n&&p&&n.split(" ").forEach(e=>p.store.off(e,i))}},[p,x]);let E=(0,n.useRef)(!0);(0,n.useEffect)(()=>{_.current&&!E.current&&w(y),E.current=!1},[p,g]);let T=[b,p,v];if(T.t=b,T.i18n=p,T.ready=v,v||!v&&!f)return T;throw new Promise(e=>{t.lng?(0,s.loadLanguages)(p,t.lng,m,()=>e()):(0,s.loadNamespaces)(p,m,()=>e())})}}),et("9xAYM",function(e,t){q(e.exports,"withTranslation",()=>a);var n=ee("dm060"),i=ee("gtOO5"),o=ee("31tcz");function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){function s(o){let{forwardedRef:s,...l}=o,[u,c,d]=(0,i.useTranslation)(e,{...l,keyPrefix:t.keyPrefix}),p={...l,t:u,i18n:c,tReady:d};return t.withRef&&s?p.ref=s:!t.withRef&&s&&(p.forwardedRef=s),(0,n.createElement)(a,p)}return s.displayName=`withI18nextTranslation(${(0,o.getDisplayName)(a)})`,s.WrappedComponent=a,t.withRef?(0,n.forwardRef)((e,t)=>(0,n.createElement)(s,Object.assign({},e,{forwardedRef:t}))):s}}}),et("6FYfN",function(e,t){ee("gtOO5")}),et("i8poc",function(e,t){q(e.exports,"I18nextProvider",()=>o);var n=ee("dm060"),i=ee("3ghgm");function o(e){let{i18n:t,defaultNS:o,children:a}=e,s=(0,n.useMemo)(()=>({i18n:t,defaultNS:o}),[t,o]);return(0,n.createElement)(i.I18nContext.Provider,{value:s},a)}}),et("6tbXp",function(e,t){ee("dm060"),ee("fcply"),ee("3ghgm"),ee("31tcz")}),et("fcply",function(e,t){q(e.exports,"useSSR",()=>a);var n=ee("dm060");ee("3ghgm");var i=ee("g0YV8"),o=ee("3ghgm");function a(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{i18n:s}=a,{i18n:l}=(0,n.useContext)(o.I18nContext)||{},u=s||l||(0,i.getI18n)();u.options&&u.options.isClone||(e&&!u.initializedStoreOnce&&(u.services.resourceStore.data=e,u.options.ns=Object.values(e).reduce((e,t)=>(Object.keys(t).forEach(t=>{0>e.indexOf(t)&&e.push(t)}),e),u.options.ns),u.initializedStoreOnce=!0,u.isInitialized=!0),!t||u.initializedLanguageOnce||(u.changeLanguage(t),u.initializedLanguageOnce=!0))}}),et("lqD1Z",function(e,t){q(e.exports,"withPlugins",()=>c);var n=ee("dm060"),i=ee("9O2hs"),o=ee("8GlWf"),a=ee("2yw8u"),s=ee("9L45J");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=/*@__PURE__*/Y(i)(function(e,t){var i=/*#__PURE__*/(0,n.forwardRef)(function(i,l){var c=(0,n.useContext)(a.default),d=u(u({},i),l?{ref:l}:{}),p=(c||{})[e];if(/*@__PURE__*/Y(o)(p)||/*@__PURE__*/Y(o)(p.wrap)&&/*@__PURE__*/Y(o)(p.add))return/*#__PURE__*/(0,s.jsx)(t,u({},d));var h=(p.add||[]).map(function(e){return e.component}),f=/*#__PURE__*/(0,s.jsx)(t,u(u({},d),{},{PluginComponents:h}));return /*@__PURE__*/Y(o)(p.wrap)?f:p.wrap.slice().reverse().reduce(function(e,n){var i=n.component;return/*#__PURE__*/(0,s.jsx)(i,u(u({targetProps:d},d),{},{PluginComponents:h,TargetComponent:t,children:e}))},/*#__PURE__*/(0,s.jsx)(t,u({},d)))});return i.displayName="WithPlugins(".concat(e,")"),i})}),et("9O2hs",function(e,t){var n=ee("6iN9N");function i(e,t,o){var a=n(e,8,void 0,void 0,void 0,void 0,void 0,t=o?void 0:t);return a.placeholder=i.placeholder,a}i.placeholder={},e.exports=i}),et("6iN9N",function(e,t){var n=ee("kRCkG"),i=ee("7pxl0"),o=ee("b1LrQ"),a=ee("ftvIQ"),s=ee("dKalJ"),l=ee("8V0vU"),u=ee("cWqs3"),c=ee("9TcoE"),d=ee("78gDV"),p=ee("7uPRB"),h=Math.max;e.exports=function(e,t,f,g,m,v,y,b){var w=2&t;if(!w&&"function"!=typeof e)throw TypeError("Expected a function");var x=g?g.length:0;if(x||(t&=-97,g=m=void 0),y=void 0===y?y:h(p(y),0),b=void 0===b?b:p(b),x-=m?m.length:0,64&t){var S=g,_=m;g=m=void 0}var E=w?void 0:l(e),T=[e,t,f,g,m,S,_,v,y,b];if(E&&u(T,E),e=T[0],t=T[1],f=T[2],g=T[3],m=T[4],(b=T[9]=void 0===T[9]?w?0:e.length:h(T[9]-x,0))||!(24&t)||(t&=-25),t&&1!=t)O=8==t||16==t?o(e,t,b):32!=t&&33!=t||m.length?a.apply(void 0,T):s(e,t,f,g);else var O=i(e,t,f);return d((E?n:c)(O,T),e,t)}}),et("kRCkG",function(e,t){var n=ee("8FZ5X"),i=ee("dve2a"),o=i?function(e,t){return i.set(e,t),e}:n;e.exports=o}),et("dve2a",function(e,t){var n=ee("iC6yB"),i=n&&new n;e.exports=i}),et("iC6yB",function(e,t){var n=ee("iKHDU")(ee("azsR2"),"WeakMap");e.exports=n}),et("7pxl0",function(e,t){var n=ee("8pUHI"),i=ee("azsR2");e.exports=function(e,t,o){var a=1&t,s=n(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(a?o:this,arguments)}}}),et("8pUHI",function(e,t){var n=ee("6nSJO"),i=ee("iGPgj");e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var o=n(e.prototype),a=e.apply(o,t);return i(a)?a:o}}}),et("6nSJO",function(e,t){var n=ee("iGPgj"),i=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}();e.exports=o}),et("b1LrQ",function(e,t){var n=ee("2ldLU"),i=ee("8pUHI"),o=ee("ftvIQ"),a=ee("6Gh9L"),s=ee("4SPGC"),l=ee("4BnFa"),u=ee("azsR2");e.exports=function(e,t,c){var d=i(e);return function i(){for(var p=arguments.length,h=Array(p),f=p,g=s(i);f--;)h[f]=arguments[f];var m=p<3&&h[0]!==g&&h[p-1]!==g?[]:l(h,g);return(p-=m.length)<c?a(e,t,o,i.placeholder,void 0,h,m,void 0,void 0,c-p):n(this&&this!==u&&this instanceof i?d:e,this,h)}}}),et("2ldLU",function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}}),et("ftvIQ",function(e,t){var n=ee("a3hHp"),i=ee("9gS3v"),o=ee("OJ3Vo"),a=ee("8pUHI"),s=ee("6Gh9L"),l=ee("4SPGC"),u=ee("4OM5h"),c=ee("4BnFa"),d=ee("azsR2");e.exports=function e(t,p,h,f,g,m,v,y,b,w){var x=128&p,S=1&p,_=2&p,E=24&p,T=512&p,O=_?void 0:a(t);return function I(){for(var P=arguments.length,C=Array(P),A=P;A--;)C[A]=arguments[A];if(E)var R=l(I),k=o(C,R);if(f&&(C=n(C,f,g,E)),m&&(C=i(C,m,v,E)),P-=k,E&&P<w){var D=c(C,R);return s(t,p,e,I.placeholder,h,C,D,y,b,w-P)}var N=S?h:this,M=_?N[t]:t;return P=C.length,y?C=u(C,y):T&&P>1&&C.reverse(),x&&b<P&&(C.length=b),this&&this!==d&&this instanceof I&&(M=O||a(M)),M.apply(N,C)}}}),et("a3hHp",function(e,t){var n=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=e.length,l=i.length,u=-1,c=t.length,d=n(s-l,0),p=Array(c+d),h=!o;++u<c;)p[u]=t[u];for(;++a<l;)(h||a<s)&&(p[i[a]]=e[a]);for(;d--;)p[u++]=e[a++];return p}}),et("9gS3v",function(e,t){var n=Math.max;e.exports=function(e,t,i,o){for(var a=-1,s=e.length,l=-1,u=i.length,c=-1,d=t.length,p=n(s-u,0),h=Array(p+d),f=!o;++a<p;)h[a]=e[a];for(var g=a;++c<d;)h[g+c]=t[c];for(;++l<u;)(f||a<s)&&(h[g+i[l]]=e[a++]);return h}}),et("OJ3Vo",function(e,t){e.exports=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}}),et("6Gh9L",function(e,t){var n=ee("NkLKV"),i=ee("9TcoE"),o=ee("78gDV");e.exports=function(e,t,a,s,l,u,c,d,p,h){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var g=[e,t,l,f?u:void 0,f?c:void 0,f?void 0:u,f?void 0:c,d,p,h],m=a.apply(void 0,g);return n(e)&&i(m,g),m.placeholder=s,o(m,e,t)}}),et("NkLKV",function(e,t){var n=ee("iCZnL"),i=ee("8V0vU"),o=ee("8nqvv"),a=ee("cMzOt");e.exports=function(e){var t=o(e),s=a[t];if("function"!=typeof s||!(t in n.prototype))return!1;if(e===s)return!0;var l=i(s);return!!l&&e===l[0]}}),et("iCZnL",function(e,t){var n=ee("6nSJO"),i=ee("iIuKr");function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}o.prototype=n(i.prototype),o.prototype.constructor=o,e.exports=o}),et("iIuKr",function(e,t){e.exports=function(){}}),et("8V0vU",function(e,t){var n=ee("dve2a"),i=ee("9d7rn"),o=n?function(e){return n.get(e)}:i;e.exports=o}),et("9d7rn",function(e,t){e.exports=function(){}}),et("8nqvv",function(e,t){var n=ee("hqdQs"),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",o=n[t],a=i.call(n,t)?o.length:0;a--;){var s=o[a],l=s.func;if(null==l||l==e)return s.name}return t}}),et("hqdQs",function(e,t){e.exports={}}),et("cMzOt",function(e,t){var n=ee("iCZnL"),i=ee("3lWmA"),o=ee("iIuKr"),a=ee("1mNSP"),s=ee("fpZyM"),l=ee("GCS8C"),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c}),et("3lWmA",function(e,t){var n=ee("6nSJO"),i=ee("iIuKr");function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=n(i.prototype),o.prototype.constructor=o,e.exports=o}),et("GCS8C",function(e,t){var n=ee("iCZnL"),i=ee("3lWmA"),o=ee("dInwC");e.exports=function(e){if(e instanceof n)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}}),et("dInwC",function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}}),et("9TcoE",function(e,t){var n=ee("kRCkG"),i=ee("et8Ty")(n);e.exports=i}),et("et8Ty",function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var o=n(),a=16-(o-i);if(i=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}}),et("78gDV",function(e,t){var n=ee("gqB5W"),i=ee("4AuiN"),o=ee("702vK"),a=ee("gcGkO");e.exports=function(e,t,s){var l=t+"";return o(e,i(l,a(n(l),s)))}}),et("gqB5W",function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(i):[]}}),et("4AuiN",function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var i=t.length;if(!i)return e;var o=i-1;return t[o]=(i>1?"& ":"")+t[o],t=t.join(i>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}}),et("702vK",function(e,t){var n=ee("iTMEX"),i=ee("et8Ty")(n);e.exports=i}),et("iTMEX",function(e,t){var n=ee("eFBFh"),i=ee("ihRlb"),o=ee("8FZ5X"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=a}),et("eFBFh",function(e,t){e.exports=function(e){return function(){return e}}}),et("gcGkO",function(e,t){var n=ee("4eWWZ"),i=ee("jaV0C"),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(o,function(n){var o="_."+n[0];t&n[1]&&!i(e,o)&&e.push(o)}),e.sort()}}),et("4eWWZ",function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}}),et("jaV0C",function(e,t){var n=ee("kpELt");e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}}),et("kpELt",function(e,t){var n=ee("f9jud"),i=ee("bk3CN"),o=ee("lpxKq");e.exports=function(e,t,a){return t==t?o(e,t,a):n(e,i,a)}}),et("f9jud",function(e,t){e.exports=function(e,t,n,i){for(var o=e.length,a=n+(i?1:-1);i?a--:++a<o;)if(t(e[a],a,e))return a;return -1}}),et("bk3CN",function(e,t){e.exports=function(e){return e!=e}}),et("lpxKq",function(e,t){e.exports=function(e,t,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return -1}}),et("4SPGC",function(e,t){e.exports=function(e){return e.placeholder}}),et("4OM5h",function(e,t){var n=ee("dInwC"),i=ee("8CZjq"),o=Math.min;e.exports=function(e,t){for(var a=e.length,s=o(t.length,a),l=n(e);s--;){var u=t[s];e[s]=i(u,a)?l[u]:void 0}return e}}),et("4BnFa",function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var i=-1,o=e.length,a=0,s=[];++i<o;){var l=e[i];(l===t||l===n)&&(e[i]=n,s[a++]=i)}return s}}),et("dKalJ",function(e,t){var n=ee("2ldLU"),i=ee("8pUHI"),o=ee("azsR2");e.exports=function(e,t,a,s){var l=1&t,u=i(e);return function t(){for(var i=-1,c=arguments.length,d=-1,p=s.length,h=Array(p+c);++d<p;)h[d]=s[d];for(;c--;)h[d++]=arguments[++i];return n(this&&this!==o&&this instanceof t?u:e,l?a:this,h)}}}),et("cWqs3",function(e,t){var n=ee("a3hHp"),i=ee("9gS3v"),o=ee("4BnFa"),a="__lodash_placeholder__",s=Math.min;e.exports=function(e,t){var l=e[1],u=t[1],c=l|u,d=c<131,p=128==u&&8==l||128==u&&256==l&&e[7].length<=t[8]||384==u&&t[7].length<=t[8]&&8==l;if(!(d||p))return e;1&u&&(e[2]=t[2],c|=1&l?0:4);var h=t[3];if(h){var f=e[3];e[3]=f?n(f,h,t[4]):h,e[4]=f?o(e[3],a):t[4]}return(h=t[5])&&(f=e[5],e[5]=f?i(f,h,t[6]):h,e[6]=f?o(e[5],a):t[6]),(h=t[7])&&(e[7]=h),128&u&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}}),et("7uPRB",function(e,t){var n=ee("1mIlq");e.exports=function(e){var t=n(e),i=t%1;return t==t?i?t-i:t:0}}),et("1mIlq",function(e,t){var n=ee("drBGz"),i=1/0;e.exports=function(e){return e?(e=n(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}}),et("drBGz",function(e,t){var n=ee("keZxX"),i=ee("iGPgj"),o=ee("bS7h5"),a=0/0,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var d=l.test(e);return d||u.test(e)?c(e.slice(2),d?2:8):s.test(e)?a:+e}}),et("keZxX",function(e,t){var n=ee("4edYR"),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}}),et("4edYR",function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}}),et("8GlWf",function(e,t){var n=ee("ltj2s"),i=ee("lh9s1"),o=ee("31t9B"),a=ee("1mNSP"),s=ee("kSosd"),l=ee("kSGkO"),u=ee("bCJWv"),c=ee("ko8hG"),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||c(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var p in e)if(d.call(e,p))return!1;return!0}}),et("ltj2s",function(e,t){var n=ee("bCJWv"),i=ee("8vSnw"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var a in Object(e))o.call(e,a)&&"constructor"!=a&&t.push(a);return t}}),et("bCJWv",function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}}),et("8vSnw",function(e,t){var n=ee("gPDSe")(Object.keys,Object);e.exports=n}),et("gPDSe",function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}}),et("lh9s1",function(e,t){var n=ee("tsLx4"),i=ee("4XsTI"),o=ee("hQ5Pb"),a=ee("4waba"),s=ee("iC6yB"),l=ee("hmGiX"),u=ee("vSbyx"),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",g=u(n),m=u(i),v=u(o),y=u(a),b=u(s),w=l;(n&&w(new n(new ArrayBuffer(1)))!=f||i&&w(new i)!=c||o&&w(o.resolve())!=d||a&&w(new a)!=p||s&&w(new s)!=h)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?u(n):"";if(i)switch(i){case g:return f;case m:return c;case v:return d;case y:return p;case b:return h}return t}),e.exports=w}),et("tsLx4",function(e,t){var n=ee("iKHDU")(ee("azsR2"),"DataView");e.exports=n}),et("hQ5Pb",function(e,t){var n=ee("iKHDU")(ee("azsR2"),"Promise");e.exports=n}),et("4waba",function(e,t){var n=ee("iKHDU")(ee("azsR2"),"Set");e.exports=n}),et("31t9B",function(e,t){var n=ee("cUK9C"),i=ee("fpZyM"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l}),et("cUK9C",function(e,t){var n=ee("hmGiX"),i=ee("fpZyM");e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}}),et("kSosd",function(e,t){var n=ee("gMYkB"),i=ee("3TWUh");e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}}),et("3TWUh",function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}}),et("kSGkO",function(e,t){var n=ee("azsR2"),i=ee("fd2d9"),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?n.Buffer:void 0,l=s?s.isBuffer:void 0;e.exports=l||i}),et("fd2d9",function(e,t){e.exports=function(){return!1}}),et("ko8hG",function(e,t){var n=ee("jQbir"),i=ee("2grBP"),o=ee("faScu"),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s}),et("jQbir",function(e,t){var n=ee("hmGiX"),i=ee("3TWUh"),o=ee("fpZyM"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}}),et("2grBP",function(e,t){e.exports=function(e){return function(t){return e(t)}}}),et("faScu",function(e,t){var n=ee("gKZkV"),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;if(e)return e;return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}),et("2yw8u",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/(0,ee("dm060").createContext)()}),et("9L45J",function(e,t){e.exports=ee("31NPI")}),et("31NPI",function(e,t){q(e.exports,"Fragment",()=>n,e=>n=e),q(e.exports,"jsx",()=>i,e=>i=e),q(e.exports,"jsxs",()=>o,e=>o=e);var n,i,o,a=ee("dm060"),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,n){var i,o={},a=null,l=null;for(i in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,i)&&!d.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:s,type:e,key:a,ref:l,props:o,_owner:c.current}}n=l,i=p,o=p}),et("5BWNH",function(e,t){q(e.exports,"setCanvas",()=>l),q(e.exports,"setNextCanvas",()=>u),q(e.exports,"setPreviousCanvas",()=>c),q(e.exports,"updateViewport",()=>d);var n=ee("8KIqz"),i=ee("hJg9G"),o=ee("8uJ99");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(u,c){var d=c(),p=(0,o.getConfig)(d).osdConfig.preserveViewport,h=a;h||(h=((0,i.getCanvasGrouping)(d,{canvasId:t,windowId:e})||[]).map(function(e){return e.id})),u(s(s({},l),{},{canvasId:t,preserveViewport:p,type:n.default.SET_CANVAS,visibleCanvases:h,windowId:e}))}}function u(e){return function(t,n){var o=n(),a=(0,i.getNextCanvasGrouping)(o,{windowId:e}),s=(a||[]).map(function(e){return e.id});a&&t(l(e,s[0],s))}}function c(e){return function(t,n){var o=n(),a=(0,i.getPreviousCanvasGrouping)(o,{windowId:e}),s=(a||[]).map(function(e){return e.id});a&&t(l(e,s[0],s))}}function d(e,t){return{payload:t,type:n.default.UPDATE_VIEWPORT,windowId:e}}}),et("8KIqz",function(e,t){q(e.exports,"default",()=>n);var n={ADD_COMPANION_WINDOW:"mirador/ADD_COMPANION_WINDOW",UPDATE_COMPANION_WINDOW:"mirador/UPDATE_COMPANION_WINDOW",REMOVE_COMPANION_WINDOW:"mirador/REMOVE_COMPANION_WINDOW",TOGGLE_TOC_NODE:"mirador/TOGGLE_TOC_NODE",UPDATE_WINDOW:"mirador/UPDATE_WINDOW",REQUEST_CANVAS_ANNOTATIONS:"mirador/REQUEST_CANVAS_ANNOTATIONS",HOVER_ANNOTATION:"mirador/HOVER_ANNOTATION",REQUEST_ANNOTATION:"mirador/REQUEST_ANNOTATION",RECEIVE_ANNOTATION:"mirador/RECEIVE_ANNOTATION",RECEIVE_ANNOTATION_FAILURE:"mirador/RECEIVE_ANNOTATION_FAILURE",DESELECT_ANNOTATION:"mirador/DESELECT_ANNOTATION",SELECT_ANNOTATION:"mirador/SELECT_ANNOTATION",TOGGLE_ANNOTATION_DISPLAY:"mirador/TOGGLE_ANNOTATION_DISPLAY",FOCUS_WINDOW:"mirador/FOCUS_WINDOW",SET_WORKSPACE_FULLSCREEN:"mirador/SET_WORKSPACE_FULLSCREEN",SET_WORKSPACE_VIEWPORT_POSITION:"mirador/SET_WORKSPACE_VIEWPORT_POSITION",ADD_MANIFEST:"mirador/ADD_MANIFEST",ADD_WINDOW:"mirador/ADD_WINDOW",ADD_ERROR:"mirador/ADD_ERROR",IMPORT_CONFIG:"mirador/IMPORT_CONFIG",IMPORT_MIRADOR_STATE:"mirador/IMPORT_MIRADOR_STATE",SET_CANVAS:"mirador/SET_CANVAS",MAXIMIZE_WINDOW:"mirador/MAXIMIZE_WINDOW",MINIMIZE_WINDOW:"mirador/MINIMIZE_WINDOW",UPDATE_WINDOW_POSITION:"mirador/UPDATE_WINDOW_POSITION",SET_WINDOW_SIZE:"mirador/SET_WINDOW_SIZE",REMOVE_WINDOW:"mirador/REMOVE_WINDOW",PICK_WINDOWING_SYSTEM:"mirador/PICK_WINDOWING_SYSTEM",REQUEST_MANIFEST:"mirador/REQUEST_MANIFEST",RECEIVE_MANIFEST:"mirador/RECEIVE_MANIFEST",RECEIVE_MANIFEST_FAILURE:"mirador/RECEIVE_MANIFEST_FAILURE",REMOVE_ERROR:"mirador/REMOVE_ERROR",SET_CONFIG:"mirador/SET_CONFIG",UPDATE_WORKSPACE:"mirador/UPDATE_WORKSPACE",SET_WINDOW_THUMBNAIL_POSITION:"mirador/SET_WINDOW_THUMBNAIL_POSITION",SET_WINDOW_VIEW_TYPE:"mirador/SET_WINDOW_VIEW_TYPE",SET_WORKSPACE_ADD_VISIBILITY:"mirador/SET_WORKSPACE_ADD_VISIBILITY",TOGGLE_WINDOW_SIDE_BAR:"mirador/TOGGLE_WINDOW_SIDE_BAR",TOGGLE_DRAGGING:"mirador/TOGGLE_DRAGGING",TOGGLE_ZOOM_CONTROLS:"mirador/TOGGLE_ZOOM_CONTROLS",UPDATE_CONFIG:"mirador/UPDATE_CONFIG",REMOVE_MANIFEST:"mirador/REMOVE_MANIFEST",REQUEST_INFO_RESPONSE:"mirador/REQUEST_INFO_RESPONSE",RECEIVE_INFO_RESPONSE:"mirador/RECEIVE_INFO_RESPONSE",RECEIVE_DEGRADED_INFO_RESPONSE:"mirador/RECEIVE_DEGRADED_INFO_RESPONSE",RECEIVE_INFO_RESPONSE_FAILURE:"mirador/RECEIVE_INFO_RESPONSE_FAILURE",REMOVE_INFO_RESPONSE:"mirador/REMOVE_INFO_RESPONSE",UPDATE_WORKSPACE_MOSAIC_LAYOUT:"mirador/UPDATE_WORKSPACE_MOSAIC_LAYOUT",UPDATE_VIEWPORT:"mirador/UPDATE_VIEWPORT",UPDATE_ELASTIC_WINDOW_LAYOUT:"mirador/UPDATE_ELASTIC_WINDOW_LAYOUT",ADD_AUTHENTICATION_REQUEST:"mirador/ADD_AUTHENTICATION_REQUEST",RESOLVE_AUTHENTICATION_REQUEST:"mirador/RESOLVE_AUTHENTICATION_REQUEST",REQUEST_ACCESS_TOKEN:"mirador/REQUEST_ACCESS_TOKEN",RECEIVE_ACCESS_TOKEN:"mirador/RECEIVE_ACCESS_TOKEN",RECEIVE_ACCESS_TOKEN_FAILURE:"mirador/RECEIVE_ACCESS_TOKEN_FAILURE",RESET_AUTHENTICATION_STATE:"mirador/RESET_AUTHENTICATION_STATE",CLEAR_ACCESS_TOKEN_QUEUE:"mirador/CLEAR_ACCESS_TOKEN_QUEUE",REQUEST_SEARCH:"mirador/REQUEST_SEARCH",RECEIVE_SEARCH:"mirador/RECEIVE_SEARCH",RECEIVE_SEARCH_FAILURE:"mirador/RECEIVE_SEARCH_FAILURE",REMOVE_SEARCH:"mirador/REMOVE_SEARCH",SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS:"mirador/SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS",UPDATE_LAYERS:"mirador/UPDATE_LAYERS",ADD_RESOURCE:"mirador/ADD_RESOURCE",REMOVE_RESOURCE:"mirador/REMOVE_RESOURCE",SHOW_COLLECTION_DIALOG:"mirador/SHOW_COLLECTION_DIALOG",HIDE_COLLECTION_DIALOG:"mirador/HIDE_COLLECTION_DIALOG"}}),et("hJg9G",function(e,t){q(e.exports,"selectInfoResponses",()=>d),q(e.exports,"getCanvases",()=>p),q(e.exports,"getCanvas",()=>h),q(e.exports,"getCurrentCanvas",()=>f),q(e.exports,"getVisibleCanvasIds",()=>g),q(e.exports,"getVisibleCanvases",()=>m),q(e.exports,"getCanvasGroupings",()=>v),q(e.exports,"getCanvasGrouping",()=>y),q(e.exports,"getNextCanvasGrouping",()=>b),q(e.exports,"getPreviousCanvasGrouping",()=>w),q(e.exports,"getCanvasLabel",()=>x),q(e.exports,"getCanvasDescription",()=>S),q(e.exports,"getVisibleCanvasNonTiledResources",()=>_),q(e.exports,"getVisibleCanvasVideoResources",()=>E),q(e.exports,"getVisibleCanvasCaptions",()=>T),q(e.exports,"getVisibleCanvasAudioResources",()=>O),q(e.exports,"selectInfoResponse",()=>I);var n=ee("9Fw2L"),i=ee("dPHLq"),o=ee("c5QyQ"),a=ee("3h31Z"),s=ee("5h5fP"),l=ee("cEqnD"),u=ee("8jlY4"),c=ee("lPJ6l"),d=function(e){return(0,s.miradorSlice)(e).infoResponses},p=(0,n.createSelector)([u.getSequence],function(e){return e&&e.getCanvases()||[]}),h=(0,n.createSelector)([u.getSequence,function(e,t){return t.canvasId}],function(e,t){if(e&&t)return e.getCanvasById(t)}),f=(0,n.createSelector)([u.getSequence,l.getWindow],function(e,t){if(e&&t)return t.canvasId?e.getCanvasById(t.canvasId):e.getCanvasByIndex(0)}),g=(0,n.createSelector)([l.getWindow],function(e){return e&&(e.visibleCanvases||e.canvasId&&[e.canvasId])||[]}),m=(0,n.createSelector)([g,p],function(e,t){return(t||[]).filter(function(t){return e.includes(t.id)})}),v=(0,n.createSelector)([p,c.getWindowViewType],function(e,t){return e&&new(0,o.default)(e,t).groupings()}),y=(0,n.createSelector)([v,function(e,t){return t.canvasId}],function(e,t){return e&&e.find(function(e){return e.some(function(e){return e.id===t})})||[]}),b=(0,n.createSelector)([v,f],function(e,t,n){if(e&&t){var i=e.findIndex(function(e){return e.some(function(e){return e.id===t.id})});if(!(i<0)&&!(i+1>=e.length))return e[i+1]}}),w=(0,n.createSelector)([v,f],function(e,t,n){if(e&&t){var i=e.findIndex(function(e){return e.some(function(e){return e.id===t.id})});if(!(i<1))return e[i-1]}}),x=(0,n.createSelector)([h],function(e){return e&&(e.getLabel().length>0?e.getLabel().getValue():String(e.index+1))}),S=(0,n.createSelector)([h],function(e){return e&&e.getProperty("description")}),_=(0,n.createSelector)([m],function(e){return /*@__PURE__*/Y(i)(e.map(function(e){return new a.default(e).imageResources})).filter(function(e){return e.getServices().length<1})}),E=(0,n.createSelector)([m],function(e){return /*@__PURE__*/Y(i)(e.map(function(e){return new a.default(e).videoResources}))}),T=(0,n.createSelector)([m],function(e){return /*@__PURE__*/Y(i)(e.map(function(e){var t=new a.default(e);return t.v3VttContent.length?t.v3VttContent:t.v2VttContent}))}),O=(0,n.createSelector)([m],function(e){return /*@__PURE__*/Y(i)(e.map(function(e){return new a.default(e).audioResources}))}),I=(0,n.createSelector)([function(e,t){return t.infoId},h,d],function(e,t,n){var i=e;if(!e){if(!t)return;var o=new a.default(t).iiifImageResources[0];i=o&&o.getServices()[0].id}return i&&n[i]&&!n[i].isFetching&&n[i]})}),et("9Fw2L",function(e,t){q(e.exports,"setGlobalDevModeChecks",()=>d),q(e.exports,"referenceEqualityCheck",()=>D),q(e.exports,"lruMemoize",()=>M),q(e.exports,"unstable_autotrackMemoize",()=>L),q(e.exports,"weakMapMemoize",()=>B),q(e.exports,"createSelectorCreator",()=>z),q(e.exports,"createSelector",()=>U),q(e.exports,"createStructuredSelector",()=>W);var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,l=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(i)for(var n of i(t))a.call(t,n)&&s(e,n,t[n]);return e},u=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n),c={inputStabilityCheck:"once",identityFunctionCheck:"once"},d=e=>{Object.assign(c,e)},p=/* @__PURE__ */Symbol("NOT_FOUND");function h(e,t=`expected a function, instead received ${typeof e}`){if("function"!=typeof e)throw TypeError(t)}var f=e=>Array.isArray(e)?e:[e],g=0,m=null,v=class{constructor(e,t=y){u(this,"revision",g),u(this,"_value"),u(this,"_lastValue"),u(this,"_isEqual",y),this._value=this._lastValue=e,this._isEqual=t}get value(){return null==m||m.add(this),this._value}set value(e){this.value!==e&&(this._value=e,this.revision=++g)}};function y(e,t){return e===t}var b=class{constructor(e){u(this,"_cachedValue"),u(this,"_cachedRevision",-1),u(this,"_deps",[]),u(this,"hits",0),u(this,"fn"),this.fn=e}clear(){this._cachedValue=void 0,this._cachedRevision=-1,this._deps=[],this.hits=0}get value(){if(this.revision>this._cachedRevision){let{fn:e}=this,t=/* @__PURE__ */new Set,n=m;m=t,this._cachedValue=e(),m=n,this.hits++,this._deps=Array.from(t),this._cachedRevision=this.revision}return null==m||m.add(this),this._cachedValue}get revision(){return Math.max(...this._deps.map(e=>e.revision),0)}};function w(e){return e instanceof v||console.warn("Not a valid cell! ",e),e.value}var x=(e,t)=>!1;function S(){return function(e,t=y){return new v(null,t)}(0,x)}function _(e,t){!function(e,t){if(!(e instanceof v))throw TypeError("setValue must be passed a tracked store created with `createStorage`.");e.value=e._lastValue=t}(e,t)}var E=e=>{let t=e.collectionTag;null===t&&(t=e.collectionTag=S()),w(t)},T=e=>{let t=e.collectionTag;null!==t&&_(t,null)};Symbol();var O=0,I=Object.getPrototypeOf({}),P=class{constructor(e){this.value=e,u(this,"proxy",new Proxy(this,C)),u(this,"tag",S()),u(this,"tags",{}),u(this,"children",{}),u(this,"collectionTag",null),u(this,"id",O++),this.value=e,this.tag.value=e}},C={get:(e,t)=>(function(){let{value:n}=e,i=Reflect.get(n,t);if("symbol"==typeof t||t in I)return i;if("object"==typeof i&&null!==i){let n=e.children[t];return void 0===n&&(n=e.children[t]=k(i)),n.tag&&w(n.tag),n.proxy}{let n=e.tags[t];return void 0===n&&((n=e.tags[t]=S()).value=i),w(n),i}})(),ownKeys:e=>(E(e),Reflect.ownKeys(e.value)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e.value,t),has:(e,t)=>Reflect.has(e.value,t)},A=class{constructor(e){this.value=e,u(this,"proxy",new Proxy([this],R)),u(this,"tag",S()),u(this,"tags",{}),u(this,"children",{}),u(this,"collectionTag",null),u(this,"id",O++),this.value=e,this.tag.value=e}},R={get:([e],t)=>("length"===t&&E(e),C.get(e,t)),ownKeys:([e])=>C.ownKeys(e),getOwnPropertyDescriptor:([e],t)=>C.getOwnPropertyDescriptor(e,t),has:([e],t)=>C.has(e,t)};function k(e){return Array.isArray(e)?new A(e):new P(e)}var D=(e,t)=>e===t;function N(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;let{length:i}=t;for(let o=0;o<i;o++)if(!e(t[o],n[o]))return!1;return!0}}function M(e,t){let n;let{equalityCheck:i=D,maxSize:o=1,resultEqualityCheck:a}="object"==typeof t?t:{equalityCheck:t},s=N(i),l=0,u=o<=1?{get:e=>n&&s(n.key,e)?n.value:p,put(e,t){n={key:e,value:t}},getEntries:()=>n?[n]:[],clear(){n=void 0}}:function(e,t){let n=[];function i(e){let i=n.findIndex(n=>t(e,n.key));if(i>-1){let e=n[i];return i>0&&(n.splice(i,1),n.unshift(e)),e.value}return p}return{get:i,put:function(t,o){i(t)===p&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,s);function c(){let t=u.get(arguments);if(t===p){if(t=e.apply(null,arguments),l++,a){let e=u.getEntries().find(e=>a(e.value,t));e&&(t=e.value,0!==l&&l--)}u.put(arguments,t)}return t}return c.clearCache=()=>{u.clear(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function L(e){var t;let n=k([]),i=null,o=N(D),a=(h(t=()=>e.apply(null,n.proxy),"the first parameter to `createCache` must be a function"),new b(t));function s(){return o(i,arguments)||(function e(t,n){let{value:i,tags:o,children:a}=t;if(t.value=n,Array.isArray(i)&&Array.isArray(n)&&i.length!==n.length)T(t);else if(i!==n){let e=0,o=0,a=!1;for(let t in i)e++;for(let e in n)if(o++,!(e in i)){a=!0;break}(a||e!==o)&&T(t)}for(let e in o){let a=i[e],s=n[e];a!==s&&(T(t),_(o[e],s)),"object"==typeof s&&null!==s&&delete o[e]}for(let t in a){let i=a[t],o=n[t];i.value!==o&&("object"==typeof o&&null!==o?e(i,o):(function e(t){for(let e in t.tag&&_(t.tag,null),T(t),t.tags)_(t.tags[e],null);for(let n in t.children)e(t.children[n])}(i),delete a[t]))}}(n,arguments),i=arguments),a.value}return s.clearCache=()=>a.clear(),s}var j="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function F(){return{s:0,v:void 0,o:null,p:null}}function B(e,t={}){let n,i=F(),{resultEqualityCheck:o}=t,a=0;function s(){var t,s;let l;let u=i,{length:c}=arguments;for(let e=0;e<c;e++){let t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=u.o;null===e&&(u.o=e=/* @__PURE__ */new WeakMap);let n=e.get(t);void 0===n?(u=F(),e.set(t,u)):u=n}else{let e=u.p;null===e&&(u.p=e=/* @__PURE__ */new Map);let n=e.get(t);void 0===n?(u=F(),e.set(t,u)):u=n}}let d=u;if(1===u.s)l=u.v;else if(l=e.apply(null,arguments),a++,o){let e=null!=(s=null==(t=null==n?void 0:n.deref)?void 0:t.call(n))?s:n;null!=e&&o(e,l)&&(l=e,0!==a&&a--),n="object"==typeof l&&null!==l||"function"==typeof l?new j(l):l}return d.s=1,d.v=l,l}return s.clearCache=()=>{i=F(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function z(e,...t){let n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,i=(...e)=>{let t,i=0,o=0,a={},s=e.pop();"object"==typeof s&&(a=s,s=e.pop()),h(s,`createSelector expects an output function after the inputs, but received: [${typeof s}]`);let{memoize:u,memoizeOptions:c=[],argsMemoize:d=B,argsMemoizeOptions:p=[],devModeChecks:g={}}=l(l({},n),a),m=f(c),v=f(p),y=function(e){let t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){let n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}(e),b=u(function(){return i++,s.apply(null,arguments)},...m);return Object.assign(d(function(){o++;let e=function(e,t){let n=[],{length:i}=e;for(let o=0;o<i;o++)n.push(e[o].apply(null,t));return n}(y,arguments);return t=b.apply(null,e)},...v),{resultFunc:s,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:u,argsMemoize:d})};return Object.assign(i,{withTypes:()=>i}),i}var U=/* @__PURE__ */z(B),W=Object.assign((e,t=U)=>{!function(e,t=`expected an object, instead received ${typeof e}`){if("object"!=typeof e)throw TypeError(t)}(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);let n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,i)=>(e[n[i]]=t,e),{}))},{withTypes:()=>W})}),et("dPHLq",function(e,t){var n=ee("arNzV");e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}}),et("arNzV",function(e,t){var n=ee("6YWRH"),i=ee("2PV0k");e.exports=function e(t,o,a,s,l){var u=-1,c=t.length;for(a||(a=i),l||(l=[]);++u<c;){var d=t[u];o>0&&a(d)?o>1?e(d,o-1,a,s,l):n(l,d):s||(l[l.length]=d)}return l}}),et("6YWRH",function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}}),et("2PV0k",function(e,t){var n=ee("653sB"),i=ee("31t9B"),o=ee("1mNSP"),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}}),et("c5QyQ",function(e,t){q(e.exports,"default",()=>o);var n,i,o=(n=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"single";(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.canvases=t,this.viewType=n,this._groupings=null},i=[{key:"getCanvases",value:function(e){return"book"===this.viewType?this.groupings()[Math.ceil(e/2)]:this.groupings()[e]}},{key:"groupings",value:function(){if(this._groupings)return this._groupings;if("scroll"===this.viewType)return[this.canvases];if("book"!==this.viewType)return this.canvases.map(function(e){return[e]});var e=[];return this.canvases.forEach(function(t,n){if(0===n){e.push([t]);return}n%2!=0?e.push([t]):e[Math.ceil(n/2)].push(t)}),this._groupings=e,e}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("3h31Z",function(e,t){q(e.exports,"default",()=>l);var n,i,o=ee("dPHLq"),a=ee("5nu7e"),s=ee("cyP9O"),l=(n=function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.canvas=t},i=[{key:"id",get:function(){return this.canvas.id}},{key:"getWidth",value:function(){return this.canvas.getWidth()}},{key:"getHeight",value:function(){return this.canvas.getHeight()}},{key:"aspectRatio",get:function(){return this.canvas.getWidth()/this.canvas.getHeight()}},{key:"annotationListUris",get:function(){return /*@__PURE__*/Y(o)(Array(this.canvas.__jsonld.otherContent)).filter(function(e){return e&&("string"==typeof e||"sc:AnnotationList"===e["@type"])}).map(function(e){return"string"==typeof e?e:e["@id"]})}},{key:"canvasAnnotationPages",get:function(){return /*@__PURE__*/Y(o)(Array(this.canvas.__jsonld.annotations)).filter(function(e){return e&&"AnnotationPage"===e.type})}},{key:"imageResource",get:function(){return this.imageResources[0]}},{key:"imageResources",get:function(){var e=this,t=/*@__PURE__*/Y(a)([this.canvas.getImages().map(function(e){return e.getResource()}),this.canvas.getContent().map(function(e){return e.getBody()})]);return /*@__PURE__*/Y(o)(t.map(function(t){return"oa:Choice"===t.getProperty("type")?new(0,s.Canvas)({images:/*@__PURE__*/Y(o)([t.getProperty("default"),t.getProperty("item")]).map(function(e){return{resource:e}})},e.canvas.options).getImages().map(function(e){return e.getResource()}):t}))}},{key:"videoResources",get:function(){var e=/*@__PURE__*/Y(a)([this.canvas.getContent().map(function(e){return e.getBody()})]);return /*@__PURE__*/Y(o)(e.filter(function(e){return"Video"===e.getProperty("type")}))}},{key:"audioResources",get:function(){var e=/*@__PURE__*/Y(a)([this.canvas.getContent().map(function(e){return e.getBody()})]);return /*@__PURE__*/Y(o)(e.filter(function(e){return"Sound"===e.getProperty("type")}))}},{key:"v2VttContent",get:function(){var e=/*@__PURE__*/Y(a)([this.canvas.getContent().map(function(e){return e.getBody()})]);return /*@__PURE__*/Y(o)(e.filter(function(e){return"text/vtt"===e.getProperty("format")}))}},{key:"v3VttContent",get:function(){var e=this,t=/*@__PURE__*/Y(a)(this.canvasAnnotationPages.map(function(t){return new s.AnnotationPage(t,e.canvas.options).getItems().map(function(t){return new s.Annotation(t,e.canvas.options).getBody()})}));return /*@__PURE__*/Y(o)(t.filter(function(e){return"text/vtt"===e.getProperty("format")}))}},{key:"resourceAnnotations",get:function(){return /*@__PURE__*/Y(a)([this.canvas.getImages(),this.canvas.getContent()])}},{key:"resourceAnnotation",value:function(e){return this.resourceAnnotations.find(function(t){return t.getResource().id===e||/*@__PURE__*/Y(o)(Array(t.getBody())).some(function(t){return t.id===e})})}},{key:"onFragment",value:function(e){var t=this.resourceAnnotation(e);if(t){var n=t.getProperty("on"),i=t.getProperty("target"),o=(n||i).match(/xywh=(.*)$/);if(o)return o[1].split(",").map(function(e){return parseInt(e,10)})}}},{key:"iiifImageResources",get:function(){return this.imageResources.filter(function(e){return e&&e.getServices()[0]&&e.getServices()[0].id})}},{key:"imageServiceIds",get:function(){return this.iiifImageResources.map(function(e){return e.getServices()[0].id})}},{key:"service",get:function(){return this.canvas.__jsonld.service}},{key:"getLabel",value:function(){return this.canvas.getLabel().length>0?this.canvas.getLabel().getValue():String(this.canvas.index+1)}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("5nu7e",function(e,t){var n=ee("arNzV"),i=1/0;e.exports=function(e){return(null==e?0:e.length)?n(e,i):[]}}),et("cyP9O",function(e,t){var n;"undefined"!=typeof self?self:e.exports,n=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,(function(t){return e[t]}).bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(9)),i(n(10)),i(n(11)),i(n(12)),i(n(13)),i(n(14)),i(n(15)),i(n(16)),i(n(17)),i(n(31)),i(n(32)),i(n(33)),i(n(34)),i(n(35)),i(n(38)),i(n(39)),i(n(40)),i(n(41)),i(n(42)),i(n(43)),i(n(44)),i(n(45)),i(n(46)),i(n(47)),i(n(48)),i(n(49)),i(n(50)),i(n(3))},function(e,t,n){var i,o,a,s,l,u,c,d,p,h;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.AnnotationMotivation||(t.AnnotationMotivation={})).BOOKMARKING="oa:bookmarking",i.CLASSIFYING="oa:classifying",i.COMMENTING="oa:commenting",i.DESCRIBING="oa:describing",i.EDITING="oa:editing",i.HIGHLIGHTING="oa:highlighting",i.IDENTIFYING="oa:identifying",i.LINKING="oa:linking",i.MODERATING="oa:moderating",i.PAINTING="sc:painting",i.QUESTIONING="oa:questioning",i.REPLYING="oa:replying",i.TAGGING="oa:tagging",i.TRANSCRIBING="oad:transcribing",(o=t.Behavior||(t.Behavior={})).AUTO_ADVANCE="auto-advance",o.CONTINUOUS="continuous",o.FACING_PAGES="facing-pages",o.HIDDEN="hidden",o.INDIVIDUALS="individuals",o.MULTI_PART="multi-part",o.NO_NAV="no-nav",o.NON_PAGED="non-paged",o.PAGED="paged",o.REPEAT="repeat",o.SEQUENCE="sequence",o.THUMBNAIL_NAV="thumbnail-nav",o.TOGETHER="together",o.UNORDERED="unordered",(a=t.ExternalResourceType||(t.ExternalResourceType={})).CANVAS="canvas",a.CHOICE="choice",a.OA_CHOICE="oa:choice",a.CONTENT_AS_TEXT="contentastext",a.DATASET="dataset",a.DOCUMENT="document",a.IMAGE="image",a.MODEL="model",a.MOVING_IMAGE="movingimage",a.PDF="pdf",a.PHYSICAL_OBJECT="physicalobject",a.SOUND="sound",a.TEXT="text",a.TEXTUALBODY="textualbody",a.VIDEO="video",(s=t.IIIFResourceType||(t.IIIFResourceType={})).ANNOTATION="annotation",s.CANVAS="canvas",s.COLLECTION="collection",s.MANIFEST="manifest",s.RANGE="range",s.SEQUENCE="sequence",(l=t.MediaType||(t.MediaType={})).AUDIO_MP4="audio/mp4",l.CORTO="application/corto",l.DICOM="application/dicom",l.DRACO="application/draco",l.EPUB="application/epub+zip",l.GIRDER="image/vnd.kitware.girder",l.GLB="model/gltf-binary",l.GLTF="model/gltf+json",l.IIIF_PRESENTATION_2='application/ld+json;profile="http://iiif.io/api/presentation/2/context.json"',l.IIIF_PRESENTATION_3='application/ld+json;profile="http://iiif.io/api/presentation/3/context.json"',l.JPG="image/jpeg",l.M3U8="application/vnd.apple.mpegurl",l.MP3="audio/mp3",l.MPEG_DASH="application/dash+xml",l.OBJ="text/plain",l.OPF="application/oebps-package+xml",l.PDF="application/pdf",l.PLY="application/ply",l.THREEJS="application/vnd.threejs+json",l.USDZ="model/vnd.usd+zip",l.VIDEO_MP4="video/mp4",l.WAV="audio/wav",l.WEBM="video/webm",(u=t.RenderingFormat||(t.RenderingFormat={})).DOC="application/msword",u.DOCX="application/vnd.openxmlformats-officedocument.wordprocessingml.document",u.PDF="application/pdf",(c=t.ServiceProfile||(t.ServiceProfile={})).IMAGE_0_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/compliance.html#level0",c.IMAGE_0_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/compliance.html#level1",c.IMAGE_0_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/compliance.html#level2",c.IMAGE_0_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/conformance.html#level0",c.IMAGE_0_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/conformance.html#level1",c.IMAGE_0_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/conformance.html#level2",c.IMAGE_1_COMPLIANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0",c.IMAGE_1_COMPLIANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1",c.IMAGE_1_COMPLIANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2",c.IMAGE_1_CONFORMANCE_LEVEL_0="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0",c.IMAGE_1_CONFORMANCE_LEVEL_1="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1",c.IMAGE_1_CONFORMANCE_LEVEL_2="http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2",c.IMAGE_1_LEVEL_0="http://iiif.io/api/image/1/level0.json",c.IMAGE_1_PROFILE_LEVEL_0="http://iiif.io/api/image/1/profiles/level0.json",c.IMAGE_1_LEVEL_1="http://iiif.io/api/image/1/level1.json",c.IMAGE_1_PROFILE_LEVEL_1="http://iiif.io/api/image/1/profiles/level1.json",c.IMAGE_1_LEVEL_2="http://iiif.io/api/image/1/level2.json",c.IMAGE_1_PROFILE_LEVEL_2="http://iiif.io/api/image/1/profiles/level2.json",c.IMAGE_2_LEVEL_0="http://iiif.io/api/image/2/level0.json",c.IMAGE_2_PROFILE_LEVEL_0="http://iiif.io/api/image/2/profiles/level0.json",c.IMAGE_2_LEVEL_1="http://iiif.io/api/image/2/level1.json",c.IMAGE_2_PROFILE_LEVEL_1="http://iiif.io/api/image/2/profiles/level1.json",c.IMAGE_2_LEVEL_2="http://iiif.io/api/image/2/level2.json",c.IMAGE_2_PROFILE_LEVEL_2="http://iiif.io/api/image/2/profiles/level2.json",c.AUTH_0_CLICK_THROUGH="http://iiif.io/api/auth/0/login/clickthrough",c.AUTH_0_LOGIN="http://iiif.io/api/auth/0/login",c.AUTH_0_LOGOUT="http://iiif.io/api/auth/0/logout",c.AUTH_0_RESTRICTED="http://iiif.io/api/auth/0/login/restricted",c.AUTH_0_TOKEN="http://iiif.io/api/auth/0/token",c.AUTH_1_CLICK_THROUGH="http://iiif.io/api/auth/1/clickthrough",c.AUTH_1_EXTERNAL="http://iiif.io/api/auth/1/external",c.AUTH_1_KIOSK="http://iiif.io/api/auth/1/kiosk",c.AUTH_1_LOGIN="http://iiif.io/api/auth/1/login",c.AUTH_1_LOGOUT="http://iiif.io/api/auth/1/logout",c.AUTH_1_PROBE="http://iiif.io/api/auth/1/probe",c.AUTH_1_TOKEN="http://iiif.io/api/auth/1/token",c.SEARCH_0="http://iiif.io/api/search/0/search",c.SEARCH_0_AUTO_COMPLETE="http://iiif.io/api/search/0/autocomplete",c.SEARCH_1="http://iiif.io/api/search/1/search",c.SEARCH_1_AUTO_COMPLETE="http://iiif.io/api/search/1/autocomplete",c.TRACKING_EXTENSIONS="http://universalviewer.io/tracking-extensions-profile",c.UI_EXTENSIONS="http://universalviewer.io/ui-extensions-profile",c.PRINT_EXTENSIONS="http://universalviewer.io/print-extensions-profile",c.SHARE_EXTENSIONS="http://universalviewer.io/share-extensions-profile",c.DOWNLOAD_EXTENSIONS="http://universalviewer.io/download-extensions-profile",c.OTHER_MANIFESTATIONS="http://iiif.io/api/otherManifestations.json",c.IXIF="http://wellcomelibrary.org/ld/ixif/0/alpha.json",(d=t.ServiceType||(t.ServiceType={})).IMAGE_SERVICE_2="ImageService2",d.IMAGE_SERVICE_3="ImageService3",(p=t.ViewingDirection||(t.ViewingDirection={})).BOTTOM_TO_TOP="bottom-to-top",p.LEFT_TO_RIGHT="left-to-right",p.RIGHT_TO_LEFT="right-to-left",p.TOP_TO_BOTTOM="top-to-bottom",(h=t.ViewingHint||(t.ViewingHint={})).CONTINUOUS="continuous",h.INDIVIDUALS="individuals",h.NON_PAGED="non-paged",h.PAGED="paged",h.TOP="top"},function(e,t,n){var i=n(21).Symbol;e.exports=i},function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,a){function s(e){try{u(i.next(e))}catch(e){a(e)}}function l(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,l)}u((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),l=n(36);n(37);var u=function(){function e(){}return e.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},e.getImageQuality=function(e){return e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2||e===s.ServiceProfile.IMAGE_1_LEVEL_1||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1||e===s.ServiceProfile.IMAGE_1_LEVEL_2||e===s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2?"native":"default"},e.getInexactLocale=function(e){return -1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},e.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var i=e[n];if(t===i["@language"])return i["@value"]}var o=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var a=e[n];if(a["@language"]===o)return a["@value"]}return null},e.generateTreeNodeIds=function(t,n){var i;void 0===n&&(n=0),i=t.parentNode?t.parentNode.id+"-"+n:"0",t.id=i;for(var o=0;o<t.nodes.length;o++){var a=t.nodes[o];e.generateTreeNodeIds(a,o)}},e.normaliseType=function(e){return -1!==(e=(e||"").toLowerCase()).indexOf(":")?e.split(":")[1]:e},e.normaliseUrl=function(e){return -1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},e.normalisedUrlsMatch=function(t,n){return e.normaliseUrl(t)===e.normaliseUrl(n)},e.isImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.isImageServiceType=function(e){return null!==e&&e.toLowerCase()===s.ServiceType.IMAGE_SERVICE_2.toLowerCase()||e===s.ServiceType.IMAGE_SERVICE_3.toLowerCase()},e.isLevel0ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_0)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_0))},e.isLevel1ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_1)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_1))},e.isLevel2ImageProfile=function(t){return!!(e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_COMPLIANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_0_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_CONFORMANCE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_1_PROFILE_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_LEVEL_2)||e.normalisedUrlsMatch(t,s.ServiceProfile.IMAGE_2_PROFILE_LEVEL_2))},e.parseManifest=function(e,t){return a.Deserialiser.parse(e,t)},e.checkStatus=function(e){if(e.ok)return e;var t=Error(e.statusText);return t.response=e,Promise.reject(t)},e.loadManifest=function(t){return new Promise(function(n,i){fetch(t).then(e.checkStatus).then(function(e){return e.json()}).then(function(e){n(e)}).catch(function(e){i()})})},e.loadExternalResourcesAuth1=function(t,n,i,o,a,s,l,u){return new Promise(function(c,d){Promise.all(t.map(function(t){return e.loadExternalResourceAuth1(t,n,i,o,a,s,l,u)})).then(function(){c(t)}).catch(function(e){d(e)})})},e.loadExternalResourceAuth1=function(t,n,a,s,u,c,d,p){return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,s(t)];case 1:return(i=o.sent())?[4,t.getData(i)]:[3,6];case 2:return o.sent(),t.status!==l.OK?[3,3]:[2,t];case 3:return[4,e.doAuthChain(t,n,a,u,c,d,p)];case 4:o.sent(),o.label=5;case 5:if(t.status===l.OK||t.status===l.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError();case 6:return[4,t.getData()];case 7:return o.sent(),t.status!==l.MOVED_TEMPORARILY&&t.status!==l.UNAUTHORIZED?[3,9]:[4,e.doAuthChain(t,n,a,u,c,d,p)];case 8:o.sent(),o.label=9;case 9:if(t.status===l.OK||t.status===l.MOVED_TEMPORARILY)return[2,t];throw e.createAuthorizationFailedError()}})})},e.doAuthChain=function(t,n,a,s,u,c,d){return i(this,void 0,void 0,function(){var i,p,h,f,g,m,v,y;return o(this,function(o){switch(o.label){case 0:return t.isAccessControlled()?((i=t.externalService)&&(i.options=t.options),(p=t.kioskService)&&(p.options=t.options),(h=t.clickThroughService)&&(h.options=t.options),(f=t.loginService)&&(f.options=t.options),t.isResponseHandled||t.status!==l.MOVED_TEMPORARILY?[3,2]:[4,c(t)]):[2,t];case 1:case 3:case 6:case 10:case 14:return o.sent(),[2,t];case 2:return g=null,m=null,(g=i)?(m=g,[4,e.attemptResourceWithToken(t,a,g)]):[3,4];case 4:return(g=p)?(m=g,(v=n(g))?[4,s(v)]:[3,7]):[3,7];case 5:case 9:case 13:return o.sent(),[4,e.attemptResourceWithToken(t,a,g)];case 7:return(g=h)?(m=g,[4,u(t,g)]):[3,11];case 8:return(y=o.sent())?[4,s(y)]:[3,11];case 11:return(g=f)?(m=g,[4,u(t,g)]):[3,15];case 12:return(y=o.sent())?[4,s(y)]:[3,15];case 15:return m&&d(t,m),[2]}})})},e.attemptResourceWithToken=function(e,t,n){return i(this,void 0,void 0,function(){var i,a;return o(this,function(o){switch(o.label){case 0:return(i=n.getService(s.ServiceProfile.AUTH_1_TOKEN))?[4,t(e,i)]:[3,3];case 1:return(a=o.sent())&&a.accessToken?[4,e.getData(a)]:[3,3];case 2:return o.sent(),[2,e];case 3:return[2]}})})},e.loadExternalResourcesAuth09=function(t,n,i,o,a,s,l,u,c,d){return new Promise(function(p,h){Promise.all(t.map(function(t){return e.loadExternalResourceAuth09(t,n,i,o,a,s,l,u,c,d)})).then(function(){p(t)}).catch(function(e){h(e)})})},e.loadExternalResourceAuth09=function(t,n,i,o,a,s,u,c,d,p){return new Promise(function(h,f){p&&p.pessimisticAccessControl?t.getData().then(function(){t.isAccessControlled()?t.clickThroughService?(h(i(t)),h(o(t))):a(t).then(function(){s(t,!0).then(function(n){t.getData(n).then(function(){h(d(t))}).catch(function(t){f(e.createInternalServerError(t))})}).catch(function(t){f(e.createInternalServerError(t))})}).catch(function(t){f(e.createInternalServerError(t))}):h(t)}).catch(function(t){f(e.createInternalServerError(t))}):c(t,n).then(function(p){p?t.getData(p).then(function(){t.status===l.OK?h(d(t)):e.authorize(t,n,i,o,a,s,u,c).then(function(){h(d(t))}).catch(function(t){f(e.createAuthorizationFailedError())})}).catch(function(t){f(e.createAuthorizationFailedError())}):e.authorize(t,n,i,o,a,s,u,c).then(function(){h(d(t))}).catch(function(t){f(e.createAuthorizationFailedError())})}).catch(function(t){f(e.createAuthorizationFailedError())})})},e.createError=function(e,t){var n=Error();return n.message=t,n.name=String(e),n},e.createAuthorizationFailedError=function(){return e.createError(a.StatusCode.AUTHORIZATION_FAILED,"Authorization failed")},e.createRestrictedError=function(){return e.createError(a.StatusCode.RESTRICTED,"Restricted")},e.createInternalServerError=function(t){return e.createError(a.StatusCode.INTERNAL_SERVER_ERROR,t)},e.authorize=function(t,n,i,o,a,s,u,c){return new Promise(function(d,p){t.getData().then(function(){t.isAccessControlled()?c(t,n).then(function(c){c?t.getData(c).then(function(){t.status===l.OK?d(t):e.showAuthInteraction(t,n,i,o,a,s,u,d,p)}).catch(function(t){p(e.createInternalServerError(t))}):s(t,!1).then(function(c){c?u(t,c,n).then(function(){t.getData(c).then(function(){t.status===l.OK?d(t):e.showAuthInteraction(t,n,i,o,a,s,u,d,p)}).catch(function(t){p(e.createInternalServerError(t))})}).catch(function(t){p(e.createInternalServerError(t))}):e.showAuthInteraction(t,n,i,o,a,s,u,d,p)})}).catch(function(t){p(e.createInternalServerError(t))}):d(t)})})},e.showAuthInteraction=function(t,n,i,o,a,s,u,c,d){t.status!==l.MOVED_TEMPORARILY||t.isResponseHandled?t.clickThroughService&&!t.isResponseHandled?i(t).then(function(){s(t,!0).then(function(i){u(t,i,n).then(function(){t.getData(i).then(function(){c(t)}).catch(function(t){d(e.createInternalServerError(t))})}).catch(function(t){d(e.createInternalServerError(t))})}).catch(function(t){d(e.createInternalServerError(t))})}):a(t).then(function(){s(t,!0).then(function(i){u(t,i,n).then(function(){t.getData(i).then(function(){c(t)}).catch(function(t){d(e.createInternalServerError(t))})}).catch(function(t){d(e.createInternalServerError(t))})}).catch(function(t){d(e.createInternalServerError(t))})}):c(t)},e.getService=function(e,t){for(var n=this.getServices(e),i=0;i<n.length;i++){var o=n[i];if(o.getProfile()===t)return o}return null},e.getResourceById=function(t,n){return e.traverseAndFind(t.__jsonld,"@id",n)},e.traverseAndFind=function(t,n,i){if(t.hasOwnProperty(n)&&t[n]===i)return t;for(var o=0;o<Object.keys(t).length;o++)if("object"==typeof t[Object.keys(t)[o]]){var a=e.traverseAndFind(t[Object.keys(t)[o]],n,i);if(null!=a)return a}},e.getServices=function(t,n){var i=void 0===n?{}:n,o=i.onlyService,s=i.onlyServices,l=i.skipParentResources,u=[];!(void 0!==l&&l)&&t&&t.options&&t.options.resource&&t.options.resource!==t&&u.push.apply(u,e.getServices(t.options.resource,{onlyServices:!0}));var c=void 0!==s&&s?[]:(t.__jsonld||t).service||[];if(Array.isArray(c)||(c=[c]),void 0!==o&&o||c.push.apply(c,(t.__jsonld||t).services||[]),0===c.length)return u;for(var d=0;d<c.length;d++){var p=c[d];if("string"==typeof p){var h=this.getResourceById(t.options.resource,p);h&&u.push(new a.Service(h.__jsonld||h,t.options))}else u.push(new a.Service(p,t.options))}return u},e.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},e}();t.Utils=u},function(e,t,n){var i=n(19),o=n(20);e.exports=function e(t,n,a,s,l){var u=-1,c=t.length;for(a||(a=o),l||(l=[]);++u<c;){var d=t[u];n>0&&a(d)?n>1?e(d,n-1,a,s,l):i(l,d):s||(l[l.length]=d)}return l}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){n.r(t),t.default=function(e,t){return t=t||{},new Promise(function(n,i){var o=new XMLHttpRequest,a=[],s=[],l={},u=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:u,headers:{keys:function(){return a},entries:function(){return s},get:function(e){return l[e.toLowerCase()]},has:function(e){return e.toLowerCase()in l}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){a.push(t=t.toLowerCase()),s.push([t,n]),l[t]=l[t]?l[t]+","+n:n}),n(u())},o.onerror=i,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)})}},function(e,t,n){e.exports=n(8)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(0));var i=n(3);t.loadManifest=function(e){return i.Utils.loadManifest(e)},t.parseManifest=function(e,t){return i.Utils.parseManifest(e,t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();t.JSONLDResource=i},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),l=function(e){function t(t,n){var i=e.call(this,t)||this;return i.options=n,i}return o(t,e),t.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){var e=this.getProperty("label");return e?a.PropertyValue.parse(e,this.options.locale):new a.PropertyValue([],this.options.locale)},t.prototype.getDefaultLabel=function(){return this.getLabel().getValue(this.options.locale)},t.prototype.getMetadata=function(){var e=this.getProperty("metadata"),t=[];if(!e)return t;for(var n=0;n<e.length;n++){var i=e[n],o=new a.LabelValuePair(this.options.locale);o.parse(i),t.push(o)}return t},t.prototype.getRendering=function(e){for(var t=this.getRenderings(),n=0;n<t.length;n++){var i=t[n];if(i.getFormat()===e)return i}return null},t.prototype.getRenderings=function(){var e,t=[];if(!(e=this.__jsonld?this.__jsonld.rendering:this.rendering))return t;Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];t.push(new a.Rendering(i,this.options))}return t},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");return t&&(e=new a.LabelValuePair(this.options.locale)).parse(t),e},t.prototype.getService=function(e){return a.Utils.getService(this,e)},t.prototype.getServices=function(){return a.Utils.getServices(this)},t.prototype.getThumbnail=function(){var e=this.getProperty("thumbnail");return Array.isArray(e)&&(e=e[0]),e?new a.Thumbnail(e,this.options):null},t.prototype.isAnnotation=function(){return this.getIIIFResourceType()===s.IIIFResourceType.ANNOTATION},t.prototype.isCanvas=function(){return this.getIIIFResourceType()===s.IIIFResourceType.CANVAS},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.isRange=function(){return this.getIIIFResourceType()===s.IIIFResourceType.RANGE},t.prototype.isSequence=function(){return this.getIIIFResourceType()===s.IIIFResourceType.SEQUENCE},t}(a.JSONLDResource);t.ManifestResource=l},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?e.toLowerCase():null},t.prototype.getResources=function(){var e=[];if(!this.__jsonld.resources)return e;for(var t=0;t<this.__jsonld.resources.length;t++){var n=this.__jsonld.resources[t],i=new a.Annotation(n,this.options);e.push(i)}return e},t.prototype.getType=function(){var e=this.getProperty("type");return e?a.Utils.normaliseType(e):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},t.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},t}(a.ManifestResource);t.Resource=s},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.index=-1,i.isLoaded=!1,i.options=Object.assign({defaultLabel:"-",locale:"en-GB",resource:i,pessimisticAccessControl:!1},n),i}return o(t,e),t.prototype.getAttribution=function(){var e=this.getProperty("attribution");return e?a.PropertyValue.parse(e,this.options.locale):new a.PropertyValue([],this.options.locale)},t.prototype.getDescription=function(){var e=this.getProperty("description");return e?a.PropertyValue.parse(e,this.options.locale):new a.PropertyValue([],this.options.locale)},t.prototype.getHomepage=function(){var e=this.getProperty("homepage");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLogo=function(){var e=this.getProperty("logo");if(!e){var t=this.getProperty("provider");if(!t)return null;var n=t.find(function(e){return void 0!==e.logo});e=void 0===n.logo?null:n.logo}return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getLicense=function(){return a.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},t.prototype.getRights=function(){var e=this.getProperty("rights");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},t.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},t.prototype.getRelated=function(){return this.getProperty("related")},t.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},t.prototype.getTrackingLabel=function(){var e=this.getService(s.ServiceProfile.TRACKING_EXTENSIONS);return e?e.getProperty("trackingLabel"):""},t.prototype.getDefaultTree=function(){return this.defaultTree=new a.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},t.prototype.getRequiredStatement=function(){var e=null,t=this.getProperty("requiredStatement");if(t)(e=new a.LabelValuePair(this.options.locale)).parse(t);else{var n=this.getAttribution();n&&((e=new a.LabelValuePair(this.options.locale)).value=n)}return e},t.prototype.isCollection=function(){return this.getIIIFResourceType()===s.IIIFResourceType.COLLECTION},t.prototype.isManifest=function(){return this.getIIIFResourceType()===s.IIIFResourceType.MANIFEST},t.prototype.load=function(){var e=this;return new Promise(function(t){if(e.isLoaded)t(e);else{var n=e.options;n.navDate=e.getNavDate();var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),a.Utils.loadManifest(i).then(function(i){e.parentLabel=e.getLabel().getValue(n.locale);var o=a.Deserialiser.parse(i,n);(e=Object.assign(e,o)).index=n.index,t(e)})}})},t}(a.ManifestResource);t.IIIFResource=l},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getBody=function(){var e=[],t=this.getProperty("body");if(t){if(Array.isArray(t))for(var n=0;n<t.length;n++)if((s=t[n]).items)for(var i=0;i<s.items.length;i++){var o=s.items[i];e.push(new a.AnnotationBody(o,this.options))}else e.push(new a.AnnotationBody(s,this.options));else if(t.items)for(n=0;n<t.items.length;n++){var s=t.items[n];e.push(new a.AnnotationBody(s,this.options))}else e.push(new a.AnnotationBody(t,this.options))}return e},t.prototype.getMotivation=function(){return this.getProperty("motivation")||null},t.prototype.getOn=function(){return this.getProperty("on")},t.prototype.getTarget=function(){return this.getProperty("target")},t.prototype.getResource=function(){return new a.Resource(this.getProperty("resource"),this.options)},t}(a.ManifestResource);t.Annotation=s},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getFormat=function(){var e=this.getProperty("format");return e?a.Utils.getMediaType(e):null},t.prototype.getType=function(){return this.getProperty("type")?a.Utils.normaliseType(this.getProperty("type")):null},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t}(a.ManifestResource);t.AnnotationBody=s},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(t,n,i){var o=e.call(this,n)||this;return o.label=t,o.options=i,o}return o(t,e),t.prototype.getIIIFResourceType=function(){return a.Utils.normaliseType(this.getProperty("type"))},t.prototype.getLabel=function(){return this.label},t.prototype.getResources=function(){var e=this;return this.getProperty("resources").map(function(t){return new a.Annotation(t,e.options)})},t.prototype.load=function(){var e=this;return new Promise(function(t,n){if(e.isLoaded)t(e);else{var i=e.__jsonld.id;i||(i=e.__jsonld["@id"]),a.Utils.loadManifest(i).then(function(n){e.__jsonld=n,e.context=e.getProperty("context"),e.id=e.getProperty("id"),e.isLoaded=!0,t(e)}).catch(n)}})},t}(a.JSONLDResource);t.AnnotationList=s},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(n(0).ManifestResource);t.AnnotationPage=a},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),u=a(n(18)),c=a(n(30)),d=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getCanonicalImageUri=function(e){var t,n=null,i="default",o=e;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])n=this.externalResource.data["@id"],o||(o=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var a=void 0;if((a=this.getImages())&&a.length){var s=a[0].getResource(),u=s.getServices();if(o||(o=s.getWidth()),c=u?u.find(function(e){return l.Utils.isImageProfile(e.getProfile())||l.Utils.isImageServiceType(e.getIIIFResourceType())}):null)n=c.id,i=l.Utils.getImageQuality(c.getProfile());else if(o===s.getWidth())return s.id}if((a=this.getContent())&&a.length){var c,d=a[0].getBody()[0];if(u=d.getServices(),o||(o=d.getWidth()),c=u?u.find(function(e){return l.Utils.isImageServiceType(e.getIIIFResourceType())}):null)n=c.id,i=l.Utils.getImageQuality(c.getProfile());else if(o===d.getWidth())return d.id}if(!n){var p=this.getProperty("thumbnail");if(p){if("string"==typeof p)return p;if(p["@id"])return p["@id"];if(p.length)return p[0].id}}}return t=o+",",n&&n.endsWith("/")&&(n=n.substr(0,n.length-1)),[n,"full",t,0,i+".jpg"].join("/")},t.prototype.getMaxDimensions=function(){var e,t=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&Array.isArray(e=this.externalResource.data.profile)&&(e=e.filter(function(e){return e.maxWidth})[0])&&(t=new l.Size(e.maxWidth,e.maxHeight?e.maxHeight:e.maxWidth)),t},t.prototype.getContent=function(){var e=[],t=this.__jsonld.items||this.__jsonld.content;if(!t)return e;var n=null;if(t.length&&(n=new l.AnnotationPage(t[0],this.options)),!n)return e;for(var i=n.getItems(),o=0;o<i.length;o++){var a=i[o],s=new l.Annotation(a,this.options);e.push(s)}return e},t.prototype.getDuration=function(){return this.getProperty("duration")},t.prototype.getImages=function(){var e=[];if(!this.__jsonld.images)return e;for(var t=0;t<this.__jsonld.images.length;t++){var n=this.__jsonld.images[t],i=new l.Annotation(n,this.options);e.push(i)}return e},t.prototype.getIndex=function(){return this.getProperty("index")},t.prototype.getOtherContent=function(){var e=this;return Promise.all((Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")]).filter(function(e){var t,n;return e&&(t=e["@type"],n="sc:AnnotationList","string"==typeof t&&"string"==typeof n&&t.toLowerCase()==t.toLowerCase())}).map(function(t,n){return new l.AnnotationList(t.label||"Annotation list "+n,t,e.options)}).map(function(e){return e.load()}))},t.prototype.getWidth=function(){return this.getProperty("width")},t.prototype.getHeight=function(){return this.getProperty("height")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},Object.defineProperty(t.prototype,"imageResources",{get:function(){var e=this,n=c.default([this.getImages().map(function(e){return e.getResource()}),this.getContent().map(function(e){return e.getBody()})]);return u.default(n.map(function(n){switch(n.getProperty("type").toLowerCase()){case s.ExternalResourceType.CHOICE:case s.ExternalResourceType.OA_CHOICE:return new t({images:u.default([n.getProperty("default"),n.getProperty("item")]).map(function(e){return{resource:e}})},e.options).getImages().map(function(e){return e.getResource()});default:return n}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resourceAnnotations",{get:function(){return c.default([this.getImages(),this.getContent()])},enumerable:!0,configurable:!0}),t.prototype.resourceAnnotation=function(e){return this.resourceAnnotations.find(function(t){return t.getResource().id===e||u.default(Array(t.getBody())).some(function(t){return t.id===e})})},t.prototype.onFragment=function(e){var t=this.resourceAnnotation(e);if(t){var n=t.getProperty("on"),i=t.getProperty("target");if(n&&i){var o=(n||i).match(/xywh=(.*)$/);if(o)return o[1].split(",").map(function(e){return parseInt(e,10)})}}},Object.defineProperty(t.prototype,"iiifImageResources",{get:function(){return this.imageResources.filter(function(e){return e&&e.getServices()[0]&&e.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageServiceIds",{get:function(){return this.iiifImageResources.map(function(e){return e.getServices()[0].id})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{get:function(){return this.getWidth()/this.getHeight()},enumerable:!0,configurable:!0}),t}(l.Resource);t.Canvas=d},function(e,t,n){var i=n(4);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}},function(e,t,n){var i=n(2),o=n(24),a=n(29),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(s&&e&&e[s])}},function(e,t,n){var i=n(22),o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();e.exports=a},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(23))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(25),o=n(5),a=Object.prototype,s=a.hasOwnProperty,l=a.propertyIsEnumerable,u=i(function(){return arguments}())?i:function(e){return o(e)&&s.call(e,"callee")&&!l.call(e,"callee")};e.exports=u},function(e,t,n){var i=n(26),o=n(5);e.exports=function(e){return o(e)&&"[object Arguments]"==i(e)}},function(e,t,n){var i=n(2),o=n(27),a=n(28),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):a(e)}},function(e,t,n){var i=n(2),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,l=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var i=!0}catch(e){}var o=s.call(e);return i&&(t?e[l]=n:delete e[l]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var i=n(4);e.exports=function(e){return(null==e?0:e.length)?i(e,1/0):[]}},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._collections=null,i._manifests=null,t.__collection=i,i}return o(t,e),t.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(e){return e.isCollection()})},t.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(e){return e.isManifest()})},t.prototype.getCollectionByIndex=function(e){for(var t,n=this.getCollections(),i=0;i<n.length;i++){var o=n[i];o.index===e&&(t=o)}if(t)return t.options.index=e,t.load();throw Error("Collection index not found")},t.prototype.getManifestByIndex=function(e){for(var t,n=this.getManifests(),i=0;i<n.length;i++){var o=n[i];o.index===e&&(t=o)}if(t)return t.options.index=e,t.load();throw Error("Manifest index not found")},t.prototype.getTotalCollections=function(){return this.getCollections().length},t.prototype.getTotalManifests=function(){return this.getManifests().length},t.prototype.getTotalItems=function(){return this.items.length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):a.ViewingDirection.LEFT_TO_RIGHT},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getDefaultTree=function(){return e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),this._parseManifests(this),this._parseCollections(this),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._parseManifests=function(e){if(e.getManifests()&&e.getManifests().length)for(var t=0;t<e.getManifests().length;t++){var n=e.getManifests()[t],i=n.getDefaultTree();i.label=n.parentLabel||n.getLabel().getValue(this.options.locale)||"manifest "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),e.defaultTree.addNode(i)}},t.prototype._parseCollections=function(e){if(e.getCollections()&&e.getCollections().length)for(var t=0;t<e.getCollections().length;t++){var n=e.getCollections()[t],i=n.getDefaultTree();i.label=n.parentLabel||n.getLabel().getValue(this.options.locale)||"collection "+(t+1),i.navDate=n.getNavDate(),i.data.id=n.id,i.data.type=s.Utils.normaliseType(s.TreeNodeType.COLLECTION),e.defaultTree.addNode(i)}},t}(s.IIIFResource);t.Collection=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();t.Duration=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(e){this.defaultLocale=e}return e.prototype.parse=function(e){this.resource=e,this.label=i.PropertyValue.parse(this.resource.label,this.defaultLocale),this.value=i.PropertyValue.parse(this.resource.value,this.defaultLocale)},e.prototype.getLabel=function(e){return null===this.label?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.label.getValue(e||this.defaultLocale))},e.prototype.setLabel=function(e){null===this.label&&(this.label=new i.PropertyValue([])),this.label.setValue(e,this.defaultLocale)},e.prototype.getValue=function(e,t){return void 0===t&&(t="<br/>"),null===this.value?null:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValue(e||this.defaultLocale,t))},e.prototype.getValues=function(e){return null===this.value?[]:(Array.isArray(e)&&!e.length&&(e=void 0),this.value.getValues(e||this.defaultLocale))},e.prototype.setValue=function(e){null===this.value&&(this.value=new i.PropertyValue([])),this.value.setValue(e,this.defaultLocale)},e}();t.LabelValuePair=o},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.getValue=function(e,t){return e.getValue(t,"<br/>")},t.getValues=function(e,t){return e.getValues(t)},t}(Array);t.LanguageMap=a},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,o++)i[o]=a[s];return i};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=function(){function e(e,t,n){void 0===n&&(n="none"),Array.isArray(e)&&1===e.length?this._value=e[0]:this._value=e,"none"!==t&&"@none"!==t||(t=void 0),this._locale=t,this._defaultLocale=n}return e.parseV2Value=function(t,n){return"string"==typeof t?new e(t,void 0,n):t["@value"]?new e(t["@value"],t["@language"],n):null},Object.defineProperty(e.prototype,"value",{get:function(){return Array.isArray(this._value)?this._value.join("<br/>"):this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return void 0===this._locale?this._defaultLocale:this._locale},enumerable:!0,configurable:!0}),e.prototype.addValue=function(e){Array.isArray(this._value)||(this._value=[this._value]),Array.isArray(e)?this._value=this._value.concat(e):this._value.push(e)},e}();t.LocalizedValue=l;var u=function(e){function t(n,i){void 0===n&&(n=[]);var o=e.apply(this,n)||this;return o.__proto__=t.prototype,o._defaultLocale=i,o}return o(t,e),t.parse=function(e,n){if(!e)return new t([],n);if(Array.isArray(e)){var i;return new t(Object.values((i=e.map(function(e){return l.parseV2Value(e,n)}).filter(function(e){return null!==e})).reduce(function(e,t){var n=t._locale;return n||(n="none"),e[n]?e[n].addValue(t._value):e[n]=t,e},{})),n)}return"string"==typeof e?new t([new l(e,void 0,n)],n):e["@language"]||e["@value"]?new t(null!==(i=l.parseV2Value(e))?[i]:[],n):new t(Object.keys(e).map(function(t){var i=e[t];if(!Array.isArray(i))throw Error("A IIIF v3 localized property value must have an array as the value for a given language.");return new l(i,t,n)}),n)},t.prototype.getSuitableLocale=function(e){for(var t=a(this).map(function(e){return e._locale}).filter(function(e){return void 0!==e}),n=function(e){var n=t.find(function(t){return t===e});if(n)return{value:n}},i=0;i<e.length;i++){var o=n(e[i]);if("object"==typeof o)return o.value}for(var l=function(e){var n=t.find(function(t){return s.Utils.getInexactLocale(t)===s.Utils.getInexactLocale(e)});if(n)return{value:n}},u=0;u<e.length;u++){var c=l(e[u]);if("object"==typeof c)return c.value}},t.prototype.setValue=function(e,t){var n=void 0;if(t){var i=this.getSuitableLocale([t]);i&&(n=this.find(function(e){return e._locale===i}))}else n=this.find(function(e){return void 0===e._locale});n?n._value=e:this.push(new l(e,t,this._defaultLocale))},t.prototype.getValue=function(e,t){var n=this.getValues(e);return 0===n.length?null:t?n.join(t):n[0]},t.prototype.getValues=function(e){if(!this.length)return[];if(t=e?Array.isArray(e)?e:[e]:[],1===this.length&&void 0===this[0]._locale){var t,n=this[0]._value;return Array.isArray(n)?n:[n]}var i=this.getSuitableLocale(t);if(i)return Array.isArray(n=this.find(function(e){return e._locale===i})._value)?n:[n];if(!this.find(function(e){return void 0===e._locale}))return Array.isArray(n=this[0]._value)?n:[n];var o=this.find(function(e){return void 0===e._locale});return o?Array.isArray(o._value)?o._value:[o._value]:[]},t}(Array);t.PropertyValue=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CONTINUE=100,t.SWITCHING_PROTOCOLS=101,t.PROCESSING=102,t.OK=200,t.CREATED=201,t.ACCEPTED=202,t.NON_AUTHORITATIVE_INFORMATION=203,t.NO_CONTENT=204,t.RESET_CONTENT=205,t.PARTIAL_CONTENT=206,t.MULTI_STATUS=207,t.MULTIPLE_CHOICES=300,t.MOVED_PERMANENTLY=301,t.MOVED_TEMPORARILY=302,t.SEE_OTHER=303,t.NOT_MODIFIED=304,t.USE_PROXY=305,t.TEMPORARY_REDIRECT=307,t.BAD_REQUEST=400,t.UNAUTHORIZED=401,t.PAYMENT_REQUIRED=402,t.FORBIDDEN=403,t.NOT_FOUND=404,t.METHOD_NOT_ALLOWED=405,t.NOT_ACCEPTABLE=406,t.PROXY_AUTHENTICATION_REQUIRED=407,t.REQUEST_TIME_OUT=408,t.CONFLICT=409,t.GONE=410,t.LENGTH_REQUIRED=411,t.PRECONDITION_FAILED=412,t.REQUEST_ENTITY_TOO_LARGE=413,t.REQUEST_URI_TOO_LARGE=414,t.UNSUPPORTED_MEDIA_TYPE=415,t.REQUESTED_RANGE_NOT_SATISFIABLE=416,t.EXPECTATION_FAILED=417,t.IM_A_TEAPOT=418,t.UNPROCESSABLE_ENTITY=422,t.LOCKED=423,t.FAILED_DEPENDENCY=424,t.UNORDERED_COLLECTION=425,t.UPGRADE_REQUIRED=426,t.PRECONDITION_REQUIRED=428,t.TOO_MANY_REQUESTS=429,t.REQUEST_HEADER_FIELDS_TOO_LARGE=431,t.INTERNAL_SERVER_ERROR=500,t.NOT_IMPLEMENTED=501,t.BAD_GATEWAY=502,t.SERVICE_UNAVAILABLE=503,t.GATEWAY_TIME_OUT=504,t.HTTP_VERSION_NOT_SUPPORTED=505,t.VARIANT_ALSO_NEGOTIATES=506,t.INSUFFICIENT_STORAGE=507,t.BANDWIDTH_LIMIT_EXCEEDED=509,t.NOT_EXTENDED=510,t.NETWORK_AUTHENTICATION_REQUIRED=511},function(e,t,n){e.exports=window.fetch||(window.fetch=n(6).default||n(6))},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i.index=0,i._allRanges=null,i.items=[],i._topRanges=[],i.__jsonld.structures&&i.__jsonld.structures.length)for(var o=i._getTopRanges(),a=0;a<o.length;a++){var s=o[a];i._parseRanges(s,String(a))}return i}return o(t,e),t.prototype.getPosterCanvas=function(){var e=this.getProperty("posterCanvas");return e&&(e=new s.Canvas(e,this.options)),e},t.prototype.getAccompanyingCanvas=function(){var e=this.getProperty("accompanyingCanvas");return e&&(e=new s.Canvas(e,this.options)),e},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getDefaultTree=function(){if(e.prototype.getDefaultTree.call(this),this.defaultTree.data.type=s.Utils.normaliseType(s.TreeNodeType.MANIFEST),!this.isLoaded)return this.defaultTree;var t=this.getTopRanges();return t.length&&t[0].getTree(this.defaultTree),s.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},t.prototype._getTopRanges=function(){var e=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];n.viewingHint===a.ViewingHint.TOP&&e.push(n)}if(!e.length){var i={};i.ranges=this.__jsonld.structures,e.push(i)}}return e},t.prototype.getTopRanges=function(){return this._topRanges},t.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},t.prototype._parseRanges=function(e,t,n){var i,o=null;if("string"==typeof e&&(o=e,e=this._getRangeById(o)),e){(i=new s.Range(e,this.options)).parentRange=n,i.path=t,n?n.items.push(i):this._topRanges.push(i);var a=e.items||e.members;if(a)for(var l=0;l<a.length;l++){var u=a[l];if(u["@type"]&&"sc:range"===u["@type"].toLowerCase()||u.type&&"range"===u.type.toLowerCase())this._parseRanges(u,t+"/"+l,i);else if(u["@type"]&&"sc:canvas"===u["@type"].toLowerCase()||u.type&&"canvas"===u.type.toLowerCase()){i.canvases||(i.canvases=[]);var c=u.id||u["@id"];i.canvases.push(c)}}else if(e.ranges)for(l=0;l<e.ranges.length;l++)this._parseRanges(e.ranges[l],t+"/"+l,i)}else console.warn("Range:",o,"does not exist")},t.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=this,n=0;n<e.length;n++)(function(n){var i=e[n];i.id&&t._allRanges.push(i);var o=function(e,t){e.add(t);var n=t.getRanges();return n.length?n.reduce(o,e):e},a=Array.from(i.getRanges().reduce(o,new Set));t._allRanges=t._allRanges.concat(a)})(n);return this._allRanges},t.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}return null},t.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var i=t[n];if(i.path===e)return i}return null},t.prototype.getSequences=function(){if(this.items.length)return this.items;var e=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(e)for(var t=0;t<e.length;t++){var n=e[t],i=new s.Sequence(n,this.options);this.items.push(i)}else this.__jsonld.items&&(i=new s.Sequence(this.__jsonld.items,this.options),this.items.push(i));return this.items},t.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},t.prototype.getTotalSequences=function(){return this.getSequences().length},t.prototype.getManifestType=function(){var e=this.getService(a.ServiceProfile.UI_EXTENSIONS);return e?e.getProperty("manifestType"):s.ManifestType.EMPTY},t.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();if(e)return e===a.ViewingHint.PAGED;var t=this.getBehavior();return!!t&&t===a.Behavior.PAGED},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t}(s.IIIFResource);t.Manifest=l},function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.ManifestType||(t.ManifestType={})).EMPTY="",i.MANUSCRIPT="manuscript",i.MONOGRAPH="monograph"},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._ranges=null,i.canvases=null,i.items=[],i}return o(t,e),t.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},t.prototype.getDuration=function(){if(this.canvases&&this.canvases.length){for(var e=[],t=[],n=0,i=this.canvases;n<i.length;n++)if(h=i[n]){var o=h.match(/(.*)#t=([0-9.]+),?([0-9.]+)?/)||[void 0,h],s=o[1],l=o[2],u=o[3];s&&(e.push(parseFloat(l)),t.push(parseFloat(u)))}if(e.length&&t.length)return new a.Duration(Math.min.apply(Math,e),Math.max.apply(Math,t))}else{e=[],t=[];for(var c=0,d=y=this.getRanges();c<d.length;c++)(v=d[c].getDuration())&&(e.push(v.start),t.push(v.end));if(e.length&&t.length)return new a.Duration(Math.min.apply(Math,e),Math.max.apply(Math,t))}if(this.canvases&&this.canvases.length)for(var p=0;p<this.canvases.length;p++){var h=this.canvases[p],f=a.Utils.getTemporalComponent(h);f&&f.length>1&&(0===p&&(g=Number(f[0])),p===this.canvases.length-1&&(m=Number(f[1])))}else{var g,m,v,y=this.getRanges();for(p=0;p<y.length;p++)(v=y[p].getDuration())&&(0===p&&(g=v.start),p===y.length-1&&(m=v.end))}if(void 0!==g&&void 0!==m)return new a.Duration(g,m)},t.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(e){return e.isRange()})},t.prototype.getBehavior=function(){var e=this.getProperty("behavior");return Array.isArray(e)&&(e=e[0]),e||null},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.getTree=function(e){e.data=this,this.treeNode=e;var t=this.getRanges();if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n],o=new a.TreeNode;e.addNode(o),this._parseTreeNode(o,i)}return a.Utils.generateTreeNodeIds(e),e},t.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},t.prototype._parseTreeNode=function(e,t){e.label=t.getLabel().getValue(this.options.locale),e.data=t,e.data.type=a.Utils.normaliseType(a.TreeNodeType.RANGE),t.treeNode=e;var n=t.getRanges();if(n&&n.length)for(var i=0;i<n.length;i++){var o=n[i];if(o.getBehavior()!==s.Behavior.NO_NAV){var l=new a.TreeNode;e.addNode(l),this._parseTreeNode(l,o)}}},t}(a.ManifestResource);t.Range=l},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getFormat=function(){return this.getProperty("format")},t}(n(0).ManifestResource);t.Rendering=a},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.items=[],i._thumbnails=null,i}return o(t,e),t.prototype.getCanvases=function(){if(this.items.length)return this.items;var e,t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var n=0;n<t.length;n++){var i=t[n];(e=new s.Canvas(i,this.options)).index=n,this.items.push(e)}else if(this.__jsonld)for(n=0;n<this.__jsonld.length;n++)i=this.__jsonld[n],(e=new s.Canvas(i,this.options)).index=n,this.items.push(e);return this.items},t.prototype.getCanvasById=function(e){for(var t=0;t<this.getTotalCanvases();t++){var n=this.getCanvasByIndex(t),i=s.Utils.normaliseUrl(n.id);if(s.Utils.normaliseUrl(e)===i)return n}return null},t.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},t.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t;return null},t.prototype.getCanvasIndexByLabel=function(e,t){isNaN(e=e.trim())||(e=parseInt(e,10).toString(),t&&(e+="r"));for(var n,i,o,a=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var l=this.getCanvasByIndex(s);if(l.getLabel().getValue(this.options.locale)===e||(n=a.exec(e))&&(i=n[1],(o=n[2])&&RegExp("^"+i+"\\D+"+o+"$").test(l.getLabel().toString())))return s}return -1},t.prototype.getLastCanvasLabel=function(e){for(var t=this.getTotalCanvases()-1;t>=0;t--){var n=this.getCanvasByIndex(t).getLabel().getValue(this.options.locale);if(e){if(/^[a-zA-Z0-9]*$/.test(n))return n}else if(n)return n}return this.options.defaultLabel},t.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},t.prototype.getNextPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),o=this.getViewingDirection();n=o&&o===a.ViewingDirection.RIGHT_TO_LEFT?i[0]+1:i[i.length-1]+1}else n=e+1;return n>this.getLastPageIndex()?-1:n},t.prototype.getPagedIndices=function(e,t){var n=[];if(t){n=this.isFirstCanvas(e)||this.isLastCanvas(e)?[e]:e%2?[e,e+1]:[e-1,e];var i=this.getViewingDirection();i&&i===a.ViewingDirection.RIGHT_TO_LEFT&&(n=n.reverse())}else n.push(e);return n},t.prototype.getPrevPageIndex=function(e,t){var n;if(t){var i=this.getPagedIndices(e),o=this.getViewingDirection();n=o&&o===a.ViewingDirection.RIGHT_TO_LEFT?i[i.length-1]-1:i[0]-1}else n=e-1;return n},t.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e){for(var t=0;t<this.getTotalCanvases();t++)if(this.getCanvasByIndex(t).id===e)return t}return 0},t.prototype.getThumbs=function(e,t){for(var n=[],i=this.getTotalCanvases(),o=0;o<i;o++){var a=this.getCanvasByIndex(o),l=new s.Thumb(e,a);n.push(l)}return n},t.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},t.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},t.prototype.getTotalCanvases=function(){return this.getCanvases().length},t.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?this.getProperty("viewingDirection"):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},t.prototype.getViewingHint=function(){return this.getProperty("viewingHint")},t.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},t.prototype.isFirstCanvas=function(e){return 0===e},t.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},t.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},t.prototype.isPagingEnabled=function(){var e=this.getViewingHint();return!!e&&e===a.ViewingHint.PAGED},t.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},t}(s.ManifestResource);t.Sequence=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(){}return e.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},e.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},e.parseCollection=function(e,t){var n=new i.Collection(e,t);return t?(n.index=t.index||0,t.resource&&(n.parentCollection=t.resource.parentCollection)):n.index=0,this.parseCollections(n,t),this.parseManifests(n,t),this.parseItems(n,t),n},e.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter(function(e){return"collection"===e.type.toLowerCase()})),n)for(var i=0;i<n.length;i++){t&&(t.index=i);var o=this.parseCollection(n[i],t);o.index=i,o.parentCollection=e,e.items.push(o)}},e.parseManifest=function(e,t){return new i.Manifest(e,t)},e.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter(function(e){return"manifest"===e.type.toLowerCase()})),n)for(var i=0;i<n.length;i++){var o=this.parseManifest(n[i],t);o.index=i,o.parentCollection=e,e.items.push(o)}},e.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},e.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var i=this,o=0;o<n.length;o++){var a=function(o){t&&(t.index=o);var a=i.parseItem(n[o],t);return a?e.items.filter(function(e){return e.id===a.id})[0]?"continue":(a.index=o,a.parentCollection=e,void e.items.push(a)):{value:void 0}}(o);if("object"==typeof a)return a.value}},e}();t.Deserialiser=o},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getProfile=function(){var e=this.getProperty("profile");return e||(e=this.getProperty("dcterms:conformsTo")),Array.isArray(e)?e[0]:e},t.prototype.getConfirmLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},t.prototype.getDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},t.prototype.getFailureDescription=function(){return a.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},t.prototype.getFailureHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},t.prototype.getHeader=function(){return a.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},t.prototype.getServiceLabel=function(){return a.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},t.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+="info.json"},t}(a.ManifestResource);t.Service=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Size=function(e,t){this.width=e,this.height=t}},function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.StatusCode||(t.StatusCode={}))[i.AUTHORIZATION_FAILED=1]="AUTHORIZATION_FAILED",i[i.FORBIDDEN=2]="FORBIDDEN",i[i.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",i[i.RESTRICTED=4]="RESTRICTED"},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Thumb=function(e,t){this.data=t,this.index=t.index,this.width=e;var n=t.getHeight()/t.getWidth();this.height=n?Math.floor(this.width*n):e,this.uri=t.getCanonicalImageUri(e),this.label=t.getLabel().getValue(),this.viewingHint=t.getViewingHint()}},function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(n(0).Resource);t.Thumbnail=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(){function e(e,t){this.label=e,this.data=t||{},this.nodes=[]}return e.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},e.prototype.isCollection=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.COLLECTION)},e.prototype.isManifest=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.MANIFEST)},e.prototype.isRange=function(){return this.data.type===i.Utils.normaliseType(i.TreeNodeType.RANGE)},e}();t.TreeNode=o},function(e,t,n){var i;Object.defineProperty(t,"__esModule",{value:!0}),(i=t.TreeNodeType||(t.TreeNodeType={})).COLLECTION="collection",i.MANIFEST="manifest",i.RANGE="range"}])},e.exports=n()}),et("5h5fP",function(e,t){q(e.exports,"miradorSlice",()=>i);var n=ee("lkQn4");function i(e){return n.default.state.slice?e[n.default.state.slice]:e}}),et("lkQn4",function(e,t){q(e.exports,"default",()=>l);var n=ee("e7c9a");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={state:{},canvasNavigation:{height:50,width:50},selectedTheme:"light",themes:{dark:{palette:{mode:"dark",primary:{main:"#4db6ac"},secondary:{main:"#4db6ac"},shades:{dark:"#000000",main:"#424242",light:"#616161"}}},light:{palette:{mode:"light"}}},theme:{palette:{mode:"light",primary:{main:"#1967d2"},secondary:{main:"#1967d2"},shades:{dark:"#eeeeee",main:"#ffffff",light:"#f5f5f5"},error:{main:"#b00020"},notification:{main:"#ffa224"},hitCounter:{default:"#bdbdbd"},highlights:{primary:"#ffff00",secondary:"#00BFFF"},section_divider:"rgba(0, 0, 0, 0.25)",annotations:{chipBackground:"#e0e0e0",hidden:{globalAlpha:0},default:{strokeStyle:"#00BFFF",globalAlpha:1},hovered:{strokeStyle:"#BF00FF",globalAlpha:1},selected:{strokeStyle:"#ffff00",globalAlpha:1}},search:{default:{fillStyle:"#00BFFF",globalAlpha:.3},hovered:{fillStyle:"#00FFFF",globalAlpha:.3},selected:{fillStyle:"#ffff00",globalAlpha:.3}}},typography:{body1:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},button:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem",textTransform:"uppercase"},caption:{fontSize:"0.772rem",letterSpacing:"0.033em",lineHeight:"1.6rem"},body1Next:{fontSize:"1rem",letterSpacing:"0em",lineHeight:"1.6em"},body2Next:{fontSize:"0.878rem",letterSpacing:"0.015em",lineHeight:"1.6em"},buttonNext:{fontSize:"0.878rem",letterSpacing:"0.09em",lineHeight:"2.25rem"},captionNext:{fontSize:"0.772rem",letterSpacing:"0.33em",lineHeight:"1.6rem"},overline:{fontSize:"0.678rem",fontWeight:500,letterSpacing:"0.166em",lineHeight:"2em",textTransform:"uppercase"},h1:{fontSize:"2.822rem",letterSpacing:"-0.015em",lineHeight:"1.2em"},h2:{fontSize:"1.575rem",letterSpacing:"0em",lineHeight:"1.33em"},h3:{fontSize:"1.383rem",fontWeight:300,letterSpacing:"0em",lineHeight:"1.33em"},h4:{fontSize:"1.215rem",letterSpacing:"0.007em",lineHeight:"1.45em"},h5:{fontSize:"1.138rem",letterSpacing:"0.005em",lineHeight:"1.55em"},h6:{fontSize:"1.067rem",fontWeight:400,letterSpacing:"0.01em",lineHeight:"1.6em"},subtitle1:{fontSize:"0.937rem",letterSpacing:"0.015em",lineHeight:"1.6em",fontWeight:300},subtitle2:{fontSize:"0.878rem",fontWeight:500,letterSpacing:"0.02em",lineHeight:"1.75em"},useNextVariants:!0},components:{MuiMenuItem:{variants:[{props:{variant:"multiline"},style:{whiteSpace:"normal"}}]},CompanionWindow:{styleOverrides:{closeButton:{order:4},contents:{overflowY:"auto",wordBreak:"break-word"},controls:function(e){var t=e.ownerState;return{alignItems:"center",display:"flex",flexFlow:"row wrap",flexGrow:1,justifyContent:(null==t?void 0:t.position)==="bottom"||(null==t?void 0:t.position)==="far-bottom"?"flex-end":"flex-start",minHeight:48,order:3}},positionButton:{marginLeft:-16,order:-100,width:24},resize:function(e){var t=e.ownerState;return{display:"flex",flexDirection:"column",minHeight:50,minWidth:(null==t?void 0:t.position)==="left"?235:100,position:"relative"}},root:function(e){var t=e.ownerState;return a(a(a({boxShadow:"none",boxSizing:"border-box",display:"flex",flexDirection:"column",minHeight:0},(null==t?void 0:t.position)==="right"&&{borderLeft:"0.5px solid rgba(0, 0, 0, 0.125)"}),(null==t?void 0:t.position)==="left"&&{borderRight:"0.5px solid rgba(0, 0, 0, 0.125)"}),(null==t?void 0:t.position)==="bottom"&&{borderTop:"0.5px solid rgba(0, 0, 0, 0.125)"})},title:function(e){return a(a({},e.theme.typography.subtitle1),{},{alignSelf:"center",flexGrow:1,width:160})},toolbar:function(e){return{alignItems:"flex-start",backgroundColor:e.theme.palette.shades.light,flexWrap:"wrap",justifyContent:"space-between",minHeight:"max-content",paddingInlineStart:"1rem"}}}},CompanionWindowSection:{styleOverrides:{root:{borderBlockEnd:".5px solid rgba(0, 0, 0, 0.25)"}}},IIIFHtmlContent:{styleOverrides:{root:function(e){return{"& a":{color:e.theme.palette.primary.main,textDecoration:"underline"}}}}},IIIFThumbnail:{styleOverrides:{root:function(e){var t=e.ownerState;return a({},(null==t?void 0:t.variant)==="inside"&&{display:"inline-block",height:"inherit",position:"relative"})},label:function(e){var t=e.ownerState;return a(a(a({overflow:"hidden",textOverflow:"ellipsis",lineHeight:"1.5em",wordBreak:"break-word"},(null==t?void 0:t.variant)==="inside"&&{color:"#ffffff",WebkitLineClamp:1,whiteSpace:"nowrap"}),(null==t?void 0:t.variant)==="outside"&&{display:"-webkit-box",maxHeight:"3em",MozBoxOrient:"vertical",WebkitLineClamp:2}),(null==t?void 0:t.variant)==="inside"&&{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",bottom:"5px",boxSizing:"border-box",left:"0px",padding:"4px",position:"absolute",width:"100%"})},image:function(e){var t=e.ownerState;return a({},(null==t?void 0:t.border)&&{border:"1px solid rgba(0, 0, 0, 0.125)"})}}},ThemeIcon:{styleOverrides:{icon:function(e){var t=e.ownerState;return{color:(null==t?void 0:t.value)==="dark"?"#000000":void 0}}}},MuiAccordion:{variants:[{props:{variant:"compact"},style:{"& .MuiAccordionSummary-root":{minHeight:"unset",padding:0},"& .MuiAccordionSummary-content":{margin:0},"& .MuiAccordionDetails-root":{padding:0}}}]},MuiButton:{styleOverrides:{inlineText:{lineHeight:"1.5em",padding:0,textAlign:"inherit",textTransform:"none"},inlineTextSecondary:function(e){return{color:e.theme.palette.secondary.main}}}},MuiButtonBase:{defaultProps:{disableTouchRipple:!0}},MuiDialog:{variants:[{props:{variant:"contained"},style:{position:"absolute","& .MuiBackdrop-root":{position:"absolute"}}}]},MuiFab:{styleOverrides:{root:{transition:"none"}}},MuiLink:{defaultProps:{underline:"always"}},MuiListSubheader:{styleOverrides:{root:{'&[role="presentation"]:focus':{outline:0}}}},MuiTooltip:{styleOverrides:{tooltipPlacementLeft:s({},"@media (min-width:600px)",{margin:"0 !important"}),tooltipPlacementRight:s({},"@media (min-width:600px)",{margin:"0 !important"}),tooltipPlacementTop:s({},"@media (min-width:600px)",{margin:"0 !important"}),tooltipPlacementBottom:s({},"@media (min-width:600px)",{margin:"0 !important"})}},MuiTouchRipple:{styleOverrides:{childPulsate:{animation:"none"},rippleVisible:{animation:"none"}}}}},language:"en",availableLanguages:{ar:"",de:"Deutsch",en:"English",et:"Eesti",fa:"",fr:"Franais",hr:"Hrvatski",ja:"",kr:"",lt:"Lietuvi",nl:"Nederlands","nb-NO":"Norwegian Bokml",pl:"Polski","pt-BR":"Portugus do Brasil",vi:"Ting Vit","zh-CN":"()","zh-TW":"()",it:"Italiano",sr:"",sv:"Svenska",bg:""},annotations:{htmlSanitizationRuleSet:"iiif",filteredMotivations:["oa:commenting","oa:tagging","sc:painting","commenting","tagging"]},createGenerateClassNameOptions:{productionPrefix:"mirador"},requests:{preprocessors:[],postprocessors:[]},translations:{},window:{allowClose:!0,allowFullscreen:!1,allowMaximize:!0,allowTopMenuButton:!0,allowWindowSideBar:!0,authNewWindowCenter:"parent",sideBarPanel:"info",defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,defaultView:"single",forceDrawAnnotations:!1,hideWindowTitle:!1,highlightAllAnnotations:!1,showLocalePicker:!1,sideBarOpen:!1,switchCanvasOnSearch:!0,panels:{info:!0,attribution:!0,canvas:!0,annotations:!0,search:!0,layers:!0},views:[{key:"single",behaviors:["individuals"]},{key:"book",behaviors:["paged"]},{key:"scroll",behaviors:["continuous"]},{key:"gallery"}],elastic:{height:400,width:480}},windows:[],thumbnails:{preferredFormats:["jpg","png","webp","tif"]},thumbnailNavigation:{defaultPosition:"off",displaySettings:!0,height:130,width:100},workspace:{draggingEnabled:!0,allowNewWindows:!0,id:(0,n.default)(),isWorkspaceAddVisible:!1,exposeModeOn:!1,height:5e3,showZoomControls:!1,type:"mosaic",viewportPosition:{x:0,y:0},width:5e3},workspaceControlPanel:{enabled:!0},galleryView:{height:120,width:null},osdConfig:{alwaysBlend:!1,blendTime:.1,preserveImageSizeOnResize:!0,preserveViewport:!0,showNavigationControl:!1},export:{catalog:!0,companionWindows:!0,config:!0,elasticLayout:!0,layers:!0,manifests:{filter:function(e){var t=function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0];return t[1],!n.startsWith("http")}},viewers:!0,windows:!0,workspace:!0},audioOptions:{controls:!0,crossOrigin:"anonymous"},videoOptions:{controls:!0,crossOrigin:"anonymous"},auth:{serviceProfiles:[{profile:"http://iiif.io/api/auth/1/external",external:!0},{profile:"http://iiif.io/api/auth/1/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/1/clickthrough"},{profile:"http://iiif.io/api/auth/1/login"},{profile:"http://iiif.io/api/auth/0/external",external:!0},{profile:"http://iiif.io/api/auth/0/kiosk",kiosk:!0},{profile:"http://iiif.io/api/auth/0/clickthrough"},{profile:"http://iiif.io/api/auth/0/login"}]}}}),et("e7c9a",function(e,t){q(e.exports,"default",()=>a);var n=ee("8Virk"),i=ee("aPzHp"),o=ee("WQL2g"),a=function(e,t,a){if(n.default.randomUUID&&!t&&!e)return(0,n.default).randomUUID();let s=(e=e||{}).random||(e.rng||(0,i.default))();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=s[e];return t}return(0,o.unsafeStringify)(s)}}),et("8Virk",function(e,t){q(e.exports,"default",()=>n);var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}}),et("aPzHp",function(e,t){let n;q(e.exports,"default",()=>o);let i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}}),et("WQL2g",function(e,t){q(e.exports,"unsafeStringify",()=>i),ee("4U8z9");let n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function i(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}}),et("4U8z9",function(e,t){q(e.exports,"default",()=>i);var n=ee("gmh2L"),i=function(e){return"string"==typeof e&&(0,n.default).test(e)}}),et("gmh2L",function(e,t){q(e.exports,"default",()=>n);var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i}),et("cEqnD",function(e,t){q(e.exports,"getWindowManifests",()=>o),q(e.exports,"getWindows",()=>a),q(e.exports,"getWindow",()=>s),q(e.exports,"getViewer",()=>l),q(e.exports,"getWorkspace",()=>u),q(e.exports,"getWindowIds",()=>c),q(e.exports,"getManifests",()=>d),q(e.exports,"getManifest",()=>p),q(e.exports,"getCatalog",()=>h);var n=ee("9Fw2L"),i=ee("5h5fP");function o(e){return Object.values((0,i.miradorSlice)(e).windows).map(function(e){return e.manifestId})}function a(e){return(0,i.miradorSlice)(e).windows||{}}function s(e,t){var n=t.windowId;return a(e)[n]}var l=(0,n.createSelector)([function(e){return(0,i.miradorSlice)(e).viewers},function(e,t){return t.windowId}],function(e,t){return e[t]});function u(e){return(0,i.miradorSlice)(e).workspace}var c=(0,n.createSelector)([u],function(e){return e.windowIds||[]});function d(e){return(0,i.miradorSlice)(e).manifests||{}}function p(e,t){var n=t.manifestId,i=t.windowId,o=d(e);return o&&o[n||i&&(s(e,{windowId:i})||{}).manifestId]}function h(e){return(0,i.miradorSlice)(e).catalog||{}}}),et("8jlY4",function(e,t){q(e.exports,"getSequences",()=>s),q(e.exports,"getSequence",()=>l),q(e.exports,"getCanvasIndex",()=>u),q(e.exports,"getSequenceViewingHint",()=>c),q(e.exports,"getSequenceViewingDirection",()=>d),q(e.exports,"getSequenceBehaviors",()=>p),q(e.exports,"getSequenceTreeStructure",()=>h);var n=ee("9Fw2L"),i=ee("cyP9O"),o=ee("8pjuL"),a=ee("cEqnD"),s=(0,n.createSelector)([o.getManifestoInstance],function(e){if(!e||!e.getTopRanges)return null;var t=e.getTopRanges(),n=t.filter(function(e){return"top"===e.getProperty("viewingHint")}),i=[];return 0===n.length&&1===t.length&&(i=t[0].getRanges().filter(function(e){return"sequence"===e.getBehavior()})),[].concat(e.getSequences(),i)}),l=(0,n.createSelector)([s,a.getWindow,function(e,t){return t.sequenceId}],function(e,t,n){if(!e)return null;if(n||t&&t.sequenceId){var i=e.find(function(e){return e.id===(n||t.sequenceId)});if(i)return i}return e[0]}),u=(0,n.createSelector)([a.getWindow,l],function(e,t){return(t&&e&&e.canvasId&&t.getCanvasById(e.canvasId)||{}).index||0}),c=(0,n.createSelector)([l,o.getManifestoInstance],function(e,t){return t&&(e&&e.getViewingHint()||t.getViewingHint())||null}),d=(0,n.createSelector)([a.getWindow,l,o.getManifestoInstance],function(e,t,n){return e&&e.viewingDirection||t&&t.getViewingDirection()||n&&n.getViewingDirection()||null}),p=(0,n.createSelector)([l,o.getManifestoInstance],function(e,t){if(!t||!e)return[];var n=e&&e.getProperty("behavior");if(n)return Array.isArray(n)?n:[n];var i=t.getProperty("behavior");return i?Array.isArray(i)?i:[i]:[]}),h=(0,n.createSelector)([l,o.getManifestoInstance],function(e,t){return e&&e.getProperty("type")&&e.isRange()?e.getTree(new i.TreeNode("root")):t&&t.getDefaultTree()})}),et("8pjuL",function(e,t){q(e.exports,"getManifestStatus",()=>f),q(e.exports,"getManifestError",()=>g),q(e.exports,"getManifestoInstance",()=>v),q(e.exports,"getManifestLocale",()=>y),q(e.exports,"getManifestProviderName",()=>x),q(e.exports,"getManifestLogo",()=>_),q(e.exports,"getManifestHomepage",()=>E),q(e.exports,"getManifestRenderings",()=>T),q(e.exports,"getManifestSeeAlso",()=>O),q(e.exports,"getManifestRelated",()=>I),q(e.exports,"getRequiredStatement",()=>P),q(e.exports,"getRights",()=>C),q(e.exports,"getManifestThumbnail",()=>A),q(e.exports,"getManifestTitle",()=>R),q(e.exports,"getManifestDescription",()=>k),q(e.exports,"getManifestSummary",()=>D),q(e.exports,"getManifestUrl",()=>N),q(e.exports,"getDestructuredMetadata",()=>M),q(e.exports,"getManifestMetadata",()=>L),q(e.exports,"getMetadataLocales",()=>F),q(e.exports,"getManifestSearchService",()=>B),q(e.exports,"getManifestAutocompleteService",()=>z);var n=ee("9Fw2L"),i=ee("6tzuW"),o=ee("cyP9O"),a=ee("3ZwM5"),s=ee("dPsC3"),l=ee("cOFmZ"),u=ee("cEqnD"),c=ee("8uJ99");function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){if(console.log(">>>",e),e){var n=(0,o.Utils).parseManifest(e,t?{locale:t}:void 0);return"function"!=typeof n.getSequences&&(n.getSequences=function(){return[]}),n}}var h=(0,n.createSelector)([l.getCompanionWindow,c.getConfig],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.locale||t.language}),f=(0,n.createSelector)([u.getManifest],function(e){return e?{missing:!1,manifest:e}:{missing:!0}}),g=(0,n.createSelector)([u.getManifest],function(e){return e&&e.error}),m=(0,i.createCachedSelector)(u.getManifest,h,function(e,t){return e&&p(e.json,t)})(function(e,t){var n=t.companionWindowId;return[t.manifestId,t.windowId,h(e,{companionWindowId:n})].join(" - ")}),v=(0,n.createSelector)(m,function(e,t){return t.json},h,function(e,t,n){return t&&p(t,n)||e}),y=(0,n.createSelector)([v],function(e){return e&&e.options&&e.options.locale&&e.options.locale.replace(/-.*$/,"")});function b(e){return(0,n.createSelector)([v],function(t){return t&&t.getProperty(e)})}var w=(0,n.createSelector)([b("provider")],function(e){return e}),x=(0,n.createSelector)([b("provider"),y],function(e,t){return e&&e[0].label&&(0,o.PropertyValue).parse(e[0].label,t).getValue()}),S=(0,n.createSelector)([w],function(e){var t,n=e&&e[0]&&e[0].logo&&e[0].logo[0];return n?null===(t=(0,a.default)(new o.Resource(n)))||void 0===t?void 0:t.url:null}),_=(0,n.createSelector)([v,S],function(e,t){return t||e&&e.getLogo()}),E=(0,n.createSelector)([b("homepage"),y],function(e,t){return e&&(0,s.default)(e).map(function(e){return{label:(0,o.PropertyValue).parse(e.label,t).getValue(),value:e.id||e["@id"]}})}),T=(0,n.createSelector)([v],function(e){return e&&e.getRenderings().map(function(e){return{label:e.getLabel().getValue(),value:e.id}})}),O=(0,n.createSelector)([b("seeAlso"),y],function(e,t){return e&&(0,s.default)(e).map(function(e){return{format:e.format,label:(0,o.PropertyValue).parse(e.label,t).getValue(),value:e.id||e["@id"]}})}),I=(0,n.createSelector)([b("related"),y],function(e,t){return e&&(0,s.default)(e).map(function(e){return"string"==typeof e?{value:e}:{format:e.format,label:(0,o.PropertyValue).parse(e.label,t).getValue(),value:e.id||e["@id"]}})}),P=(0,n.createSelector)([v],function(e){return e&&(0,s.default)(e.getRequiredStatement()).filter(function(e){return e.getValues().some(function(e){return e})}).map(function(e){return{label:e.label&&e.label.getValue()||null,values:e.getValues()}})}),C=(0,n.createSelector)([b("rights"),b("license"),y],function(e,t,n){return(0,s.default)((0,o.PropertyValue).parse(e||t,n).getValues())});function A(e,t){var n=v(e,t),i=(0,c.getConfig)(e).thumbnails;if(n){var o=(0,a.default)(n,{maxHeight:80,maxWidth:120,preferredFormats:(void 0===i?{}:i).preferredFormats});return o&&o.url}}var R=(0,n.createSelector)([v],function(e){return e&&e.getLabel().getValue()}),k=(0,n.createSelector)([h,v],function(e,t){return t&&t.getDescription().getValue(e)}),D=(0,n.createSelector)([b("summary"),y],function(e,t){return e&&(0,o.PropertyValue).parse(e,t).getValue(t)}),N=(0,n.createSelector)([v],function(e){return e&&e.id});function M(e){return e&&e.getMetadata().map(function(e){return{label:e.getLabel(),values:e.getValues()}})}var L=(0,n.createSelector)([v],function(e){return e&&M(e)});function j(e){var t,n=[];return Array.isArray(e)?n.push.apply(n,function(e){if(Array.isArray(e))return d(e)}(t=e.filter(function(e){return"object"==typeof e&&e["@language"]}).map(function(e){return e["@language"]}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e&&"object"==typeof e&&e["@language"]&&n.push(e["@language"]),n}var F=(0,n.createSelector)([v],function(e){return function(e){if(!e)return[];for(var t=e.getProperty("metadata")||[],n={},i=0;i<t.length;i+=1){var o=t[i];j(o.label).forEach(function(e){n[e]=!0}),j(o.value).forEach(function(e){n[e]=!0})}return Object.keys(n)}(e)}),B=(0,n.createSelector)([v],function(e){return e&&(e.getService("http://iiif.io/api/search/0/search")||e.getService("http://iiif.io/api/search/1/search"))||null}),z=(0,n.createSelector)([B],function(e){var t=e&&(e.getService("http://iiif.io/api/search/0/autocomplete")||e.getService("http://iiif.io/api/search/1/autocomplete"));return t&&t})}),et("6tzuW",function(e,t){e.exports,function(e,t){function n(e){return"string"==typeof e||"number"==typeof e}var i=/*#__PURE__*/function(){function e(){this._cache={}}var t=e.prototype;return t.set=function(e,t){this._cache[e]=t},t.get=function(e){return this._cache[e]},t.remove=function(e){delete this._cache[e]},t.clear=function(){this._cache={}},t.isValidCacheKey=function(e){return n(e)},e}(),o=function(){return!0};function a(){for(var e,n,a,s,l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=(a=(n=[].concat(u))[n.length-1],s=void 0,"function"==typeof a||(s=n.pop()),e=n.pop(),{inputSelectors:Array.isArray(n[0])?n[0]:[].concat(n),resultFunc:e,createSelectorOptions:s}),p=d.inputSelectors,h=d.resultFunc,f=d.createSelectorOptions;return function(e){var n="function"==typeof e?{keySelector:e}:Object.assign({},e),a=0,s=[p,function(){return a++,h.apply(void 0,arguments)}];f&&s.push(f);var l=n.cacheObject||new i,u=n.selectorCreator||t.createSelector,c=l.isValidCacheKey||o;n.keySelectorCreator&&(n.keySelector=n.keySelectorCreator({keySelector:n.keySelector,inputSelectors:p,resultFunc:h}));var d=function(){var e=n.keySelector.apply(n,arguments);if(c(e)){var t=l.get(e);return void 0===t&&(t=u.apply(void 0,s),l.set(e,t)),t.apply(void 0,arguments)}console.warn('[re-reselect] Invalid cache key "'+e+'" has been returned by keySelector function.')};return d.getMatchingSelector=function(){var e=n.keySelector.apply(n,arguments);return l.get(e)},d.removeMatchingSelector=function(){var e=n.keySelector.apply(n,arguments);l.remove(e)},d.clearCache=function(){l.clear()},d.resultFunc=h,d.dependencies=p,d.cache=l,d.recomputations=function(){return a},d.resetRecomputations=function(){return a=0},d.keySelector=n.keySelector,d}}function s(e){if(void 0===e)throw Error('Missing the required property "cacheSize".');if(!Number.isInteger(e)||e<=0)throw Error('The "cacheSize" property must be a positive integer value.')}var l=/*#__PURE__*/function(){function e(e){var t=(void 0===e?{}:e).cacheSize;s(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._cacheOrdering.push(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._cache[e]},t.remove=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t.isValidCacheKey=function(e){return n(e)},e}(),u=/*#__PURE__*/function(){function e(e){var t=(void 0===e?{}:e).cacheSize;s(t),this._cache={},this._cacheOrdering=[],this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache[e]=t,this._registerCacheHit(e),this._cacheOrdering.length>this._cacheSize){var n=this._cacheOrdering[0];this.remove(n)}},t.get=function(e){return this._registerCacheHit(e),this._cache[e]},t.remove=function(e){this._deleteCacheHit(e),delete this._cache[e]},t.clear=function(){this._cache={},this._cacheOrdering=[]},t._registerCacheHit=function(e){this._deleteCacheHit(e),this._cacheOrdering.push(e)},t._deleteCacheHit=function(e){var t=this._cacheOrdering.indexOf(e);t>-1&&this._cacheOrdering.splice(t,1)},t.isValidCacheKey=function(e){return n(e)},e}(),c=/*#__PURE__*/function(){function e(){this._cache=new Map}var t=e.prototype;return t.set=function(e,t){this._cache.set(e,t)},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),d=/*#__PURE__*/function(){function e(e){var t=(void 0===e?{}:e).cacheSize;s(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){return this._cache.get(e)},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}(),p=/*#__PURE__*/function(){function e(e){var t=(void 0===e?{}:e).cacheSize;s(t),this._cache=new Map,this._cacheSize=t}var t=e.prototype;return t.set=function(e,t){if(this._cache.set(e,t),this._cache.size>this._cacheSize){var n=this._cache.keys().next().value;this.remove(n)}},t.get=function(e){var t=this._cache.get(e);return this._cache.has(e)&&(this.remove(e),this._cache.set(e,t)),t},t.remove=function(e){this._cache.delete(e)},t.clear=function(){this._cache.clear()},e}();e.FifoMapCache=d,e.FifoObjectCache=l,e.FlatMapCache=c,e.FlatObjectCache=i,e.LruMapCache=p,e.LruObjectCache=u,e.createCachedSelector=a,e.createStructuredCachedSelector=function(e){return t.createStructuredSelector(e,a)}}(e.exports,ee("9Fw2L"))}),et("3ZwM5",function(e,t){q(e.exports,"default",()=>c);var n=ee("cyP9O"),i=ee("kGkLa"),o=ee("3h31Z"),a=ee("dPsC3");function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function l(e){var t=e&&e.getServices().find(function(e){var t;return t=e.getProperty("type")||[],(0,a.default)(t).some(function(e){return e.startsWith("ImageService")})||(0,n.Utils).isImageProfile(e.getProfile())});if(t)return t}var u=/*#__PURE__*/function(){var e,t;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,u),this.resource=e,this.iiifOpts=t}return e=[{key:"iiifThumbnailUrl",value:function(e){var t,i,o,a,s,c=120,d=120,p=this.iiifOpts,h=p.maxHeight,f=p.maxWidth;h&&(c=Math.max(h,120)),f&&(d=Math.max(f,120));var g=l(e);if(!g)return u.staticImageUrl(e);var m=e.getWidth()&&e.getHeight()&&e.getWidth()/e.getHeight(),v=f&&h?f*h:c*d,y=u.selectBestImageSize(g,v);if(y)i=y.width,o=y.height,t="".concat(i,",").concat(o);else if((a=g.getProfile()).endsWith("#level1")||a.endsWith("#level2")?1:"level0"===a?0:!(0,n.Utils).isLevel0ImageProfile(a))h&&f?((s=g.getProfile()).endsWith("#level0")||s.endsWith("#level1")?1:"level2"===s?0:!(0,n.Utils).isLevel2ImageProfile(s))?d/c<m?(t="".concat(d,","),i=d,m&&(o=Math.round(d/m))):(t=",".concat(c),o=c,m&&(i=Math.round(c*m))):(t="!".concat(d,",").concat(c),i=d,o=c,m&&m>1&&(o=Math.round(d/m)),m&&m<1&&(i=Math.round(c*m))):h&&!f?(t=",".concat(c),o=c,m&&(i=Math.round(c*m))):!h&&f?(t="".concat(d,","),i=d,m&&(o=Math.round(d/m))):(t=",".concat(120),o=120,m&&(i=Math.round(o*m)));else if(!g.getProperty("height")&&!g.getProperty("width"))return u.staticImageUrl(e);var b=(0,n.Utils).getImageQuality(g.getProfile()),w=g.id.replace(/\/+$/,""),x=this.getFormat(g);return{height:o,url:[w,"full",t,0,"".concat(b,".").concat(x)].join("/"),width:i}}},{key:"getFormat",value:function(e){var t=this.iiifOpts.preferredFormats,n=void 0===t?[]:t,i=e.getProperty("preferredFormats");if(!i)return"jpg";var o=i.filter(function(e){return n.includes(e)});return o[0]?o[0]:!i.includes("jpg")&&n.includes("jpg")?"jpg":i[0]?i[0]:"jpg"}},{key:"getSourceContentResource",value:function(e){var t=e.getThumbnail();if(t)return"string"==typeof t.__jsonld?t.__jsonld:!(!e.isCollection()&&!e.isManifest()&&!e.isCanvas()&&"image"===e.getType()&&l(e))||l(t)?t:e;if(e.isCollection()){var n=e.getManifests()[0];return n?this.getSourceContentResource(n):void 0}if(e.isManifest()){var o=new i.default(e),a=o.startCanvas||o.canvasAt(0);return a?this.getSourceContentResource(a):void 0}if(e.isCanvas()){var s=u.getPreferredImage(e);return s?this.getSourceContentResource(s):void 0}if("image"===e.getType())return e}},{key:"get",value:function(){if(this.resource){var e=this.getSourceContentResource(this.resource);if(e)return"string"==typeof e?{url:e}:this.iiifThumbnailUrl(e)}}}],t=[{key:"staticImageUrl",value:function(e){return{height:e.getProperty("height"),url:e.id,width:e.getProperty("width")}}},{key:"getPreferredImage",value:function(e){var t=new o.default(e);return t.iiifImageResources[0]||t.imageResource}},{key:"selectBestImageSize",value:function(e,t){var n=(0,a.default)(e.getProperty("sizes")),i={default:!0,height:e.getProperty("height")||Number.MAX_SAFE_INTEGER,width:e.getProperty("width")||Number.MAX_SAFE_INTEGER},o=function(e){return e.width*e.height-t};if((i=n.reduce(function(e,t){var n=o(t);return n<0?e:Math.abs(n)<Math.abs(o(e))?t:e},i)).width*i.height>6*t&&(i=n.reduce(function(e,t){return Math.abs(o(t))<Math.abs(o(e))?t:e},i)),!i.default)return i}}],e&&s(u.prototype,e),t&&s(u,t),Object.defineProperty(u,"prototype",{writable:!1}),u}(),c=function(e,t){return new u(e,t).get()}}),et("kGkLa",function(e,t){q(e.exports,"default",()=>o);var n,i,o=(n=function e(t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.manifest=t},i=[{key:"startCanvas",get:function(){var e,t=this.manifest.getSequences()[0];if(t){if(!(e=t.getProperty("startCanvas"))){var n=this.manifest.getProperty("start")||t.getProperty("start");e=n&&(n.id||n.source)}return e&&t.getCanvasById(e)||void 0}}},{key:"canvasAt",value:function(e){var t=this.manifest.getSequences()[0],n=t&&t.getCanvases();return n&&n[e]}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("dPsC3",function(e,t){q(e.exports,"default",()=>n);function n(e){return void 0===e?[]:Array.isArray(e)?e:[e]}}),et("cOFmZ",function(e,t){q(e.exports,"getCompanionWindow",()=>h),q(e.exports,"getThumbnailNavigationPosition",()=>f),q(e.exports,"getCompanionWindowsForPosition",()=>b),q(e.exports,"getCompanionWindowsForContent",()=>w),q(e.exports,"getCompanionWindowIdsForPosition",()=>S),q(e.exports,"getCompanionAreaVisibility",()=>_),q(e.exports,"selectCompanionWindowDimensions",()=>E);var n=ee("9Fw2L"),i=ee("3PTvM"),o=ee("5h5fP"),a=ee("cEqnD");function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(0,o.miradorSlice)(e).companionWindows||{}}var h=(0,n.createSelector)([p,function(e,t){return t.companionWindowId}],function(e,t){return t&&e[t]}),f=(0,n.createSelector)([a.getWindow,p],function(e,t){return e&&t[e.thumbnailNavigationId]&&t[e.thumbnailNavigationId].position}),g=(0,n.createSelector)([a.getWindows,p],function(e,t){return(Object.keys(e)||[]).reduce(function(n,o){return c(c({},n),{},d({},o,/*@__PURE__*/Y(i)(e[o].companionWindowIds,function(e){return t[e]&&t[e].position})))},{})}),m=(0,n.createSelector)([a.getWindows,p],function(e,t){return(Object.keys(e)||[]).reduce(function(n,o){return c(c({},n),{},d({},o,/*@__PURE__*/Y(i)(e[o].companionWindowIds.map(function(e){return t[e]}),function(e){return e.position})))},{})}),v=(0,n.createSelector)([function(e,t){return t.windowId},m],function(e,t){return t[e]||{}}),y=(0,n.createSelector)([function(e,t){return t.windowId},g],function(e,t){return t[e]||{}}),b=(0,n.createSelector)([v,function(e,t){return t.position}],function(e,t){return e[t]||x}),w=(0,n.createSelector)([v,function(e,t){return t.content}],function(e,t){var n;return(n=[]).concat.apply(n,s(Object.values(e))).filter(function(e){return e.content===t})}),x=[],S=(0,n.createSelector)([y,function(e,t){return t.position}],function(e,t){return e[t]||x}),_=(0,n.createSelector)([function(e,t){return t.position},a.getWindow],function(e,t){if(!t)return!1;var n=t.companionAreaOpen,i=t.sideBarOpen;return"left"!==e||!!(n&&i)}),E=(0,n.createSelector)([v],function(e){var t,n=0,i=0;return(t=[]).concat.apply(t,s(Object.values(e))).forEach(function(e){e.position.match(/right/)&&(n+=235),e.position.match(/bottom/)&&(i+=201)}),{height:i,width:n}})}),et("3PTvM",function(e,t){var n=ee("5yn3z"),i=ee("2KfPW"),o=Object.prototype.hasOwnProperty,a=i(function(e,t,i){o.call(e,i)?e[i].push(t):n(e,i,[t])});e.exports=a}),et("2KfPW",function(e,t){var n=ee("4uLJz"),i=ee("7TW0N"),o=ee("fntae"),a=ee("1mNSP");e.exports=function(e,t){return function(s,l){var u=a(s)?n:i,c=t?t():{};return u(s,e,o(l,2),c)}}}),et("4uLJz",function(e,t){e.exports=function(e,t,n,i){for(var o=-1,a=null==e?0:e.length;++o<a;){var s=e[o];t(i,s,n(s),e)}return i}}),et("7TW0N",function(e,t){var n=ee("bJ5wn");e.exports=function(e,t,i,o){return n(e,function(e,n,a){t(o,e,i(e),a)}),o}}),et("bJ5wn",function(e,t){var n=ee("bXGmr"),i=ee("fgYjz")(n);e.exports=i}),et("bXGmr",function(e,t){var n=ee("kNU3X"),i=ee("3GYFY");e.exports=function(e,t){return e&&n(e,t,i)}}),et("kNU3X",function(e,t){var n=ee("fvXjy")();e.exports=n}),et("fvXjy",function(e,t){e.exports=function(e){return function(t,n,i){for(var o=-1,a=Object(t),s=i(t),l=s.length;l--;){var u=s[e?l:++o];if(!1===n(a[u],u,a))break}return t}}}),et("3GYFY",function(e,t){var n=ee("1KOpP"),i=ee("ltj2s"),o=ee("kSosd");e.exports=function(e){return o(e)?n(e):i(e)}}),et("1KOpP",function(e,t){var n=ee("jhUcF"),i=ee("31t9B"),o=ee("1mNSP"),a=ee("kSGkO"),s=ee("8CZjq"),l=ee("ko8hG"),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var c=o(e),d=!c&&i(e),p=!c&&!d&&a(e),h=!c&&!d&&!p&&l(e),f=c||d||p||h,g=f?n(e.length,String):[],m=g.length;for(var v in e)(t||u.call(e,v))&&!(f&&("length"==v||p&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m)))&&g.push(v);return g}}),et("jhUcF",function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}}),et("fgYjz",function(e,t){var n=ee("kSosd");e.exports=function(e,t){return function(i,o){if(null==i)return i;if(!n(i))return e(i,o);for(var a=i.length,s=t?a:-1,l=Object(i);(t?s--:++s<a)&&!1!==o(l[s],s,l););return i}}}),et("fntae",function(e,t){var n=ee("3xrSA"),i=ee("14ccL"),o=ee("8FZ5X"),a=ee("1mNSP"),s=ee("jVm8g");e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):n(e):s(e)}}),et("3xrSA",function(e,t){var n=ee("1ALVS"),i=ee("kWoNT"),o=ee("c86Tf");e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(i){return i===e||n(i,e,t)}}}),et("1ALVS",function(e,t){var n=ee("02Bbm"),i=ee("45jug");e.exports=function(e,t,o,a){var s=o.length,l=s,u=!a;if(null==e)return!l;for(e=Object(e);s--;){var c=o[s];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<l;){var d=(c=o[s])[0],p=e[d],h=c[1];if(u&&c[2]){if(void 0===p&&!(d in e))return!1}else{var f=new n;if(a)var g=a(p,h,d,e,t,f);if(!(void 0===g?i(h,p,3,a,f):g))return!1}}return!0}}),et("02Bbm",function(e,t){var n=ee("1pmMY"),i=ee("3OOdK"),o=ee("MxSRK"),a=ee("htaks"),s=ee("9h9Hx"),l=ee("9XnPK");function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u}),et("3OOdK",function(e,t){var n=ee("1pmMY");e.exports=function(){this.__data__=new n,this.size=0}}),et("MxSRK",function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}}),et("htaks",function(e,t){e.exports=function(e){return this.__data__.get(e)}}),et("9h9Hx",function(e,t){e.exports=function(e){return this.__data__.has(e)}}),et("9XnPK",function(e,t){var n=ee("1pmMY"),i=ee("4XsTI"),o=ee("3qHiw");e.exports=function(e,t){var a=this.__data__;if(a instanceof n){var s=a.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++a.size,this;a=this.__data__=new o(s)}return a.set(e,t),this.size=a.size,this}}),et("45jug",function(e,t){var n=ee("a05zL"),i=ee("fpZyM");e.exports=function e(t,o,a,s,l){return t===o||(null!=t&&null!=o&&(i(t)||i(o))?n(t,o,a,s,e,l):t!=t&&o!=o)}}),et("a05zL",function(e,t){var n=ee("02Bbm"),i=ee("aF1sp"),o=ee("kIQIp"),a=ee("8QmaN"),s=ee("lh9s1"),l=ee("1mNSP"),u=ee("kSGkO"),c=ee("ko8hG"),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,g,m,v,y){var b=l(e),w=l(t),x=b?p:s(e),S=w?p:s(t);x=x==d?h:x,S=S==d?h:S;var _=x==h,E=S==h,T=x==S;if(T&&u(e)){if(!u(t))return!1;b=!0,_=!1}if(T&&!_)return y||(y=new n),b||c(e)?i(e,t,g,m,v,y):o(e,t,x,g,m,v,y);if(!(1&g)){var O=_&&f.call(e,"__wrapped__"),I=E&&f.call(t,"__wrapped__");if(O||I){var P=O?e.value():e,C=I?t.value():t;return y||(y=new n),v(P,C,g,m,y)}}return!!T&&(y||(y=new n),a(e,t,g,m,v,y))}}),et("aF1sp",function(e,t){var n=ee("3lxsn"),i=ee("dK6vN"),o=ee("5MttV");e.exports=function(e,t,a,s,l,u){var c=1&a,d=e.length,p=t.length;if(d!=p&&!(c&&p>d))return!1;var h=u.get(e),f=u.get(t);if(h&&f)return h==t&&f==e;var g=-1,m=!0,v=2&a?new n:void 0;for(u.set(e,t),u.set(t,e);++g<d;){var y=e[g],b=t[g];if(s)var w=c?s(b,y,g,t,e,u):s(y,b,g,e,t,u);if(void 0!==w){if(w)continue;m=!1;break}if(v){if(!i(t,function(e,t){if(!o(v,t)&&(y===e||l(y,e,a,s,u)))return v.push(t)})){m=!1;break}}else if(!(y===b||l(y,b,a,s,u))){m=!1;break}}return u.delete(e),u.delete(t),m}}),et("3lxsn",function(e,t){var n=ee("3qHiw"),i=ee("543h9"),o=ee("6EYto");function a(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new n;++t<i;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a}),et("543h9",function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}}),et("6EYto",function(e,t){e.exports=function(e){return this.__data__.has(e)}}),et("dK6vN",function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}}),et("5MttV",function(e,t){e.exports=function(e,t){return e.has(t)}}),et("kIQIp",function(e,t){var n=ee("653sB"),i=ee("9NMLA"),o=ee("7eWhk"),a=ee("aF1sp"),s=ee("bBePa"),l=ee("k66c0"),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,u,d,p,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!p(new i(e),new i(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var g=1&u;if(f||(f=l),e.size!=t.size&&!g)break;var m=h.get(e);if(m)return m==t;u|=2,h.set(e,t);var v=a(f(e),f(t),u,d,p,h);return h.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}}),et("9NMLA",function(e,t){var n=ee("azsR2").Uint8Array;e.exports=n}),et("bBePa",function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}}),et("k66c0",function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}}),et("8QmaN",function(e,t){var n=ee("a3P0Y"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,a,s,l){var u=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!u)return!1;for(var p=d;p--;){var h=c[p];if(!(u?h in t:i.call(t,h)))return!1}var f=l.get(e),g=l.get(t);if(f&&g)return f==t&&g==e;var m=!0;l.set(e,t),l.set(t,e);for(var v=u;++p<d;){var y=e[h=c[p]],b=t[h];if(a)var w=u?a(b,y,h,t,e,l):a(y,b,h,e,t,l);if(!(void 0===w?y===b||s(y,b,o,a,l):w)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var x=e.constructor,S=t.constructor;x!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S)&&(m=!1)}return l.delete(e),l.delete(t),m}}),et("a3P0Y",function(e,t){var n=ee("9PniA"),i=ee("bZQ6Q"),o=ee("3GYFY");e.exports=function(e){return n(e,o,i)}}),et("9PniA",function(e,t){var n=ee("6YWRH"),i=ee("1mNSP");e.exports=function(e,t,o){var a=t(e);return i(e)?a:n(a,o(e))}}),et("bZQ6Q",function(e,t){var n=ee("fEjfg"),i=ee("7p11p"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:n(a(e=Object(e)),function(t){return o.call(e,t)})}:i;e.exports=s}),et("fEjfg",function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}}),et("7p11p",function(e,t){e.exports=function(){return[]}}),et("kWoNT",function(e,t){var n=ee("hnrRw"),i=ee("3GYFY");e.exports=function(e){for(var t=i(e),o=t.length;o--;){var a=t[o],s=e[a];t[o]=[a,s,n(s)]}return t}}),et("hnrRw",function(e,t){var n=ee("iGPgj");e.exports=function(e){return e==e&&!n(e)}}),et("c86Tf",function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}}),et("14ccL",function(e,t){var n=ee("45jug"),i=ee("eFrLN"),o=ee("X9uwb"),a=ee("3pkve"),s=ee("hnrRw"),l=ee("c86Tf"),u=ee("1N7wp");e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(a){var s=i(a,e);return void 0===s&&s===t?o(a,e):n(t,s,3)}}}),et("eFrLN",function(e,t){var n=ee("8r7u7");e.exports=function(e,t,i){var o=null==e?void 0:n(e,t);return void 0===o?i:o}}),et("X9uwb",function(e,t){var n=ee("elDuD"),i=ee("6BTCU");e.exports=function(e,t){return null!=e&&i(e,t,n)}}),et("elDuD",function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}}),et("6BTCU",function(e,t){var n=ee("1PK08"),i=ee("31t9B"),o=ee("1mNSP"),a=ee("8CZjq"),s=ee("3TWUh"),l=ee("1N7wp");e.exports=function(e,t,u){t=n(t,e);for(var c=-1,d=t.length,p=!1;++c<d;){var h=l(t[c]);if(!(p=null!=e&&u(e,h)))break;e=e[h]}return p||++c!=d?p:!!(d=null==e?0:e.length)&&s(d)&&a(h,d)&&(o(e)||i(e))}}),et("jVm8g",function(e,t){var n=ee("gwclb"),i=ee("jQPrR"),o=ee("3pkve"),a=ee("1N7wp");e.exports=function(e){return o(e)?n(a(e)):i(e)}}),et("gwclb",function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}}),et("jQPrR",function(e,t){var n=ee("8r7u7");e.exports=function(e){return function(t){return n(t,e)}}}),et("8uJ99",function(e,t){q(e.exports,"getConfig",()=>u),q(e.exports,"getExportableState",()=>c),q(e.exports,"getLanguagesFromConfigWithCurrent",()=>d),q(e.exports,"getShowZoomControlsConfig",()=>p),q(e.exports,"getTheme",()=>h),q(e.exports,"getThemeIds",()=>f),q(e.exports,"getThemeDirection",()=>g),q(e.exports,"getRequestsConfig",()=>m);var n=ee("9Fw2L"),i=ee("gaTnh"),o=ee("5h5fP"),a=ee("cEqnD");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function u(e){return(0,o.miradorSlice)(e||{}).config||{}}function c(e){return Object.entries(u(e).export).reduce(function(t,n){var i=s(n,2),o=i[0],a=i[1];return!0===a?t[o]=e[o]:a.filter&&(t[o]=Object.entries(e[o]).filter(a.filter).reduce(function(e,t){var n=s(t,2),i=n[0],o=n[1];return e[i]=o,e},{})),t},{})}var d=(0,n.createSelector)([u],function(e){var t=e.availableLanguages,n=e.language;return Object.keys(t).map(function(e){return{current:e===n,label:t[e],locale:e}})}),p=(0,n.createSelector)([a.getWorkspace,u],function(e,t){return void 0===e.showZoomControls?t.workspace.showZoomControls:e.showZoomControls}),h=(0,n.createSelector)([u],function(e){var t=e.theme,n=e.themes,o=e.selectedTheme;return /*@__PURE__*/Y(i)(t,n[o]||{})}),f=(0,n.createSelector)([u],function(e){return Object.keys(e.themes)});(0,n.createSelector)([u],function(e){return e.id});var g=(0,n.createSelector)([u],function(e){return e.theme.direction||"ltr"}),m=(0,n.createSelector)([u],function(e){return e.requests||{}})}),et("gaTnh",function(e,t){var n=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==i},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function a(e,t,n){return e.concat(t).map(function(e){return o(e,n)})}function s(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,i){(i=i||{}).arrayMerge=i.arrayMerge||a,i.isMergeableObject=i.isMergeableObject||n,i.cloneUnlessOtherwiseSpecified=o;var c,d,p=Array.isArray(t);return p!==Array.isArray(e)?o(t,i):p?i.arrayMerge(e,t,i):(d={},(c=i).isMergeableObject(e)&&s(e).forEach(function(t){d[t]=o(e[t],c)}),s(t).forEach(function(n){l(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))||(l(e,n)&&c.isMergeableObject(t[n])?d[n]=(function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u})(n,c)(e[n],t[n],c):d[n]=o(t[n],c))}),d)}u.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,n){return u(e,n,t)},{})},e.exports=u}),et("lPJ6l",function(e,t){q(e.exports,"getWindowConfig",()=>d),q(e.exports,"getWindowTitles",()=>p),q(e.exports,"getMaximizedWindowsIds",()=>h),q(e.exports,"getWindowViewType",()=>f),q(e.exports,"getAllowedWindowViewTypes",()=>g),q(e.exports,"getWindowDraggability",()=>m);var n=ee("9Fw2L"),i=ee("8pjuL"),o=ee("8uJ99"),a=ee("cEqnD"),s=ee("hCAcf"),l=ee("8jlY4");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=(0,n.createSelector)([o.getConfig,a.getWindow],function(e){var t=e.window,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(c({},t),n)});function p(e){var t={};return Object.keys((0,a.getWindows)(e)).forEach(function(n){t[n]=(0,i.getManifestTitle)(e,{windowId:n})}),t}var h=(0,n.createSelector)([a.getWindows],function(e){return Object.values(e).filter(function(e){return!0===e.maximized}).map(function(e){return e.id})}),f=(0,n.createSelector)([a.getWindow,d,l.getSequenceViewingHint,l.getSequenceBehaviors],function(e,t,n,i){var o=t.views,a=t.defaultView;if(e&&e.view)return e.view;var s=((void 0===o?[]:o)||[]).find(function(e){return e.behaviors&&e.behaviors.some(function(e){return n===e||i.includes(e)})});return s&&s.key||a}),g=(0,n.createSelector)([l.getSequenceViewingHint,l.getSequenceBehaviors,d],function(e,t,n){var i=n.views,o=n.defaultView;return((void 0===i?[]:i)||[]).reduce(function(n,i){return(i.key===o||!i.behaviors||i.behaviors.some(function(n){return e===n||t.includes(n)}))&&n.push(i.key),n},[])}),m=(0,n.createSelector)([s.getWorkspaceType,a.getWindow,function(e){return(0,a.getWindowIds)(e).length>1}],function(e,t,n){return"elastic"===e||n&&t&&!1===t.maximized})}),et("hCAcf",function(e,t){q(e.exports,"getElasticLayout",()=>s),q(e.exports,"getLatestError",()=>l),q(e.exports,"getWorkspaceType",()=>u),q(e.exports,"getFocusedWindowId",()=>c),q(e.exports,"isFocused",()=>d);var n=ee("9Fw2L"),i=ee("cEqnD"),o=ee("5h5fP");function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function s(e){return(0,o.miradorSlice)(e).elasticLayout}function l(e){var t,n=(function(e){if(Array.isArray(e))return e}(t=(0,o.miradorSlice)(e).errors.items)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),1!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(t,1)||function(e,t){if(e){if("string"==typeof e)return a(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,1):void 0}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return(0,o.miradorSlice)(e).errors[n]}(0,n.createSelector)([i.getWorkspace],function(e){return e.isFullscreenEnabled});var u=(0,n.createSelector)([i.getWorkspace],function(e){return e.type}),c=(0,n.createSelector)([i.getWorkspace],function(e){return e.focusedWindowId}),d=function(e,t){var n=t.windowId;return c(e)===n}}),et("j21iK",function(e,t){q(e.exports,"ThumbnailNavigation",()=>g);var n=ee("dm060"),i=ee("c9wxR"),o=ee("cvbiL"),a=ee("aoBUG"),s=ee("2gnOd"),l=ee("jAw8j"),u=ee("jVUXi"),c=ee("YT00d"),d=ee("9L45J");function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=/*#__PURE__*/function(e){var t;function g(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,g),i=g,o=[e],i=h(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(i,o||[],h(this).constructor):i.apply(this,o))).scrollbarSize=15,t.spacing=8,t.calculateScaledSize=t.calculateScaledSize.bind(t),t.itemCount=t.itemCount.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.nextCanvas=t.nextCanvas.bind(t),t.previousCanvas=t.previousCanvas.bind(t),t.gridRef=/*#__PURE__*/(0,n.createRef)(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(g,e),t=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.canvasIndex,i=t.position,o=t.view;if(e.view!==o&&"off"!==i&&this.gridRef.current.resetAfterIndex(0),e.canvasIndex!==n){var a=n;"book"===o&&(a=Math.ceil(a/2)),this.gridRef.current.scrollToItem(a,"center")}}},{key:"handleKeyDown",value:function(e){var t=this.props.position,n="ArrowRight",i="ArrowLeft";switch("far-right"===t&&(n="ArrowDown",i="ArrowUp"),e.key){case n:this.nextCanvas();break;case i:this.previousCanvas()}}},{key:"calculateScaledSize",value:function(e){var t=this.props,n=t.thumbnailNavigation,i=t.canvasGroupings,o=t.position,a=i[e];if(!a)return n.width+this.spacing;var s=new l.default(a).worldBounds();if("far-right"===o){var u=Math.floor(this.calculatingWidth(a.length)*s[3]/s[2]);return Number.isInteger(u)?u+this.spacing:n.width+this.spacing}return 0===s[3]?n.width+this.spacing:Math.ceil((n.height-this.scrollbarSize-this.spacing-4)*s[2]/s[3])}},{key:"calculatingWidth",value:function(e){var t=this.props.thumbnailNavigation;return 1===e?t.width:2*t.width}},{key:"rightWidth",value:function(){var e=this.props,t=e.view,n=e.thumbnailNavigation;return"book"===t?2*n.width:n.width}},{key:"style",value:function(){var e=this.props,t=e.position,n=e.thumbnailNavigation;return"far-right"===t?{height:"100%",minHeight:0,width:"".concat(this.rightWidth()+this.scrollbarSize+this.spacing,"px")}:{height:"".concat(n.height,"px"),width:"100%"}}},{key:"areaHeight",value:function(e){var t=this.props,n=t.position,i=t.thumbnailNavigation;return"far-right"===n?e:i.height}},{key:"itemCount",value:function(){return this.props.canvasGroupings.length}},{key:"nextCanvas",value:function(){var e=this.props,t=e.hasNextCanvas,n=e.setNextCanvas;t&&n()}},{key:"previousCanvas",value:function(){var e=this.props,t=e.hasPreviousCanvas,n=e.setPreviousCanvas;t&&n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,l=t.canvasGroupings,p=t.position,h=t.thumbnailNavigation,f=t.viewingDirection,g=t.windowId;if("off"===p)return null;var m="right-to-left"===f?"rtl":"ltr",v={canvasGroupings:l,height:h.height-this.spacing-this.scrollbarSize,position:p,windowId:g};return/*#__PURE__*/(0,d.jsx)(i.default,{className:/*@__PURE__*/Y(s)((0,c.default)("thumb-navigation")),sx:{"&:focus":{boxShadow:0,outline:0}},"aria-label":n("thumbnailNavigation"),square:!0,elevation:0,style:this.style(),tabIndex:0,onKeyDown:this.handleKeyDown,role:"grid",children:/*#__PURE__*/(0,d.jsx)("div",{role:"row",style:{height:"100%",width:"100%"},children:/*#__PURE__*/(0,d.jsx)(o.default,{defaultHeight:100,defaultWidth:400,children:function(t){var n=t.height,i=t.width;return/*#__PURE__*/(0,d.jsx)(a.VariableSizeList,{direction:m,height:e.areaHeight(n),itemCount:e.itemCount(),itemSize:e.calculateScaledSize,width:i,layout:"far-bottom"===p?"horizontal":"vertical",itemData:v,ref:e.gridRef,children:u.default})}})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(g.prototype,t),Object.defineProperty(g,"prototype",{writable:!1}),g}(n.Component);g.defaultProps={hasNextCanvas:!1,hasPreviousCanvas:!1,setNextCanvas:function(){},setPreviousCanvas:function(){},view:void 0,viewingDirection:""}}),et("c9wxR",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("37zHU"),c=ee("gR5ZP"),d=ee("91wvo"),p=ee("gHMtC"),h=ee("9L45J");let f=["className","component","elevation","square","variant"],g=e=>{let{square:t,elevation:n,variant:i,classes:o}=e,a={root:["root",i,!t&&"rounded","elevation"===i&&`elevation${n}`]};return(0,s.default)(a,p.getPaperUtilityClass,o)},m=(0,u.default)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return(0,i.default)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,i.default)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.alpha)("#fff",(0,c.default)(t.elevation))}, ${(0,l.alpha)("#fff",(0,c.default)(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))});var v=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,d.useDefaultProps)({props:e,name:"MuiPaper"}),{className:s,component:l="div",elevation:u=1,square:c=!1,variant:p="elevation"}=o,v=(0,n.default)(o,f),y=(0,i.default)({},o,{component:l,elevation:u,square:c,variant:p}),b=g(y);return/*#__PURE__*/(0,h.jsx)(m,(0,i.default)({as:l,ownerState:y,className:(0,a.default)(b.root,s),ref:t},v))})}),et("u6U9p",function(e,t){q(e.exports,"default",()=>n);function n(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}}),et("5XyNA",function(e,t){q(e.exports,"default",()=>n);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}}),et("auY7r",function(e,t){q(e.exports,"default",()=>n);var n=function(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=function e(t){var n,i,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(i=e(t[n]))&&(o&&(o+=" "),o+=i)}else for(i in t)t[i]&&(o&&(o+=" "),o+=i)}return o}(e))&&(i&&(i+=" "),i+=t);return i}}),et("kbtjl",function(e,t){q(e.exports,"default",()=>n);function n(e,t,n){let i={};return Object.keys(e).forEach(o=>{i[o]=e[o].reduce((e,i)=>{if(i){let o=t(i);""!==o&&e.push(o),n&&n[i]&&e.push(n[i])}return e},[]).join(" ")}),i}}),et("9xsQ3",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.alpha=h,e.exports.blend=function(e,t,n,i=1){let o=(e,t)=>Math.round((e**(1/i)*(1-n)+t**(1/i)*n)**i),a=l(e),s=l(t);return c({type:"rgb",values:[o(a.values[0],s.values[0]),o(a.values[1],s.values[1]),o(a.values[2],s.values[2])]})},e.exports.colorChannel=void 0,e.exports.darken=f,e.exports.decomposeColor=l,e.exports.emphasize=m,e.exports.getContrastRatio=function(e,t){let n=p(e),i=p(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},e.exports.getLuminance=p,e.exports.hexToRgb=s,e.exports.hslToRgb=d,e.exports.lighten=g,e.exports.private_safeAlpha=function(e,t,n){try{return h(e,t)}catch(t){return e}},e.exports.private_safeColorChannel=void 0,e.exports.private_safeDarken=function(e,t,n){try{return f(e,t)}catch(t){return e}},e.exports.private_safeEmphasize=function(e,t,n){try{return m(e,t)}catch(t){return e}},e.exports.private_safeLighten=function(e,t,n){try{return g(e,t)}catch(t){return e}},e.exports.recomposeColor=c,e.exports.rgbToHex=function(e){if(0===e.indexOf("#"))return e;let{values:t}=l(e);return`#${t.map((e,t)=>(function(e){let t=e.toString(16);return 1===t.length?`0${t}`:t})(3===t?Math.round(255*e):e)).join("")}`};var i=n(ee("7grdj")),o=n(ee("745sW"));function a(e,t=0,n=1){return(0,o.default)(e,t,n)}function s(e){e=e.slice(1);let t=RegExp(`.{1,${e.length>=6?2:1}}`,"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}function l(e){let t;if(e.type)return e;if("#"===e.charAt(0))return l(s(e));let n=e.indexOf("("),o=e.substring(0,n);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(o))throw Error((0,i.default)(9,e));let a=e.substring(n+1,e.length-1);if("color"===o){if(t=(a=a.split(" ")).shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(t))throw Error((0,i.default)(10,t))}else a=a.split(",");return{type:o,values:a=a.map(e=>parseFloat(e)),colorSpace:t}}let u=e=>{let t=l(e);return t.values.slice(0,3).map((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e).join(" ")};function c(e){let{type:t,colorSpace:n}=e,{values:i}=e;return -1!==t.indexOf("rgb")?i=i.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function d(e){let{values:t}=e=l(e),n=t[0],i=t[1]/100,o=t[2]/100,a=i*Math.min(o,1-o),s=(e,t=(e+n/30)%12)=>o-a*Math.max(Math.min(t-3,9-t,1),-1),u="rgb",d=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(u+="a",d.push(t[3])),c({type:u,values:d})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return Number((.2126*(t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)))[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=l(e),t=a(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function f(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function g(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function m(e,t=.15){return p(e)>.5?f(e,t):g(e,t)}e.exports.colorChannel=u,e.exports.private_safeColorChannel=(e,t)=>{try{return u(e)}catch(t){return e}}}),et("khCzK",function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}),et("7grdj",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("bfgsZ").default),ee("bfgsZ")}),et("bfgsZ",function(e,t){q(e.exports,"default",()=>n);function n(e){let t="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}}),et("745sW",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("fDl5e").default),ee("fDl5e")}),et("fDl5e",function(e,t){q(e.exports,"default",()=>n);var n=function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}}),et("37zHU",function(e,t){q(e.exports,"default",()=>s),q(e.exports,"rootShouldForwardProp",()=>ee("4RsQO").default);var n=ee("6oZa5"),i=ee("bR10X"),o=ee("5MpsY"),a=ee("4RsQO");ee("cpNQ9");var s=/*@__PURE__*/Y(n)({themeId:o.default,defaultTheme:i.default,rootShouldForwardProp:a.default})}),et("6oZa5",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e={}){let{themeId:t,defaultTheme:n=g,rootShouldForwardProp:l=f,slotShouldForwardProp:c=f}=e,d=e=>(0,u.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return d.__mui_systemSx=!0,(e,u={})=>{var h;let g;(0,a.internal_processStyles)(e,e=>e.filter(e=>!(null!=e&&e.__mui_systemSx)));let{name:b,slot:w,skipVariantsResolver:x,skipSx:S,overridesResolver:_=(h=m(w))?(e,t)=>t[h]:null}=u,E=(0,o.default)(u,p),T=void 0!==x?x:w&&"Root"!==w&&"root"!==w||!1,O=S||!1,I=f;"Root"===w||"root"===w?I=l:w?I=c:"string"==typeof e&&e.charCodeAt(0)>96&&(I=void 0);let P=(0,a.default)(e,(0,i.default)({shouldForwardProp:I,label:g},E)),C=e=>"function"==typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?o=>y(e,(0,i.default)({},o,{theme:v({theme:o.theme,defaultTheme:n,themeId:t})})):e,A=(o,...a)=>{let s=C(o),l=a?a.map(C):[];b&&_&&l.push(e=>{let o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!o.components||!o.components[b]||!o.components[b].styleOverrides)return null;let a=o.components[b].styleOverrides,s={};return Object.entries(a).forEach(([t,n])=>{s[t]=y(n,(0,i.default)({},e,{theme:o}))}),_(e,s)}),b&&!T&&l.push(e=>{var o;let a=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return y({variants:null==a||null==(o=a.components)||null==(o=o[b])?void 0:o.variants},(0,i.default)({},e,{theme:a}))}),O||l.push(d);let u=l.length-a.length;if(Array.isArray(o)&&u>0){let e=Array(u).fill("");(s=[...o,...e]).raw=[...o.raw,...e]}let c=P(s,...l);return e.muiName&&(c.muiName=e.muiName),c};return P.withConfig&&(A.withConfig=P.withConfig),A}},e.exports.shouldForwardProp=f,e.exports.systemDefaultTheme=void 0;var i=n(ee("1NlRu")),o=n(ee("4UjiJ")),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(ee("gWQSS")),s=ee("xtY8e");n(ee("jjs3N")),n(ee("cdXyX"));var l=n(ee("gI7F6")),u=n(ee("8bwCU"));let c=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}let g=e.exports.systemDefaultTheme=(0,l.default)(),m=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v({defaultTheme:e,theme:t,themeId:n}){return 0===Object.keys(t).length?e:t[n]||t}function y(e,t){let{ownerState:n}=t,a=(0,o.default)(t,c),s="function"==typeof e?e((0,i.default)({ownerState:n},a)):e;if(Array.isArray(s))return s.flatMap(e=>y(e,(0,i.default)({ownerState:n},a)));if(s&&"object"==typeof s&&Array.isArray(s.variants)){let{variants:e=[]}=s,t=(0,o.default)(s,d);return e.forEach(e=>{let o=!0;"function"==typeof e.props?o=e.props((0,i.default)({ownerState:n},a,n)):Object.keys(e.props).forEach(t=>{(null==n?void 0:n[t])!==e.props[t]&&a[t]!==e.props[t]&&(o=!1)}),o&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,i.default)({ownerState:n},a,n)):e.style))}),t}return s}}),et("4UjiJ",function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports}),et("gWQSS",function(e,t){K(e.exports),q(e.exports,"default",()=>i),q(e.exports,"internal_processStyles",()=>o),q(e.exports,"ThemeContext",()=>ee("a2BaF").T),q(e.exports,"keyframes",()=>ee("1yKl8").keyframes),q(e.exports,"css",()=>ee("1yKl8").css),q(e.exports,"StyledEngineProvider",()=>ee("27cHL").default),q(e.exports,"GlobalStyles",()=>ee("cmbiA").default);/**
 * @mui/styled-engine v5.16.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=ee("eEHaB");function i(e,t){return(0,n.default)(e,t)}ee("1yKl8"),ee("a2BaF"),ee("27cHL"),ee("cmbiA");let o=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}}),et("eEHaB",function(e,t){q(e.exports,"default",()=>i);var n=ee("hyEIU");ee("1NlRu"),ee("dm060"),ee("dFazS"),ee("c6q7p"),ee("cFfGc"),ee("bcIIz");var i=(0,n.default).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){i[e]=i(e)})}),et("hyEIU",function(e,t){q(e.exports,"default",()=>m);var n=ee("5XyNA"),i=ee("dm060"),o=ee("dFazS");ee("1yKl8");var a=ee("a2BaF"),s=ee("c6q7p"),l=ee("cFfGc"),u=ee("bcIIz"),c=o.default,d=function(e){return"theme"!==e},p=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?c:d},h=function(e,t,n){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof i&&n&&(i=e.__emotion_forwardProp),i},f="undefined"!=typeof document,g=function(e){var t=e.cache,n=e.serialized,o=e.isStringTag;(0,s.registerStyles)(t,n,o);var a=(0,u.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,s.insertStyles)(t,n,o)});if(!f&&void 0!==a){for(var l,c=n.name,d=n.next;void 0!==d;)c+=" "+d.name,d=d.next;return /*#__PURE__*/i.createElement("style",((l={})["data-emotion"]=t.key+" "+c,l.dangerouslySetInnerHTML={__html:a},l.nonce=t.sheet.nonce,l))}return null},m=function e(t,o){var u,c,d=t.__emotion_real===t,f=d&&t.__emotion_base||t;void 0!==o&&(u=o.label,c=o.target);var m=h(t,o,d),v=m||p(f),y=!v("as");return function(){var b=arguments,w=d&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==u&&w.push("label:"+u+";"),null==b[0]||void 0===b[0].raw)w.push.apply(w,b);else{w.push(b[0][0]);for(var x=b.length,S=1;S<x;S++)w.push(b[S],b[0][S])}var _=(0,a.w)(function(e,t,n){var o=y&&e.as||f,u="",d=[],h=e;if(null==e.theme){for(var b in h={},e)h[b]=e[b];h.theme=i.useContext(a.T)}"string"==typeof e.className?u=(0,s.getRegisteredStyles)(t.registered,d,e.className):null!=e.className&&(u=e.className+" ");var x=(0,l.serializeStyles)(w.concat(d),t.registered,h);u+=t.key+"-"+x.name,void 0!==c&&(u+=" "+c);var S=y&&void 0===m?p(o):v,_={};for(var E in e)(!y||"as"!==E)&&S(E)&&(_[E]=e[E]);return _.className=u,n&&(_.ref=n),/*#__PURE__*/i.createElement(i.Fragment,null,/*#__PURE__*/i.createElement(g,{cache:t,serialized:x,isStringTag:"string"==typeof o}),/*#__PURE__*/i.createElement(o,_))});return _.displayName=void 0!==u?u:"Styled("+("string"==typeof f?f:f.displayName||f.name||"Component")+")",_.defaultProps=t.defaultProps,_.__emotion_real=_,_.__emotion_base=f,_.__emotion_styles=w,_.__emotion_forwardProp=m,Object.defineProperty(_,"toString",{value:function(){return"."+c}}),_.withComponent=function(t,i){return e(t,(0,n.default)({},o,i,{shouldForwardProp:h(_,i,!0)})).apply(void 0,w)},_}}}),et("dFazS",function(e,t){q(e.exports,"default",()=>o);var n=ee("5tUeD"),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=/* #__PURE__ */(0,n.default)(function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)})}),et("5tUeD",function(e,t){q(e.exports,"default",()=>n);function n(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}}),et("1yKl8",function(e,t){q(e.exports,"Global",()=>l),q(e.exports,"css",()=>u),q(e.exports,"keyframes",()=>c),q(e.exports,"ThemeContext",()=>ee("a2BaF").T),q(e.exports,"withEmotionCache",()=>ee("a2BaF").w);var n=ee("a2BaF"),i=ee("dm060"),o=ee("c6q7p"),a=ee("bcIIz"),s=ee("cFfGc");ee("eiYdf"),ee("1NlRu"),ee("8tJVk"),ee("47JnA");var l=/* #__PURE__ */(0,n.w)(function(e,t){var l=e.styles,u=(0,s.serializeStyles)([l],void 0,i.useContext(n.T));if(!n.i){for(var c,d=u.name,p=u.styles,h=u.next;void 0!==h;)d+=" "+h.name,p+=h.styles,h=h.next;var f=!0===t.compat,g=t.insert("",{name:d,styles:p},t.sheet,f);return f?null:/*#__PURE__*/i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+d,c.dangerouslySetInnerHTML={__html:g},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,a.useInsertionEffectWithLayoutFallback)(function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+u.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),m.current=[n,i],function(){n.flush()}},[t]),(0,a.useInsertionEffectWithLayoutFallback)(function(){var e=m.current,n=e[0];if(e[1]){e[1]=!1;return}if(void 0!==u.next&&(0,o.insertStyles)(t,u.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",u,n,!1)},[t,u.name]),null});function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.serializeStyles)(t)}var c=function(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}}),et("a2BaF",function(e,t){q(e.exports,"a",()=>l),q(e.exports,"i",()=>u),q(e.exports,"C",()=>d),q(e.exports,"w",()=>p),q(e.exports,"T",()=>h),q(e.exports,"h",()=>f),q(e.exports,"c",()=>m),q(e.exports,"E",()=>y);var n=ee("dm060"),i=ee("eiYdf");ee("5XyNA"),ee("8tJVk"),ee("dqXb2");var o=ee("c6q7p"),a=ee("cFfGc"),s=ee("bcIIz"),l=!1,u="undefined"!=typeof document,c=/* #__PURE__ */n.createContext("undefined"!=typeof HTMLElement?/* #__PURE__ */(0,i.default)({key:"css"}):null),d=c.Provider,p=function(e){return/*#__PURE__*/(0,n.forwardRef)(function(t,i){return e(t,(0,n.useContext)(c),i)})};u||(p=function(e){return function(t){var o=(0,n.useContext)(c);return null===o?(o=(0,i.default)({key:"css"}),/*#__PURE__*/n.createElement(c.Provider,{value:o},e(t,o))):e(t,o)}});var h=/* #__PURE__ */n.createContext({}),f={}.hasOwnProperty,g="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m=function(e,t){var n={};for(var i in t)f.call(t,i)&&(n[i]=t[i]);return n[g]=e,n},v=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;(0,o.registerStyles)(t,i,a);var l=(0,s.useInsertionEffectAlwaysWithSyncFallback)(function(){return(0,o.insertStyles)(t,i,a)});if(!u&&void 0!==l){for(var c,d=i.name,p=i.next;void 0!==p;)d+=" "+p.name,p=p.next;return /*#__PURE__*/n.createElement("style",((c={})["data-emotion"]=t.key+" "+d,c.dangerouslySetInnerHTML={__html:l},c.nonce=t.sheet.nonce,c))}return null},y=/* #__PURE__ */p(function(e,t,i){var s=e.css;"string"==typeof s&&void 0!==t.registered[s]&&(s=t.registered[s]);var u=e[g],c=[s],d="";"string"==typeof e.className?d=(0,o.getRegisteredStyles)(t.registered,c,e.className):null!=e.className&&(d=e.className+" ");var p=(0,a.serializeStyles)(c,void 0,n.useContext(h));d+=t.key+"-"+p.name;var m={};for(var y in e)f.call(e,y)&&"css"!==y&&y!==g&&!l&&(m[y]=e[y]);return m.className=d,i&&(m.ref=i),/*#__PURE__*/n.createElement(n.Fragment,null,/*#__PURE__*/n.createElement(v,{cache:t,serialized:p,isStringTag:"string"==typeof u}),/*#__PURE__*/n.createElement(u,m))})}),et("eiYdf",function(e,t){q(e.exports,"default",()=>g);var n=ee("kiXBf"),i=ee("g5XDJ"),o=ee("8tJVk"),a=ee("5tUeD"),s="undefined"!=typeof document,l=function(e,t,n){for(var o=0,a=0;o=a,a=(0,i.peek)(),38===o&&12===a&&(t[n]=1),!(0,i.token)(a);)(0,i.next)();return(0,i.slice)(e,i.position)},u=function(e,t){var n=-1,o=44;do switch((0,i.token)(o)){case 0:38===o&&12===(0,i.peek)()&&(t[n]=1),e[n]+=l(i.position-1,t,n);break;case 2:e[n]+=(0,i.delimit)(o);break;case 4:if(44===o){e[++n]=58===(0,i.peek)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=(0,i.from)(o)}while(o=(0,i.next)())return e},c=/* #__PURE__ */new WeakMap,d=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||c.get(n))&&!o){c.set(e,!0);for(var a=[],s=(0,i.dealloc)(u((0,i.alloc)(t),a)),l=n.props,d=0,p=0;d<s.length;d++)for(var h=0;h<l.length;h++,p++)e.props[p]=a[d]?s[d].replace(/&\f/g,l[h]):l[h]+" "+s[d]}}},p=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},h=s?void 0:(0,o.default)(function(){return(0,a.default)(function(){var e={};return function(t){return e[t]}})}),f=[function(e,t,n,o){if(e.length>-1&&!e.return)switch(e.type){case i.DECLARATION:e.return=function e(t,n){switch((0,i.hash)(t,n)){case 5103:return i.WEBKIT+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return i.WEBKIT+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return i.WEBKIT+t+i.MOZ+t+i.MS+t+t;case 6828:case 4268:return i.WEBKIT+t+i.MS+t+t;case 6165:return i.WEBKIT+t+i.MS+"flex-"+t+t;case 5187:return i.WEBKIT+t+(0,i.replace)(t,/(\w+).+(:[^]+)/,i.WEBKIT+"box-$1$2"+i.MS+"flex-$1$2")+t;case 5443:return i.WEBKIT+t+i.MS+"flex-item-"+(0,i.replace)(t,/flex-|-self/,"")+t;case 4675:return i.WEBKIT+t+i.MS+"flex-line-pack"+(0,i.replace)(t,/align-content|flex-|-self/,"")+t;case 5548:return i.WEBKIT+t+i.MS+(0,i.replace)(t,"shrink","negative")+t;case 5292:return i.WEBKIT+t+i.MS+(0,i.replace)(t,"basis","preferred-size")+t;case 6060:return i.WEBKIT+"box-"+(0,i.replace)(t,"-grow","")+i.WEBKIT+t+i.MS+(0,i.replace)(t,"grow","positive")+t;case 4554:return i.WEBKIT+(0,i.replace)(t,/([^-])(transform)/g,"$1"+i.WEBKIT+"$2")+t;case 6187:return(0,i.replace)((0,i.replace)((0,i.replace)(t,/(zoom-|grab)/,i.WEBKIT+"$1"),/(image-set)/,i.WEBKIT+"$1"),t,"")+t;case 5495:case 3959:return(0,i.replace)(t,/(image-set\([^]*)/,i.WEBKIT+"$1$`$1");case 4968:return(0,i.replace)((0,i.replace)(t,/(.+:)(flex-)?(.*)/,i.WEBKIT+"box-pack:$3"+i.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+i.WEBKIT+t+t;case 4095:case 3583:case 4068:case 2532:return(0,i.replace)(t,/(.+)-inline(.+)/,i.WEBKIT+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,i.strlen)(t)-1-n>6)switch((0,i.charat)(t,n+1)){case 109:if(45!==(0,i.charat)(t,n+4))break;case 102:return(0,i.replace)(t,/(.+:)(.+)-([^]+)/,"$1"+i.WEBKIT+"$2-$3$1"+i.MOZ+(108==(0,i.charat)(t,n+3)?"$3":"$2-$3"))+t;case 115:return~(0,i.indexof)(t,"stretch")?e((0,i.replace)(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==(0,i.charat)(t,n+1))break;case 6444:switch((0,i.charat)(t,(0,i.strlen)(t)-3-(~(0,i.indexof)(t,"!important")&&10))){case 107:return(0,i.replace)(t,":",":"+i.WEBKIT)+t;case 101:return(0,i.replace)(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+i.WEBKIT+(45===(0,i.charat)(t,14)?"inline-":"")+"box$3$1"+i.WEBKIT+"$2$3$1"+i.MS+"$2box$3")+t}break;case 5936:switch((0,i.charat)(t,n+11)){case 114:return i.WEBKIT+t+i.MS+(0,i.replace)(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return i.WEBKIT+t+i.MS+(0,i.replace)(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return i.WEBKIT+t+i.MS+(0,i.replace)(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return i.WEBKIT+t+i.MS+t+t}return t}(e.value,e.length);break;case i.KEYFRAMES:return(0,i.serialize)([(0,i.copy)(e,{value:(0,i.replace)(e.value,"@","@"+i.WEBKIT)})],o);case i.RULESET:if(e.length)return(0,i.combine)(e.props,function(t){switch((0,i.match)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,i.serialize)([(0,i.copy)(e,{props:[(0,i.replace)(t,/:(read-\w+)/,":"+i.MOZ+"$1")]})],o);case"::placeholder":return(0,i.serialize)([(0,i.copy)(e,{props:[(0,i.replace)(t,/:(plac\w+)/,":"+i.WEBKIT+"input-$1")]}),(0,i.copy)(e,{props:[(0,i.replace)(t,/:(plac\w+)/,":"+i.MOZ+"$1")]}),(0,i.copy)(e,{props:[(0,i.replace)(t,/:(plac\w+)/,i.MS+"input-$1")]})],o)}return""})}}],g=function(e){var t=e.key;if(s&&"css"===t){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a=e.stylisPlugins||f,l={},u=[];s&&(g=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)l[t[n]]=!0;u.push(e)}));var c=[d,p];if(s){var g,m,v,y=[i.stringify,(0,i.rulesheet)(function(e){v.insert(e)})],b=(0,i.middleware)(c.concat(a,y));m=function(e,t,n,o){var a;v=n,a=e?e+"{"+t.styles+"}":t.styles,(0,i.serialize)((0,i.compile)(a),b),o&&(E.inserted[t.name]=!0)}}else{var w=[i.stringify],x=(0,i.middleware)(c.concat(a,w)),S=h(a)(t),_=function(e,t){var n,o=t.name;return void 0===S[o]&&(S[o]=(n=e?e+"{"+t.styles+"}":t.styles,(0,i.serialize)((0,i.compile)(n),x))),S[o]};m=function(e,t,n,i){var o=t.name,a=_(e,t);return void 0===E.compat?(i&&(E.inserted[o]=!0),a):i?void(E.inserted[o]=a):a}}var E={key:t,sheet:new n.StyleSheet({key:t,container:g,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:m};return E.sheet.hydrate(u),E}}),et("kiXBf",function(e,t){q(e.exports,"StyleSheet",()=>n);var n=/*#__PURE__*/function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t;this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t))}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{i.insertRule(e,i.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}()}),et("g5XDJ",function(e,t){q(e.exports,"MS",()=>n),q(e.exports,"MOZ",()=>i),q(e.exports,"WEBKIT",()=>o),q(e.exports,"RULESET",()=>s),q(e.exports,"DECLARATION",()=>l),q(e.exports,"KEYFRAMES",()=>u),q(e.exports,"from",()=>d),q(e.exports,"hash",()=>h),q(e.exports,"charat",()=>v),q(e.exports,"match",()=>f),q(e.exports,"replace",()=>g),q(e.exports,"indexof",()=>m),q(e.exports,"strlen",()=>b),q(e.exports,"combine",()=>x),q(e.exports,"position",()=>T),q(e.exports,"copy",()=>C),q(e.exports,"next",()=>A),q(e.exports,"peek",()=>R),q(e.exports,"slice",()=>k),q(e.exports,"token",()=>D),q(e.exports,"alloc",()=>N),q(e.exports,"dealloc",()=>M),q(e.exports,"delimit",()=>L),q(e.exports,"compile",()=>j),q(e.exports,"serialize",()=>z),q(e.exports,"stringify",()=>U),q(e.exports,"middleware",()=>W),q(e.exports,"rulesheet",()=>H);var n="-ms-",i="-moz-",o="-webkit-",a="comm",s="rule",l="decl",u="@keyframes",c=Math.abs,d=String.fromCharCode,p=Object.assign;function h(e,t){return 45^v(e,0)?(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3):0}function f(e,t){return(e=t.exec(e))?e[0]:e}function g(e,t,n){return e.replace(t,n)}function m(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function y(e,t,n){return e.slice(t,n)}function b(e){return e.length}function w(e,t){return t.push(e),e}function x(e,t){return e.map(t).join("")}var S=1,_=1,E=0,T=0,O=0,I="";function P(e,t,n,i,o,a,s){return{value:e,root:t,parent:n,type:i,props:o,children:a,line:S,column:_,length:s,return:""}}function C(e,t){return p(P("",null,null,"",null,null,0),e,{length:-e.length},t)}function A(){return O=T<E?v(I,T++):0,_++,10===O&&(_=1,S++),O}function R(){return v(I,T)}function k(e,t){return y(I,e,t)}function D(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return S=_=1,E=b(I=e),T=0,[]}function M(e){return I="",e}function L(e){return k(T-1,function e(t){for(;A();)switch(O){case t:return T;case 34:case 39:34!==t&&39!==t&&e(O);break;case 40:41===t&&e(t);break;case 92:A()}return T}(91===e?e+2:40===e?e+1:e)).trim()}function j(e){return M(function e(t,n,i,o,s,l,u,c,p){for(var h,f=0,x=0,E=u,C=0,N=0,M=0,j=1,z=1,U=1,W=0,H="",V=s,G=l,$=o,q=H;z;)switch(M=W,W=A()){case 40:if(108!=M&&58==v(q,E-1)){-1!=m(q+=g(L(W),"&","&\f"),"&\f")&&(U=-1);break}case 34:case 39:case 91:q+=L(W);break;case 9:case 10:case 13:case 32:q+=function(e){for(;O=R();)if(O<33)A();else break;return D(e)>2||D(O)>3?"":" "}(M);break;case 92:q+=function(e,t){for(;--t&&A()&&!(O<48)&&!(O>102)&&(!(O>57)||!(O<65))&&(!(O>70)||!(O<97)););return k(e,T+(t<6&&32==R()&&32==A()))}(T-1,7);continue;case 47:switch(R()){case 42:case 47:w(P(h=function(e,t){for(;A();)if(e+O===57)break;else if(e+O===84&&47===R())break;return"/*"+k(t,T-1)+"*"+d(47===e?e:A())}(A(),T),n,i,a,d(O),y(h,2,-2),0),p);break;default:q+="/"}break;case 123*j:c[f++]=b(q)*U;case 125*j:case 59:case 0:switch(W){case 0:case 125:z=0;case 59+x:-1==U&&(q=g(q,/\f/g,"")),N>0&&b(q)-E&&w(N>32?B(q+";",o,i,E-1):B(g(q," ","")+";",o,i,E-2),p);break;case 59:q+=";";default:if(w($=F(q,n,i,f,x,s,c,H,V=[],G=[],E),l),123===W){if(0===x)e(q,n,$,$,V,l,E,c,G);else switch(99===C&&110===v(q,3)?100:C){case 100:case 108:case 109:case 115:e(t,$,$,o&&w(F(t,$,$,0,0,s,c,H,s,V=[],E),G),s,G,E,c,o?V:G);break;default:e(q,$,$,$,[""],G,0,c,G)}}}f=x=N=0,j=U=1,H=q="",E=u;break;case 58:E=1+b(q),N=M;default:if(j<1){if(123==W)--j;else if(125==W&&0==j++&&125==(O=T>0?v(I,--T):0,_--,10===O&&(_=1,S--),O))continue}switch(q+=d(W),W*j){case 38:U=x>0?1:(q+="\f",-1);break;case 44:c[f++]=(b(q)-1)*U,U=1;break;case 64:45===R()&&(q+=L(A())),C=R(),x=E=b(H=q+=function(e){for(;!D(R());)A();return k(e,T)}(T)),W++;break;case 45:45===M&&2==b(q)&&(j=0)}}return l}("",null,null,null,[""],e=N(e),0,[0],e))}function F(e,t,n,i,o,a,l,u,d,p,h){for(var f=o-1,m=0===o?a:[""],v=m.length,b=0,w=0,x=0;b<i;++b)for(var S=0,_=y(e,f+1,f=c(w=l[b])),E=e;S<v;++S)(E=(w>0?m[S]+" "+_:g(_,/&\f/g,m[S])).trim())&&(d[x++]=E);return P(e,t,n,0===o?s:u,d,p,h)}function B(e,t,n,i){return P(e,t,n,l,y(e,0,i),y(e,i+1,-1),i)}function z(e,t){for(var n="",i=e.length,o=0;o<i;o++)n+=t(e[o],o,e,t)||"";return n}function U(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case l:return e.return=e.return||e.value;case a:return"";case u:return e.return=e.value+"{"+z(e.children,i)+"}";case s:e.value=e.props.join(",")}return b(n=z(e.children,i))?e.return=e.value+"{"+n+"}":""}function W(e){var t=e.length;return function(n,i,o,a){for(var s="",l=0;l<t;l++)s+=e[l](n,i,o,a)||"";return s}}function H(e){return function(t){!t.root&&(t=t.return)&&e(t)}}}),et("8tJVk",function(e,t){q(e.exports,"default",()=>n);var n=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var i=e(n);return t.set(n,i),i}}}),et("dqXb2",function(e,t){q(e.exports,"default",()=>i);var n=ee("47JnA"),i=function(e,t){return /*@__PURE__*/Y(n)(e,t)}}),et("47JnA",function(e,t){var n=ee("dGaiO"),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var a=h(n);a&&a!==f&&e(t,a,i)}var s=c(n);d&&(s=s.concat(d(n)));for(var g=l(t),m=l(n),v=0;v<s.length;++v){var y=s[v];if(!o[y]&&!(i&&i[y])&&!(m&&m[y])&&!(g&&g[y])){var b=p(n,y);try{u(t,y,b)}catch(e){}}}}return t}}),et("dGaiO",function(e,t){e.exports=ee("83hC4")}),et("83hC4",function(e,t){q(e.exports,"AsyncMode",()=>n,e=>n=e),q(e.exports,"ConcurrentMode",()=>i,e=>i=e),q(e.exports,"ContextConsumer",()=>o,e=>o=e),q(e.exports,"ContextProvider",()=>a,e=>a=e),q(e.exports,"Element",()=>s,e=>s=e),q(e.exports,"ForwardRef",()=>l,e=>l=e),q(e.exports,"Fragment",()=>u,e=>u=e),q(e.exports,"Lazy",()=>c,e=>c=e),q(e.exports,"Memo",()=>d,e=>d=e),q(e.exports,"Portal",()=>p,e=>p=e),q(e.exports,"Profiler",()=>h,e=>h=e),q(e.exports,"StrictMode",()=>f,e=>f=e),q(e.exports,"Suspense",()=>g,e=>g=e),q(e.exports,"isAsyncMode",()=>m,e=>m=e),q(e.exports,"isConcurrentMode",()=>v,e=>v=e),q(e.exports,"isContextConsumer",()=>y,e=>y=e),q(e.exports,"isContextProvider",()=>b,e=>b=e),q(e.exports,"isElement",()=>w,e=>w=e),q(e.exports,"isForwardRef",()=>x,e=>x=e),q(e.exports,"isFragment",()=>S,e=>S=e),q(e.exports,"isLazy",()=>_,e=>_=e),q(e.exports,"isMemo",()=>E,e=>E=e),q(e.exports,"isPortal",()=>T,e=>T=e),q(e.exports,"isProfiler",()=>O,e=>O=e),q(e.exports,"isStrictMode",()=>I,e=>I=e),q(e.exports,"isSuspense",()=>P,e=>P=e),q(e.exports,"isValidElementType",()=>C,e=>C=e),q(e.exports,"typeOf",()=>A,e=>A=e);var n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R="function"==typeof Symbol&&Symbol.for,k=R?Symbol.for("react.element"):60103,D=R?Symbol.for("react.portal"):60106,N=R?Symbol.for("react.fragment"):60107,M=R?Symbol.for("react.strict_mode"):60108,L=R?Symbol.for("react.profiler"):60114,j=R?Symbol.for("react.provider"):60109,F=R?Symbol.for("react.context"):60110,B=R?Symbol.for("react.async_mode"):60111,z=R?Symbol.for("react.concurrent_mode"):60111,U=R?Symbol.for("react.forward_ref"):60112,W=R?Symbol.for("react.suspense"):60113,H=R?Symbol.for("react.suspense_list"):60120,V=R?Symbol.for("react.memo"):60115,G=R?Symbol.for("react.lazy"):60116,$=R?Symbol.for("react.block"):60121,X=R?Symbol.for("react.fundamental"):60117,Y=R?Symbol.for("react.responder"):60118,K=R?Symbol.for("react.scope"):60119;function Z(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case k:switch(e=e.type){case B:case z:case N:case L:case M:case W:return e;default:switch(e=e&&e.$$typeof){case F:case U:case G:case V:case j:return e;default:return t}}case D:return t}}}function J(e){return Z(e)===z}n=B,i=z,o=F,a=j,s=k,l=U,u=N,c=G,d=V,p=D,h=L,f=M,g=W,m=function(e){return J(e)||Z(e)===B},v=J,y=function(e){return Z(e)===F},b=function(e){return Z(e)===j},w=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===k},x=function(e){return Z(e)===U},S=function(e){return Z(e)===N},_=function(e){return Z(e)===G},E=function(e){return Z(e)===V},T=function(e){return Z(e)===D},O=function(e){return Z(e)===L},I=function(e){return Z(e)===M},P=function(e){return Z(e)===W},C=function(e){return"string"==typeof e||"function"==typeof e||e===N||e===z||e===L||e===M||e===W||e===H||"object"==typeof e&&null!==e&&(e.$$typeof===G||e.$$typeof===V||e.$$typeof===j||e.$$typeof===F||e.$$typeof===U||e.$$typeof===X||e.$$typeof===Y||e.$$typeof===K||e.$$typeof===$)},A=Z}),et("c6q7p",function(e,t){q(e.exports,"getRegisteredStyles",()=>i),q(e.exports,"registerStyles",()=>o),q(e.exports,"insertStyles",()=>a);var n="undefined"!=typeof document;function i(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(i+=n+" ")}),i}var o=function(e,t,i){var o=e.key+"-"+t.name;(!1===i||!1===n&&void 0!==e.compat)&&void 0===e.registered[o]&&(e.registered[o]=t.styles)},a=function(e,t,i){o(e,t,i);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var s="",l=t;do{var u=e.insert(t===l?"."+a:"",l,e.sheet,!0);n||void 0===u||(s+=u),l=l.next}while(void 0!==l)if(!n&&0!==s.length)return s}}}),et("cFfGc",function(e,t){q(e.exports,"serializeStyles",()=>g);var n,i=ee("fdvmN"),o=ee("gZj38"),a=ee("5tUeD"),s=/[A-Z]|^ms/g,l=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},d=/* #__PURE__ */(0,a.default)(function(e){return u(e)?e:e.replace(s,"-$&").toLowerCase()}),p=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(l,function(e,t,i){return n={name:t,styles:i,next:n},t})}return 1===o.default[e]||u(e)||"number"!=typeof t||0===t?t:t+"px"};function h(e,t,i){if(null==i)return"";if(void 0!==i.__emotion_styles)return i;switch(typeof i){case"boolean":return"";case"object":if(1===i.anim)return n={name:i.name,styles:i.styles,next:n},i.name;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)n={name:o.name,styles:o.styles,next:n},o=o.next;return i.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=h(e,t,n[o])+";";else for(var a in n){var s=n[a];if("object"!=typeof s)null!=t&&void 0!==t[s]?i+=a+"{"+t[s]+"}":c(s)&&(i+=d(a)+":"+p(a,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==t||void 0===t[s[0]]))for(var l=0;l<s.length;l++)c(s[l])&&(i+=d(a)+":"+p(a,s[l])+";");else{var u=h(e,t,s);switch(a){case"animation":case"animationName":i+=d(a)+":"+u+";";break;default:i+=a+"{"+u+"}"}}}return i}(e,t,i);case"function":if(void 0!==e){var a=n,s=i(e);return n=a,h(e,t,s)}}if(null==t)return i;var l=t[i];return void 0!==l?l:i}var f=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,o){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a,s=!0,l="";n=void 0;var u=e[0];null==u||void 0===u.raw?(s=!1,l+=h(o,t,u)):l+=u[0];for(var c=1;c<e.length;c++)l+=h(o,t,e[c]),s&&(l+=u[c]);f.lastIndex=0;for(var d="";null!==(a=f.exec(l));)d+="-"+a[1];return{name:(0,i.default)(l)+d,styles:l,next:n}}}),et("fdvmN",function(e,t){q(e.exports,"default",()=>n);function n(e){for(var t,n=0,i=0,o=e.length;o>=4;++i,o-=4)t=(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))*0x5bd1e995+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*0x5bd1e995+((t>>>16)*59797<<16)^(65535&n)*0x5bd1e995+((n>>>16)*59797<<16);switch(o){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n^=255&e.charCodeAt(i),n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*0x5bd1e995+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}}),et("gZj38",function(e,t){q(e.exports,"default",()=>n);var n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}}),et("bcIIz",function(e,t){q(e.exports,"useInsertionEffectAlwaysWithSyncFallback",()=>a),q(e.exports,"useInsertionEffectWithLayoutFallback",()=>s);var n=ee("dm060"),i="undefined"!=typeof document,o=!!n.useInsertionEffect&&n.useInsertionEffect,a=i&&o||function(e){return e()},s=o||n.useLayoutEffect}),et("27cHL",function(e,t){let n;q(e.exports,"default",()=>s),ee("dm060");var i=ee("a2BaF"),o=ee("eiYdf"),a=ee("9L45J");function s(e){let{injectFirst:t,children:o}=e;return t&&n?/*#__PURE__*/(0,a.jsx)(i.C,{value:n,children:o}):o}"object"==typeof document&&(n=(0,o.default)({key:"css",prepend:!0}))}),et("cmbiA",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("1yKl8"),i=ee("9L45J");function o(e){let{styles:t,defaultTheme:o={}}=e,a="function"==typeof t?e=>t(null==e||0===Object.keys(e).length?o:e):t;return/*#__PURE__*/(0,i.jsx)(n.Global,{styles:a})}}),et("xtY8e",function(e,t){q(e.exports,"isPlainObject",()=>i),q(e.exports,"default",()=>function e(t,o,a={clone:!0}){let s=a.clone?(0,n.default)({},t):t;return i(t)&&i(o)&&Object.keys(o).forEach(n=>{i(o[n])&&Object.prototype.hasOwnProperty.call(t,n)&&i(t[n])?s[n]=e(t[n],o[n],a):a.clone?s[n]=i(o[n])?function e(t){if(!i(t))return t;let n={};return Object.keys(t).forEach(i=>{n[i]=e(t[i])}),n}(o[n]):o[n]:s[n]=o[n]}),s});var n=ee("5XyNA");function i(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}}),et("jjs3N",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("joQYF").default),ee("joQYF")}),et("joQYF",function(e,t){q(e.exports,"default",()=>i);var n=ee("bfgsZ");function i(e){if("string"!=typeof e)throw Error((0,n.default)(7));return e.charAt(0).toUpperCase()+e.slice(1)}}),et("cdXyX",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("6M3uD").default);var n=ee("6M3uD");Z(e.exports,n)}),et("6M3uD",function(e,t){K(e.exports),q(e.exports,"getFunctionName",()=>o),q(e.exports,"default",()=>l);var n=ee("g1VXJ");let i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){let t=`${e}`.match(i);return t&&t[1]||""}function a(e,t=""){return e.displayName||e.name||o(e)||t}function s(e,t,n){let i=a(t);return e.displayName||(""!==i?`${n}(${i})`:n)}function l(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return a(e,"Component");if("object"==typeof e)switch(e.$$typeof){case n.ForwardRef:return s(e,e.render,"ForwardRef");case n.Memo:return s(e,e.type,"memo")}}}}),et("g1VXJ",function(e,t){e.exports=ee("6Ia8p")}),et("6Ia8p",function(e,t){q(e.exports,"ContextConsumer",()=>n,e=>n=e),q(e.exports,"ContextProvider",()=>i,e=>i=e),q(e.exports,"Element",()=>o,e=>o=e),q(e.exports,"ForwardRef",()=>a,e=>a=e),q(e.exports,"Fragment",()=>s,e=>s=e),q(e.exports,"Lazy",()=>l,e=>l=e),q(e.exports,"Memo",()=>u,e=>u=e),q(e.exports,"Portal",()=>c,e=>c=e),q(e.exports,"Profiler",()=>d,e=>d=e),q(e.exports,"StrictMode",()=>p,e=>p=e),q(e.exports,"Suspense",()=>h,e=>h=e),q(e.exports,"SuspenseList",()=>f,e=>f=e),q(e.exports,"isAsyncMode",()=>g,e=>g=e),q(e.exports,"isConcurrentMode",()=>m,e=>m=e),q(e.exports,"isContextConsumer",()=>v,e=>v=e),q(e.exports,"isContextProvider",()=>y,e=>y=e),q(e.exports,"isElement",()=>b,e=>b=e),q(e.exports,"isForwardRef",()=>w,e=>w=e),q(e.exports,"isFragment",()=>x,e=>x=e),q(e.exports,"isLazy",()=>S,e=>S=e),q(e.exports,"isMemo",()=>_,e=>_=e),q(e.exports,"isPortal",()=>E,e=>E=e),q(e.exports,"isProfiler",()=>T,e=>T=e),q(e.exports,"isStrictMode",()=>O,e=>O=e),q(e.exports,"isSuspense",()=>I,e=>I=e),q(e.exports,"isSuspenseList",()=>P,e=>P=e),q(e.exports,"isValidElementType",()=>C,e=>C=e),q(e.exports,"typeOf",()=>A,e=>A=e);var n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R,k=Symbol.for("react.element"),D=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.server_context"),z=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen");function $(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case k:switch(e=e.type){case N:case L:case M:case U:case W:return e;default:switch(e=e&&e.$$typeof){case B:case F:case z:case V:case H:case j:return e;default:return t}}case D:return t}}}R=Symbol.for("react.module.reference"),n=F,i=j,o=k,a=z,s=N,l=V,u=H,c=D,d=L,p=M,h=U,f=W,g=function(){return!1},m=function(){return!1},v=function(e){return $(e)===F},y=function(e){return $(e)===j},b=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===k},w=function(e){return $(e)===z},x=function(e){return $(e)===N},S=function(e){return $(e)===V},_=function(e){return $(e)===H},E=function(e){return $(e)===D},T=function(e){return $(e)===L},O=function(e){return $(e)===M},I=function(e){return $(e)===U},P=function(e){return $(e)===W},C=function(e){return"string"==typeof e||"function"==typeof e||e===N||e===L||e===M||e===U||e===W||e===G||"object"==typeof e&&null!==e&&(e.$$typeof===V||e.$$typeof===H||e.$$typeof===j||e.$$typeof===F||e.$$typeof===z||e.$$typeof===R||void 0!==e.getModuleId)},A=$}),et("gI7F6",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("bZJvG").default),q(e.exports,"private_createBreakpoints",()=>ee("jrAWM").default),q(e.exports,"unstable_applyStyles",()=>ee("dpQp0").default),ee("bZJvG"),ee("jrAWM"),ee("dpQp0")}),et("bZJvG",function(e,t){q(e.exports,"default",()=>h);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("xtY8e"),a=ee("jrAWM"),s=ee("eddvN"),l=ee("akj0p"),u=ee("eQHkW"),c=ee("jxWkr"),d=ee("dpQp0");let p=["breakpoints","palette","spacing","shape"];var h=function(e={},...t){let{breakpoints:h={},palette:f={},spacing:g,shape:m={}}=e,v=(0,i.default)(e,p),y=(0,a.default)(h),b=(0,l.default)(g),w=(0,o.default)({breakpoints:y,direction:"ltr",components:{},palette:(0,n.default)({mode:"light"},f),spacing:b,shape:(0,n.default)({},s.default,m)},v);return w.applyStyles=d.default,(w=t.reduce((e,t)=>(0,o.default)(e,t),w)).unstable_sxConfig=(0,n.default)({},c.default,null==v?void 0:v.unstable_sxConfig),w.unstable_sx=function(e){return(0,u.default)({sx:e,theme:this})},w}}),et("jrAWM",function(e,t){q(e.exports,"default",()=>s);var n=ee("u6U9p"),i=ee("5XyNA");let o=["values","unit","step"],a=e=>{let t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>(0,i.default)({},e,{[t.key]:t.val}),{})};function s(e){let{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:l=5}=e,u=(0,n.default)(e,o),c=a(t),d=Object.keys(c);function p(e){let n="number"==typeof t[e]?t[e]:e;return`@media (min-width:${n}${s})`}function h(e){let n="number"==typeof t[e]?t[e]:e;return`@media (max-width:${n-l/100}${s})`}function f(e,n){let i=d.indexOf(n);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${s}) and (max-width:${(-1!==i&&"number"==typeof t[d[i]]?t[d[i]]:n)-l/100}${s})`}return(0,i.default)({keys:d,values:c,up:p,down:h,between:f,only:function(e){return d.indexOf(e)+1<d.length?f(e,d[d.indexOf(e)+1]):p(e)},not:function(e){let t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?h(d[t]):f(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},u)}}),et("eddvN",function(e,t){q(e.exports,"default",()=>n);var n={borderRadius:4}}),et("akj0p",function(e,t){q(e.exports,"default",()=>i);var n=ee("dZIoo");function i(e=8){if(e.mui)return e;let t=(0,n.createUnarySpacing)({spacing:e}),o=(...e)=>(0===e.length?[1]:e).map(e=>{let n=t(e);return"number"==typeof n?`${n}px`:n}).join(" ");return o.mui=!0,o}}),et("dZIoo",function(e,t){q(e.exports,"createUnaryUnit",()=>f),q(e.exports,"createUnarySpacing",()=>g),q(e.exports,"getValue",()=>m),q(e.exports,"margin",()=>y),q(e.exports,"padding",()=>b);var n=ee("boojd"),i=ee("1Yyok"),o=ee("8LCPs"),a=ee("c7tUo");let s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=(0,a.default)(e=>{if(e.length>2){if(!u[e])return[e];e=u[e]}let[t,n]=e.split(""),i=s[t],o=l[n]||"";return Array.isArray(o)?o.map(e=>i+e):[i+o]}),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],p=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...d,...p];function f(e,t,n,o){var a;let s=null!=(a=(0,i.getPath)(e,t,!1))?a:n;return"number"==typeof s?e=>"string"==typeof e?e:s*e:Array.isArray(s)?e=>"string"==typeof e?e:s[e]:"function"==typeof s?s:()=>void 0}function g(e){return f(e,"spacing",8,"spacing")}function m(e,t){if("string"==typeof t||null==t)return t;let n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function v(e,t){let i=g(e.theme);return Object.keys(e).map(o=>(function(e,t,i,o){var a;if(-1===t.indexOf(i))return null;let s=(a=c(i),e=>a.reduce((t,n)=>(t[n]=m(o,e),t),{})),l=e[i];return(0,n.handleBreakpoints)(e,l,s)})(e,t,o,i)).reduce(o.default,{})}function y(e){return v(e,d)}function b(e){return v(e,p)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=d,b.propTypes={},b.filterProps=p,w.propTypes={},w.filterProps=h}),et("boojd",function(e,t){q(e.exports,"values",()=>i),q(e.exports,"handleBreakpoints",()=>a),q(e.exports,"createEmptyBreakpointObject",()=>s),q(e.exports,"removeUnusedBreakpoints",()=>l),q(e.exports,"mergeBreakpointsInOrder",()=>u),q(e.exports,"resolveBreakpointValues",()=>c),ee("5XyNA");var n=ee("xtY8e");ee("8LCPs");let i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${i[e]}px)`};function a(e,t,n){let a=e.theme||{};if(Array.isArray(t)){let e=a.breakpoints||o;return t.reduce((i,o,a)=>(i[e.up(e.keys[a])]=n(t[a]),i),{})}if("object"==typeof t){let e=a.breakpoints||o;return Object.keys(t).reduce((o,a)=>(-1!==Object.keys(e.values||i).indexOf(a)?o[e.up(a)]=n(t[a],a):o[a]=t[a],o),{})}return n(t)}function s(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce((t,n)=>(t[e.up(n)]={},t),{}))||{}}function l(e,t){return e.reduce((e,t)=>{let n=e[t];return n&&0!==Object.keys(n).length||delete e[t],e},t)}function u(e,...t){let i=s(e),o=[i,...t].reduce((e,t)=>(0,n.default)(e,t),{});return l(Object.keys(i),o)}function c({values:e,breakpoints:t,base:n}){let i;let o=Object.keys(n||function(e,t){if("object"!=typeof e)return{};let n={},i=Object.keys(t);return Array.isArray(e)?i.forEach((t,i)=>{i<e.length&&(n[t]=!0)}):i.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(e,t));return 0===o.length?e:o.reduce((t,n,o)=>(Array.isArray(e)?(t[n]=null!=e[o]?e[o]:e[i],i=o):"object"==typeof e?(t[n]=null!=e[n]?e[n]:e[i],i=n):t[n]=e,t),{})}}),et("8LCPs",function(e,t){q(e.exports,"default",()=>i);var n=ee("xtY8e"),i=function(e,t){return t?(0,n.default)(e,t,{clone:!1}):e}}),et("1Yyok",function(e,t){q(e.exports,"getPath",()=>o),q(e.exports,"getStyleValue",()=>a),q(e.exports,"default",()=>s);var n=ee("joQYF"),i=ee("boojd");function o(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){let n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function a(e,t,n,i=n){let s;return s="function"==typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(s=t(s,i,e)),s}var s=function(e){let{prop:t,cssProperty:s=e.prop,themeKey:l,transform:u}=e,c=e=>{if(null==e[t])return null;let c=e[t],d=o(e.theme,l)||{};return(0,i.handleBreakpoints)(e,c,e=>{let i=a(d,u,e);return(e===i&&"string"==typeof e&&(i=a(d,u,`${t}${"default"===e?"":(0,n.default)(e)}`,e)),!1===s)?i:{[s]:i}})};return c.propTypes={},c.filterProps=[t],c}}),et("c7tUo",function(e,t){q(e.exports,"default",()=>n);function n(e){let t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}}),et("eQHkW",function(e,t){q(e.exports,"unstable_createStyleFunctionSx",()=>l),q(e.exports,"default",()=>c);var n=ee("joQYF"),i=ee("8LCPs"),o=ee("1Yyok"),a=ee("boojd"),s=ee("jxWkr");function l(){function e(e,t,i,s){let l={[e]:t,theme:i},u=s[e];if(!u)return{[e]:t};let{cssProperty:c=e,themeKey:d,transform:p,style:h}=u;if(null==t)return null;if("typography"===d&&"inherit"===t)return{[e]:t};let f=(0,o.getPath)(i,d)||{};return h?h(l):(0,a.handleBreakpoints)(l,t,t=>{let i=(0,o.getStyleValue)(f,p,t);return(t===i&&"string"==typeof t&&(i=(0,o.getStyleValue)(f,p,`${e}${"default"===t?"":(0,n.default)(t)}`,t)),!1===c)?i:{[c]:i}})}return function t(n){var o;let{sx:l,theme:u={}}=n||{};if(!l)return null;let c=null!=(o=u.unstable_sxConfig)?o:s.default;function d(n){let o=n;if("function"==typeof n)o=n(u);else if("object"!=typeof n)return n;if(!o)return null;let s=(0,a.createEmptyBreakpointObject)(u.breakpoints),l=Object.keys(s),d=s;return Object.keys(o).forEach(n=>{var s;let l="function"==typeof(s=o[n])?s(u):s;if(null!=l){if("object"==typeof l){if(c[n])d=(0,i.default)(d,e(n,l,u,c));else{let e=(0,a.handleBreakpoints)({theme:u},l,e=>({[n]:e}));(function(...e){let t=new Set(e.reduce((e,t)=>e.concat(Object.keys(t)),[]));return e.every(e=>t.size===Object.keys(e).length)})(e,l)?d[n]=t({sx:l,theme:u}):d=(0,i.default)(d,e)}}else d=(0,i.default)(d,e(n,l,u,c))}}),(0,a.removeUnusedBreakpoints)(l,d)}return Array.isArray(l)?l.map(d):d(l)}}let u=l();u.filterProps=["sx"];var c=u}),et("jxWkr",function(e,t){q(e.exports,"default",()=>l);var n=ee("dZIoo"),i=ee("ev0FR"),o=ee("i94k0"),a=ee("cnPrD"),s=ee("huwTy"),l={border:{themeKey:"borders",transform:i.borderTransform},borderTop:{themeKey:"borders",transform:i.borderTransform},borderRight:{themeKey:"borders",transform:i.borderTransform},borderBottom:{themeKey:"borders",transform:i.borderTransform},borderLeft:{themeKey:"borders",transform:i.borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:i.borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:i.borderRadius},color:{themeKey:"palette",transform:a.paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a.paletteTransform},backgroundColor:{themeKey:"palette",transform:a.paletteTransform},p:{style:n.padding},pt:{style:n.padding},pr:{style:n.padding},pb:{style:n.padding},pl:{style:n.padding},px:{style:n.padding},py:{style:n.padding},padding:{style:n.padding},paddingTop:{style:n.padding},paddingRight:{style:n.padding},paddingBottom:{style:n.padding},paddingLeft:{style:n.padding},paddingX:{style:n.padding},paddingY:{style:n.padding},paddingInline:{style:n.padding},paddingInlineStart:{style:n.padding},paddingInlineEnd:{style:n.padding},paddingBlock:{style:n.padding},paddingBlockStart:{style:n.padding},paddingBlockEnd:{style:n.padding},m:{style:n.margin},mt:{style:n.margin},mr:{style:n.margin},mb:{style:n.margin},ml:{style:n.margin},mx:{style:n.margin},my:{style:n.margin},margin:{style:n.margin},marginTop:{style:n.margin},marginRight:{style:n.margin},marginBottom:{style:n.margin},marginLeft:{style:n.margin},marginX:{style:n.margin},marginY:{style:n.margin},marginInline:{style:n.margin},marginInlineStart:{style:n.margin},marginInlineEnd:{style:n.margin},marginBlock:{style:n.margin},marginBlockStart:{style:n.margin},marginBlockEnd:{style:n.margin},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:o.gap},rowGap:{style:o.rowGap},columnGap:{style:o.columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:s.sizingTransform},maxWidth:{style:s.maxWidth},minWidth:{transform:s.sizingTransform},height:{transform:s.sizingTransform},maxHeight:{transform:s.sizingTransform},minHeight:{transform:s.sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}}}),et("ev0FR",function(e,t){q(e.exports,"borderTransform",()=>s),q(e.exports,"borderRadius",()=>x);var n=ee("1Yyok"),i=ee("eIalQ"),o=ee("dZIoo"),a=ee("boojd");function s(e){return"number"!=typeof e?e:`${e}px solid`}function l(e,t){return(0,n.default)({prop:e,themeKey:"borders",transform:t})}let u=l("border",s),c=l("borderTop",s),d=l("borderRight",s),p=l("borderBottom",s),h=l("borderLeft",s),f=l("borderColor"),g=l("borderTopColor"),m=l("borderRightColor"),v=l("borderBottomColor"),y=l("borderLeftColor"),b=l("outline",s),w=l("outlineColor"),x=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){let t=(0,o.createUnaryUnit)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.handleBreakpoints)(e,e.borderRadius,e=>({borderRadius:(0,o.getValue)(t,e)}))}return null};x.propTypes={},x.filterProps=["borderRadius"],(0,i.default)(u,c,d,p,h,f,g,m,v,y,x,b,w)}),et("eIalQ",function(e,t){q(e.exports,"default",()=>i);var n=ee("8LCPs"),i=function(...e){let t=e.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),i=e=>Object.keys(e).reduce((i,o)=>t[o]?(0,n.default)(i,t[o](e)):i,{});return i.propTypes={},i.filterProps=e.reduce((e,t)=>e.concat(t.filterProps),[]),i}}),et("i94k0",function(e,t){q(e.exports,"gap",()=>s),q(e.exports,"columnGap",()=>l),q(e.exports,"rowGap",()=>u);var n=ee("1Yyok"),i=ee("eIalQ"),o=ee("dZIoo"),a=ee("boojd");let s=e=>{if(void 0!==e.gap&&null!==e.gap){let t=(0,o.createUnaryUnit)(e.theme,"spacing",8,"gap");return(0,a.handleBreakpoints)(e,e.gap,e=>({gap:(0,o.getValue)(t,e)}))}return null};s.propTypes={},s.filterProps=["gap"];let l=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){let t=(0,o.createUnaryUnit)(e.theme,"spacing",8,"columnGap");return(0,a.handleBreakpoints)(e,e.columnGap,e=>({columnGap:(0,o.getValue)(t,e)}))}return null};l.propTypes={},l.filterProps=["columnGap"];let u=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){let t=(0,o.createUnaryUnit)(e.theme,"spacing",8,"rowGap");return(0,a.handleBreakpoints)(e,e.rowGap,e=>({rowGap:(0,o.getValue)(t,e)}))}return null};u.propTypes={},u.filterProps=["rowGap"];let c=(0,n.default)({prop:"gridColumn"}),d=(0,n.default)({prop:"gridRow"}),p=(0,n.default)({prop:"gridAutoFlow"}),h=(0,n.default)({prop:"gridAutoColumns"}),f=(0,n.default)({prop:"gridAutoRows"}),g=(0,n.default)({prop:"gridTemplateColumns"}),m=(0,n.default)({prop:"gridTemplateRows"}),v=(0,n.default)({prop:"gridTemplateAreas"}),y=(0,n.default)({prop:"gridArea"});(0,i.default)(s,l,u,c,d,p,h,f,g,m,v,y)}),et("cnPrD",function(e,t){q(e.exports,"paletteTransform",()=>o);var n=ee("1Yyok"),i=ee("eIalQ");function o(e,t){return"grey"===t?t:e}let a=(0,n.default)({prop:"color",themeKey:"palette",transform:o}),s=(0,n.default)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:o}),l=(0,n.default)({prop:"backgroundColor",themeKey:"palette",transform:o});(0,i.default)(a,s,l)}),et("huwTy",function(e,t){q(e.exports,"sizingTransform",()=>a),q(e.exports,"maxWidth",()=>l);var n=ee("1Yyok"),i=ee("eIalQ"),o=ee("boojd");function a(e){return e<=1&&0!==e?`${100*e}%`:e}let s=(0,n.default)({prop:"width",transform:a}),l=e=>void 0!==e.maxWidth&&null!==e.maxWidth?(0,o.handleBreakpoints)(e,e.maxWidth,t=>{var n,i;let s=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||o.values[t];return s?(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:a(t)}}):null;l.filterProps=["maxWidth"];let u=(0,n.default)({prop:"minWidth",transform:a}),c=(0,n.default)({prop:"height",transform:a}),d=(0,n.default)({prop:"maxHeight",transform:a}),p=(0,n.default)({prop:"minHeight",transform:a});(0,n.default)({prop:"size",cssProperty:"width",transform:a}),(0,n.default)({prop:"size",cssProperty:"height",transform:a});let h=(0,n.default)({prop:"boxSizing"});(0,i.default)(s,l,u,c,d,p,h)}),et("dpQp0",function(e,t){q(e.exports,"default",()=>n);function n(e,t){return this.vars&&"function"==typeof this.getColorSchemeSelector?{[this.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:this.palette.mode===e?t:{}}}),et("8bwCU",function(e,t){K(e.exports),q(e.exports,"default",()=>ee("eQHkW").default),q(e.exports,"unstable_createStyleFunctionSx",()=>ee("eQHkW").unstable_createStyleFunctionSx),q(e.exports,"extendSxProp",()=>ee("a4pZ6").default),q(e.exports,"unstable_defaultSxConfig",()=>ee("jxWkr").default),ee("eQHkW"),ee("a4pZ6"),ee("jxWkr")}),et("a4pZ6",function(e,t){q(e.exports,"default",()=>u);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("xtY8e"),a=ee("jxWkr");let s=["sx"],l=e=>{var t,n;let i={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.default;return Object.keys(e).forEach(t=>{o[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]}),i};function u(e){let t;let{sx:a}=e,{systemProps:u,otherProps:c}=l((0,i.default)(e,s));return t=Array.isArray(a)?[u,...a]:"function"==typeof a?(...e)=>{let t=a(...e);return(0,o.isPlainObject)(t)?(0,n.default)({},u,t):u}:(0,n.default)({},u,a),(0,n.default)({},c,{sx:t})}}),et("bR10X",function(e,t){q(e.exports,"default",()=>n);var n=(0,ee("jyNCQ").default)()}),et("jyNCQ",function(e,t){q(e.exports,"default",()=>v);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("bfgsZ"),a=ee("xtY8e"),s=ee("eQHkW"),l=ee("jxWkr"),u=ee("bZJvG"),c=ee("jLT7O"),d=ee("8GrmO"),p=ee("eN5A6"),h=ee("28wwN"),f=ee("d1GX6"),g=ee("5FTwU");let m=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];var v=function(e={},...t){let{mixins:v={},palette:y={},transitions:b={},typography:w={}}=e,x=(0,i.default)(e,m);if(e.vars)throw Error((0,o.default)(18));let S=(0,d.default)(y),_=(0,u.default)(e),E=(0,a.default)(_,{mixins:(0,c.default)(_.breakpoints,v),palette:S,shadows:(0,h.default).slice(),typography:(0,p.default)(S,w),transitions:(0,f.default)(b),zIndex:(0,n.default)({},g.default)});return E=(0,a.default)(E,x),(E=t.reduce((e,t)=>(0,a.default)(e,t),E)).unstable_sxConfig=(0,n.default)({},l.default,null==x?void 0:x.unstable_sxConfig),E.unstable_sx=function(e){return(0,s.default)({sx:e,theme:this})},E}}),et("jLT7O",function(e,t){q(e.exports,"default",()=>i);var n=ee("5XyNA");function i(e,t){return(0,n.default)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}}),et("8GrmO",function(e,t){q(e.exports,"default",()=>w);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("bfgsZ"),a=ee("xtY8e"),s=ee("9xsQ3"),l=ee("fLCDb"),u=ee("j2jKk"),c=ee("9XbOw"),d=ee("2Z6ts"),p=ee("7VHuL"),h=ee("9EhHN"),f=ee("GRGGn"),g=ee("cn2vC");let m=["mode","contrastThreshold","tonalOffset"],v={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:l.default.white,default:l.default.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},y={text:{primary:l.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:l.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b(e,t,n,i){let o=i.light||i,a=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,s.lighten)(e.main,o):"dark"===t&&(e.dark=(0,s.darken)(e.main,a)))}function w(e){let{mode:t="light",contrastThreshold:w=3,tonalOffset:x=.2}=e,S=(0,i.default)(e,m),_=e.primary||function(e="light"){return"dark"===e?{main:h.default[200],light:h.default[50],dark:h.default[400]}:{main:h.default[700],light:h.default[400],dark:h.default[800]}}(t),E=e.secondary||function(e="light"){return"dark"===e?{main:c.default[200],light:c.default[50],dark:c.default[400]}:{main:c.default[500],light:c.default[300],dark:c.default[700]}}(t),T=e.error||function(e="light"){return"dark"===e?{main:d.default[500],light:d.default[300],dark:d.default[700]}:{main:d.default[700],light:d.default[400],dark:d.default[800]}}(t),O=e.info||function(e="light"){return"dark"===e?{main:f.default[400],light:f.default[300],dark:f.default[700]}:{main:f.default[700],light:f.default[500],dark:f.default[900]}}(t),I=e.success||function(e="light"){return"dark"===e?{main:g.default[400],light:g.default[300],dark:g.default[700]}:{main:g.default[800],light:g.default[500],dark:g.default[900]}}(t),P=e.warning||function(e="light"){return"dark"===e?{main:p.default[400],light:p.default[300],dark:p.default[700]}:{main:"#ed6c02",light:p.default[500],dark:p.default[900]}}(t);function C(e){return(0,s.getContrastRatio)(e,y.text.primary)>=w?y.text.primary:v.text.primary}let A=({color:e,name:t,mainShade:i=500,lightShade:a=300,darkShade:s=700})=>{if(!(e=(0,n.default)({},e)).main&&e[i]&&(e.main=e[i]),!e.hasOwnProperty("main"))throw Error((0,o.default)(11,t?` (${t})`:"",i));if("string"!=typeof e.main)throw Error((0,o.default)(12,t?` (${t})`:"",JSON.stringify(e.main)));return b(e,"light",a,x),b(e,"dark",s,x),e.contrastText||(e.contrastText=C(e.main)),e};return(0,a.default)((0,n.default)({common:(0,n.default)({},l.default),mode:t,primary:A({color:_,name:"primary"}),secondary:A({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:T,name:"error"}),warning:A({color:P,name:"warning"}),info:A({color:O,name:"info"}),success:A({color:I,name:"success"}),grey:u.default,contrastThreshold:w,getContrastText:C,augmentColor:A,tonalOffset:x},{dark:y,light:v}[t]),S)}}),et("fLCDb",function(e,t){q(e.exports,"default",()=>n);var n={black:"#000",white:"#fff"}}),et("j2jKk",function(e,t){q(e.exports,"default",()=>n);var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}}),et("9XbOw",function(e,t){q(e.exports,"default",()=>n);var n={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}}),et("2Z6ts",function(e,t){q(e.exports,"default",()=>n);var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}}),et("7VHuL",function(e,t){q(e.exports,"default",()=>n);var n={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}}),et("9EhHN",function(e,t){q(e.exports,"default",()=>n);var n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}}),et("GRGGn",function(e,t){q(e.exports,"default",()=>n);var n={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}}),et("cn2vC",function(e,t){q(e.exports,"default",()=>n);var n={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}}),et("eN5A6",function(e,t){q(e.exports,"default",()=>u);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("xtY8e");let a=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],s={textTransform:"uppercase"},l='"Roboto", "Helvetica", "Arial", sans-serif';function u(e,t){let u="function"==typeof t?t(e):t,{fontFamily:c=l,fontSize:d=14,fontWeightLight:p=300,fontWeightRegular:h=400,fontWeightMedium:f=500,fontWeightBold:g=700,htmlFontSize:m=16,allVariants:v,pxToRem:y}=u,b=(0,i.default)(u,a),w=d/14,x=y||(e=>`${e/m*w}rem`),S=(e,t,i,o,a)=>(0,n.default)({fontFamily:c,fontWeight:e,fontSize:x(t),lineHeight:i},c===l?{letterSpacing:`${Math.round(o/t*1e5)/1e5}em`}:{},a,v),_={h1:S(p,96,1.167,-1.5),h2:S(p,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(f,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(f,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(f,14,1.75,.4,s),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,s),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.default)((0,n.default)({htmlFontSize:m,pxToRem:x,fontFamily:c,fontSize:d,fontWeightLight:p,fontWeightRegular:h,fontWeightMedium:f,fontWeightBold:g},_),b,{clone:!1})}}),et("28wwN",function(e,t){function n(...e){return`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2),${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14),${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`}q(e.exports,"default",()=>i);var i=["none",n(0,2,1,-1,0,1,1,0,0,1,3,0),n(0,3,1,-2,0,2,2,0,0,1,5,0),n(0,3,3,-2,0,3,4,0,0,1,8,0),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)]}),et("d1GX6",function(e,t){q(e.exports,"duration",()=>s),q(e.exports,"default",()=>c);var n=ee("u6U9p"),i=ee("5XyNA");let o=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function u(e){if(!e)return 0;let t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function c(e){let t=(0,i.default)({},a,e.easing),c=(0,i.default)({},s,e.duration);return(0,i.default)({getAutoHeightDuration:u,create:(e=["all"],i={})=>{let{duration:a=c.standard,easing:s=t.easeInOut,delay:u=0}=i;return(0,n.default)(i,o),(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"==typeof a?a:l(a)} ${s} ${"string"==typeof u?u:l(u)}`).join(",")}},e,{easing:t,duration:c})}}),et("5FTwU",function(e,t){q(e.exports,"default",()=>n);var n={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}}),et("5MpsY",function(e,t){q(e.exports,"default",()=>n);var n="$$material"}),et("4RsQO",function(e,t){q(e.exports,"default",()=>i);var n=ee("cpNQ9"),i=e=>(0,n.default)(e)&&"classes"!==e}),et("cpNQ9",function(e,t){q(e.exports,"default",()=>n);var n=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}}),et("gR5ZP",function(e,t){q(e.exports,"default",()=>n);var n=e=>((e<1?5.11916*e**2:4.5*Math.log(e+1)+2)/100).toFixed(2)}),et("91wvo",function(e,t){q(e.exports,"useDefaultProps",()=>i),ee("5XyNA"),ee("dm060");var n=ee("ketzr");function i(e){return(0,n.useDefaultProps)(e)}ee("9L45J")}),et("ketzr",function(e,t){q(e.exports,"useDefaultProps",()=>s),q(e.exports,"default",()=>l);var n=ee("dm060"),i=ee("4lbob"),o=ee("9L45J");let a=/*#__PURE__*/n.createContext(void 0);function s({props:e,name:t}){return function(e){let{theme:t,name:n,props:o}=e;if(!t||!t.components||!t.components[n])return o;let a=t.components[n];return a.defaultProps?(0,i.default)(a.defaultProps,o):a.styleOverrides||a.variants?o:(0,i.default)(a,o)}({props:e,name:t,theme:{components:n.useContext(a)}})}var l=function({value:e,children:t}){return/*#__PURE__*/(0,o.jsx)(a.Provider,{value:e,children:t})}}),et("4lbob",function(e,t){q(e.exports,"default",()=>function e(t,i){let o=(0,n.default)({},i);return Object.keys(t).forEach(a=>{if(a.toString().match(/^(components|slots)$/))o[a]=(0,n.default)({},t[a],o[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){let s=t[a]||{},l=i[a];o[a]={},l&&Object.keys(l)?s&&Object.keys(s)?(o[a]=(0,n.default)({},l),Object.keys(s).forEach(t=>{o[a][t]=e(s[t],l[t])})):o[a]=l:o[a]=s}else void 0===o[a]&&(o[a]=t[a])}),o});var n=ee("5XyNA")}),et("gHMtC",function(e,t){q(e.exports,"getPaperUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiPaper",e)}(0,n.default)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"])}),et("auOVn",function(e,t){q(e.exports,"default",()=>i);var n=ee("hH6Po");function i(e,t,o="Mui"){let a={};return t.forEach(t=>{a[t]=(0,n.default)(e,t,o)}),a}}),et("hH6Po",function(e,t){q(e.exports,"default",()=>o);var n=ee("fqYkO");let i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t,a="Mui"){let s=i[t];return s?`${a}-${s}`:`${(0,n.default).generate(e)}-${t}`}}),et("fqYkO",function(e,t){let n;q(e.exports,"default",()=>o);let i=e=>e;var o=(n=i,{configure(e){n=e},generate:e=>n(e),reset(){n=i}})}),et("cvbiL",function(e,t){let n;q(e.exports,"default",()=>d);var i=ee("dm060");"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:n=X;let o=null,a=null,s=n.clearTimeout,l=n.setTimeout,u=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame,c=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame;null==u||null==c?(o=s,a=function(e){return l(e,20)}):(o=function([e,t]){u(e),s(t)},a=function(e){let t=c(function(){s(n),e()}),n=l(function(){u(t),e()},20);return[t,n]});class d extends i.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;let{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){let i=window.getComputedStyle(this._parentNode)||{},o=parseFloat(i.paddingLeft||"0"),a=parseFloat(i.paddingRight||"0"),s=parseFloat(i.paddingTop||"0"),l=parseFloat(i.paddingBottom||"0"),u=this._parentNode.getBoundingClientRect(),c=u.height-s-l,d=u.width-o-a,p=this._parentNode.offsetHeight-s-l,h=this._parentNode.offsetWidth-o-a;(e||this.state.height===p&&this.state.scaledHeight===c)&&(t||this.state.width===h&&this.state.scaledWidth===d)||(this.setState({height:p,width:h,scaledHeight:c,scaledWidth:d}),"function"==typeof n&&n({height:p,scaledHeight:c,scaledWidth:d,width:h}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){let{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;let i=t.ownerDocument.defaultView.ResizeObserver;null!=i?(this._resizeObserver=new i(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=function(e){let t,i,s,l,u,c,d;let p="undefined"!=typeof document&&document.attachEvent;if(!p){c=function(e){let t=e.__resizeTriggers__,n=t.firstElementChild,i=t.lastElementChild,o=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},d=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&0>e.target.className.indexOf("contract-trigger")&&0>e.target.className.indexOf("expand-trigger"))return;let t=this;c(this),this.__resizeRAF__&&o(this.__resizeRAF__),this.__resizeRAF__=a(function(){u(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(n){n.call(t,e)}))})};let e=!1,n="";s="animationstart";let p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");{let t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e){for(let i=0;i<p.length;i++)if(void 0!==t.style[p[i]+"AnimationName"]){n="-"+(0,p[i]).toLowerCase()+"-",s=h[i],e=!0;break}}}t="@"+n+"keyframes "+(i="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",l=n+"animation: 1ms "+i+"; "}let h=function(n){if(!n.getElementById("detectElementResize")){let i=(t||"")+".resize-triggers { "+(l||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(n.createTextNode(i)),o.appendChild(a)}};return{addResizeListener:function(e,t){if(p)e.attachEvent("onresize",t);else{if(!e.__resizeTriggers__){let t=e.ownerDocument,o=n.getComputedStyle(e);o&&"static"===o.position&&(e.style.position="relative"),h(t),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=t.createElement("div")).className="resize-triggers";let a=t.createElement("div");a.className="expand-trigger",a.appendChild(t.createElement("div"));let l=t.createElement("div");l.className="contract-trigger",e.__resizeTriggers__.appendChild(a),e.__resizeTriggers__.appendChild(l),e.appendChild(e.__resizeTriggers__),c(e),e.addEventListener("scroll",d,!0),s&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName===i&&c(e)},e.__resizeTriggers__.addEventListener(s,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)}},removeResizeListener:function(e,t){if(p)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",d,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){let{children:e,defaultHeight:t,defaultWidth:n,disableHeight:o=!1,disableWidth:a=!1,doNotBailOutOnEmptyChildren:s=!1,nonce:l,onResize:u,style:c={},tagName:d="div",...p}=this.props,{height:h,scaledHeight:f,scaledWidth:g,width:m}=this.state,v={overflow:"visible"},y={},b=!1;return o||(0===h&&(b=!0),v.height=0,y.height=h,y.scaledHeight=f),a||(0===m&&(b=!0),v.width=0,y.width=m,y.scaledWidth=g),s&&(b=!1),(0,i.createElement)(d,{ref:this._setRef,style:{...v,...c},...p},!b&&e(y))}}}),et("aoBUG",function(e,t){q(e.exports,"VariableSizeList",()=>D);var n,i,o,a,s,l,u,c,d,p,h,f=ee("5XyNA"),g=ee("a8uwv"),m=ee("jShzb"),v=ee("2tjdn"),y=ee("dm060");ee("u6U9p");var b="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function w(e){cancelAnimationFrame(e.id)}var x=-1;function S(e){if(void 0===e&&(e=!1),-1===x||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),x=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return x}var _=null;function E(e){if(void 0===e&&(e=!1),null===_||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),o=i.style;o.width="100px",o.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?_="positive-descending":(t.scrollLeft=1,_=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t)}return _}var T=function(e,t,n,i){var o,a,s;if("column"===e?(o=i.columnMetadataMap,a=t.columnWidth,s=i.lastMeasuredColumnIndex):(o=i.rowMetadataMap,a=t.rowHeight,s=i.lastMeasuredRowIndex),n>s){var l=0;if(s>=0){var u=o[s];l=u.offset+u.size}for(var c=s+1;c<=n;c++){var d=a(c);o[c]={offset:l,size:d},l+=d}"column"===e?i.lastMeasuredColumnIndex=n:i.lastMeasuredRowIndex=n}return o[n]},O=function(e,t){return e},I=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},P=function(e,t,n){var i=e.itemSize,o=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var s=0;if(a>=0){var l=o[a];s=l.offset+l.size}for(var u=a+1;u<=t;u++){var c=i(u);o[u]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return o[t]},C=function(e,t,n){var i=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?i[o].offset:0)>=n?A(e,t,o,0,n):R(e,t,Math.max(0,o),n)},A=function(e,t,n,i,o){for(;i<=n;){var a=i+Math.floor((n-i)/2),s=P(e,a,t).offset;if(s===o)return a;s<o?i=a+1:s>o&&(n=a-1)}return i>0?i-1:0},R=function(e,t,n,i){for(var o=e.itemCount,a=1;n<o&&P(e,n,t).offset<i;)n+=a,a*=2;return A(e,t,Math.min(n,o-1),Math.floor(n/2),i)},k=function(e,t){var n=e.itemCount,i=t.itemMetadataMap,o=t.estimatedItemSize,a=t.lastMeasuredIndex,s=0;if(a>=n&&(a=n-1),a>=0){var l=i[a];s=l.offset+l.size}return s+(n-a-1)*o},D=(o=(n={getItemOffset:function(e,t,n){return P(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:k,getOffsetForIndexAndAlignment:function(e,t,n,i,o,a){var s=e.direction,l=e.height,u=e.layout,c=e.width,d="horizontal"===s||"horizontal"===u?c:l,p=P(e,t,o),h=Math.max(0,Math.min(k(e,o)-d,p.offset)),f=Math.max(0,p.offset-d+p.size+a);switch("smart"===n&&(n=i>=f-d&&i<=h+d?"auto":"center"),n){case"start":return h;case"end":return f;case"center":return Math.round(f+(h-f)/2);default:if(i>=f&&i<=h)return i;if(i<f)return f;return h}},getStartIndexForOffset:function(e,t,n){return C(e,n,t)},getStopIndexForStartIndex:function(e,t,n,i){for(var o=e.direction,a=e.height,s=e.itemCount,l=e.layout,u=e.width,c=P(e,t,i),d=n+("horizontal"===o||"horizontal"===l?u:a),p=c.offset+c.size,h=t;h<s-1&&p<d;)p+=P(e,++h,i).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,i){void 0===i&&(i=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),i&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}).getItemOffset,a=n.getEstimatedTotalSize,s=n.getItemSize,l=n.getOffsetForIndexAndAlignment,u=n.getStartIndexForOffset,c=n.getStopIndexForStartIndex,d=n.initInstanceProps,p=n.shouldResetStyleCacheOnItemSizeChange,h=n.validateProps,(i=/*#__PURE__*/function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=d(n.props,(0,g.default)(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:(0,g.default)(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=(0,v.default)(function(e,t,i,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:i,visibleStopIndex:o})}),n._callOnScroll=void 0,n._callOnScroll=(0,v.default)(function(e,t,i){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:i})}),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,i=n.props,a=i.direction,l=i.itemSize,u=i.layout,c=n._getItemStyleCache(p&&l,p&&u,p&&a);if(c.hasOwnProperty(e))t=c[e];else{var d=o(n.props,e,n._instanceProps),h=s(n.props,e,n._instanceProps),f="horizontal"===a||"horizontal"===u,g="rtl"===a,m=f?d:0;c[e]=t={position:"absolute",left:g?void 0:m,right:g?m:void 0,top:f?0:d,height:f?"100%":h,width:f?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=(0,v.default)(function(e,t,n){return{}}),n._onScrollHorizontal=function(e){var t=e.currentTarget,i=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;n.setState(function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,s=o;if("rtl"===t)switch(E()){case"negative":s=-o;break;case"positive-descending":s=a-i-o}return s=Math.max(0,Math.min(s,a-i)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,i=t.clientHeight,o=t.scrollHeight,a=t.scrollTop;n.setState(function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,o-i));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}},n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){var e,t,i;null!==n._resetIsScrollingTimeoutId&&w(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=(e=n._resetIsScrolling,t=b(),i={id:requestAnimationFrame(function n(){b()-t>=150?e.call(null):i.id=requestAnimationFrame(n)})})},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},function(){n._getItemStyleCache(-1,null)})},n}(0,m.default)(t,e),t.getDerivedStateFromProps=function(e,t){return I(e,t),h(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState(function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,i=n.itemCount,o=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1));var s=0;if(this._outerRef){var u=this._outerRef;s="vertical"===o?u.scrollWidth>u.clientWidth?S():0:u.scrollHeight>u.clientHeight?S():0}this.scrollTo(l(this.props,e,t,a,this._instanceProps,s))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,i=e.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===i?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,i=this.state,o=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n){if("rtl"===t)switch(E()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var s=a.clientWidth,l=a.scrollWidth;a.scrollLeft=l-s-o}else a.scrollLeft=o}else a.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&w(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,o=e.height,s=e.innerRef,l=e.innerElementType,u=e.innerTagName,c=e.itemCount,d=e.itemData,p=e.itemKey,h=void 0===p?O:p,g=e.layout,m=e.outerElementType,v=e.outerTagName,b=e.style,w=e.useIsScrolling,x=e.width,S=this.state.isScrolling,_="horizontal"===i||"horizontal"===g,E=_?this._onScrollHorizontal:this._onScrollVertical,T=this._getRangeToRender(),I=T[0],P=T[1],C=[];if(c>0)for(var A=I;A<=P;A++)C.push((0,y.createElement)(t,{data:d,key:h(A,d),index:A,isScrolling:w?S:void 0,style:this._getItemStyle(A)}));var R=a(this.props,this._instanceProps);return(0,y.createElement)(m||v||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:(0,f.default)({position:"relative",height:o,width:x,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},b)},(0,y.createElement)(l||u||"div",{children:C,ref:s,style:{height:_?"100%":R,pointerEvents:S?"none":void 0,width:_?R:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],i=e[2],o=e[3];this._callOnItemsRendered(t,n,i,o)}if("function"==typeof this.props.onScroll){var a=this.state,s=a.scrollDirection,l=a.scrollOffset,u=a.scrollUpdateWasRequested;this._callOnScroll(s,l,u)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,i=this.state,o=i.isScrolling,a=i.scrollDirection,s=i.scrollOffset;if(0===t)return[0,0,0,0];var l=u(this.props,s,this._instanceProps),d=c(this.props,l,s,this._instanceProps);return[Math.max(0,l-(o&&"backward"!==a?1:Math.max(1,n))),Math.max(0,Math.min(t-1,d+(o&&"forward"!==a?1:Math.max(1,n)))),l,d]},t}(y.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},i)}),et("a8uwv",function(e,t){q(e.exports,"default",()=>n);function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}),et("jShzb",function(e,t){q(e.exports,"default",()=>i);var n=ee("7Ty4U");function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.default)(e,t)}}),et("7Ty4U",function(e,t){q(e.exports,"default",()=>n);function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}}),et("2tjdn",function(e,t){q(e.exports,"default",()=>o);var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var i,o,a=0;a<e.length;a++)if(!((i=e[a])===(o=t[a])||n(i)&&n(o)))return!1;return!0}var o=function(e,t){void 0===t&&(t=i);var n,o,a=[],s=!1;return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return s&&n===this&&t(i,a)||(o=e.apply(this,i),s=!0,n=this,a=i),o}}}),et("2gnOd",function(e,t){!/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/function(){var t={}.hasOwnProperty;function n(){for(var e="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(e=i(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var a in e)t.call(e,a)&&e[a]&&(o=i(o,a));return o}(a)))}return e}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return n}):window.classNames=n}()}),et("jAw8j",function(e,t){q(e.exports,"default",()=>f);var n,i,o=ee("7aIzy"),a=ee("3h31Z");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=h(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,t)||d(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var f=(n=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left-to-right";(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.canvases=t.map(function(e){return new a.default(e)}),this.layers=n,this.viewingDirection=i,this._canvasDimensions=null},i=[{key:"canvasIds",get:function(){return this.canvases.map(function(e){return e.id})}},{key:"canvasDimensions",get:function(){if(this._canvasDimensions)return this._canvasDimensions;var e=c(this.canvasDirection,2),t=e[0],n=e[1],i=0===n?Math.min.apply(Math,u(this.canvases.map(function(e){return e.getHeight()}))):Math.min.apply(Math,u(this.canvases.map(function(e){return e.getWidth()}))),o=0,a=0,s=this.canvases.reduce(function(e,s){var l=0,u=0;return isNaN(s.aspectRatio)||(0===n?(l=i,u=Math.floor(i*s.aspectRatio)):(u=i,l=Math.floor(i*(1/s.aspectRatio)))),e.push({canvas:s,height:l,width:u,x:o,y:a}),o+=t*u,a+=n*l,e},[]),d=0===n?i:Math.abs(a),p=0===t?i:Math.abs(o);return this._canvasDimensions=s.reduce(function(e,i){return e.push(l(l({},i),{},{x:-1===t?i.x+p-i.width:i.x,y:-1===n?i.y+d-i.height:i.y})),e},[]),this._canvasDimensions}},{key:"contentResourceToWorldCoordinates",value:function(e){var t=this.canvases.findIndex(function(t){return t.imageResources.find(function(t){return t.id===e.id})}),n=this.canvases[t];if(!n)return[];var i=c(this.canvasToWorldCoordinates(n.id),4),o=i[0],a=i[1],s=i[2],l=i[3],u=n.onFragment(e.id);return u?[o+u[0],a+u[1],u[2],u[3]]:[o,a,s,l]}},{key:"canvasToWorldCoordinates",value:function(e){var t=this.canvasDimensions.find(function(t){return t.canvas.id===e});return[t.x,t.y,t.width,t.height]}},{key:"canvasDirection",get:function(){switch(this.viewingDirection){case"left-to-right":default:return[1,0];case"right-to-left":return[-1,0];case"top-to-bottom":return[0,1];case"bottom-to-top":return[0,-1]}}},{key:"contentResource",value:function(e){var t=this.canvases.find(function(t){return t.imageServiceIds.some(function(t){return t&&e&&/*@__PURE__*/Y(o)(t,{stripAuthentication:!1})===/*@__PURE__*/Y(o)(e,{stripAuthentication:!1})})});if(t)return t.imageResources.find(function(t){return /*@__PURE__*/Y(o)(t.getServices()[0].id,{stripAuthentication:!1})===/*@__PURE__*/Y(o)(e,{stripAuthentication:!1})})}},{key:"getLayerMetadata",value:function(e){if(this.layers){var t=this.canvases.find(function(t){return t.imageResources.find(function(t){return t.id===e.id})});if(t){var n=t.imageResources.findIndex(function(t){return t.id===e.id}),i=this.layers[t.canvas.id],o=i&&i[e.id];return l({index:n,opacity:1,total:t.imageResources.length,visibility:!0},o)}}}},{key:"layerOpacityOfImageResource",value:function(e){var t=this.getLayerMetadata(e);return t?t.visibility?t.opacity:0:1}},{key:"layerIndexOfImageResource",value:function(e){var t=this.getLayerMetadata(e);if(t)return t.total-t.index-1}},{key:"offsetByCanvas",value:function(e){var t=this.canvasToWorldCoordinates(e);return{x:t[0],y:t[1]}}},{key:"worldBounds",value:function(){return[0,0,Math.max.apply(Math,[0].concat(u(this.canvasDimensions.map(function(e){return e.x+e.width})))),Math.max.apply(Math,[0].concat(u(this.canvasDimensions.map(function(e){return e.y+e.height}))))]}},{key:"canvasAtPoint",value:function(e){var t=this.canvasDimensions.find(function(t){return t.x<=e.x&&e.x<=t.x+t.width&&t.y<=e.y&&e.y<=t.y+t.height});return t&&t.canvas}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("7aIzy",function(e,t){let n="undefined"==typeof URL?ee("8Xeis").URL:URL,i=(e,t)=>t.some(t=>t instanceof RegExp?t.test(e):t===e),o=(e,{stripHash:t})=>{let n=e.match(/^data:([^,]*?),([^#]*?)(?:#(.*))?$/);if(!n)throw Error(`Invalid URL: ${e}`);let i=n[1].split(";"),o=n[2],a=t?"":n[3],s=!1;"base64"===i[i.length-1]&&(i.pop(),s=!0);let l=(i.shift()||"").toLowerCase(),u=[...i.map(e=>{let[t,n=""]=e.split("=").map(e=>e.trim());return"charset"===t&&"us-ascii"===(n=n.toLowerCase())?"":`${t}${n?`=${n}`:""}`}).filter(Boolean)];return s&&u.push("base64"),(0!==u.length||l&&"text/plain"!==l)&&u.unshift(l),`data:${u.join(";")},${s?o.trim():o}${a?`#${a}`:""}`},a=(e,t)=>{if(Reflect.has(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},"normalizeHttps"))throw Error("options.normalizeHttps is renamed to options.forceHttp");if(Reflect.has(t,"normalizeHttp"))throw Error("options.normalizeHttp is renamed to options.forceHttps");if(Reflect.has(t,"stripFragment"))throw Error("options.stripFragment is renamed to options.stripHash");if(e=e.trim(),/^data:/i.test(e))return o(e,t);let a=e.startsWith("//");!a&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new n(e);if(t.forceHttp&&t.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===s.protocol&&(s.protocol="http:"),t.forceHttps&&"http:"===s.protocol&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash&&(s.hash=""),s.pathname&&(s.pathname=s.pathname.replace(/((?!:).|^)\/{2,}/g,(e,t)=>/^(?!\/)/g.test(t)?`${t}/`:"/")),s.pathname&&(s.pathname=decodeURI(s.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=s.pathname.split("/");i(e[e.length-1],t.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),s.pathname=e.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let e of[...s.searchParams.keys()])i(e,t.removeQueryParameters)&&s.searchParams.delete(e);return t.sortQueryParameters&&s.searchParams.sort(),t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,"")),e=s.toString(),(t.removeTrailingSlash||"/"===s.pathname)&&""===s.hash&&(e=e.replace(/\/$/,"")),a&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e};e.exports=a,e.exports.default=a}),et("8Xeis",function(e,t){var n=ee("cmBfd");function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","	"])),u=["%","/","?",";","#"].concat(l),c=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=ee("hVWXF");function v(e,t,n){if(e&&"object"==typeof e&&e instanceof i)return e;var o=new i;return o.parse(e,t,n),o}i.prototype.parse=function(e,t,i){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),v=-1!==a&&a<e.indexOf("#")?"?":"#",y=e.split(v);y[0]=y[0].replace(/\\/g,"/");var b=e=y.join(v);if(b=b.trim(),!i&&1===e.split("#").length){var w=s.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],t?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,b=b.substr(x.length)}if(i||x||b.match(/^\/\/[^@/]+@[^@/]+/)){var _="//"===b.substr(0,2);_&&!(x&&f[x])&&(b=b.substr(2),this.slashes=!0)}if(!f[x]&&(_||x&&!g[x])){for(var E,T,O=-1,I=0;I<c.length;I++){var P=b.indexOf(c[I]);-1!==P&&(-1===O||P<O)&&(O=P)}-1!==(T=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(E=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(E)),O=-1;for(var I=0;I<u.length;I++){var P=b.indexOf(u[I]);-1!==P&&(-1===O||P<O)&&(O=P)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var A=this.hostname.split(/\./),I=0,R=A.length;I<R;I++){var k=A[I];if(k&&!k.match(d)){for(var D="",N=0,M=k.length;N<M;N++)k.charCodeAt(N)>127?D+="x":D+=k[N];if(!D.match(d)){var L=A.slice(0,I),j=A.slice(I+1),F=k.match(p);F&&(L.push(F[1]),j.unshift(F[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var B=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!h[S])for(var I=0,R=l.length;I<R;I++){var U=l[I];if(-1!==b.indexOf(U)){var W=encodeURIComponent(U);W===U&&(W=escape(U)),b=b.split(U).join(W)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=m.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",G=this.search||"";this.path=B+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,o=Object.keys(this),a=0;a<o.length;a++){var s=o[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,S=x,_=n.pathname&&n.pathname.split("/")||[],m=e.pathname&&e.pathname.split("/")||[],E=n.protocol&&!g[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),x=x&&(""===m[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=m;else if(m.length)_||(_=[]),_.pop(),_=_.concat(m),n.search=e.search,n.query=e.query;else if(null!=e.search){if(E){n.host=_.shift(),n.hostname=n.host;var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.hostname=T.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=_.slice(-1)[0],I=(n.host||e.host||_.length>1)&&("."===O||".."===O)||""===O,P=0,C=_.length;C>=0;C--)"."===(O=_[C])?_.splice(C,1):".."===O?(_.splice(C,1),P++):P&&(_.splice(C,1),P--);if(!x&&!S)for(;P--;P)_.unshift("..");x&&""!==_[0]&&(!_[0]||"/"!==_[0].charAt(0))&&_.unshift(""),I&&"/"!==_.join("/").substr(-1)&&_.push("");var A=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(E){n.hostname=A?"":_.length?_.shift():"",n.host=n.hostname;var T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");T&&(n.auth=T.shift(),n.hostname=T.shift(),n.host=n.hostname)}return(x=x||n.host&&_.length)&&!A&&_.unshift(""),_.length>0?n.pathname=_.join("/"):(n.pathname=null,n.path=null),(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return("string"==typeof e&&(e=v(e)),e instanceof i)?e.format():i.prototype.format.call(e)},t.Url=i}),et("cmBfd",function(e,t){!function(n){var i=t&&!t.nodeType&&t,o=e&&!e.nodeType&&e,a="object"==typeof X&&X;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,l,u=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,f=String.fromCharCode;function g(e){throw RangeError(p[e])}function m(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function v(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+m((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?(64512&(n=e.charCodeAt(o++)))==56320?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}function b(e){return m(e,function(e){var t="";return e>65535&&(e-=65536,t+=f(e>>>10&1023|55296),e=56320|1023&e),t+=f(e)}).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var i=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;i+=36)e=h(e/35);return h(i+36*e/(e+38))}function S(e){var t,n,i,o,a,s,l,u,c,d,p,f=[],m=e.length,v=0,y=128,w=72;for((i=e.lastIndexOf("-"))<0&&(i=0),o=0;o<i;++o)e.charCodeAt(o)>=128&&g("not-basic"),f.push(e.charCodeAt(o));for(a=i>0?i+1:0;a<m;){for(s=v,l=1,u=36;a>=m&&g("invalid-input"),((c=(t=e.charCodeAt(a++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||c>h((0x7fffffff-v)/l))&&g("overflow"),v+=c*l,!(c<(d=u<=w?1:u>=w+26?26:u-w));u+=36)l>h(0x7fffffff/(p=36-d))&&g("overflow"),l*=p;w=x(v-s,n=f.length+1,0==s),h(v/n)>0x7fffffff-y&&g("overflow"),y+=h(v/n),v%=n,f.splice(v++,0,y)}return b(f)}function _(e){var t,n,i,o,a,s,l,u,c,d,p,m,v,b,S,_=[];for(s=0,m=(e=y(e)).length,t=128,n=0,a=72;s<m;++s)(p=e[s])<128&&_.push(f(p));for(i=o=_.length,o&&_.push("-");i<m;){for(l=0x7fffffff,s=0;s<m;++s)(p=e[s])>=t&&p<l&&(l=p);for(l-t>h((0x7fffffff-n)/(v=i+1))&&g("overflow"),n+=(l-t)*v,t=l,s=0;s<m;++s)if((p=e[s])<t&&++n>0x7fffffff&&g("overflow"),p==t){for(u=n,c=36;!(u<(d=c<=a?1:c>=a+26?26:c-a));c+=36)S=u-d,b=36-d,_.push(f(w(d+S%b,0))),u=h(S/b);_.push(f(w(u,0))),a=x(n,v,i==o),n=0,++i}++n,++t}return _.join("")}if(s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:S,encode:_,toASCII:function(e){return v(e,function(e){return c.test(e)?"xn--"+_(e):e})},toUnicode:function(e){return v(e,function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return s});else if(i&&o){if(e.exports==i)o.exports=s;else for(l in s)s.hasOwnProperty(l)&&(i[l]=s[l])}else n.punycode=s}(this)}),et("hVWXF",function(e,t){var n=ee("abbZF"),i=ee("1UGPC"),o=ee("KYfwa");e.exports={formats:o,parse:i,stringify:n}}),et("abbZF",function(e,t){var n=ee("i5w4W"),i=ee("9Iq9u"),o=ee("KYfwa"),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f={},g=function e(t,o,a,s,u,d,p,g,m,v,y,b,w,x,S,_,E,T){for(var O,I,P=t,C=T,A=0,R=!1;void 0!==(C=C.get(f))&&!R;){var k=C.get(t);if(A+=1,void 0!==k){if(k===A)throw RangeError("Cyclic object value");R=!0}void 0===C.get(f)&&(A=0)}if("function"==typeof v?P=v(o,P):P instanceof Date?P=w(P):"comma"===a&&l(P)&&(P=i.maybeMap(P,function(e){return e instanceof Date?w(e):e})),null===P){if(d)return m&&!_?m(o,h.encoder,E,"key",x):o;P=""}if("string"==typeof(O=P)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||i.isBuffer(P))return m?[S(_?o:m(o,h.encoder,E,"key",x))+"="+S(m(P,h.encoder,E,"value",x))]:[S(o)+"="+S(String(P))];var D=[];if(void 0===P)return D;if("comma"===a&&l(P))_&&m&&(P=i.maybeMap(P,m)),I=[{value:P.length>0?P.join(",")||null:void 0}];else if(l(v))I=v;else{var N=Object.keys(P);I=y?N.sort(y):N}var M=g?o.replace(/\./g,"%2E"):o,L=s&&l(P)&&1===P.length?M+"[]":M;if(u&&l(P)&&0===P.length)return L+"[]";for(var j=0;j<I.length;++j){var F=I[j],B="object"==typeof F&&void 0!==F.value?F.value:P[F];if(!p||null!==B){var z=b&&g?F.replace(/\./g,"%2E"):F,U=l(P)?"function"==typeof a?a(L,z):L:L+(b?"."+z:"["+z+"]");T.set(t,A);var W=n();W.set(f,T),c(D,e(B,U,a,s,u,d,p,g,"comma"===a&&_&&l(P)?null:m,v,y,b,w,x,S,_,E,W))}}return D},m=function(e){if(!e)return h;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,n=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw TypeError("Unknown format option provided.");i=e.format}var u=o.formatters[i],c=h.filter;if(("function"==typeof e.filter||l(e.filter))&&(c=e.filter),t=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":h.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var d=void 0===e.allowDots?!0===e.encodeDotInKeys||h.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:t,charset:n,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:h.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:c,format:i,formatter:u,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}};e.exports=function(e,t){var i,o=e,a=m(t);"function"==typeof a.filter?o=(0,a.filter)("",o):l(a.filter)&&(i=a.filter);var u=[];if("object"!=typeof o||null===o)return"";var d=s[a.arrayFormat],p="comma"===d&&a.commaRoundTrip;i||(i=Object.keys(o)),a.sort&&i.sort(a.sort);for(var h=n(),f=0;f<i.length;++f){var v=i[f];a.skipNulls&&null===o[v]||c(u,g(o[v],v,d,p,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,h))}var y=u.join(a.delimiter),b=!0===a.addQueryPrefix?"?":"";return a.charsetSentinel&&("iso-8859-1"===a.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),y.length>0?b+y:""}}),et("i5w4W",function(e,t){var n=ee("3Wd1t"),i=ee("gZDzv"),o=ee("csnRM"),a=ee("3kTZW"),s=n("%WeakMap%",!0),l=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),p=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),g=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n},m=function(e,t){var n=g(e,t);return n&&n.value},v=function(e,t,n){var i=g(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new a("Side channel does not contain "+o(e))},get:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return u(e,i)}else if(l){if(t)return p(t,i)}else if(n)return m(n,i)},has:function(i){if(s&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(l){if(t)return f(t,i)}else if(n)return!!g(n,i);return!1},set:function(i,o){s&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new s),c(e,i,o)):l?(t||(t=new l),h(t,i,o)):(n||(n={key:{},next:null}),v(n,i,o))}};return i}}),et("3Wd1t",function(e,t){var n=ee("icjBv"),i=ee("ke9FL"),o=ee("2Hvpn"),a=ee("2Ccfd"),s=ee("nxsSv"),l=ee("3kTZW"),u=ee("3IuHU"),c=Function,d=function(e){try{return c('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}var h=function(){throw new l},f=p?function(){try{return arguments.callee,h}catch(e){try{return p(arguments,"callee").get}catch(e){return h}}}():h,g=ee("9at22")(),m=ee("gJ1yR")(),v=Object.getPrototypeOf||(m?function(e){return e.__proto__}:null),y={},b="undefined"!=typeof Uint8Array&&v?v(Uint8Array):void 0,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?void 0:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?void 0:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v(new Map()[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v(new Set()[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):void 0,"%Symbol%":g?Symbol:void 0,"%SyntaxError%":s,"%ThrowTypeError%":f,"%TypedArray%":b,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet};if(v)try{null.error}catch(e){var x=v(v(e));w["%Error.prototype%"]=x}var S=function e(t){var n;if("%AsyncFunction%"===t)n=d("async function () {}");else if("%GeneratorFunction%"===t)n=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=d("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return w[t]=n,n},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=ee("5KGr6"),T=ee("aC5bg"),O=E.call(Function.call,Array.prototype.concat),I=E.call(Function.apply,Array.prototype.splice),P=E.call(Function.call,String.prototype.replace),C=E.call(Function.call,String.prototype.slice),A=E.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,D=function(e){var t=C(e,0,1),n=C(e,-1);if("%"===t&&"%"!==n)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new s("invalid intrinsic syntax, expected opening `%`");var i=[];return P(e,R,function(e,t,n,o){i[i.length]=n?P(o,k,"$1"):t||e}),i},N=function(e,t){var n,i=e;if(T(_,i)&&(i="%"+(n=_[i])[0]+"%"),T(w,i)){var o=w[i];if(o===y&&(o=S(i)),void 0===o&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new s("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=D(e),i=n.length>0?n[0]:"",o=N("%"+i+"%",t),a=o.name,u=o.value,c=!1,d=o.alias;d&&(i=d[0],I(n,O([0,1],d)));for(var h=1,f=!0;h<n.length;h+=1){var g=n[h],m=C(g,0,1),v=C(g,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new s("property names with quotes must have matching quotes");if("constructor"!==g&&f||(c=!0),i+="."+g,T(w,a="%"+i+"%"))u=w[a];else if(null!=u){if(!(g in u)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&h+1>=n.length){var y=p(u,g);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[g]}else f=T(u,g),u=u[g];f&&!c&&(w[a]=u)}}return u}}),et("icjBv",function(e,t){e.exports=Error}),et("ke9FL",function(e,t){e.exports=EvalError}),et("2Hvpn",function(e,t){e.exports=RangeError}),et("2Ccfd",function(e,t){e.exports=ReferenceError}),et("nxsSv",function(e,t){e.exports=SyntaxError}),et("3kTZW",function(e,t){e.exports=TypeError}),et("3IuHU",function(e,t){e.exports=URIError}),et("9at22",function(e,t){var n="undefined"!=typeof Symbol&&Symbol,i=ee("Kq6QW");e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}}),et("Kq6QW",function(e,t){e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}}),et("gJ1yR",function(e,t){var n={__proto__:null,foo:{}},i=Object;e.exports=function(){return({__proto__:n}).foo===n.foo&&!(n instanceof i)}}),et("5KGr6",function(e,t){var n=ee("c2Lv6");e.exports=Function.prototype.bind||n}),et("c2Lv6",function(e,t){var n=Object.prototype.toString,i=Math.max,o=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},a=function(e,t){for(var n=[],i=t||0,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},s=function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n};e.exports=function(e){var t,l=this;if("function"!=typeof l||"[object Function]"!==n.apply(l))throw TypeError("Function.prototype.bind called on incompatible "+l);for(var u=a(arguments,1),c=i(0,l.length-u.length),d=[],p=0;p<c;p++)d[p]="$"+p;if(t=Function("binder","return function ("+s(d,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof t){var n=l.apply(this,o(u,arguments));return Object(n)===n?n:this}return l.apply(e,o(u,arguments))}),l.prototype){var h=function(){};h.prototype=l.prototype,t.prototype=new h,h.prototype=null}return t}}),et("aC5bg",function(e,t){var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=ee("5KGr6");e.exports=o.call(n,i)}),et("gZDzv",function(e,t){var n=ee("3Wd1t"),i=ee("bOEKn"),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var a=n(e,!!t);return"function"==typeof a&&o(e,".prototype.")>-1?i(a):a}}),et("bOEKn",function(e,t){var n=ee("5KGr6"),i=ee("3Wd1t"),o=ee("2EWxF"),a=ee("3kTZW"),s=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(l,s),c=ee("8VhZu"),d=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(n,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var p=function(){return u(n,s,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p}),et("2EWxF",function(e,t){var n=ee("3Wd1t"),i=ee("faHHe"),o=ee("eIysc")(),a=ee("1APWs"),s=ee("3kTZW"),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],u=!0,c=!0;if("length"in e&&a){var d=a(e,"length");d&&!d.configurable&&(u=!1),d&&!d.writable&&(c=!1)}return(u||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}}),et("faHHe",function(e,t){var n=ee("8VhZu"),i=ee("nxsSv"),o=ee("3kTZW"),a=ee("1APWs");e.exports=function(e,t,s){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(n)n(e,t,{configurable:null===c&&p?p.configurable:!c,enumerable:null===l&&p?p.enumerable:!l,value:s,writable:null===u&&p?p.writable:!u});else if(!d&&(l||u||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=s}}),et("8VhZu",function(e,t){var n=ee("3Wd1t")("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n}),et("1APWs",function(e,t){var n=ee("3Wd1t")("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n}),et("eIysc",function(e,t){var n=ee("8VhZu"),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i}),et("csnRM",function(e,t){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"==typeof l.get?l.get:null,c=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,x=String.prototype.toLowerCase,S=RegExp.prototype.test,_=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,O=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A?"object":"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,D=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-O(-e):O(e);if(i!==e){var o=String(i),a=y.call(t,o.length+1);return b.call(o,n,"$&_")+"."+b.call(b.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var M=ee("kjyEk"),L=M.custom,j=U(L)?L:null;function F(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function B(e){return"[object Array]"===V(e)&&(!R||!("object"==typeof e&&R in e))}function z(e){return"[object RegExp]"===V(e)&&(!R||!("object"==typeof e&&R in e))}function U(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,s){var l=n||{};if(H(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(H(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var g=!H(l,"customInspect")||l.customInspect;if("boolean"!=typeof g&&"symbol"!==g)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var i=t.length-n.maxStringLength;return e(y.call(t,0,n.maxStringLength),n)+"... "+i+" more character"+(i>1?"s":"")}return F(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",n)}(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return w?N(t,S):S}if("bigint"==typeof t){var O=String(t)+"n";return w?N(t,O):O}var P=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=P&&P>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var L=function(e,t){var n;if("	"===e.indent)n="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(l,i);if(void 0===s)s=[];else if(G(s,t)>=0)return"[Circular]";function W(t,n,o){if(n&&(s=T.call(s)).push(n),o){var a={depth:l.depth};return H(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),e(t,a,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof t&&!z(t)){var Q=function(e){if(e.name)return e.name;var t=v.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ee=J(t,W);return"[Function"+(Q?": "+Q:" (anonymous)")+"]"+(ee.length>0?" { "+E.call(ee,", ")+" }":"")}if(U(t)){var et=A?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||A?et:q(et)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var er,en="<"+x.call(String(t.nodeName)),ei=t.attributes||[],eo=0;eo<ei.length;eo++)en+=" "+ei[eo].name+"="+F((er=ei[eo].value,b.call(String(er),/"/g,"&quot;")),"double",l);return en+=">",t.childNodes&&t.childNodes.length&&(en+="..."),en+="</"+x.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var ea=J(t,W);return L&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(ea)?"["+Z(ea,L)+"]":"[ "+E.call(ea,", ")+" ]"}if("[object Error]"===V(t)&&(!R||!("object"==typeof t&&R in t))){var es=J(t,W);return"cause"in Error.prototype||!("cause"in t)||k.call(t,"cause")?0===es.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(es,", ")+" }":"{ ["+String(t)+"] "+E.call(_.call("[cause]: "+W(t.cause),es),", ")+" }"}if("object"==typeof t&&g){if(j&&"function"==typeof t[j]&&M)return M(t,{depth:P-i});if("symbol"!==g&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var el=[];return a&&a.call(t,function(e,n){el.push(W(n,t,!0)+" => "+W(e,t))}),K("Map",o.call(t),el,L)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var eu=[];return c&&c.call(t,function(e){eu.push(W(e,t))}),K("Set",u.call(t),eu,L)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if("[object Number]"===V(t)&&(!R||!("object"==typeof t&&R in t)))return q(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return q(W(I.call(t)));if("[object Boolean]"===V(t)&&(!R||!("object"==typeof t&&R in t)))return q(f.call(t));if("[object String]"===V(t)&&(!R||!("object"==typeof t&&R in t)))return q(W(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==X&&t===X)return"{ [object globalThis] }";if(!("[object Date]"===V(t)&&(!R||!("object"==typeof t&&R in t)))&&!z(t)){var ec=J(t,W),ed=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,ep=t instanceof Object?"":"null prototype",eh=!ed&&R&&Object(t)===t&&R in t?y.call(V(t),8,-1):ep?"Object":"",ef=(ed||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(eh||ep?"["+E.call(_.call([],eh||[],ep||[]),": ")+"] ":"");return 0===ec.length?ef+"{}":L?ef+"{"+Z(ec,L)+"}":ef+"{ "+E.call(ec,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return W.call(e,t)}function V(e){return g.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return -1}function $(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function q(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function K(e,t,n,i){return e+" ("+t+") {"+(i?Z(n,i):E.call(n,", "))+"}"}function Z(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function J(e,t){var n,i=B(e),o=[];if(i){o.length=e.length;for(var a=0;a<e.length;a++)o[a]=H(e,a)?t(e[a],e):""}var s="function"==typeof P?P(e):[];if(A){n={};for(var l=0;l<s.length;l++)n["$"+s[l]]=s[l]}for(var u in e)if(H(e,u)&&(!i||String(Number(u))!==u||!(u<e.length))){if(A&&n["$"+u]instanceof Symbol)continue;S.call(/[^\w$]/,u)?o.push(t(u,e)+": "+t(e[u],e)):o.push(u+": "+t(e[u],e))}if("function"==typeof P)for(var c=0;c<s.length;c++)k.call(e,s[c])&&o.push("["+t(s[c])+"]: "+t(e[s[c]],e));return o}}),et("kjyEk",function(e,t){}),et("9Iq9u",function(e,t){var n=ee("KYfwa"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var i=[],a=0;a<n.length;++a)void 0!==n[a]&&i.push(n[a]);t.obj[t.prop]=i}}},l=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:l,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var o=t[i],a=o.obj[o.prop],l=Object.keys(a),u=0;u<l.length;++u){var c=l[u],d=a[c];"object"==typeof d&&null!==d&&-1===n.indexOf(d)&&(t.push({obj:a,prop:c}),n.push(d))}return s(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,i,o,s){if(0===e.length)return e;var l=e;if("symbol"==typeof e?l=Symbol.prototype.toString.call(e):"string"!=typeof e&&(l=String(e)),"iso-8859-1"===i)return escape(l).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var u="",c=0;c<l.length;c+=1024){for(var d=l.length>=1024?l.slice(c,c+1024):l,p=[],h=0;h<d.length;++h){var f=d.charCodeAt(h);if(45===f||46===f||95===f||126===f||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===n.RFC1738&&(40===f||41===f)){p[p.length]=d.charAt(h);continue}if(f<128){p[p.length]=a[f];continue}if(f<2048){p[p.length]=a[192|f>>6]+a[128|63&f];continue}if(f<55296||f>=57344){p[p.length]=a[224|f>>12]+a[128|f>>6&63]+a[128|63&f];continue}h+=1,f=65536+((1023&f)<<10|1023&d.charCodeAt(h)),p[p.length]=a[240|f>>18]+a[128|f>>12&63]+a[128|f>>6&63]+a[128|63&f]}u+=p.join("")}return u},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,a){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(a&&(a.plainObjects||a.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return(o(t)&&!o(n)&&(s=l(t,a)),o(t)&&o(n))?(n.forEach(function(n,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,a):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var s=n[o];return i.call(t,o)?t[o]=e(t[o],s,a):t[o]=s,t},s)}}}),et("KYfwa",function(e,t){var n=String.prototype.replace,i=/%20/g,o="RFC3986";e.exports={default:o,formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:o}}),et("1UGPC",function(e,t){var n=ee("9Iq9u"),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},l=function(e,t){var l={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;u=u.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,c),p=-1,h=t.charset;if(t.charsetSentinel)for(f=0;f<d.length;++f)0===d[f].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[f]?h="utf-8":"utf8=%26%2310003%3B"===d[f]&&(h="iso-8859-1"),p=f,f=d.length);for(f=0;f<d.length;++f)if(f!==p){var f,g,m,v=d[f],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(g=t.decoder(v,a.decoder,h,"key"),m=t.strictNullHandling?null:""):(g=t.decoder(v.slice(0,b),a.decoder,h,"key"),m=n.maybeMap(s(v.slice(b+1),t),function(e){return t.decoder(e,a.decoder,h,"value")})),m&&t.interpretNumericEntities&&"iso-8859-1"===h&&(m=m.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),v.indexOf("[]=")>-1&&(m=o(m)?[m]:m);var w=i.call(l,g);w&&"combine"===t.duplicates?l[g]=n.combine(l[g],m):w&&"last"!==t.duplicates||(l[g]=m)}return l},u=function(e,t,n,i){for(var o=i?t:s(t,n),a=e.length-1;a>=0;--a){var l,u=e[a];if("[]"===u&&n.parseArrays)l=n.allowEmptyArrays&&(""===o||n.strictNullHandling&&null===o)?[]:[].concat(o);else{l=n.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,d=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,p=parseInt(d,10);n.parseArrays||""!==d?!isNaN(p)&&u!==d&&String(p)===d&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(l=[])[p]=o:"__proto__"!==d&&(l[d]=o):l={0:o}}o=l}return o},c=function(e,t,n,o){if(e){var a=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,l=n.depth>0&&/(\[[^[\]]*])/.exec(a),c=l?a.slice(0,l.index):a,d=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var p=0;n.depth>0&&null!==(l=s.exec(a))&&p<n.depth;){if(p+=1,!n.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}if(l){if(!0===n.strictDepth)throw RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+a.slice(l.index)+"]")}return u(d,t,n,o)}},d=function(e){if(!e)return a;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset,i=void 0===e.duplicates?a.duplicates:e.duplicates;if("combine"!==i&&"first"!==i&&"last"!==i)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:i,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}};e.exports=function(e,t){var i=d(t);if(""===e||null==e)return i.plainObjects?Object.create(null):{};for(var o="string"==typeof e?l(e,i):e,a=i.plainObjects?Object.create(null):{},s=Object.keys(o),u=0;u<s.length;++u){var p=s[u],h=c(p,o[p],i,"string"==typeof e);a=n.merge(a,h,i)}return!0===i.allowSparse?a:n.compact(a)}}),et("jVUXi",function(e,t){q(e.exports,"default",()=>c);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("g60ed"),l=ee("hJg9G"),u=ee("bd8bq"),c=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.data;return{currentCanvasId:((0,l.getCurrentCanvas)(e,{windowId:n.windowId})||{}).id}},function(e,t){var n=t.data;return{setCanvas:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(s.setCanvas.apply(s,[n.windowId].concat(i)))}}}),(0,a.withPlugins)("ThumbnailCanvasGrouping"))(u.ThumbnailCanvasGrouping)}),et("g60ed",function(e,t){var n=ee("glweN"),i=ee("6xok4"),o=ee("lqSWE"),a=ee("4gN6n"),s=ee("7fquy"),l=ee("6olWy"),u=ee("5BWNH"),c=ee("92W7F"),d=ee("h7O51"),p=ee("8ElBJ"),h=ee("jrxgh"),f=ee("3Egnc"),g=ee("6PNZs"),m=ee("5LYEN");Z(e.exports,n),Z(e.exports,i),Z(e.exports,o),Z(e.exports,a),Z(e.exports,s),Z(e.exports,l),Z(e.exports,u),Z(e.exports,c),Z(e.exports,d),Z(e.exports,p),Z(e.exports,h),Z(e.exports,f),Z(e.exports,g),Z(e.exports,m)}),et("glweN",function(e,t){q(e.exports,"addCompanionWindow",()=>d),q(e.exports,"addOrUpdateCompanionWindow",()=>p),q(e.exports,"updateCompanionWindow",()=>h),q(e.exports,"removeCompanionWindow",()=>f),q(e.exports,"toggleNode",()=>g),q(e.exports,"expandNodes",()=>m);var n=ee("e7c9a"),i=ee("8KIqz"),o=ee("cOFmZ"),a=ee("02l6u");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={content:null,position:null};function d(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,a="cw-".concat((0,n.default)());return{id:a,payload:l(l(l({},o),t),{},{id:a,windowId:e}),type:i.default.ADD_COMPANION_WINDOW,windowId:e}}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return function(i,a){var s=a(),l=t.position,u="left"===l&&(0,o.getCompanionWindowIdsForPosition)(s,{position:l,windowId:e})[0];i(u?h(e,u,t):d(e,t,n))}}function h(e,t,n){return{id:t,payload:n,type:i.default.UPDATE_COMPANION_WINDOW,windowId:e}}function f(e,t){return{id:t,type:i.default.REMOVE_COMPANION_WINDOW,windowId:e}}function g(e,t,n){return function(o,s){var l=s(),c=(0,a.getManuallyExpandedNodeIds)(l,{companionWindowId:t},!1),d=(0,a.getManuallyExpandedNodeIds)(l,{companionWindowId:t},!0),p=(0,a.getVisibleNodeIds)(l,{id:t,windowId:e}),h=-1!==c.indexOf(n)||-1===d.indexOf(n)&&-1===p.indexOf(n);return o({id:t,payload:u({},n,{expanded:h}),type:i.default.TOGGLE_TOC_NODE,windowId:e})}}function m(e,t,n){return function(o,s){var l=s(),u=(0,a.getManuallyExpandedNodeIds)(l,{companionWindowId:t},!0),c={};return u.forEach(function(e){c[e]={expanded:!1}}),n.forEach(function(e){c[e]={expanded:!0}}),o({id:t,payload:c,type:i.default.TOGGLE_TOC_NODE,windowId:e})}}}),et("02l6u",function(e,t){q(e.exports,"getVisibleNodeIds",()=>g),q(e.exports,"getManuallyExpandedNodeIds",()=>y),q(e.exports,"getExpandedNodeIds",()=>b),q(e.exports,"getNodeIdToScrollTo",()=>w),q(e.exports,"getDefaultSidebarVariant",()=>x);var n=ee("9Fw2L"),i=ee("6VvPg"),o=ee("7SWyp"),a=ee("cyP9O"),s=ee("hJg9G"),l=ee("cOFmZ"),u=ee("8jlY4");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var f=(0,n.createSelector)([u.getSequenceTreeStructure,s.getVisibleCanvasIds],function(e,t){return 0!==t.length&&e?function e(t,n){return t.reduce(function(t,i){var o=[];o.push.apply(o,p(t));var s=n.reduce(function(e,t){return e||function(e,t){for(var n=e.getCanvasIds(),i=0;i<n.length;i+=1)if((0,a.Utils).normalisedUrlsMatch(n[i],t))return!0;return!1}(i.data,t)},!1),l=i.nodes.length>0?e(i.nodes,n):[];return o.push.apply(o,p(l)),(s||l.length>0)&&o.push({containsVisibleCanvas:s,descendantsContainVisibleCanvas:l.length>0,id:i.id,leaf:0===i.nodes.length,parentIds:function e(t){return void 0===t.parentNode?[]:void 0===t.parentNode.parentNode?[t.parentNode.id]:[].concat(p(e(t.parentNode)),[t.parentNode.id])}(i)}),o},[])}(e.nodes,t):[]}),g=(0,n.createSelector)([f],function(e){return e.map(function(e){return e.id})}),m=(0,n.createSelector)([f],function(e){return e.reduce(function(e,t){return t.leaf||!t.descendantsContainVisibleCanvas?e:[].concat(p(e),[t.id])},[])}),v=(0,n.createSelector)([f],function(e){return e.reduce(function(e,t){return t.containsVisibleCanvas?[].concat(p(e),[t]):e},[])});function y(e,t,n){var i=t.companionWindowId,o=(0,l.getCompanionWindow)(e,{companionWindowId:i});return o.tocNodes?Object.keys(o.tocNodes).reduce(function(e,t){return o.tocNodes[t].expanded===n?[].concat(p(e),[t]):e},[]):[]}function b(e,t){var n=t.companionWindowId,a=m(e,{companionWindowId:n,windowId:t.windowId}),s=y(e,{companionWindowId:n},!0),l=y(e,{companionWindowId:n},!1);return /*@__PURE__*/Y(o).apply(void 0,[/*@__PURE__*/Y(i)(s,a)].concat(p(l)))}function w(e,t){var n=d({},(function(e){if(null==e)throw TypeError("Cannot destructure "+e)}(t),t)),i=v(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n)),o=y(e,n,!1);if(i&&i.length>0){for(var a=0;a<i[0].parentIds.length;a+=1)if(-1!==o.indexOf(i[0].parentIds[a]))return i[0].parentIds[a];return i[0].id}return null}var x=(0,n.createSelector)([u.getSequenceTreeStructure],function(e){return e&&e.nodes&&e.nodes.length>0?"tableOfContents":"item"})}),et("6VvPg",function(e,t){var n=ee("arNzV"),i=ee("8KHpH"),o=ee("8uXqY"),a=ee("3Hglb"),s=i(function(e){return o(n(e,1,a,!0))});e.exports=s}),et("8KHpH",function(e,t){var n=ee("8FZ5X"),i=ee("5Zpfe"),o=ee("702vK");e.exports=function(e,t){return o(i(e,t,n),e+"")}}),et("5Zpfe",function(e,t){var n=ee("2ldLU"),i=Math.max;e.exports=function(e,t,o){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,l=i(a.length-t,0),u=Array(l);++s<l;)u[s]=a[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=a[s];return c[t]=o(u),n(e,this,c)}}}),et("8uXqY",function(e,t){var n=ee("3lxsn"),i=ee("jaV0C"),o=ee("5xaBM"),a=ee("5MttV"),s=ee("kaob9"),l=ee("k66c0");e.exports=function(e,t,u){var c=-1,d=i,p=e.length,h=!0,f=[],g=f;if(u)h=!1,d=o;else if(p>=200){var m=t?null:s(e);if(m)return l(m);h=!1,d=a,g=new n}else g=t?[]:f;r:for(;++c<p;){var v=e[c],y=t?t(v):v;if(v=u||0!==v?v:0,h&&y==y){for(var b=g.length;b--;)if(g[b]===y)continue r;t&&g.push(y),f.push(v)}else d(g,y,u)||(g!==f&&g.push(y),f.push(v))}return f}}),et("5xaBM",function(e,t){e.exports=function(e,t,n){for(var i=-1,o=null==e?0:e.length;++i<o;)if(n(t,e[i]))return!0;return!1}}),et("kaob9",function(e,t){var n=ee("4waba"),i=ee("9d7rn"),o=ee("k66c0"),a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=a}),et("3Hglb",function(e,t){var n=ee("kSosd"),i=ee("fpZyM");e.exports=function(e){return i(e)&&n(e)}}),et("7SWyp",function(e,t){var n=ee("2SHUZ"),i=ee("8KHpH"),o=ee("3Hglb"),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a}),et("2SHUZ",function(e,t){var n=ee("3lxsn"),i=ee("jaV0C"),o=ee("5xaBM"),a=ee("aVHp4"),s=ee("2grBP"),l=ee("5MttV");e.exports=function(e,t,u,c){var d=-1,p=i,h=!0,f=e.length,g=[],m=t.length;if(!f)return g;u&&(t=a(t,s(u))),c?(p=o,h=!1):t.length>=200&&(p=l,h=!1,t=new n(t));r:for(;++d<f;){var v=e[d],y=null==u?v:u(v);if(v=c||0!==v?v:0,h&&y==y){for(var b=m;b--;)if(t[b]===y)continue r;g.push(v)}else p(t,y,c)||g.push(v)}return g}}),et("6xok4",function(e,t){q(e.exports,"importConfig",()=>s),q(e.exports,"setConfig",()=>l),q(e.exports,"updateConfig",()=>u),q(e.exports,"importMiradorState",()=>c);var n=ee("e7c9a"),i=ee("8KIqz");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return{config:e,type:i.default.IMPORT_CONFIG}}function l(e){return{config:e,type:i.default.SET_CONFIG}}function u(e){return{config:e,type:i.default.UPDATE_CONFIG}}function c(e){return{state:a(a({},e),{},{workspace:a(a({},e.workspace),{},{id:(0,n.default)()})}),type:i.default.IMPORT_MIRADOR_STATE}}}),et("lqSWE",function(e,t){q(e.exports,"addError",()=>o),q(e.exports,"removeError",()=>a);var n=ee("e7c9a"),i=ee("8KIqz");function o(e){return{id:"error-".concat((0,n.default)()),message:e,type:i.default.ADD_ERROR}}function a(e){return{id:e,type:i.default.REMOVE_ERROR}}}),et("4gN6n",function(e,t){q(e.exports,"focusWindow",()=>c),q(e.exports,"addWindow",()=>d),q(e.exports,"updateWindow",()=>p),q(e.exports,"maximizeWindow",()=>h),q(e.exports,"minimizeWindow",()=>f),q(e.exports,"setCompanionAreaOpen",()=>g),q(e.exports,"removeWindow",()=>m),q(e.exports,"toggleWindowSideBar",()=>v),q(e.exports,"setWindowThumbnailPosition",()=>y),q(e.exports,"setWindowViewType",()=>b),q(e.exports,"showCollectionDialog",()=>w),q(e.exports,"hideCollectionDialog",()=>x);var n=ee("e7c9a"),i=ee("8KIqz"),o=ee("5h5fP"),a=["companionWindows","manifest"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{pan:t,type:i.default.FOCUS_WINDOW,windowId:e}}function d(e){var t=e.companionWindows,s=e.manifest,c=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,a);return function(e,a){var d,p=(0,o.miradorSlice)(a()),h=p.config,f=p.workspace.windowIds,g=(void 0===f?[]:f).length,m=c.id||"window-".concat((0,n.default)()),v="cw-".concat((0,n.default)()),y=[{content:"thumbnailNavigation",default:!0,id:v,position:c.thumbnailNavigationPosition||h.thumbnailNavigation.defaultPosition,windowId:m}].concat(function(e){if(Array.isArray(e))return u(e)}(d=(t||[]).map(function(e,t){return l(l({},e),{},{id:"cw-".concat((0,n.default)())})}))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,void 0):void 0}}(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());(c.sideBarPanel||h.window.defaultSideBarPanel||h.window.sideBarPanel)&&y.unshift({content:c.sideBarPanel||c.defaultSearchQuery&&"search"||h.window.defaultSideBarPanel||h.window.sideBarPanel,default:!0,id:"cw-".concat((0,n.default)()),position:"left",windowId:m});var b={canvasId:void 0,collectionIndex:0,companionAreaOpen:!0,companionWindowIds:y.map(function(e){return e.id}),draggingEnabled:!0,highlightAllAnnotations:h.window.highlightAllAnnotations||!1,id:m,manifestId:null,maximized:!1,rangeId:null,rotation:null,selectedAnnotations:{},sideBarOpen:void 0!==h.window.sideBarOpenByDefault?h.window.sideBarOpenByDefault||!!c.defaultSearchQuery:h.window.sideBarOpen||!!c.defaultSearchQuery,sideBarPanel:c.sideBarPanel||h.window.defaultSideBarPanel||h.window.sideBarPanel,thumbnailNavigationId:v};e({companionWindows:y,elasticLayout:l(l({},h.window.elastic||{height:400,width:480}),{},{x:200+(50*Math.floor(g/10)+30*g%300),y:200+50*g%300}),manifest:s,type:i.default.ADD_WINDOW,window:l(l({},b),c)})}}function p(e,t){return{id:e,payload:t,type:i.default.UPDATE_WINDOW}}function h(e,t){return{type:i.default.MAXIMIZE_WINDOW,windowId:e}}function f(e){return{type:i.default.MINIMIZE_WINDOW,windowId:e}}function g(e,t){return{id:e,payload:{companionAreaOpen:t},type:i.default.UPDATE_WINDOW}}function m(e){return{type:i.default.REMOVE_WINDOW,windowId:e}}function v(e){return{type:i.default.TOGGLE_WINDOW_SIDE_BAR,windowId:e}}function y(e,t){return function(n,o){n({id:o().windows[e].thumbnailNavigationId,payload:{position:t},type:i.default.UPDATE_COMPANION_WINDOW})}}function b(e,t){return{type:i.default.SET_WINDOW_VIEW_TYPE,viewType:t,windowId:e}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return{collectionPath:t,manifestId:e,type:i.default.SHOW_COLLECTION_DIALOG,windowId:n}}function x(e){return{type:i.default.HIDE_COLLECTION_DIALOG,windowId:e}}}),et("7fquy",function(e,t){q(e.exports,"requestManifest",()=>a),q(e.exports,"receiveManifest",()=>s),q(e.exports,"receiveManifestFailure",()=>l),q(e.exports,"fetchManifest",()=>u),q(e.exports,"removeManifest",()=>c);var n=ee("8KIqz");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){return{manifestId:e,properties:t,type:n.default.REQUEST_MANIFEST}}function s(e,t){return{manifestId:e,manifestJson:t,type:n.default.RECEIVE_MANIFEST}}function l(e,t){return{error:t,manifestId:e,type:n.default.RECEIVE_MANIFEST_FAILURE}}function u(e,t){return a(e,o(o({},t),{},{isFetching:!0}))}function c(e){return{manifestId:e,type:n.default.REMOVE_MANIFEST}}}),et("6olWy",function(e,t){q(e.exports,"requestInfoResponse",()=>i),q(e.exports,"receiveInfoResponse",()=>o),q(e.exports,"receiveDegradedInfoResponse",()=>a),q(e.exports,"receiveInfoResponseFailure",()=>s),q(e.exports,"fetchInfoResponse",()=>l),q(e.exports,"removeInfoResponse",()=>u);var n=ee("8KIqz");function i(e,t,i){return{imageResource:t,infoId:e,type:n.default.REQUEST_INFO_RESPONSE,windowId:i}}function o(e,t,i,o){return{infoId:e,infoJson:t,ok:i,tokenServiceId:o,type:n.default.RECEIVE_INFO_RESPONSE}}function a(e,t,i,o,a){return{infoId:e,infoJson:t,ok:i,tokenServiceId:o,type:n.default.RECEIVE_DEGRADED_INFO_RESPONSE,windowId:a}}function s(e,t,i){return{error:t,infoId:e,tokenServiceId:i,type:n.default.RECEIVE_INFO_RESPONSE_FAILURE}}function l(e){var t=e.imageId,n=e.imageResource,o=e.windowId,a=n&&n.getServices()[0];return i(t||a.id,a,o)}function u(e){return{infoId:e,type:n.default.REMOVE_INFO_RESPONSE}}}),et("92W7F",function(e,t){q(e.exports,"updateWorkspace",()=>i),q(e.exports,"toggleZoomControls",()=>o),q(e.exports,"updateWorkspaceMosaicLayout",()=>a),q(e.exports,"setWorkspaceAddVisibility",()=>s),q(e.exports,"setWorkspaceViewportPosition",()=>l),q(e.exports,"setWorkspaceViewportDimensions",()=>u),q(e.exports,"toggleDraggingEnabled",()=>c);var n=ee("8KIqz");function i(e){return{config:e,type:n.default.UPDATE_WORKSPACE}}function o(e){return{showZoomControls:e,type:n.default.TOGGLE_ZOOM_CONTROLS}}function a(e){return{layout:e,type:n.default.UPDATE_WORKSPACE_MOSAIC_LAYOUT}}function s(e){return{isWorkspaceAddVisible:e,type:n.default.SET_WORKSPACE_ADD_VISIBILITY}}function l(e){return{payload:{position:{x:e.x,y:e.y}},type:n.default.SET_WORKSPACE_VIEWPORT_POSITION}}function u(e){var t=e.width;return{payload:{position:{height:e.height,width:t}},type:n.default.SET_WORKSPACE_VIEWPORT_POSITION}}function c(){return{type:n.default.TOGGLE_DRAGGING}}}),et("h7O51",function(e,t){q(e.exports,"requestCanvasAnnotations",()=>i),q(e.exports,"requestAnnotation",()=>o),q(e.exports,"receiveAnnotation",()=>a),q(e.exports,"receiveAnnotationFailure",()=>s),q(e.exports,"selectAnnotation",()=>l),q(e.exports,"deselectAnnotation",()=>u),q(e.exports,"toggleAnnotationDisplay",()=>c),q(e.exports,"hoverAnnotation",()=>d);var n=ee("8KIqz");function i(e,t){return{canvasId:t,type:n.default.REQUEST_CANVAS_ANNOTATIONS,windowId:e}}function o(e,t){return{annotationId:t,targetId:e,type:n.default.REQUEST_ANNOTATION}}function a(e,t,i){return{annotationId:t,annotationJson:i,targetId:e,type:n.default.RECEIVE_ANNOTATION}}function s(e,t,i){return{annotationId:t,error:i,targetId:e,type:n.default.RECEIVE_ANNOTATION_FAILURE}}function l(e,t){return{annotationId:t,type:n.default.SELECT_ANNOTATION,windowId:e}}function u(e,t){return{annotationId:t,type:n.default.DESELECT_ANNOTATION,windowId:e}}function c(e){return{type:n.default.TOGGLE_ANNOTATION_DISPLAY,windowId:e}}function d(e,t){return{annotationIds:t,type:n.default.HOVER_ANNOTATION,windowId:e}}}),et("8ElBJ",function(e,t){q(e.exports,"addAuthenticationRequest",()=>o),q(e.exports,"resolveAuthenticationRequest",()=>a),q(e.exports,"requestAccessToken",()=>s),q(e.exports,"receiveAccessToken",()=>l),q(e.exports,"receiveAccessTokenFailure",()=>u),q(e.exports,"resolveAccessTokenRequest",()=>c),q(e.exports,"resetAuthenticationState",()=>d);var n=ee("8KIqz");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{id:t,profile:i,type:n.default.ADD_AUTHENTICATION_REQUEST,windowId:e}}function a(e,t,o){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:e,tokenServiceId:t,type:n.default.RESOLVE_AUTHENTICATION_REQUEST},o)}function s(e,t){return{authId:t,serviceId:e,type:n.default.REQUEST_ACCESS_TOKEN}}function l(e,t,i){return{authId:e,json:i,serviceId:t,type:n.default.RECEIVE_ACCESS_TOKEN}}function u(e,t,i){return{authId:e,error:i,serviceId:t,type:n.default.RECEIVE_ACCESS_TOKEN_FAILURE}}function c(e,t,n){return n.accessToken?l(e,t,n):u(e,t,n)}function d(e){return{id:e.authServiceId,tokenServiceId:e.tokenServiceId,type:n.default.RESET_AUTHENTICATION_STATE}}}),et("jrxgh",function(e,t){q(e.exports,"updateElasticWindowLayout",()=>i);var n=ee("8KIqz");function i(e,t){return{payload:t,type:n.default.UPDATE_ELASTIC_WINDOW_LAYOUT,windowId:e}}}),et("3Egnc",function(e,t){q(e.exports,"requestSearch",()=>i),q(e.exports,"receiveSearch",()=>o),q(e.exports,"receiveSearchFailure",()=>a),q(e.exports,"removeSearch",()=>s),q(e.exports,"fetchSearch",()=>l),q(e.exports,"setContentSearchCurrentAnnotation",()=>u);var n=ee("8KIqz");function i(e,t,i,o){return{companionWindowId:t,query:o,searchId:i,type:n.default.REQUEST_SEARCH,windowId:e}}function o(e,t,i,o){return{companionWindowId:t,searchId:i,searchJson:o,type:n.default.RECEIVE_SEARCH,windowId:e}}function a(e,t,i,o){return{companionWindowId:t,error:o,searchId:i,type:n.default.RECEIVE_SEARCH_FAILURE,windowId:e}}function s(e,t){return{companionWindowId:t,type:n.default.REMOVE_SEARCH,windowId:e}}function l(e,t,n,o){return i(e,t,n,o)}function u(e,t,i){return{annotationIds:i,companionWindowId:t,type:n.default.SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS,windowId:e}}}),et("6PNZs",function(e,t){q(e.exports,"updateLayers",()=>i);var n=ee("8KIqz");function i(e,t,i){return{canvasId:t,payload:i,type:n.default.UPDATE_LAYERS,windowId:e}}}),et("5LYEN",function(e,t){q(e.exports,"addResource",()=>i),q(e.exports,"removeResource",()=>o);var n=ee("8KIqz");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return{manifestId:e,manifestJson:t,payload:i,type:n.default.ADD_RESOURCE}}function o(e){return{manifestId:e,type:n.default.REMOVE_RESOURCE}}}),et("bd8bq",function(e,t){q(e.exports,"ThumbnailCanvasGrouping",()=>m);var n=ee("dm060"),i=ee("37zHU"),o=ee("2gnOd"),a=ee("aG6hj"),s=ee("YT00d"),l=ee("9L45J");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=d(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=(0,i.default)("div")(function(e){return{boxSizing:"border-box",color:e.theme.palette.common.white,cursor:"pointer",display:"inline-block",whiteSpace:"nowrap"}}),m=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=h(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(i,o||[],h(this).constructor):i.apply(this,o))).setCanvas=t.setCanvas.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"setCanvas",value:function(e){(0,this.props.setCanvas)(e.currentTarget.dataset.canvasId)}},{key:"currentCanvasClass",value:function(e){var t=this.props.index;return e.includes(t)?"current-canvas-grouping":""}},{key:"render",value:function(){var e=this.props,t=e.index,n=e.style,i=e.data,u=e.currentCanvasId,d=i.canvasGroupings,p=i.position,h=i.height,f=d[t];return/*#__PURE__*/(0,l.jsx)("div",{style:c(c({},n),{},{boxSizing:"content-box",height:Number.isInteger(n.height)?n.height-8:null,left:Number.isInteger(n.left)?n.left+8:null,top:n.top+8,width:Number.isInteger(n.width)?n.width-8:null}),className:(0,s.default)("thumbnail-nav-container"),role:"gridcell","aria-colindex":t+1,children:/*#__PURE__*/(0,l.jsx)(g,{role:"button","data-canvas-id":f[0].id,"data-canvas-index":f[0].index,onKeyUp:this.setCanvas,onClick:this.setCanvas,tabIndex:-1,sx:function(e){return c(c({"&:hover":{outline:"9px solid ".concat(e.palette.action.hover),outlineOffset:"-2px"},height:"far-right"===p?"auto":"".concat(h-8,"px"),outline:f.map(function(e){return e.id}).includes(u)?"2px solid ".concat(e.palette.primary.main):0},f.map(function(e){return e.id}).includes(u)&&{outlineOffset:"3px"}),{},{width:"far-bottom"===p?"auto":"".concat(n.width,"px")})},className:/*@__PURE__*/Y(o)((0,s.default)(["thumbnail-nav-canvas","thumbnail-nav-canvas-".concat(t),this.currentCanvasClass(f.map(function(e){return e.index}))])),children:f.map(function(e,t){return/*#__PURE__*/(0,l.jsx)(a.default,{resource:e,labelled:!0,maxHeight:"far-right"===p?n.height-12:h-12,variant:"inside"},e.id)})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.PureComponent)}),et("aG6hj",function(e,t){q(e.exports,"default",()=>u);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("8uJ99"),l=ee("fhF3G"),u=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e){return{thumbnailsConfig:(0,s.getConfig)(e).thumbnails}}),(0,a.withPlugins)("IIIFThumbnail"))(l.IIIFThumbnail)}),et("fhF3G",function(e,t){q(e.exports,"IIIFThumbnail",()=>x);var n=ee("dm060"),i=ee("37zHU"),o=ee("6Wb8J"),a=ee("3ZwM5"),s=ee("9L45J"),l=["border","placeholder","style","thumbnail","resource","maxHeight","maxWidth","thumbnailsConfig"];function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=m(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var v=(0,i.default)("div",{name:"IIIFThumbnail",slot:"root"})({}),y=(0,i.default)("span",{name:"IIIFThumbnail",slot:"label"})(function(e){return g({},e.theme.typography.caption)}),b=(0,i.default)("img",{name:"IIIFThumbnail",slot:"image"})(function(){return{height:"auto",width:"auto"}}),w=function(e){var t,i=e.border,u=e.placeholder,c=e.style,d=void 0===c?{}:c,p=e.thumbnail,f=e.resource,m=e.maxHeight,v=e.maxWidth,y=e.thumbnailsConfig,w=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),x=(0,o.useInView)(),S=x.ref,_=x.inView,E=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=E[0],O=E[1];(0,n.useEffect)(function(){!T&&_&&O(!0)},[_,T]);var I=(0,n.useMemo)(function(){if(p)return p;var e=(0,a.default)(f,g(g({},y),{},{maxHeight:m,maxWidth:v}));if(e&&e.url)return e},[f,p,v,m,y]),P=(0,n.useMemo)(function(){var e={height:void 0,maxHeight:void 0,maxWidth:void 0,width:void 0};if(!I)return g(g({},d),{},{height:m,width:v});var t=I.height,n=I.width;if(t&&n){if(m&&t>m||v&&n>v){var i=n/t;m&&v?v/m<i?(e.height=Math.round(v/i),e.width=v):(e.height=m,e.width=Math.round(m*i)):m?(e.height=m,e.maxWidth=Math.round(m*i)):v&&(e.width=v,e.maxHeight=Math.round(v/i))}else e.width=n,e.height=t}else t&&!n?e.height=m:!t&&n?e.width=v:(e.width=v,e.height=m);return g(g({},e),d)},[I,v,m,d]),C=(T&&(p||I)||{}).url;return/*#__PURE__*/(0,s.jsx)(b,g({ownerState:{border:i},ref:S,alt:"",role:"presentation",src:void 0===C?u:C,style:P},w))};w.defaultProps={border:!1,style:{},thumbnail:null,thumbnailsConfig:{}};var x=/*#__PURE__*/function(e){var t,n;function i(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),e=i,t=arguments,e=d(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,c()?Reflect.construct(e,t||[],d(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e),t=[{key:"label",value:function(){var e=this.props,t=e.label,n=e.resource;return t||i.getUseableLabel(n)}},{key:"render",value:function(){var e=this.props,t=e.border,n=e.children,i=e.imagePlaceholder,o=e.labelled,a=e.maxHeight,l=e.maxWidth,u=e.resource,c=e.style,d=e.thumbnail,p=e.thumbnailsConfig;return/*#__PURE__*/(0,s.jsxs)(v,{ownerState:this.props,children:[/*#__PURE__*/(0,s.jsx)(w,{placeholder:i,thumbnail:d,resource:u,maxHeight:a,maxWidth:l,thumbnailsConfig:p,style:c,border:t}),o&&/*#__PURE__*/(0,s.jsx)(y,{ownerState:this.props,children:this.label()}),n]})}}],n=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}],t&&u(i.prototype,t),n&&u(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);x.defaultProps={border:!1,children:null,imagePlaceholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMMDQmtBwADgwF/Op8FmAAAAABJRU5ErkJggg==",label:void 0,labelled:!1,maxHeight:null,maxWidth:null,style:{},thumbnail:null,thumbnailsConfig:{},variant:null}}),et("6Wb8J",function(e,t){q(e.exports,"InView",()=>p),q(e.exports,"useInView",()=>h);var n=ee("dm060"),i=Object.defineProperty,o=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,a=(e,t,n)=>o(e,"symbol"!=typeof t?t+"":t,n),s=/* @__PURE__ */new Map,l=/* @__PURE__ */new WeakMap,u=0,c=void 0;function d(e,t,n={},i=c){if(void 0===window.IntersectionObserver&&void 0!==i){let o=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}let{id:o,observer:a,elements:p}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var n;return`${t}_${"root"===t?(n=e.root)?(l.has(n)||(u+=1,l.set(n,u.toString())),l.get(n)):"0":e[t]}`}).toString(),n=s.get(t);if(!n){let i;let o=/* @__PURE__ */new Map,a=new IntersectionObserver(t=>{t.forEach(t=>{var n;let a=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=o.get(t.target))||n.forEach(e=>{e(a,t)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:o},s.set(t,n)}return n}(n),h=p.get(e)||[];return p.has(e)||p.set(e,h),h.push(t),a.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(p.delete(e),a.unobserve(e)),0===p.size&&(a.disconnect(),s.delete(o))}}var p=class extends n.Component{constructor(e){super(e),a(this,"node",null),a(this,"_unobserveCb",null),a(this,"handleNode",e=>{!this.node||(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()}),a(this,"handleChange",(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),"function"!=typeof this.props.children||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)}),this.state={inView:!!e.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;let{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:o,fallbackInView:a}=this.props;this._unobserveCb=d(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:i,delay:o},a)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){let{children:e}=this.props;if("function"==typeof e){let{inView:t,entry:n}=this.state;return e({inView:t,entry:n,ref:this.handleNode})}let{as:t,triggerOnce:i,threshold:o,root:a,rootMargin:s,onChange:l,skip:u,trackVisibility:c,delay:d,initialInView:p,fallbackInView:h,...f}=this.props;return n.createElement(t||"div",{ref:this.handleNode,...f},e)}};function h({threshold:e,delay:t,trackVisibility:i,rootMargin:o,root:a,triggerOnce:s,skip:l,initialInView:u,fallbackInView:c,onChange:p}={}){var f;let[g,m]=n.useState(null),v=n.useRef(),[y,b]=n.useState({inView:!!u,entry:void 0});v.current=p,n.useEffect(()=>{let n;if(!l&&g)return n=d(g,(e,t)=>{b({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&s&&n&&(n(),n=void 0)},{root:a,rootMargin:o,threshold:e,trackVisibility:i,delay:t},c),()=>{n&&n()}},[Array.isArray(e)?e.toString():e,g,a,o,s,l,i,c,t]);let w=null==(f=y.entry)?void 0:f.target,x=n.useRef();g||!w||s||l||x.current===w||(x.current=w,b({inView:!!u,entry:void 0}));let S=[m,y.inView,y.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}}),et("YT00d",function(e,t){q(e.exports,"default",()=>o);var n=ee("lkQn4"),i=ee("dPHLq"),o=function(e){return /*@__PURE__*/Y(i)([e]).map(function(e){return[(0,n.default).createGenerateClassNameOptions.productionPrefix,e].join("-")}).join(" ")}}),et("4wXAy",function(e,t){q(e.exports,"default",()=>c);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("bdEuo"),l=ee("hJg9G"),u=ee("6Cznk"),c=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.windowId;return{annotationCount:(0,s.getAnnotationResourcesByMotivation)(e,{windowId:n}).length,canvasIds:(0,l.getVisibleCanvasIds)(e,{windowId:n})}},null),(0,a.withPlugins)("WindowSideBarAnnotationsPanel"))(u.WindowSideBarAnnotationsPanel)}),et("bdEuo",function(e,t){q(e.exports,"getAnnotations",()=>p),q(e.exports,"getPresentAnnotationsOnSelectedCanvases",()=>v),q(e.exports,"getAnnotationResourcesByMotivationForCanvas",()=>y),q(e.exports,"getAnnotationResourcesByMotivation",()=>b),q(e.exports,"getSelectedAnnotationId",()=>w);var n=ee("9Fw2L"),i=ee("25s2J"),o=ee("dPHLq"),a=ee("5H9V0"),s=ee("5h5fP"),l=ee("hJg9G"),u=ee("8uJ99"),c=ee("cEqnD"),d=["canvasId"],p=function(e){return(0,s.miradorSlice)(e).annotations},h=(0,n.createSelector)([u.getConfig,function(e,t){return t.motivations}],function(e,t){return t||e.annotations.filteredMotivations}),f=(0,n.createSelector)([l.getCanvas,p],function(e,t){return t&&e&&t[e.id]?/*@__PURE__*/Y(o)(Object.values(t[e.id])):[]}),g=(0,n.createSelector)([f],function(e){return /*@__PURE__*/Y(i)(Object.values(e).map(function(e){return e&&(0,a.default).determineAnnotation(e.json)}),function(e){return e&&e.present()})}),m=(0,n.createSelector)([function(e,t){var n=t.canvasId,i=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,d);return n?[n]:(0,l.getVisibleCanvasIds)(e,i)},p],function(e,t){return t&&0!==e.length?/*@__PURE__*/Y(o)(e.map(function(e){return t[e]&&Object.values(t[e])})):[]}),v=(0,n.createSelector)([m],function(e){return /*@__PURE__*/Y(i)(Object.values(e).map(function(e){return e&&(0,a.default).determineAnnotation(e.json)}),function(e){return e&&e.present()})}),y=(0,n.createSelector)([g,h],function(e,t){return /*@__PURE__*/Y(i)(/*@__PURE__*/Y(o)(e.map(function(e){return e.resources})),function(e){return e.motivations.some(function(e){return t.includes(e)})})}),b=(0,n.createSelector)([v,h],function(e,t){return /*@__PURE__*/Y(i)(/*@__PURE__*/Y(o)(e.map(function(e){return e.resources})),function(e){return e.motivations.some(function(e){return t.includes(e)})})}),w=(0,n.createSelector)([c.getWindow],function(e){return e.selectedAnnotationId});(0,n.createSelector)([v,w],function(e,t){return e.map(function(e){return{id:e["@id"]||e.id,resources:e.resources.filter(function(e){return t===e.id})}}).filter(function(e){return e.resources.length>0})})}),et("25s2J",function(e,t){var n=ee("fEjfg"),i=ee("9FyVW"),o=ee("fntae"),a=ee("1mNSP");e.exports=function(e,t){return(a(e)?n:i)(e,o(t,3))}}),et("9FyVW",function(e,t){var n=ee("bJ5wn");e.exports=function(e,t){var i=[];return n(e,function(e,n,o){t(e,n,o)&&i.push(e)}),i}}),et("5H9V0",function(e,t){q(e.exports,"default",()=>a);var n,i=ee("cuiwY"),o=ee("eZo2c"),a=(function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n=function e(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e)},[{key:"determineAnnotation",value:function(e,t){return e?"AnnotationPage"===e.type?new o.default(e,t):new i.default(e,t):null}}]),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("cuiwY",function(e,t){q(e.exports,"default",()=>s);var n,i,o=ee("dPHLq"),a=ee("flNmm"),s=(n=function e(t,n){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.json=t,this.target=n},i=[{key:"id",get:function(){return this.json["@id"]}},{key:"present",value:function(){return this.resources&&this.resources.length>0}},{key:"resources",get:function(){return this._resources=this._resources||(this.json&&this.json.resources?/*@__PURE__*/Y(o)([this.json.resources]).map(function(e){return new a.default(e)}):[]),this._resources}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("flNmm",function(e,t){q(e.exports,"default",()=>l);var n,i,o=ee("1KvzF"),a=ee("dPHLq"),s=ee("e7c9a"),l=(n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.resource=t},i=[{key:"isOnlyTag",value:function(){return 1===this.motivations.length&&"oa:tagging"===this.motivations[0]}},{key:"id",get:function(){return this._id=this._id||this.resource["@id"]||this.resources[0]&&this.resources[0]["@id"]||(0,s.default)(),this._id}},{key:"targetId",get:function(){var e=this.on[0];switch(typeof e){case"string":return e.replace(/#?xywh=(.*)$/,"");case"object":return e.full.replace(/#?xywh=(.*)$/,"");default:return null}}},{key:"motivations",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.motivation)))}},{key:"resources",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.resource)))}},{key:"on",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.on)))}},{key:"tags",get:function(){return this.isOnlyTag()?this.resources.map(function(e){return e.chars}):this.resources.filter(function(e){return"oa:Tag"===e["@type"]}).map(function(e){return e.chars})}},{key:"chars",get:function(){return this.resources.filter(function(e){return"oa:Tag"!==e["@type"]}).map(function(e){return e.chars}).join(" ")}},{key:"selector",get:function(){var e=this.on[0];switch(typeof e){case"string":return e;case"object":if("oa:Choice"===e.selector["@type"])return e.selector.default;return e.selector;default:return null}}},{key:"svgSelector",get:function(){var e=this.on[0];switch(typeof e){case"string":default:return null;case"object":if(e.selector&&e.selector.item&&"oa:SvgSelector"===e.selector.item["@type"])return e.selector.item;return null}}},{key:"fragmentSelector",get:function(){var e,t=this.selector;switch(typeof t){case"string":e=t.match(/xywh=(.*)$/);break;case"object":e=t.value.match(/xywh=(.*)$/);break;default:return null}return e&&e[1].split(",").map(function(e){return parseInt(e,10)})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("1KvzF",function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,i=0,o=[];++t<n;){var a=e[t];a&&(o[i++]=a)}return o}}),et("eZo2c",function(e,t){q(e.exports,"default",()=>s);var n,i,o=ee("dPHLq"),a=ee("im3tt"),s=(n=function e(t,n){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.json=t,this.target=n},i=[{key:"id",get:function(){return this.json.id}},{key:"present",value:function(){return this.items&&this.items.length>0}},{key:"items",get:function(){return this._items=this._items||(this.json&&this.json.items?/*@__PURE__*/Y(o)([this.json.items]).map(function(e){return new a.default(e)}):[]),this._items}},{key:"resources",get:function(){return this.items}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("im3tt",function(e,t){q(e.exports,"default",()=>l);var n,i,o=ee("1KvzF"),a=ee("dPHLq"),s=ee("e7c9a"),l=(n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.resource=t},i=[{key:"isOnlyTag",value:function(){return 1===this.motivations.length&&"tagging"===this.motivations[0]}},{key:"id",get:function(){return this._id=this._id||this.resource.id||(0,s.default)(),this._id}},{key:"targetId",get:function(){var e=this.target[0];switch(typeof e){case"string":return e.replace(/#?xywh=(.*)$/,"");case"object":return e.source&&e.source.id||e.source||e.id;default:return null}}},{key:"motivations",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.motivation)))}},{key:"body",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.body)))}},{key:"resources",get:function(){return this.body}},{key:"tags",get:function(){return this.isOnlyTag()?this.body.map(function(e){return e.value}):this.body.filter(function(e){return"tagging"===e.purpose}).map(function(e){return e.value})}},{key:"target",get:function(){return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(this.resource.target)))}},{key:"chars",get:function(){return this.isOnlyTag()?null:this.body.filter(function(e){return"tagging"!==e.purpose}).map(function(e){return e.value}).join(" ")}},{key:"selector",get:function(){var e=this.target[0];switch(typeof e){case"string":return e;case"object":return /*@__PURE__*/Y(a)(/*@__PURE__*/Y(o)(Array(e.selector)));default:return null}}},{key:"svgSelector",get:function(){var e=this.selector;switch(typeof e){case"string":default:return null;case"object":return e.find(function(e){return e.type&&"SvgSelector"===e.type})}}},{key:"fragmentSelector",get:function(){var e,t,n=this.selector;switch(typeof n){case"string":e=n.match(/xywh=(.*)$/);break;case"object":e=(t=n.find(function(e){return e.type&&"FragmentSelector"===e.type}))&&t.value.match(/xywh=(.*)$/);break;default:return null}return e&&e[1].split(",").map(function(e){return parseInt(e,10)})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n)}),et("6Cznk",function(e,t){q(e.exports,"WindowSideBarAnnotationsPanel",()=>f);var n=ee("dm060"),i=ee("d822V"),o=ee("kl96R"),a=ee("6pwK5"),s=ee("d6cg7"),l=ee("5MoWj"),u=ee("YT00d"),c=ee("9L45J");function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=/*#__PURE__*/function(e){var t;function f(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f),i=f,o=[e],i=p(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,d()?Reflect.construct(i,o||[],p(this).constructor):i.apply(this,o))).containerRef=/*#__PURE__*/(0,n.createRef)(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(f,e),t=[{key:"render",value:function(){var e=this,t=this.props,n=t.annotationCount,d=t.canvasIds,p=t.t,h=t.windowId,f=t.id;return/*#__PURE__*/(0,c.jsxs)(s.default,{title:p("annotations"),paperClassName:(0,u.default)("window-sidebar-annotation-panel"),windowId:h,id:f,ref:this.containerRef,titleControls:/*#__PURE__*/(0,c.jsx)(o.default,{windowId:h}),children:[/*#__PURE__*/(0,c.jsx)(l.CompanionWindowSection,{children:/*#__PURE__*/(0,c.jsx)(i.default,{component:"p",variant:"subtitle2",children:p("showingNumAnnotations",{count:n,number:n})})}),d.map(function(t,n){return/*#__PURE__*/(0,c.jsx)(a.default,{canvasId:t,containerRef:e.containerRef,index:n,totalSize:d.length,windowId:h},t)})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component);f.defaultProps={canvasIds:[],t:function(e){return e}}}),et("d822V",function(e,t){q(e.exports,"default",()=>w);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("a4pZ6"),l=ee("kbtjl"),u=ee("37zHU"),c=ee("91wvo"),d=ee("iOGUL"),p=ee("abYgI"),h=ee("9L45J");let f=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=e=>{let{align:t,gutterBottom:n,noWrap:i,paragraph:o,variant:a,classes:s}=e,u={root:["root",a,"inherit"!==e.align&&`align${(0,d.default)(t)}`,n&&"gutterBottom",i&&"noWrap",o&&"paragraph"]};return(0,l.default)(u,p.getTypographyUtilityClass,s)},m=(0,u.default)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,d.default)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,i.default)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},b=e=>y[e]||e;var w=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,c.useDefaultProps)({props:e,name:"MuiTypography"}),l=b(o.color),u=(0,s.default)((0,i.default)({},o,{color:l})),{align:d="inherit",className:p,component:y,gutterBottom:w=!1,noWrap:x=!1,paragraph:S=!1,variant:_="body1",variantMapping:E=v}=u,T=(0,n.default)(u,f),O=(0,i.default)({},u,{align:d,color:l,className:p,component:y,gutterBottom:w,noWrap:x,paragraph:S,variant:_,variantMapping:E}),I=y||(S?"p":E[_]||v[_])||"span",P=g(O);return/*#__PURE__*/(0,h.jsx)(m,(0,i.default)({as:I,ref:t,ownerState:O,className:(0,a.default)(P.root,p)},T))})}),et("iOGUL",function(e,t){q(e.exports,"default",()=>n);var n=ee("joQYF").default}),et("abYgI",function(e,t){q(e.exports,"getTypographyUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTypography",e)}(0,n.default)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"])}),et("kl96R",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("h7O51"),s=ee("lqD1Z"),l=ee("bdEuo"),u=ee("cEqnD"),c=ee("3IZH4"),d=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.windowId;return{displayAll:(0,u.getWindow)(e,{windowId:n}).highlightAllAnnotations,displayAllDisabled:(0,l.getAnnotationResourcesByMotivation)(e,{windowId:n}).length<2}},function(e,t){var n=t.windowId;return{toggleAnnotationDisplay:function(){e(a.toggleAnnotationDisplay(n))}}}),(0,s.withPlugins)("AnnotationSettings"))(c.AnnotationSettings)}),et("3IZH4",function(e,t){q(e.exports,"AnnotationSettings",()=>d);var n=ee("dm060"),i=ee("9x9UM"),o=ee("kowpd"),a=ee("2Wy2f"),s=ee("9L45J");function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=u(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,l()?Reflect.construct(e,t||[],u(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.displayAll,n=e.displayAllDisabled,l=e.t,u=e.toggleAnnotationDisplay;return/*#__PURE__*/(0,s.jsx)(a.default,{"aria-label":l(t?"displayNoAnnotations":"highlightAllAnnotations"),onClick:u,disabled:n,size:"small",children:t?/*#__PURE__*/(0,s.jsx)(/*@__PURE__*/Y(i),{}):/*#__PURE__*/(0,s.jsx)(/*@__PURE__*/Y(o),{})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component)}),et("9x9UM",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilitySharp")}),et("37hG9",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"default",{enumerable:!0,get:function(){return n.default}});var n=ee("77XGA")}),et("77XGA",function(e,t){q(e.exports,"default",()=>s);var n=ee("5XyNA"),i=ee("dm060"),o=ee("4ZbYj"),a=ee("9L45J");function s(e,t){function s(i,s){return/*#__PURE__*/(0,a.jsx)(o.default,(0,n.default)({"data-testid":`${t}Icon`,ref:s},i,{children:e}))}return s.muiName=o.default.muiName,/*#__PURE__*/i.memo(/*#__PURE__*/i.forwardRef(s))}}),et("4ZbYj",function(e,t){q(e.exports,"default",()=>v);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("iOGUL"),u=ee("91wvo"),c=ee("37zHU"),d=ee("7TCGV"),p=ee("9L45J");let h=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],f=e=>{let{color:t,fontSize:n,classes:i}=e,o={root:["root","inherit"!==t&&`color${(0,l.default)(t)}`,`fontSize${(0,l.default)(n)}`]};return(0,s.default)(o,d.getSvgIconUtilityClass,i)},g=(0,c.default)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.default)(n.color)}`],t[`fontSize${(0,l.default)(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,i,o,a,s,l,u,c,d,p,h,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(i=n.create)?void 0:i.call(n,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:({inherit:"inherit",small:(null==(a=e.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(l=e.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=e.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"})[t.fontSize],color:null!=(p=null==(h=(e.vars||e).palette)||null==(h=h[t.color])?void 0:h.main)?p:({action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(g=(e.vars||e).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0})[t.color]}}),m=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiSvgIcon"}),{children:l,className:c,color:d="inherit",component:m="svg",fontSize:v="medium",htmlColor:y,inheritViewBox:b=!1,titleAccess:w,viewBox:x="0 0 24 24"}=s,S=(0,i.default)(s,h),_=/*#__PURE__*/o.isValidElement(l)&&"svg"===l.type,E=(0,n.default)({},s,{color:d,component:m,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:b,viewBox:x,hasSvgAsChild:_}),T={};b||(T.viewBox=x);let O=f(E);return/*#__PURE__*/(0,p.jsxs)(g,(0,n.default)({as:m,className:(0,a.default)(O.root,c),focusable:"false",color:y,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},T,S,_&&l.props,{ownerState:E,children:[_?l.props.children:l,w?/*#__PURE__*/(0,p.jsx)("title",{children:w}):null]}))});m.muiName="SvgIcon";var v=m}),et("7TCGV",function(e,t){q(e.exports,"getSvgIconUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiSvgIcon",e)}(0,n.default)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"])}),et("kowpd",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24M3.42 2.45 2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l3.43 3.43 1.41-1.41zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5m2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64z"}),"VisibilityOffSharp")}),et("2Wy2f",function(e,t){q(e.exports,"default",()=>s);var n=ee("1l9KS"),i=ee("lqD1Z"),o=ee("gURdF"),a=ee("hK273"),s=(0,n.compose)(a.withWorkspaceContext,(0,i.withPlugins)("MiradorMenuButton"))(o.MiradorMenuButton)}),et("gURdF",function(e,t){q(e.exports,"MiradorMenuButton",()=>p);var n=ee("37zHU"),i=ee("gwdsV"),o=ee("b9KXs"),a=ee("d0rRE"),s=ee("9L45J"),l=["badge","children","container","dispatch","selected","BadgeProps","TooltipProps","sx"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=(0,n.default)(o.default,{name:"MiradorMenuButton",slot:"root"})(function(e){var t=e.selected,n=e.theme;return c({fill:"currentcolor"},t&&{backgroundColor:n.palette.action.selected})});function p(e){var t=e["aria-label"],n=e.badge,o=e.children,u=e.container,p=(e.dispatch,e.selected),h=e.BadgeProps,f=e.TooltipProps,g=e.sx,m=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),v=/*#__PURE__*/(0,s.jsx)(d,c(c({selected:p},m),{},{sx:g,size:"large",children:n?/*#__PURE__*/(0,s.jsx)(i.default,c(c({overlap:"rectangular"},h),{},{children:o})):o}));return m.disabled?v:/*#__PURE__*/(0,s.jsx)(a.default,c(c({PopperProps:{container:null==u?void 0:u.current},title:t},f),{},{children:v}))}p.defaultProps={badge:!1,BadgeProps:{},container:null,dispatch:function(){},selected:!1,sx:{},TooltipProps:{}}}),et("gwdsV",function(e,t){q(e.exports,"default",()=>w);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("f3Zr4"),l=ee("kbtjl"),u=ee("kRqjG"),c=ee("dYjez"),d=ee("37zHU"),p=ee("91wvo"),h=ee("iOGUL"),f=ee("7INdU"),g=ee("9L45J");let m=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],v=e=>{let{color:t,anchorOrigin:n,invisible:i,overlap:o,variant:a,classes:s={}}=e,u={root:["root"],badge:["badge",a,i&&"invisible",`anchorOrigin${(0,h.default)(n.vertical)}${(0,h.default)(n.horizontal)}`,`anchorOrigin${(0,h.default)(n.vertical)}${(0,h.default)(n.horizontal)}${(0,h.default)(o)}`,`overlap${(0,h.default)(o)}`,"default"!==t&&`color${(0,h.default)(t)}`]};return(0,l.default)(u,f.getBadgeUtilityClass,s)},y=(0,d.default)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),b=(0,d.default)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,h.default)(n.anchorOrigin.vertical)}${(0,h.default)(n.anchorOrigin.horizontal)}${(0,h.default)(n.overlap)}`],"default"!==n.color&&t[`color${(0,h.default)(n.color)}`],n.invisible&&t.invisible]}})(({theme:e})=>{var t;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter(t=>{var n,i;return(null!=(n=e.vars)?n:e).palette[t].main&&(null!=(i=e.vars)?i:e).palette[t].contrastText}).map(t=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap,style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap,style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${f.default.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}});var w=/*#__PURE__*/o.forwardRef(function(e,t){var o,l,d,h,f,w;let x=(0,p.useDefaultProps)({props:e,name:"MuiBadge"}),{anchorOrigin:S={vertical:"top",horizontal:"right"},className:_,component:E,components:T={},componentsProps:O={},children:I,overlap:P="rectangular",color:C="default",invisible:A=!1,max:R=99,badgeContent:k,slots:D,slotProps:N,showZero:M=!1,variant:L="standard"}=x,j=(0,i.default)(x,m),{badgeContent:F,invisible:B,max:z,displayValue:U}=(0,c.default)({max:R,invisible:A,badgeContent:k,showZero:M}),W=(0,s.default)({anchorOrigin:S,color:C,overlap:P,variant:L,badgeContent:k}),H=B||null==F&&"dot"!==L,{color:V=C,overlap:G=P,anchorOrigin:$=S,variant:q=L}=H?W:x,X="dot"!==q?U:void 0,Y=(0,n.default)({},x,{badgeContent:F,invisible:H,max:z,displayValue:X,showZero:M,anchorOrigin:$,color:V,overlap:G,variant:q}),K=v(Y),Z=null!=(o=null!=(l=null==D?void 0:D.root)?l:T.Root)?o:y,J=null!=(d=null!=(h=null==D?void 0:D.badge)?h:T.Badge)?d:b,Q=null!=(f=null==N?void 0:N.root)?f:O.root,ee=null!=(w=null==N?void 0:N.badge)?w:O.badge,et=(0,u.default)({elementType:Z,externalSlotProps:Q,externalForwardedProps:j,additionalProps:{ref:t,as:E},ownerState:Y,className:(0,a.default)(null==Q?void 0:Q.className,K.root,_)}),er=(0,u.default)({elementType:J,externalSlotProps:ee,ownerState:Y,className:(0,a.default)(K.badge,null==ee?void 0:ee.className)});return/*#__PURE__*/(0,g.jsxs)(Z,(0,n.default)({},et,{children:[I,/*#__PURE__*/(0,g.jsx)(J,(0,n.default)({},er,{children:X}))]}))})}),et("f3Zr4",function(e,t){q(e.exports,"default",()=>i);var n=ee("dm060"),i=e=>{let t=n.useRef({});return n.useEffect(()=>{t.current=e}),t.current}}),et("kRqjG",function(e,t){q(e.exports,"default",()=>c);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("duXim"),a=ee("eKX1G"),s=ee("i0rbD"),l=ee("90jb8");let u=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];var c=function(e){var t;let{elementType:c,externalSlotProps:d,ownerState:p,skipResolvingSlotProps:h=!1}=e,f=(0,i.default)(e,u),g=h?{}:(0,l.default)(d,p),{props:m,internalRef:v}=(0,s.default)((0,n.default)({},f,{externalSlotProps:g})),y=(0,o.default)(v,null==g?void 0:g.ref,null==(t=e.additionalProps)?void 0:t.ref);return(0,a.default)(c,(0,n.default)({},m,{ref:y}),p)}}),et("duXim",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060"),i=ee("58OfG");function o(...e){return n.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{(0,i.default)(e,t)})},e)}}),et("58OfG",function(e,t){q(e.exports,"default",()=>n);function n(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}),et("eKX1G",function(e,t){q(e.exports,"default",()=>o);var n=ee("5XyNA"),i=ee("3oDsv"),o=function(e,t,o){return void 0===e||(0,i.default)(e)?t:(0,n.default)({},t,{ownerState:(0,n.default)({},t.ownerState,o)})}}),et("3oDsv",function(e,t){q(e.exports,"default",()=>n);var n=function(e){return"string"==typeof e}}),et("i0rbD",function(e,t){q(e.exports,"default",()=>s);var n=ee("5XyNA"),i=ee("auY7r"),o=ee("9fH15"),a=ee("hgFWu"),s=function(e){let{getSlotProps:t,additionalProps:s,externalSlotProps:l,externalForwardedProps:u,className:c}=e;if(!t){let e=(0,i.default)(null==s?void 0:s.className,c,null==u?void 0:u.className,null==l?void 0:l.className),t=(0,n.default)({},null==s?void 0:s.style,null==u?void 0:u.style,null==l?void 0:l.style),o=(0,n.default)({},s,u,l);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}let d=(0,o.default)((0,n.default)({},u,l)),p=(0,a.default)(l),h=(0,a.default)(u),f=t(d),g=(0,i.default)(null==f?void 0:f.className,null==s?void 0:s.className,c,null==u?void 0:u.className,null==l?void 0:l.className),m=(0,n.default)({},null==f?void 0:f.style,null==s?void 0:s.style,null==u?void 0:u.style,null==l?void 0:l.style),v=(0,n.default)({},f,s,h,p);return g.length>0&&(v.className=g),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:f.ref}}}),et("9fH15",function(e,t){q(e.exports,"default",()=>n);var n=function(e,t=[]){if(void 0===e)return{};let n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n}}),et("hgFWu",function(e,t){q(e.exports,"default",()=>n);var n=function(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(n=>{t[n]=e[n]}),t}}),et("90jb8",function(e,t){q(e.exports,"default",()=>n);var n=function(e,t,n){return"function"==typeof e?e(t,n):e}}),et("dYjez",function(e,t){q(e.exports,"default",()=>i);var n=ee("f3Zr4"),i=function(e){let{badgeContent:t,invisible:i=!1,max:o=99,showZero:a=!1}=e,s=(0,n.default)({badgeContent:t,max:o}),l=i;!1!==i||0!==t||a||(l=!0);let{badgeContent:u,max:c=o}=l?s:e,d=u&&Number(u)>c?`${c}+`:u;return{badgeContent:u,invisible:l,max:c,displayValue:d}}}),et("7INdU",function(e,t){q(e.exports,"getBadgeUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiBadge",e)}var a=(0,n.default)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"])}),et("b9KXs",function(e,t){q(e.exports,"default",()=>y);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("37zHU"),c=ee("91wvo"),d=ee("h8wer"),p=ee("iOGUL"),h=ee("kEzhj"),f=ee("9L45J");let g=["edge","children","className","color","disabled","disableFocusRipple","size"],m=e=>{let{classes:t,disabled:n,color:i,edge:o,size:a}=e,l={root:["root",n&&"disabled","default"!==i&&`color${(0,p.default)(i)}`,o&&`edge${(0,p.default)(o)}`,`size${(0,p.default)(a)}`]};return(0,s.default)(l,h.getIconButtonUtilityClass,t)},v=(0,u.default)(d.default,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,p.default)(n.color)}`],n.edge&&t[`edge${(0,p.default)(n.edge)}`],t[`size${(0,p.default)(n.size)}`]]}})(({theme:e,ownerState:t})=>(0,i.default)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var n;let o=null==(n=(e.vars||e).palette)?void 0:n[t.color];return(0,i.default)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,i.default)({color:null==o?void 0:o.main},!t.disableRipple&&{"&:hover":(0,i.default)({},o&&{backgroundColor:e.vars?`rgba(${o.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)(o.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${h.default.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})});var y=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,c.useDefaultProps)({props:e,name:"MuiIconButton"}),{edge:s=!1,children:l,className:u,color:d="default",disabled:p=!1,disableFocusRipple:h=!1,size:y="medium"}=o,b=(0,n.default)(o,g),w=(0,i.default)({},o,{edge:s,color:d,disabled:p,disableFocusRipple:h,size:y}),x=m(w);return/*#__PURE__*/(0,f.jsx)(v,(0,i.default)({className:(0,a.default)(x.root,u),centerRipple:!0,focusRipple:!h,disabled:p,ref:t},b,{ownerState:w,children:l}))})}),et("h8wer",function(e,t){q(e.exports,"default",()=>b);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("gvQts"),d=ee("bUOa9"),p=ee("9UHJr"),h=ee("33aJg"),f=ee("dIIUz"),g=ee("9L45J");let m=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],v=e=>{let{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:o}=e,a=(0,s.default)({root:["root",t&&"disabled",n&&"focusVisible"]},f.getButtonBaseUtilityClass,o);return n&&i&&(a.root+=` ${i}`),a},y=(0,l.default)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${f.default.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});var b=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiButtonBase"}),{action:l,centerRipple:f=!1,children:b,className:w,component:x="button",disabled:S=!1,disableRipple:_=!1,disableTouchRipple:E=!1,focusRipple:T=!1,LinkComponent:O="a",onBlur:I,onClick:P,onContextMenu:C,onDragLeave:A,onFocus:R,onFocusVisible:k,onKeyDown:D,onKeyUp:N,onMouseDown:M,onMouseLeave:L,onMouseUp:j,onTouchEnd:F,onTouchMove:B,onTouchStart:z,tabIndex:U=0,TouchRippleProps:W,touchRippleRef:H,type:V}=s,G=(0,i.default)(s,m),$=o.useRef(null),q=o.useRef(null),X=(0,c.default)(q,H),{isFocusVisibleRef:Y,onFocus:K,onBlur:Z,ref:J}=(0,p.default)(),[Q,ee]=o.useState(!1);S&&Q&&ee(!1),o.useImperativeHandle(l,()=>({focusVisible:()=>{ee(!0),$.current.focus()}}),[]);let[et,er]=o.useState(!1);o.useEffect(()=>{er(!0)},[]);let en=et&&!_&&!S;function ei(e,t,n=E){return(0,d.default)(i=>(t&&t(i),!n&&q.current&&q.current[e](i),!0))}o.useEffect(()=>{Q&&T&&!_&&et&&q.current.pulsate()},[_,T,Q,et]);let eo=ei("start",M),ea=ei("stop",C),es=ei("stop",A),el=ei("stop",j),eu=ei("stop",e=>{Q&&e.preventDefault(),L&&L(e)}),ec=ei("start",z),ed=ei("stop",F),ep=ei("stop",B),eh=ei("stop",e=>{Z(e),!1===Y.current&&ee(!1),I&&I(e)},!1),ef=(0,d.default)(e=>{$.current||($.current=e.currentTarget),K(e),!0===Y.current&&(ee(!0),k&&k(e)),R&&R(e)}),eg=()=>{let e=$.current;return x&&"button"!==x&&!("A"===e.tagName&&e.href)},em=o.useRef(!1),ev=(0,d.default)(e=>{T&&!em.current&&Q&&q.current&&" "===e.key&&(em.current=!0,q.current.stop(e,()=>{q.current.start(e)})),e.target===e.currentTarget&&eg()&&" "===e.key&&e.preventDefault(),D&&D(e),e.target===e.currentTarget&&eg()&&"Enter"===e.key&&!S&&(e.preventDefault(),P&&P(e))}),ey=(0,d.default)(e=>{T&&" "===e.key&&q.current&&Q&&!e.defaultPrevented&&(em.current=!1,q.current.stop(e,()=>{q.current.pulsate(e)})),N&&N(e),P&&e.target===e.currentTarget&&eg()&&" "===e.key&&!e.defaultPrevented&&P(e)}),eb=x;"button"===eb&&(G.href||G.to)&&(eb=O);let ew={};"button"===eb?(ew.type=void 0===V?"button":V,ew.disabled=S):(G.href||G.to||(ew.role="button"),S&&(ew["aria-disabled"]=S));let ex=(0,c.default)(t,J,$),eS=(0,n.default)({},s,{centerRipple:f,component:x,disabled:S,disableRipple:_,disableTouchRipple:E,focusRipple:T,tabIndex:U,focusVisible:Q}),e_=v(eS);return/*#__PURE__*/(0,g.jsxs)(y,(0,n.default)({as:eb,className:(0,a.default)(e_.root,w),ownerState:eS,onBlur:eh,onClick:P,onContextMenu:ea,onFocus:ef,onKeyDown:ev,onKeyUp:ey,onMouseDown:eo,onMouseLeave:eu,onMouseUp:el,onDragLeave:es,onTouchEnd:ed,onTouchMove:ep,onTouchStart:ec,ref:ex,tabIndex:S?-1:U,type:V},ew,G,{children:[b,en?/*#__PURE__*/(0,g.jsx)(h.default,(0,n.default)({ref:X,center:f},W)):null]}))})}),et("gvQts",function(e,t){q(e.exports,"default",()=>n);var n=ee("duXim").default}),et("bUOa9",function(e,t){q(e.exports,"default",()=>n);var n=ee("bOBP7").default}),et("bOBP7",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060"),i=ee("evlvx"),o=function(e){let t=n.useRef(e);return(0,i.default)(()=>{t.current=e}),n.useRef((...e)=>(0,t.current)(...e)).current}}),et("evlvx",function(e,t){q(e.exports,"default",()=>i);var n=ee("dm060"),i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect}),et("9UHJr",function(e,t){q(e.exports,"default",()=>n);var n=ee("6qGTI").default}),et("6qGTI",function(e,t){q(e.exports,"default",()=>p);var n=ee("dm060"),i=ee("3GUsc");let o=!0,a=!1,s=new i.Timeout,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function p(){let e=n.useCallback(e=>{if(null!=e){var t;(t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0)}},[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){let{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return o||function(e){let{type:t,tagName:n}=e;return"INPUT"===n&&!!l[t]&&!e.readOnly||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,s.start(100,()=>{a=!1}),t.current=!1,!0)},ref:e}}}),et("3GUsc",function(e,t){q(e.exports,"Timeout",()=>o),q(e.exports,"default",()=>a);var n=ee("akXIJ"),i=ee("2P7yt");class o{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new o}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function a(){let e=(0,n.default)(o.create).current;return(0,i.default)(e.disposeEffect),e}}),et("akXIJ",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060");let i={};function o(e,t){let o=n.useRef(i);return o.current===i&&(o.current=e(t)),o}}),et("2P7yt",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060");let i=[];function o(e){n.useEffect(e,i)}}),et("33aJg",function(e,t){q(e.exports,"default",()=>O);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("gsq06"),s=ee("auY7r"),l=ee("1yKl8"),u=ee("3GUsc"),c=ee("37zHU"),d=ee("91wvo"),p=ee("8mdyh"),h=ee("cHobY"),f=ee("9L45J");let g=["center","classes","className"],m=e=>e,v,y,b,w,x=(0,l.keyframes)(v||(v=m`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),S=(0,l.keyframes)(y||(y=m`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),_=(0,l.keyframes)(b||(b=m`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),E=(0,c.default)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),T=(0,c.default)(p.default,{name:"MuiTouchRipple",slot:"Ripple"})(w||(w=m`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),h.default.rippleVisible,x,550,({theme:e})=>e.transitions.easing.easeInOut,h.default.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,h.default.child,h.default.childLeaving,S,550,({theme:e})=>e.transitions.easing.easeInOut,h.default.childPulsate,_,({theme:e})=>e.transitions.easing.easeInOut);var O=/*#__PURE__*/o.forwardRef(function(e,t){let l=(0,d.useDefaultProps)({props:e,name:"MuiTouchRipple"}),{center:c=!1,classes:p={},className:m}=l,v=(0,i.default)(l,g),[y,b]=o.useState([]),w=o.useRef(0),x=o.useRef(null);o.useEffect(()=>{x.current&&(x.current(),x.current=null)},[y]);let S=o.useRef(!1),_=(0,u.default)(),O=o.useRef(null),I=o.useRef(null),P=o.useCallback(e=>{let{pulsate:t,rippleX:n,rippleY:i,rippleSize:o,cb:a}=e;b(e=>[...e,/*#__PURE__*/(0,f.jsx)(T,{classes:{ripple:(0,s.default)(p.ripple,h.default.ripple),rippleVisible:(0,s.default)(p.rippleVisible,h.default.rippleVisible),ripplePulsate:(0,s.default)(p.ripplePulsate,h.default.ripplePulsate),child:(0,s.default)(p.child,h.default.child),childLeaving:(0,s.default)(p.childLeaving,h.default.childLeaving),childPulsate:(0,s.default)(p.childPulsate,h.default.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:o},w.current)]),w.current+=1,x.current=a},[p]),C=o.useCallback((e={},t={},n=()=>{})=>{let i,o,a;let{pulsate:s=!1,center:l=c||t.pulsate,fakeElement:u=!1}=t;if((null==e?void 0:e.type)==="mousedown"&&S.current){S.current=!1;return}(null==e?void 0:e.type)==="touchstart"&&(S.current=!0);let d=u?null:I.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(!l&&void 0!==e&&(0!==e.clientX||0!==e.clientY)&&(e.clientX||e.touches)){let{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;i=Math.round(t-p.left),o=Math.round(n-p.top)}else i=Math.round(p.width/2),o=Math.round(p.height/2);l?(a=Math.sqrt((2*p.width**2+p.height**2)/3))%2==0&&(a+=1):a=Math.sqrt((2*Math.max(Math.abs((d?d.clientWidth:0)-i),i)+2)**2+(2*Math.max(Math.abs((d?d.clientHeight:0)-o),o)+2)**2),null!=e&&e.touches?null===O.current&&(O.current=()=>{P({pulsate:s,rippleX:i,rippleY:o,rippleSize:a,cb:n})},_.start(80,()=>{O.current&&(O.current(),O.current=null)})):P({pulsate:s,rippleX:i,rippleY:o,rippleSize:a,cb:n})},[c,P,_]),A=o.useCallback(()=>{C({},{pulsate:!0})},[C]),R=o.useCallback((e,t)=>{if(_.clear(),(null==e?void 0:e.type)==="touchend"&&O.current){O.current(),O.current=null,_.start(0,()=>{R(e,t)});return}O.current=null,b(e=>e.length>0?e.slice(1):e),x.current=t},[_]);return o.useImperativeHandle(t,()=>({pulsate:A,start:C,stop:R}),[A,C,R]),/*#__PURE__*/(0,f.jsx)(E,(0,n.default)({className:(0,s.default)(h.default.root,p.root,m),ref:I},v,{children:/*#__PURE__*/(0,f.jsx)(a.default,{component:null,exit:!0,children:y})}))})}),et("gsq06",function(e,t){q(e.exports,"default",()=>p);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("a8uwv"),a=ee("jShzb"),s=ee("dm060"),l=ee("f8hPd"),u=ee("8z8xS"),c=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},d=/*#__PURE__*/function(e){function t(t,n){var i,a=(i=e.call(this,t,n)||this).handleExited.bind((0,o.default)(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}(0,a.default)(t,e);var d=t.prototype;return d.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},d.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,i=t.handleExited;return{children:t.firstRender?(0,u.getInitialChildMapping)(e,i):(0,u.getNextChildMapping)(e,n,i),firstRender:!1}},d.handleExited=function(e,t){var n=(0,u.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=(0,i.default)({},t.children);return delete n[e.key],{children:n}}))},d.render=function(){var e=this.props,t=e.component,i=e.childFactory,o=(0,n.default)(e,["component","childFactory"]),a=this.state.contextValue,u=c(this.state.children).map(i);return(delete o.appear,delete o.enter,delete o.exit,null===t)?/*#__PURE__*//*@__PURE__*/Y(s).createElement(l.default.Provider,{value:a},u):/*#__PURE__*//*@__PURE__*/Y(s).createElement(l.default.Provider,{value:a},/*#__PURE__*//*@__PURE__*/Y(s).createElement(t,o,u))},t}(/*@__PURE__*/Y(s).Component);d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=d}),et("f8hPd",function(e,t){q(e.exports,"default",()=>n);var n=/*@__PURE__*/Y(ee("dm060")).createContext(null)}),et("8z8xS",function(e,t){q(e.exports,"getChildMapping",()=>i),q(e.exports,"getInitialChildMapping",()=>a),q(e.exports,"getNextChildMapping",()=>s);var n=ee("dm060");function i(e,t){var i=Object.create(null);return e&&(0,n.Children).map(e,function(e){return e}).forEach(function(e){i[e.key]=t&&(0,n.isValidElement)(e)?t(e):e}),i}function o(e,t,n){return null!=n[t]?n[t]:e.props[t]}function a(e,t){return i(e.children,function(i){return(0,n.cloneElement)(i,{onExited:t.bind(null,i),in:!0,appear:o(i,"appear",e),enter:o(i,"enter",e),exit:o(i,"exit",e)})})}function s(e,t,a){var s=i(e.children),l=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,o=Object.create(null),a=[];for(var s in e)s in t?a.length&&(o[s]=a,a=[]):a.push(s);var l={};for(var u in t){if(o[u])for(i=0;i<o[u].length;i++){var c=o[u][i];l[o[u][i]]=n(c)}l[u]=n(u)}for(i=0;i<a.length;i++)l[a[i]]=n(a[i]);return l}(t,s);return Object.keys(l).forEach(function(i){var u=l[i];if((0,n.isValidElement)(u)){var c=i in t,d=i in s,p=t[i],h=(0,n.isValidElement)(p)&&!p.props.in;d&&(!c||h)?l[i]=(0,n.cloneElement)(u,{onExited:a.bind(null,u),in:!0,exit:o(u,"exit",e),enter:o(u,"enter",e)}):d||!c||h?d&&c&&(0,n.isValidElement)(p)&&(l[i]=(0,n.cloneElement)(u,{onExited:a.bind(null,u),in:p.props.in,exit:o(u,"exit",e),enter:o(u,"enter",e)})):l[i]=(0,n.cloneElement)(u,{in:!1})}}),l}}),et("8mdyh",function(e,t){q(e.exports,"default",()=>a);var n=ee("dm060"),i=ee("auY7r"),o=ee("9L45J"),a=function(e){let{className:t,classes:a,pulsate:s=!1,rippleX:l,rippleY:u,rippleSize:c,in:d,onExited:p,timeout:h}=e,[f,g]=n.useState(!1),m=(0,i.default)(t,a.ripple,a.rippleVisible,s&&a.ripplePulsate),v=(0,i.default)(a.child,f&&a.childLeaving,s&&a.childPulsate);return d||f||g(!0),n.useEffect(()=>{if(!d&&null!=p){let e=setTimeout(p,h);return()=>{clearTimeout(e)}}},[p,d,h]),/*#__PURE__*/(0,o.jsx)("span",{className:m,style:{width:c,height:c,top:-(c/2)+u,left:-(c/2)+l},children:/*#__PURE__*/(0,o.jsx)("span",{className:v})})}}),et("cHobY",function(e,t){q(e.exports,"default",()=>i);var n=ee("auOVn");ee("hH6Po");var i=(0,n.default)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"])}),et("dIIUz",function(e,t){q(e.exports,"getButtonBaseUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiButtonBase",e)}var a=(0,n.default)("MuiButtonBase",["root","disabled","focusVisible"])}),et("kEzhj",function(e,t){q(e.exports,"getIconButtonUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiIconButton",e)}var a=(0,n.default)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"])}),et("d0rRE",function(e,t){q(e.exports,"default",()=>N);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("3GUsc"),l=ee("kbtjl"),u=ee("9xsQ3"),c=ee("aBKyn"),d=ee("eKX1G"),p=ee("37zHU"),h=ee("3rPNm"),f=ee("91wvo"),g=ee("iOGUL"),m=ee("8qRXU"),v=ee("cnHRL"),y=ee("bUOa9"),b=ee("gvQts"),w=ee("7yBl2"),x=ee("9UHJr"),S=ee("esRas"),_=ee("lWN1x"),E=ee("9L45J");let T=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"],O=e=>{let{classes:t,disableInteractive:n,arrow:i,touch:o,placement:a}=e,s={popper:["popper",!n&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,g.default)(a.split("-")[0])}`],arrow:["arrow"]};return(0,l.default)(s,_.getTooltipUtilityClass,t)},I=(0,p.default)(v.default,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>(0,i.default)({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${_.default.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${_.default.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${_.default.arrow}`]:(0,i.default)({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${_.default.arrow}`]:(0,i.default)({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),P=(0,p.default)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,g.default)(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>(0,i.default)({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:(0,u.alpha)(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${Math.round(16/14*1e5)/1e5}em`,fontWeight:e.typography.fontWeightRegular},{[`.${_.default.popper}[data-popper-placement*="left"] &`]:(0,i.default)({transformOrigin:"right center"},t.isRtl?(0,i.default)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):(0,i.default)({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${_.default.popper}[data-popper-placement*="right"] &`]:(0,i.default)({transformOrigin:"left center"},t.isRtl?(0,i.default)({marginRight:"14px"},t.touch&&{marginRight:"24px"}):(0,i.default)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${_.default.popper}[data-popper-placement*="top"] &`]:(0,i.default)({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${_.default.popper}[data-popper-placement*="bottom"] &`]:(0,i.default)({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),C=(0,p.default)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:(0,u.alpha)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})),A=!1,R=new s.Timeout,k={x:0,y:0};function D(e,t){return(n,...i)=>{t&&t(n,...i),e(n,...i)}}var N=/*#__PURE__*/o.forwardRef(function(e,t){var l,u,p,g,_,N,M,L,j,F,B,z,U,W,H,V,G,$,q;let X=(0,f.useDefaultProps)({props:e,name:"MuiTooltip"}),{arrow:Y=!1,children:K,components:Z={},componentsProps:J={},describeChild:Q=!1,disableFocusListener:ee=!1,disableHoverListener:et=!1,disableInteractive:er=!1,disableTouchListener:en=!1,enterDelay:ei=100,enterNextDelay:eo=0,enterTouchDelay:ea=700,followCursor:es=!1,id:el,leaveDelay:eu=0,leaveTouchDelay:ec=1500,onClose:ed,onOpen:ep,open:eh,placement:ef="bottom",PopperComponent:eg,PopperProps:em={},slotProps:ev={},slots:ey={},title:eb,TransitionComponent:ew=m.default,TransitionProps:ex}=X,eS=(0,n.default)(X,T),e_=/*#__PURE__*/o.isValidElement(K)?K:/*#__PURE__*/(0,E.jsx)("span",{children:K}),eE=(0,h.default)(),eT=(0,c.useRtl)(),[eO,eI]=o.useState(),[eP,eC]=o.useState(null),eA=o.useRef(!1),eR=er||es,ek=(0,s.default)(),eD=(0,s.default)(),eN=(0,s.default)(),eM=(0,s.default)(),[eL,ej]=(0,S.default)({controlled:eh,default:!1,name:"Tooltip",state:"open"}),eF=eL,eB=(0,w.default)(el),ez=o.useRef(),eU=(0,y.default)(()=>{void 0!==ez.current&&(document.body.style.WebkitUserSelect=ez.current,ez.current=void 0),eM.clear()});o.useEffect(()=>eU,[eU]);let eW=e=>{R.clear(),A=!0,ej(!0),ep&&!eF&&ep(e)},eH=(0,y.default)(e=>{R.start(800+eu,()=>{A=!1}),ej(!1),ed&&eF&&ed(e),ek.start(eE.transitions.duration.shortest,()=>{eA.current=!1})}),eV=e=>{eA.current&&"touchstart"!==e.type||(eO&&eO.removeAttribute("title"),eD.clear(),eN.clear(),ei||A&&eo?eD.start(A?eo:ei,()=>{eW(e)}):eW(e))},eG=e=>{eD.clear(),eN.start(eu,()=>{eH(e)})},{isFocusVisibleRef:e$,onBlur:eq,onFocus:eX,ref:eY}=(0,x.default)(),[,eK]=o.useState(!1),eZ=e=>{eq(e),!1===e$.current&&(eK(!1),eG(e))},eJ=e=>{eO||eI(e.currentTarget),eX(e),!0===e$.current&&(eK(!0),eV(e))},eQ=e=>{eA.current=!0;let t=e_.props;t.onTouchStart&&t.onTouchStart(e)};o.useEffect(()=>{if(eF)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){("Escape"===e.key||"Esc"===e.key)&&eH(e)}},[eH,eF]);let e0=(0,b.default)(e_.ref,eY,eI,t);eb||0===eb||(eF=!1);let e1=o.useRef(),e2={},e3="string"==typeof eb;Q?(e2.title=eF||!e3||et?null:eb,e2["aria-describedby"]=eF?eB:null):(e2["aria-label"]=e3?eb:null,e2["aria-labelledby"]=eF&&!e3?eB:null);let e5=(0,i.default)({},e2,eS,e_.props,{className:(0,a.default)(eS.className,e_.props.className),onTouchStart:eQ,ref:e0},es?{onMouseMove:e=>{let t=e_.props;t.onMouseMove&&t.onMouseMove(e),k={x:e.clientX,y:e.clientY},e1.current&&e1.current.update()}}:{}),e4={};en||(e5.onTouchStart=e=>{eQ(e),eN.clear(),ek.clear(),eU(),ez.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",eM.start(ea,()=>{document.body.style.WebkitUserSelect=ez.current,eV(e)})},e5.onTouchEnd=e=>{e_.props.onTouchEnd&&e_.props.onTouchEnd(e),eU(),eN.start(ec,()=>{eH(e)})}),et||(e5.onMouseOver=D(eV,e5.onMouseOver),e5.onMouseLeave=D(eG,e5.onMouseLeave),eR||(e4.onMouseOver=eV,e4.onMouseLeave=eG)),ee||(e5.onFocus=D(eJ,e5.onFocus),e5.onBlur=D(eZ,e5.onBlur),eR||(e4.onFocus=eJ,e4.onBlur=eZ));let e6=o.useMemo(()=>{var e;let t=[{name:"arrow",enabled:!!eP,options:{element:eP,padding:4}}];return null!=(e=em.popperOptions)&&e.modifiers&&(t=t.concat(em.popperOptions.modifiers)),(0,i.default)({},em.popperOptions,{modifiers:t})},[eP,em]),e8=(0,i.default)({},X,{isRtl:eT,arrow:Y,disableInteractive:eR,placement:ef,PopperComponentProp:eg,touch:eA.current}),e9=O(e8),e7=null!=(l=null!=(u=ey.popper)?u:Z.Popper)?l:I,te=null!=(p=null!=(g=null!=(_=ey.transition)?_:Z.Transition)?g:ew)?p:m.default,tt=null!=(N=null!=(M=ey.tooltip)?M:Z.Tooltip)?N:P,tr=null!=(L=null!=(j=ey.arrow)?j:Z.Arrow)?L:C,tn=(0,d.default)(e7,(0,i.default)({},em,null!=(F=ev.popper)?F:J.popper,{className:(0,a.default)(e9.popper,null==em?void 0:em.className,null==(B=null!=(z=ev.popper)?z:J.popper)?void 0:B.className)}),e8),ti=(0,d.default)(te,(0,i.default)({},ex,null!=(U=ev.transition)?U:J.transition),e8),to=(0,d.default)(tt,(0,i.default)({},null!=(W=ev.tooltip)?W:J.tooltip,{className:(0,a.default)(e9.tooltip,null==(H=null!=(V=ev.tooltip)?V:J.tooltip)?void 0:H.className)}),e8),ta=(0,d.default)(tr,(0,i.default)({},null!=(G=ev.arrow)?G:J.arrow,{className:(0,a.default)(e9.arrow,null==($=null!=(q=ev.arrow)?q:J.arrow)?void 0:$.className)}),e8);return/*#__PURE__*/(0,E.jsxs)(o.Fragment,{children:[/*#__PURE__*/o.cloneElement(e_,e5),/*#__PURE__*/(0,E.jsx)(e7,(0,i.default)({as:null!=eg?eg:v.default,placement:ef,anchorEl:es?{getBoundingClientRect:()=>({top:k.y,left:k.x,right:k.x,bottom:k.y,width:0,height:0})}:eO,popperRef:e1,open:!!eO&&eF,id:eB,transition:!0},e4,tn,{popperOptions:e6,children:({TransitionProps:e})=>/*#__PURE__*/(0,E.jsx)(te,(0,i.default)({timeout:eE.transitions.duration.shorter},e,ti,{children:/*#__PURE__*/(0,E.jsxs)(tt,(0,i.default)({},to,{children:[eb,Y?/*#__PURE__*/(0,E.jsx)(tr,(0,i.default)({},ta,{ref:eC})):null]}))}))}))]})})}),et("aBKyn",function(e,t){q(e.exports,"useRtl",()=>u),q(e.exports,"default",()=>c);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("9L45J");let s=["value"],l=/*#__PURE__*/o.createContext(),u=()=>{let e=o.useContext(l);return null!=e&&e};var c=function(e){let{value:t}=e,o=(0,i.default)(e,s);return/*#__PURE__*/(0,a.jsx)(l.Provider,(0,n.default)({value:null==t||t},o))}}),et("3rPNm",function(e,t){q(e.exports,"default",()=>a),ee("dm060");var n=ee("dzheh"),i=ee("bR10X"),o=ee("5MpsY");function a(){let e=(0,n.default)(i.default);return e[o.default]||e}}),et("dzheh",function(e,t){q(e.exports,"default",()=>a);var n=ee("bZJvG"),i=ee("fHrWv");let o=(0,n.default)();var a=function(e=o){return(0,i.default)(e)}}),et("fHrWv",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060");ee("1yKl8");var i=ee("a2BaF"),o=function(e=null){let t=n.useContext(i.T);return t&&0!==Object.keys(t).length?t:e}}),et("8qRXU",function(e,t){q(e.exports,"default",()=>v);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("3GUsc"),s=ee("cLeWd"),l=ee("3rPNm"),u=ee("ftBEV"),c=ee("gvQts"),d=ee("9L45J");let p=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function h(e){return`scale(${e}, ${e**2})`}let f={entering:{opacity:1,transform:h(1)},entered:{opacity:1,transform:"none"}},g="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m=/*#__PURE__*/o.forwardRef(function(e,t){let{addEndListener:m,appear:v=!0,children:y,easing:b,in:w,onEnter:x,onEntered:S,onEntering:_,onExit:E,onExited:T,onExiting:O,style:I,timeout:P="auto",TransitionComponent:C=s.default}=e,A=(0,i.default)(e,p),R=(0,a.default)(),k=o.useRef(),D=(0,l.default)(),N=o.useRef(null),M=(0,c.default)(N,y.ref,t),L=e=>t=>{if(e){let n=N.current;void 0===t?e(n):e(n,t)}},j=L(_),F=L((e,t)=>{let n;(0,u.reflow)(e);let{duration:i,delay:o,easing:a}=(0,u.getTransitionProps)({style:I,timeout:P,easing:b},{mode:"enter"});"auto"===P?(n=D.transitions.getAutoHeightDuration(e.clientHeight),k.current=n):n=i,e.style.transition=[D.transitions.create("opacity",{duration:n,delay:o}),D.transitions.create("transform",{duration:g?n:.666*n,delay:o,easing:a})].join(","),x&&x(e,t)}),B=L(S),z=L(O),U=L(e=>{let t;let{duration:n,delay:i,easing:o}=(0,u.getTransitionProps)({style:I,timeout:P,easing:b},{mode:"exit"});"auto"===P?(t=D.transitions.getAutoHeightDuration(e.clientHeight),k.current=t):t=n,e.style.transition=[D.transitions.create("opacity",{duration:t,delay:i}),D.transitions.create("transform",{duration:g?t:.666*t,delay:g?i:i||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=h(.75),E&&E(e)}),W=L(T);return/*#__PURE__*/(0,d.jsx)(C,(0,n.default)({appear:v,in:w,nodeRef:N,onEnter:F,onEntered:B,onEntering:j,onExit:U,onExited:W,onExiting:z,addEndListener:e=>{"auto"===P&&R.start(k.current||0,e),m&&m(N.current,e)},timeout:"auto"===P?null:P},A,{children:(e,t)=>/*#__PURE__*/o.cloneElement(y,(0,n.default)({style:(0,n.default)({opacity:0,transform:h(.75),visibility:"exited"!==e||w?void 0:"hidden"},f[e],I,y.props.style),ref:M},t))}))});m.muiSupportAuto=!0;var v=m}),et("cLeWd",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("jShzb"),o=ee("dm060"),a=ee("lfr5Y"),s=ee("9HHMq"),l=ee("f8hPd"),u=ee("tMmTY"),c="unmounted",d="exited",p="entering",h="entered",f="exiting",g=/*#__PURE__*/function(e){function t(t,n){i=e.call(this,t,n)||this;var i,o,a=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(o=d,i.appearStatus=p):o=h:o=t.unmountOnExit||t.mountOnEnter?c:d,i.state={status:o},i.nextCallback=null,i}(0,i.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:d}:null};var g=t.prototype;return g.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},g.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==h&&(t=p):(n===p||n===h)&&(t=f)}this.updateStatus(!1,t)},g.componentWillUnmount=function(){this.cancelNextCallback()},g.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},g.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===p){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:/*@__PURE__*/Y(a).findDOMNode(this);n&&(0,u.forceReflow)(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:c})},g.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[/*@__PURE__*/Y(a).findDOMNode(this),i],l=o[0],u=o[1],c=this.getTimeouts(),d=i?c.appear:c.enter;if(!e&&!n||s.default.disabled){this.safeSetState({status:h},function(){t.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:p},function(){t.props.onEntering(l,u),t.onTransitionEnd(d,function(){t.safeSetState({status:h},function(){t.props.onEntered(l,u)})})})},g.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:/*@__PURE__*/Y(a).findDOMNode(this);if(!t||s.default.disabled){this.safeSetState({status:d},function(){e.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:f},function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(i)})})})},g.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},g.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},g.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},g.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:/*@__PURE__*/Y(a).findDOMNode(this),i=null==e&&!this.props.addEndListener;if(!n||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],l=o[1];this.props.addEndListener(s,l)}null!=e&&setTimeout(this.nextCallback,e)},g.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,i=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,n.default)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return /*#__PURE__*//*@__PURE__*/Y(o).createElement(l.default.Provider,{value:null},"function"==typeof i?i(e,a):/*@__PURE__*/Y(o).cloneElement(/*@__PURE__*/Y(o).Children.only(i),a))},t}(/*@__PURE__*/Y(o).Component);function m(){}g.contextType=l.default,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},g.UNMOUNTED=c,g.EXITED=d,g.ENTERING=p,g.ENTERED=h,g.EXITING=f;var v=g}),et("9HHMq",function(e,t){q(e.exports,"default",()=>n);var n={disabled:!1}}),et("tMmTY",function(e,t){q(e.exports,"forceReflow",()=>n);var n=function(e){return e.scrollTop}}),et("ftBEV",function(e,t){q(e.exports,"reflow",()=>n),q(e.exports,"getTransitionProps",()=>i);let n=e=>e.scrollTop;function i(e,t){var n,i;let{timeout:o,easing:a,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(i=s.transitionTimingFunction)?i:"object"==typeof a?a[t.mode]:a,delay:s.transitionDelay}}}),et("cnHRL",function(e,t){q(e.exports,"default",()=>h);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("anN2C"),a=ee("dm060"),s=ee("hsPRf"),l=ee("37zHU"),u=ee("91wvo"),c=ee("9L45J");let d=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],p=(0,l.default)(s.default,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({});var h=/*#__PURE__*/a.forwardRef(function(e,t){var a;let s=/*@__PURE__*/Y(o)(),l=(0,u.useDefaultProps)({props:e,name:"MuiPopper"}),{anchorEl:h,component:f,components:g,componentsProps:m,container:v,disablePortal:y,keepMounted:b,modifiers:w,open:x,placement:S,popperOptions:_,popperRef:E,transition:T,slots:O,slotProps:I}=l,P=(0,i.default)(l,d),C=null!=(a=null==O?void 0:O.root)?a:null==g?void 0:g.Root,A=(0,n.default)({anchorEl:h,container:v,disablePortal:y,keepMounted:b,modifiers:w,open:x,placement:S,popperOptions:_,popperRef:E,transition:T},P);return/*#__PURE__*/(0,c.jsx)(p,(0,n.default)({as:f,direction:null==s?void 0:s.direction,slots:{root:C},slotProps:null!=I?I:m},A,{ref:t}))})}),et("anN2C",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(ee("dm060"));ee("1yKl8");var i=ee("a2BaF");function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports.default=function(e=null){let t=n.useContext(i.T);return t&&0!==Object.keys(t).length?t:e}}),et("hsPRf",function(e,t){q(e.exports,"default",()=>x);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("lauWI"),s=ee("evlvx"),l=ee("duXim"),u=ee("c32gq"),c=ee("kbtjl"),d=ee("kRqjG"),p=ee("2rNaj"),h=ee("fl05D"),f=ee("9L45J");let g=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],m=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function v(e){return"function"==typeof e?e():e}let y=e=>{let{classes:t}=e;return(0,c.default)({root:["root"]},h.getPopperUtilityClass,t)},b={},w=/*#__PURE__*/o.forwardRef(function(e,t){var a;let{anchorEl:c,children:p,direction:h,disablePortal:m,modifiers:b,open:w,placement:x,popperOptions:S,popperRef:_,slotProps:E={},slots:T={},TransitionProps:O}=e,I=(0,i.default)(e,g),P=o.useRef(null),C=(0,l.default)(P,t),A=o.useRef(null),R=(0,l.default)(A,_),k=o.useRef(R);(0,s.default)(()=>{k.current=R},[R]),o.useImperativeHandle(_,()=>A.current,[]);let D=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(x,h),[N,M]=o.useState(D),[L,j]=o.useState(v(c));o.useEffect(()=>{A.current&&A.current.forceUpdate()}),o.useEffect(()=>{c&&j(v(c))},[c]),(0,s.default)(()=>{if(!L||!w)return;let e=e=>{M(e.placement)},t=[{name:"preventOverflow",options:{altBoundary:m}},{name:"flip",options:{altBoundary:m}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:t})=>{e(t)}}];null!=b&&(t=t.concat(b)),S&&null!=S.modifiers&&(t=t.concat(S.modifiers));let i=(0,u.createPopper)(L,P.current,(0,n.default)({placement:D},S,{modifiers:t}));return k.current(i),()=>{i.destroy(),k.current(null)}},[L,m,b,w,S,D]);let F={placement:N};null!==O&&(F.TransitionProps=O);let B=y(e),z=null!=(a=T.root)?a:"div",U=(0,d.default)({elementType:z,externalSlotProps:E.root,externalForwardedProps:I,additionalProps:{role:"tooltip",ref:C},ownerState:e,className:B.root});return/*#__PURE__*/(0,f.jsx)(z,(0,n.default)({},U,{children:"function"==typeof p?p(F):p}))});var x=/*#__PURE__*/o.forwardRef(function(e,t){let s;let{anchorEl:l,children:u,container:c,direction:d="ltr",disablePortal:h=!1,keepMounted:g=!1,modifiers:y,open:x,placement:S="bottom",popperOptions:_=b,popperRef:E,style:T,transition:O=!1,slotProps:I={},slots:P={}}=e,C=(0,i.default)(e,m),[A,R]=o.useState(!0);if(!g&&!x&&(!O||A))return null;if(c)s=c;else if(l){let e=v(l);s=e&&void 0!==e.nodeType?(0,a.default)(e).body:(0,a.default)(null).body}let k=!x&&g&&(!O||A)?"none":void 0,D=O?{in:x,onEnter:()=>{R(!1)},onExited:()=>{R(!0)}}:void 0;return/*#__PURE__*/(0,f.jsx)(p.default,{disablePortal:h,container:s,children:/*#__PURE__*/(0,f.jsx)(w,(0,n.default)({anchorEl:l,direction:d,disablePortal:h,modifiers:y,ref:t,open:O?!A:x,placement:S,popperOptions:_,popperRef:E,slotProps:I,slots:P},C,{style:(0,n.default)({position:"fixed",top:0,left:0,display:k},T),TransitionProps:D,children:u}))})})}),et("lauWI",function(e,t){q(e.exports,"default",()=>n);function n(e){return e&&e.ownerDocument||document}}),et("c32gq",function(e,t){q(e.exports,"createPopper",()=>f);var n=ee("jnOk0"),i=ee("2HBMk"),o=ee("dSV24"),a=ee("11zh8"),s=ee("bJOFj"),l=ee("bfZU6"),u=ee("erX3g"),c=ee("kHwrM"),d=ee("3n81K"),p=ee("2iL5v"),h=[i.default,o.default,a.default,s.default,l.default,u.default,c.default,d.default,p.default],f=/*#__PURE__*/(0,n.popperGenerator)({defaultModifiers:h})}),et("jnOk0",function(e,t){q(e.exports,"popperGenerator",()=>h);var n=ee("d0jBK"),i=ee("5XqJQ"),o=ee("38mGX"),a=ee("1d0nC"),s=ee("fvqAA"),l=ee("bbSZg"),u=ee("fUfOI"),c=ee("eSu2o"),d={placement:"bottom",modifiers:[],strategy:"absolute"};function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function h(e){void 0===e&&(e={});var t=e,h=t.defaultModifiers,f=void 0===h?[]:h,g=t.defaultOptions,m=void 0===g?d:g;return function(e,t,h){void 0===h&&(h=m);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},d,m),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},v=[],y=!1,b={state:g,setOptions:function(n){var i="function"==typeof n?n(g.options):n;w(),g.options=Object.assign({},m,g.options,i),g.scrollParents={reference:(0,c.isElement)(e)?(0,o.default)(e):e.contextElement?(0,o.default)(e.contextElement):[],popper:(0,o.default)(t)};var a=(0,s.default)((0,u.default)([].concat(f,g.options.modifiers)));return g.orderedModifiers=a.filter(function(e){return e.enabled}),g.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=e.effect;if("function"==typeof i){var o=i({state:g,name:t,instance:b,options:void 0===n?{}:n});v.push(o||function(){})}}),b.update()},forceUpdate:function(){if(!y){var e=g.elements,t=e.reference,o=e.popper;if(p(t,o)){g.rects={reference:(0,n.default)(t,(0,a.default)(o),"fixed"===g.options.strategy),popper:(0,i.default)(o)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(e){return g.modifiersData[e.name]=Object.assign({},e.data)});for(var s=0;s<g.orderedModifiers.length;s++){if(!0===g.reset){g.reset=!1,s=-1;continue}var l=g.orderedModifiers[s],u=l.fn,c=l.options,d=void 0===c?{}:c,h=l.name;"function"==typeof u&&(g=u({state:g,options:d,name:h,instance:b})||g)}}}},update:(0,l.default)(function(){return new Promise(function(e){b.forceUpdate(),e(g)})}),destroy:function(){w(),y=!0}};if(!p(e,t))return b;function w(){v.forEach(function(e){return e()}),v=[]}return b.setOptions(h).then(function(e){!y&&h.onFirstUpdate&&h.onFirstUpdate(e)}),b}}}),et("d0jBK",function(e,t){q(e.exports,"default",()=>d);var n=ee("dacN4"),i=ee("bHTg2"),o=ee("e3twn"),a=ee("eSu2o"),s=ee("cYGEw"),l=ee("2qSFh"),u=ee("f4E62"),c=ee("1cj9G");function d(e,t,d){void 0===d&&(d=!1);var p,h,f,g=(0,a.isHTMLElement)(t),m=(0,a.isHTMLElement)(t)&&(p=t.getBoundingClientRect(),h=(0,c.round)(p.width)/t.offsetWidth||1,f=(0,c.round)(p.height)/t.offsetHeight||1,1!==h||1!==f),v=(0,l.default)(t),y=(0,n.default)(e,m,d),b={scrollLeft:0,scrollTop:0},w={x:0,y:0};return(g||!g&&!d)&&(("body"!==(0,o.default)(t)||(0,u.default)(v))&&(b=(0,i.default)(t)),(0,a.isHTMLElement)(t)?(w=(0,n.default)(t,!0),w.x+=t.clientLeft,w.y+=t.clientTop):v&&(w.x=(0,s.default)(v))),{x:y.left+b.scrollLeft-w.x,y:y.top+b.scrollTop-w.y,width:y.width,height:y.height}}}),et("dacN4",function(e,t){q(e.exports,"default",()=>s);var n=ee("eSu2o"),i=ee("1cj9G"),o=ee("k2Nno"),a=ee("6MB4G");function s(e,t,s){void 0===t&&(t=!1),void 0===s&&(s=!1);var l=e.getBoundingClientRect(),u=1,c=1;t&&(0,n.isHTMLElement)(e)&&(u=e.offsetWidth>0&&(0,i.round)(l.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,i.round)(l.height)/e.offsetHeight||1);var d=((0,n.isElement)(e)?(0,o.default)(e):window).visualViewport,p=!(0,a.default)()&&s,h=(l.left+(p&&d?d.offsetLeft:0))/u,f=(l.top+(p&&d?d.offsetTop:0))/c,g=l.width/u,m=l.height/c;return{width:g,height:m,top:f,right:h+g,bottom:f+m,left:h,x:h,y:f}}}),et("eSu2o",function(e,t){q(e.exports,"isElement",()=>i),q(e.exports,"isHTMLElement",()=>o),q(e.exports,"isShadowRoot",()=>a);var n=ee("k2Nno");function i(e){var t=(0,n.default)(e).Element;return e instanceof t||e instanceof Element}function o(e){var t=(0,n.default)(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function a(e){if("undefined"==typeof ShadowRoot)return!1;var t=(0,n.default)(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}}),et("k2Nno",function(e,t){q(e.exports,"default",()=>n);function n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}}),et("1cj9G",function(e,t){q(e.exports,"max",()=>n),q(e.exports,"min",()=>i),q(e.exports,"round",()=>o);var n=Math.max,i=Math.min,o=Math.round}),et("6MB4G",function(e,t){q(e.exports,"default",()=>i);var n=ee("1WNyM");function i(){return!/^((?!chrome|android).)*safari/i.test((0,n.default)())}}),et("1WNyM",function(e,t){q(e.exports,"default",()=>n);function n(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}}),et("bHTg2",function(e,t){q(e.exports,"default",()=>s);var n=ee("c0O2k"),i=ee("k2Nno"),o=ee("eSu2o"),a=ee("ljoAR");function s(e){return e!==(0,i.default)(e)&&(0,o.isHTMLElement)(e)?(0,a.default)(e):(0,n.default)(e)}}),et("c0O2k",function(e,t){q(e.exports,"default",()=>i);var n=ee("k2Nno");function i(e){var t=(0,n.default)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}}),et("ljoAR",function(e,t){q(e.exports,"default",()=>n);function n(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}}),et("e3twn",function(e,t){q(e.exports,"default",()=>n);function n(e){return e?(e.nodeName||"").toLowerCase():null}}),et("cYGEw",function(e,t){q(e.exports,"default",()=>a);var n=ee("dacN4"),i=ee("2qSFh"),o=ee("c0O2k");function a(e){return(0,n.default)((0,i.default)(e)).left+(0,o.default)(e).scrollLeft}}),et("2qSFh",function(e,t){q(e.exports,"default",()=>i);var n=ee("eSu2o");function i(e){return(((0,n.isElement)(e)?e.ownerDocument:e.document)||window.document).documentElement}}),et("f4E62",function(e,t){q(e.exports,"default",()=>i);var n=ee("23Pge");function i(e){var t=(0,n.default)(e),i=t.overflow,o=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+o)}}),et("23Pge",function(e,t){q(e.exports,"default",()=>i);var n=ee("k2Nno");function i(e){return(0,n.default)(e).getComputedStyle(e)}}),et("5XqJQ",function(e,t){q(e.exports,"default",()=>i);var n=ee("dacN4");function i(e){var t=(0,n.default)(e),i=e.offsetWidth,o=e.offsetHeight;return 1>=Math.abs(t.width-i)&&(i=t.width),1>=Math.abs(t.height-o)&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}}),et("38mGX",function(e,t){q(e.exports,"default",()=>function e(t,s){void 0===s&&(s=[]);var l,u=(0,n.default)(t),c=u===(null==(l=t.ownerDocument)?void 0:l.body),d=(0,o.default)(u),p=c?[d].concat(d.visualViewport||[],(0,a.default)(u)?u:[]):u,h=s.concat(p);return c?h:h.concat(e((0,i.default)(p)))});var n=ee("9rYqn"),i=ee("akN3L"),o=ee("k2Nno"),a=ee("f4E62")}),et("9rYqn",function(e,t){q(e.exports,"default",()=>function e(t){return["html","body","#document"].indexOf((0,o.default)(t))>=0?t.ownerDocument.body:(0,a.isHTMLElement)(t)&&(0,i.default)(t)?t:e((0,n.default)(t))});var n=ee("akN3L"),i=ee("f4E62"),o=ee("e3twn"),a=ee("eSu2o")}),et("akN3L",function(e,t){q(e.exports,"default",()=>a);var n=ee("e3twn"),i=ee("2qSFh"),o=ee("eSu2o");function a(e){return"html"===(0,n.default)(e)?e:e.assignedSlot||e.parentNode||((0,o.isShadowRoot)(e)?e.host:null)||(0,i.default)(e)}}),et("1d0nC",function(e,t){q(e.exports,"default",()=>d);var n=ee("k2Nno"),i=ee("e3twn"),o=ee("23Pge"),a=ee("eSu2o"),s=ee("kGfeR"),l=ee("akN3L"),u=ee("1WNyM");function c(e){return(0,a.isHTMLElement)(e)&&"fixed"!==(0,o.default)(e).position?e.offsetParent:null}function d(e){for(var t=(0,n.default)(e),d=c(e);d&&(0,s.default)(d)&&"static"===(0,o.default)(d).position;)d=c(d);return d&&("html"===(0,i.default)(d)||"body"===(0,i.default)(d)&&"static"===(0,o.default)(d).position)?t:d||function(e){var t=/firefox/i.test((0,u.default)());if(/Trident/i.test((0,u.default)())&&(0,a.isHTMLElement)(e)&&"fixed"===(0,o.default)(e).position)return null;var n=(0,l.default)(e);for((0,a.isShadowRoot)(n)&&(n=n.host);(0,a.isHTMLElement)(n)&&0>["html","body"].indexOf((0,i.default)(n));){var s=(0,o.default)(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||t}}),et("kGfeR",function(e,t){q(e.exports,"default",()=>i);var n=ee("e3twn");function i(e){return["table","td","th"].indexOf((0,n.default)(e))>=0}}),et("fvqAA",function(e,t){q(e.exports,"default",()=>i);var n=ee("kJLEZ");function i(e){var t,i,o,a=(t=new Map,i=new Set,o=[],e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){i.has(e.name)||function e(n){i.add(n.name),[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!i.has(n)){var o=t.get(n);o&&e(o)}}),o.push(n)}(e)}),o);return(0,n.modifierPhases).reduce(function(e,t){return e.concat(a.filter(function(e){return e.phase===t}))},[])}}),et("kJLEZ",function(e,t){q(e.exports,"top",()=>n),q(e.exports,"bottom",()=>i),q(e.exports,"right",()=>o),q(e.exports,"left",()=>a),q(e.exports,"auto",()=>s),q(e.exports,"basePlacements",()=>l),q(e.exports,"start",()=>u),q(e.exports,"end",()=>c),q(e.exports,"clippingParents",()=>d),q(e.exports,"viewport",()=>p),q(e.exports,"popper",()=>h),q(e.exports,"reference",()=>f),q(e.exports,"variationPlacements",()=>g),q(e.exports,"placements",()=>m),q(e.exports,"modifierPhases",()=>v);var n="top",i="bottom",o="right",a="left",s="auto",l=[n,i,o,a],u="start",c="end",d="clippingParents",p="viewport",h="popper",f="reference",g=/*#__PURE__*/l.reduce(function(e,t){return e.concat([t+"-"+u,t+"-"+c])},[]),m=/*#__PURE__*/[].concat(l,[s]).reduce(function(e,t){return e.concat([t,t+"-"+u,t+"-"+c])},[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]}),et("bbSZg",function(e,t){q(e.exports,"default",()=>n);function n(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}}),et("fUfOI",function(e,t){q(e.exports,"default",()=>n);function n(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}}),et("2HBMk",function(e,t){q(e.exports,"default",()=>o);var n=ee("k2Nno"),i={passive:!0},o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,o=e.instance,a=e.options,s=a.scroll,l=void 0===s||s,u=a.resize,c=void 0===u||u,d=(0,n.default)(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return l&&p.forEach(function(e){e.addEventListener("scroll",o.update,i)}),c&&d.addEventListener("resize",o.update,i),function(){l&&p.forEach(function(e){e.removeEventListener("scroll",o.update,i)}),c&&d.removeEventListener("resize",o.update,i)}},data:{}}}),et("dSV24",function(e,t){q(e.exports,"default",()=>i);var n=ee("gbUDx"),i={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=(0,n.default)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}}}),et("gbUDx",function(e,t){q(e.exports,"default",()=>s);var n=ee("fpTgS"),i=ee("epdCl"),o=ee("iXd1v"),a=ee("kJLEZ");function s(e){var t,s=e.reference,l=e.element,u=e.placement,c=u?(0,n.default)(u):null,d=u?(0,i.default)(u):null,p=s.x+s.width/2-l.width/2,h=s.y+s.height/2-l.height/2;switch(c){case a.top:t={x:p,y:s.y-l.height};break;case a.bottom:t={x:p,y:s.y+s.height};break;case a.right:t={x:s.x+s.width,y:h};break;case a.left:t={x:s.x-l.width,y:h};break;default:t={x:s.x,y:s.y}}var f=c?(0,o.default)(c):null;if(null!=f){var g="y"===f?"height":"width";switch(d){case a.start:t[f]=t[f]-(s[g]/2-l[g]/2);break;case a.end:t[f]=t[f]+(s[g]/2-l[g]/2)}}return t}}),et("fpTgS",function(e,t){q(e.exports,"default",()=>n);function n(e){return e.split("-")[0]}}),et("epdCl",function(e,t){q(e.exports,"default",()=>n);function n(e){return e.split("-")[1]}}),et("iXd1v",function(e,t){q(e.exports,"default",()=>n);function n(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}}),et("11zh8",function(e,t){q(e.exports,"default",()=>h);var n=ee("kJLEZ"),i=ee("1d0nC"),o=ee("k2Nno"),a=ee("2qSFh"),s=ee("23Pge"),l=ee("fpTgS"),u=ee("epdCl"),c=ee("1cj9G"),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function p(e){var t,l,u,p,h,f,g,m=e.popper,v=e.popperRect,y=e.placement,b=e.variation,w=e.offsets,x=e.position,S=e.gpuAcceleration,_=e.adaptive,E=e.roundOffsets,T=e.isFixed,O=w.x,I=void 0===O?0:O,P=w.y,C=void 0===P?0:P,A="function"==typeof E?E({x:I,y:C}):{x:I,y:C};I=A.x,C=A.y;var R=w.hasOwnProperty("x"),k=w.hasOwnProperty("y"),D=n.left,N=n.top,M=window;if(_){var L=(0,i.default)(m),j="clientHeight",F="clientWidth";L===(0,o.default)(m)&&(L=(0,a.default)(m),"static"!==(0,s.default)(L).position&&"absolute"===x&&(j="scrollHeight",F="scrollWidth")),(y===n.top||(y===n.left||y===n.right)&&b===n.end)&&(N=n.bottom,C-=(T&&L===M&&M.visualViewport?M.visualViewport.height:L[j])-v.height,C*=S?1:-1),(y===n.left||(y===n.top||y===n.bottom)&&b===n.end)&&(D=n.right,I-=(T&&L===M&&M.visualViewport?M.visualViewport.width:L[F])-v.width,I*=S?1:-1)}var B=Object.assign({position:x},_&&d),z=!0===E?(t={x:I,y:C},l=(0,o.default)(m),u=t.x,p=t.y,h=l.devicePixelRatio||1,{x:(0,c.round)(u*h)/h||0,y:(0,c.round)(p*h)/h||0}):{x:I,y:C};return(I=z.x,C=z.y,S)?Object.assign({},B,((g={})[N]=k?"0":"",g[D]=R?"0":"",g.transform=1>=(M.devicePixelRatio||1)?"translate("+I+"px, "+C+"px)":"translate3d("+I+"px, "+C+"px, 0)",g)):Object.assign({},B,((f={})[N]=k?C+"px":"",f[D]=R?I+"px":"",f.transform="",f))}var h={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=n.adaptive,a=n.roundOffsets,s=void 0===a||a,c={placement:(0,l.default)(t.placement),variation:(0,u.default)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,p(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===o||o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,p(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}}}),et("bJOFj",function(e,t){q(e.exports,"default",()=>o);var n=ee("e3twn"),i=ee("eSu2o"),o={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},a=t.attributes[e]||{},s=t.elements[e];(0,i.isHTMLElement)(s)&&(0,n.default)(s)&&(Object.assign(s.style,o),Object.keys(a).forEach(function(e){var t=a[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,o={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,o.popper),t.styles=o,t.elements.arrow&&Object.assign(t.elements.arrow.style,o.arrow),function(){Object.keys(t.elements).forEach(function(e){var a=t.elements[e],s=t.attributes[e]||{},l=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:o[e]).reduce(function(e,t){return e[t]="",e},{});(0,i.isHTMLElement)(a)&&(0,n.default)(a)&&(Object.assign(a.style,l),Object.keys(s).forEach(function(e){a.removeAttribute(e)}))})}},requires:["computeStyles"]}}),et("bfZU6",function(e,t){q(e.exports,"default",()=>o);var n=ee("fpTgS"),i=ee("kJLEZ"),o={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,o=e.options,a=e.name,s=o.offset,l=void 0===s?[0,0]:s,u=(0,i.placements).reduce(function(e,o){var a,s,u,c,d,p;return e[o]=(a=t.rects,s=(0,n.default)(o),u=[(0,i.left),(0,i.top)].indexOf(s)>=0?-1:1,d=(c="function"==typeof l?l(Object.assign({},a,{placement:o})):l)[0],p=c[1],d=d||0,p=(p||0)*u,[(0,i.left),(0,i.right)].indexOf(s)>=0?{x:p,y:d}:{x:d,y:p}),e},{}),c=u[t.placement],d=c.x,p=c.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=p),t.modifiersData[a]=u}}}),et("erX3g",function(e,t){q(e.exports,"default",()=>c);var n=ee("coSHv"),i=ee("fpTgS"),o=ee("6HjVi"),a=ee("33Uto"),s=ee("5DLzu"),l=ee("kJLEZ"),u=ee("epdCl"),c={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,c=e.options,d=e.name;if(!t.modifiersData[d]._skip){for(var p=c.mainAxis,h=void 0===p||p,f=c.altAxis,g=void 0===f||f,m=c.fallbackPlacements,v=c.padding,y=c.boundary,b=c.rootBoundary,w=c.altBoundary,x=c.flipVariations,S=void 0===x||x,_=c.allowedAutoPlacements,E=t.options.placement,T=(0,i.default)(E)===E,O=m||(T||!S?[(0,n.default)(E)]:function(e){if((0,i.default)(e)===l.auto)return[];var t=(0,n.default)(e);return[(0,o.default)(e),t,(0,o.default)(t)]}(E)),I=[E].concat(O).reduce(function(e,n){return e.concat((0,i.default)(n)===l.auto?(0,s.default)(t,{placement:n,boundary:y,rootBoundary:b,padding:v,flipVariations:S,allowedAutoPlacements:_}):n)},[]),P=t.rects.reference,C=t.rects.popper,A=new Map,R=!0,k=I[0],D=0;D<I.length;D++){var N=I[D],M=(0,i.default)(N),L=(0,u.default)(N)===l.start,j=[(0,l.top),(0,l.bottom)].indexOf(M)>=0,F=j?"width":"height",B=(0,a.default)(t,{placement:N,boundary:y,rootBoundary:b,altBoundary:w,padding:v}),z=j?L?l.right:l.left:L?l.bottom:l.top;P[F]>C[F]&&(z=(0,n.default)(z));var U=(0,n.default)(z),W=[];if(h&&W.push(B[M]<=0),g&&W.push(B[z]<=0,B[U]<=0),W.every(function(e){return e})){k=N,R=!1;break}A.set(N,W)}if(R)for(var H=S?3:1,V=function(e){var t=I.find(function(t){var n=A.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},G=H;G>0&&"break"!==V(G);G--);t.placement!==k&&(t.modifiersData[d]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}}),et("coSHv",function(e,t){q(e.exports,"default",()=>i);var n={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,function(e){return n[e]})}}),et("6HjVi",function(e,t){q(e.exports,"default",()=>i);var n={start:"end",end:"start"};function i(e){return e.replace(/start|end/g,function(e){return n[e]})}}),et("33Uto",function(e,t){q(e.exports,"default",()=>p);var n=ee("b9SjH"),i=ee("2qSFh"),o=ee("dacN4"),a=ee("gbUDx"),s=ee("6lU1y"),l=ee("kJLEZ"),u=ee("eSu2o"),c=ee("cOW5u"),d=ee("9ZLpU");function p(e,t){void 0===t&&(t={});var p=t,h=p.placement,f=void 0===h?e.placement:h,g=p.strategy,m=void 0===g?e.strategy:g,v=p.boundary,y=void 0===v?l.clippingParents:v,b=p.rootBoundary,w=void 0===b?l.viewport:b,x=p.elementContext,S=void 0===x?l.popper:x,_=p.altBoundary,E=p.padding,T=void 0===E?0:E,O=(0,c.default)("number"!=typeof T?T:(0,d.default)(T,l.basePlacements)),I=S===l.popper?l.reference:l.popper,P=e.rects.popper,C=e.elements[void 0!==_&&_?I:S],A=(0,n.default)((0,u.isElement)(C)?C:C.contextElement||(0,i.default)(e.elements.popper),y,w,m),R=(0,o.default)(e.elements.reference),k=(0,a.default)({reference:R,element:P,strategy:"absolute",placement:f}),D=(0,s.default)(Object.assign({},P,k)),N=S===l.popper?D:R,M={top:A.top-N.top+O.top,bottom:N.bottom-A.bottom+O.bottom,left:A.left-N.left+O.left,right:N.right-A.right+O.right},L=e.modifiersData.offset;if(S===l.popper&&L){var j=L[f];Object.keys(M).forEach(function(e){var t=[(0,l.right),(0,l.bottom)].indexOf(e)>=0?1:-1,n=[(0,l.top),(0,l.bottom)].indexOf(e)>=0?"y":"x";M[e]+=j[n]*t})}return M}}),et("b9SjH",function(e,t){q(e.exports,"default",()=>y);var n=ee("kJLEZ"),i=ee("7EBKn"),o=ee("VlJXF"),a=ee("38mGX"),s=ee("1d0nC"),l=ee("2qSFh"),u=ee("23Pge"),c=ee("eSu2o"),d=ee("dacN4"),p=ee("akN3L"),h=ee("iaupy"),f=ee("e3twn"),g=ee("6lU1y"),m=ee("1cj9G");function v(e,t,a){var s;return t===n.viewport?(0,g.default)((0,i.default)(e,a)):(0,c.isElement)(t)?((s=(0,d.default)(t,!1,"fixed"===a)).top=s.top+t.clientTop,s.left=s.left+t.clientLeft,s.bottom=s.top+t.clientHeight,s.right=s.left+t.clientWidth,s.width=t.clientWidth,s.height=t.clientHeight,s.x=s.left,s.y=s.top,s):(0,g.default)((0,o.default)((0,l.default)(e)))}function y(e,t,n,i){var o,l,d=[].concat("clippingParents"===t?(o=(0,a.default)((0,p.default)(e)),l=["absolute","fixed"].indexOf((0,u.default)(e).position)>=0&&(0,c.isHTMLElement)(e)?(0,s.default)(e):e,(0,c.isElement)(l)?o.filter(function(e){return(0,c.isElement)(e)&&(0,h.default)(e,l)&&"body"!==(0,f.default)(e)}):[]):[].concat(t),[n]),g=d[0],y=d.reduce(function(t,n){var o=v(e,n,i);return t.top=(0,m.max)(o.top,t.top),t.right=(0,m.min)(o.right,t.right),t.bottom=(0,m.min)(o.bottom,t.bottom),t.left=(0,m.max)(o.left,t.left),t},v(e,g,i));return y.width=y.right-y.left,y.height=y.bottom-y.top,y.x=y.left,y.y=y.top,y}}),et("7EBKn",function(e,t){q(e.exports,"default",()=>s);var n=ee("k2Nno"),i=ee("2qSFh"),o=ee("cYGEw"),a=ee("6MB4G");function s(e,t){var s=(0,n.default)(e),l=(0,i.default)(e),u=s.visualViewport,c=l.clientWidth,d=l.clientHeight,p=0,h=0;if(u){c=u.width,d=u.height;var f=(0,a.default)();(f||!f&&"fixed"===t)&&(p=u.offsetLeft,h=u.offsetTop)}return{width:c,height:d,x:p+(0,o.default)(e),y:h}}}),et("VlJXF",function(e,t){q(e.exports,"default",()=>l);var n=ee("2qSFh"),i=ee("23Pge"),o=ee("cYGEw"),a=ee("c0O2k"),s=ee("1cj9G");function l(e){var t,l=(0,n.default)(e),u=(0,a.default)(e),c=null==(t=e.ownerDocument)?void 0:t.body,d=(0,s.max)(l.scrollWidth,l.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),p=(0,s.max)(l.scrollHeight,l.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),h=-u.scrollLeft+(0,o.default)(e),f=-u.scrollTop;return"rtl"===(0,i.default)(c||l).direction&&(h+=(0,s.max)(l.clientWidth,c?c.clientWidth:0)-d),{width:d,height:p,x:h,y:f}}}),et("iaupy",function(e,t){q(e.exports,"default",()=>i);var n=ee("eSu2o");function i(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&(0,n.isShadowRoot)(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}}),et("6lU1y",function(e,t){q(e.exports,"default",()=>n);function n(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}}),et("cOW5u",function(e,t){q(e.exports,"default",()=>i);var n=ee("c9b3R");function i(e){return Object.assign({},(0,n.default)(),e)}}),et("c9b3R",function(e,t){q(e.exports,"default",()=>n);function n(){return{top:0,right:0,bottom:0,left:0}}}),et("9ZLpU",function(e,t){q(e.exports,"default",()=>n);function n(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}}),et("5DLzu",function(e,t){q(e.exports,"default",()=>s);var n=ee("epdCl"),i=ee("kJLEZ"),o=ee("33Uto"),a=ee("fpTgS");function s(e,t){void 0===t&&(t={});var s=t,l=s.placement,u=s.boundary,c=s.rootBoundary,d=s.padding,p=s.flipVariations,h=s.allowedAutoPlacements,f=void 0===h?i.placements:h,g=(0,n.default)(l),m=g?p?i.variationPlacements:(0,i.variationPlacements).filter(function(e){return(0,n.default)(e)===g}):i.basePlacements,v=m.filter(function(e){return f.indexOf(e)>=0});0===v.length&&(v=m);var y=v.reduce(function(t,n){return t[n]=(0,o.default)(e,{placement:n,boundary:u,rootBoundary:c,padding:d})[(0,a.default)(n)],t},{});return Object.keys(y).sort(function(e,t){return y[e]-y[t]})}}),et("kHwrM",function(e,t){q(e.exports,"default",()=>f);var n=ee("kJLEZ"),i=ee("fpTgS"),o=ee("iXd1v"),a=ee("aQ3oP"),s=ee("bC6hP"),l=ee("5XqJQ"),u=ee("1d0nC"),c=ee("33Uto"),d=ee("epdCl"),p=ee("c9b3R"),h=ee("1cj9G"),f={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,f=e.options,g=e.name,m=f.mainAxis,v=f.altAxis,y=f.boundary,b=f.rootBoundary,w=f.altBoundary,x=f.padding,S=f.tether,_=void 0===S||S,E=f.tetherOffset,T=void 0===E?0:E,O=(0,c.default)(t,{boundary:y,rootBoundary:b,padding:x,altBoundary:w}),I=(0,i.default)(t.placement),P=(0,d.default)(t.placement),C=!P,A=(0,o.default)(I),R=(0,a.default)(A),k=t.modifiersData.popperOffsets,D=t.rects.reference,N=t.rects.popper,M="function"==typeof T?T(Object.assign({},t.rects,{placement:t.placement})):T,L="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(k){if(void 0===m||m){var B,z="y"===A?n.top:n.left,U="y"===A?n.bottom:n.right,W="y"===A?"height":"width",H=k[A],V=H+O[z],G=H-O[U],$=_?-N[W]/2:0,q=P===n.start?D[W]:N[W],X=P===n.start?-N[W]:-D[W],Y=t.elements.arrow,K=_&&Y?(0,l.default)(Y):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,p.default)(),J=Z[z],Q=Z[U],ee=(0,s.within)(0,D[W],K[W]),et=C?D[W]/2-$-ee-J-L.mainAxis:q-ee-J-L.mainAxis,er=C?-D[W]/2+$+ee+Q+L.mainAxis:X+ee+Q+L.mainAxis,en=t.elements.arrow&&(0,u.default)(t.elements.arrow),ei=en?"y"===A?en.clientTop||0:en.clientLeft||0:0,eo=null!=(B=null==j?void 0:j[A])?B:0,ea=(0,s.within)(_?(0,h.min)(V,H+et-eo-ei):V,H,_?(0,h.max)(G,H+er-eo):G);k[A]=ea,F[A]=ea-H}if(void 0!==v&&v){var es,el="x"===A?n.top:n.left,eu="x"===A?n.bottom:n.right,ec=k[R],ed="y"===R?"height":"width",ep=ec+O[el],eh=ec-O[eu],ef=-1!==[(0,n.top),(0,n.left)].indexOf(I),eg=null!=(es=null==j?void 0:j[R])?es:0,em=ef?ep:ec-D[ed]-N[ed]-eg+L.altAxis,ev=ef?ec+D[ed]+N[ed]-eg-L.altAxis:eh,ey=_&&ef?(0,s.withinMaxClamp)(em,ec,ev):(0,s.within)(_?em:ep,ec,_?ev:eh);k[R]=ey,F[R]=ey-ec}t.modifiersData[g]=F}},requiresIfExists:["offset"]}}),et("aQ3oP",function(e,t){q(e.exports,"default",()=>n);function n(e){return"x"===e?"y":"x"}}),et("bC6hP",function(e,t){q(e.exports,"within",()=>i),q(e.exports,"withinMaxClamp",()=>o);var n=ee("1cj9G");function i(e,t,i){return(0,n.max)(e,(0,n.min)(t,i))}function o(e,t,n){var o=i(e,t,n);return o>n?n:o}}),et("3n81K",function(e,t){q(e.exports,"default",()=>p);var n=ee("fpTgS"),i=ee("5XqJQ"),o=ee("iaupy"),a=ee("1d0nC"),s=ee("iXd1v"),l=ee("bC6hP"),u=ee("cOW5u"),c=ee("9ZLpU"),d=ee("kJLEZ"),p={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,o=e.state,p=e.name,h=e.options,f=o.elements.arrow,g=o.modifiersData.popperOffsets,m=(0,n.default)(o.placement),v=(0,s.default)(m),y=[(0,d.left),(0,d.right)].indexOf(m)>=0?"height":"width";if(f&&g){var b,w=(b="function"==typeof(b=h.padding)?b(Object.assign({},o.rects,{placement:o.placement})):b,(0,u.default)("number"!=typeof b?b:(0,c.default)(b,d.basePlacements))),x=(0,i.default)(f),S="y"===v?d.top:d.left,_="y"===v?d.bottom:d.right,E=o.rects.reference[y]+o.rects.reference[v]-g[v]-o.rects.popper[y],T=g[v]-o.rects.reference[v],O=(0,a.default)(f),I=O?"y"===v?O.clientHeight||0:O.clientWidth||0:0,P=w[S],C=I-x[y]-w[_],A=I/2-x[y]/2+(E/2-T/2),R=(0,l.within)(P,A,C);o.modifiersData[p]=((t={})[v]=R,t.centerOffset=R-A,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&(0,o.default)(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}}),et("2iL5v",function(e,t){q(e.exports,"default",()=>s);var n=ee("kJLEZ"),i=ee("33Uto");function o(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function a(e){return[(0,n.top),(0,n.right),(0,n.bottom),(0,n.left)].some(function(t){return e[t]>=0})}var s={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,s=t.rects.reference,l=t.rects.popper,u=t.modifiersData.preventOverflow,c=(0,i.default)(t,{elementContext:"reference"}),d=(0,i.default)(t,{altBoundary:!0}),p=o(c,s),h=o(d,l,u),f=a(p),g=a(h);t.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:h,isReferenceHidden:f,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":g})}}}),et("2rNaj",function(e,t){q(e.exports,"default",()=>u);var n=ee("dm060"),i=ee("lfr5Y"),o=ee("58OfG"),a=ee("evlvx"),s=ee("duXim"),l=ee("9L45J"),u=/*#__PURE__*/n.forwardRef(function(e,t){let{children:u,container:c,disablePortal:d=!1}=e,[p,h]=n.useState(null),f=(0,s.default)(/*#__PURE__*/n.isValidElement(u)?u.ref:null,t);return((0,a.default)(()=>{!d&&h(("function"==typeof c?c():c)||document.body)},[c,d]),(0,a.default)(()=>{if(p&&!d)return(0,o.default)(t,p),()=>{(0,o.default)(t,null)}},[t,p,d]),d)?/*#__PURE__*/n.isValidElement(u)?/*#__PURE__*/n.cloneElement(u,{ref:f}):/*#__PURE__*/(0,l.jsx)(n.Fragment,{children:u}):/*#__PURE__*/(0,l.jsx)(n.Fragment,{children:p?/*#__PURE__*/i.createPortal(u,p):p})})}),et("fl05D",function(e,t){q(e.exports,"getPopperUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiPopper",e)}(0,n.default)("MuiPopper",["root"])}),et("7yBl2",function(e,t){q(e.exports,"default",()=>n);var n=ee("bagf4").default}),et("bagf4",function(e,t){q(e.exports,"default",()=>a);var n=ee("dm060");let i=0,o=n["useId".toString()];function a(e){if(void 0!==o){let t=o();return null!=e?e:t}return function(e){let[t,o]=n.useState(e),a=e||t;return n.useEffect(()=>{null==t&&(i+=1,o(`mui-${i}`))},[t]),a}(e)}}),et("esRas",function(e,t){q(e.exports,"default",()=>n);var n=ee("bKnTm").default}),et("bKnTm",function(e,t){q(e.exports,"default",()=>i);var n=ee("dm060");function i({controlled:e,default:t,name:i,state:o="value"}){let{current:a}=n.useRef(void 0!==e),[s,l]=n.useState(t),u=n.useCallback(e=>{a||l(e)},[]);return[a?e:s,u]}}),et("lWN1x",function(e,t){q(e.exports,"getTooltipUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTooltip",e)}var a=(0,n.default)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"])}),et("hK273",function(e,t){q(e.exports,"withWorkspaceContext",()=>u),q(e.exports,"default",()=>c);var n=ee("dm060"),i=ee("9L45J");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var l=/*#__PURE__*/(0,n.createContext)({current:document.body}),u=function(e){var t=/*#__PURE__*/(0,n.forwardRef)(function(t,o){var u,c=(0,n.useContext)(l),d=function(e){if(Array.isArray(e))return e}(u=(0,n.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(u,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(u,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],h=d[1];(0,n.useEffect)(function(){h(c)},[c]);var f=a(a({},t),o?{ref:o}:{});return/*#__PURE__*/(0,i.jsx)(e,a({container:p},f))});return t.displayName="WithWorkspaceContext(".concat(e.displayName||e.name||"Component",")"),t},c=l}),et("6pwK5",function(e,t){q(e.exports,"default",()=>h);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("h7O51"),l=ee("bdEuo"),u=ee("hJg9G"),c=ee("8uJ99"),d=ee("cMZKj"),p={deselectAnnotation:s.deselectAnnotation,hoverAnnotation:s.hoverAnnotation,selectAnnotation:s.selectAnnotation},h=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.canvasId,i=t.windowId;return{annotations:(0,l.getAnnotationResourcesByMotivationForCanvas)(e,{canvasId:n,windowId:i}).map(function(e,t){return{content:e.chars,id:e.id,tags:e.tags,targetId:e.targetId}}),htmlSanitizationRuleSet:(0,c.getConfig)(e).annotations.htmlSanitizationRuleSet,label:(0,u.getCanvasLabel)(e,{canvasId:n,windowId:i}),selectedAnnotationId:(0,l.getSelectedAnnotationId)(e,{windowId:i})}},p),(0,a.withPlugins)("CanvasAnnotations"))(d.CanvasAnnotations)}),et("cMZKj",function(e,t){q(e.exports,"CanvasAnnotations",()=>g);var n=ee("dm060"),i=ee("3cECp"),o=ee("gHgwx"),a=ee("kypKg"),s=ee("8Ninj"),l=ee("d822V"),u=ee("kg66o"),c=ee("98yyI"),d=ee("9L45J");function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=h(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(i,o||[],h(this).constructor):i.apply(this,o))).handleClick=t.handleClick.bind(t),t.handleAnnotationHover=t.handleAnnotationHover.bind(t),t.handleAnnotationBlur=t.handleAnnotationBlur.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"handleClick",value:function(e,t){var n=this.props,i=n.deselectAnnotation,o=n.selectAnnotation,a=n.selectedAnnotationId,s=n.windowId;a===t.id?i(s,t.id):o(s,t.id)}},{key:"handleAnnotationHover",value:function(e){var t=this.props;(0,t.hoverAnnotation)(t.windowId,[e.id])}},{key:"handleAnnotationBlur",value:function(){var e=this.props;(0,e.hoverAnnotation)(e.windowId,[])}},{key:"render",value:function(){var e=this,t=this.props,n=t.annotations,p=t.index,h=t.label,f=t.selectedAnnotationId,g=t.t,m=t.totalSize,v=t.listContainerComponent,y=t.htmlSanitizationRuleSet,b=t.hoveredAnnotationIds,w=t.containerRef;return 0===n.length?null:/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(l.default,{sx:{paddingLeft:2,paddingRight:1,paddingTop:2},variant:"overline",children:g("annotationCanvasLabel",{context:"".concat(p+1,"/").concat(m),label:h})}),/*#__PURE__*/(0,d.jsx)(o.default,{autoFocusItem:!0,variant:"selectedMenu",children:n.map(function(t){return/*#__PURE__*/(0,d.jsx)(c.ScrollTo,{containerRef:w,offsetTop:96,scrollTo:f===t.id,selected:f===t.id,children:/*#__PURE__*/(0,d.jsx)(a.default,{component:v,variant:"multiline",divider:!0,sx:{"&:hover,&:focus":{backgroundColor:"action.hover"},backgroundColor:b.includes(t.id)?"action.hover":""},annotationid:t.id,onClick:function(n){return e.handleClick(n,t)},onFocus:function(){return e.handleAnnotationHover(t)},onBlur:e.handleAnnotationBlur,onMouseEnter:function(){return e.handleAnnotationHover(t)},onMouseLeave:e.handleAnnotationBlur,children:/*#__PURE__*/(0,d.jsx)(s.default,{primaryTypographyProps:{variant:"body2"},primary:/*#__PURE__*/(0,d.jsx)(u.default,{ruleSet:y,htmlString:t.content}),secondary:t.tags.map(function(e){return/*#__PURE__*/(0,d.jsx)(i.default,{component:"span",size:"small",variant:"outlined",label:e,id:e},e.toString())})})},t.id)},"".concat(t.id,"-scroll"))})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);g.defaultProps={annotations:[],containerRef:void 0,hoveredAnnotationIds:[],htmlSanitizationRuleSet:"iiif",listContainerComponent:"li",selectedAnnotationId:void 0}}),et("3cECp",function(e,t){q(e.exports,"default",()=>S);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("eeTIg"),c=ee("gvQts"),d=ee("iOGUL"),p=ee("h8wer"),h=ee("91wvo"),f=ee("37zHU"),g=ee("4sGHT"),m=ee("9L45J");let v=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],y=e=>{let{classes:t,disabled:n,size:i,color:o,iconColor:a,onDelete:l,clickable:u,variant:c}=e,p={root:["root",c,n&&"disabled",`size${(0,d.default)(i)}`,`color${(0,d.default)(o)}`,u&&"clickable",u&&`clickableColor${(0,d.default)(o)}`,l&&"deletable",l&&`deletableColor${(0,d.default)(o)}`,`${c}${(0,d.default)(o)}`],label:["label",`label${(0,d.default)(i)}`],avatar:["avatar",`avatar${(0,d.default)(i)}`,`avatarColor${(0,d.default)(o)}`],icon:["icon",`icon${(0,d.default)(i)}`,`iconColor${(0,d.default)(a)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,d.default)(i)}`,`deleteIconColor${(0,d.default)(o)}`,`deleteIcon${(0,d.default)(c)}Color${(0,d.default)(o)}`]};return(0,s.default)(p,g.getChipUtilityClass,t)},b=(0,f.default)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{color:i,iconColor:o,clickable:a,onDelete:s,size:l,variant:u}=n;return[{[`& .${g.default.avatar}`]:t.avatar},{[`& .${g.default.avatar}`]:t[`avatar${(0,d.default)(l)}`]},{[`& .${g.default.avatar}`]:t[`avatarColor${(0,d.default)(i)}`]},{[`& .${g.default.icon}`]:t.icon},{[`& .${g.default.icon}`]:t[`icon${(0,d.default)(l)}`]},{[`& .${g.default.icon}`]:t[`iconColor${(0,d.default)(o)}`]},{[`& .${g.default.deleteIcon}`]:t.deleteIcon},{[`& .${g.default.deleteIcon}`]:t[`deleteIcon${(0,d.default)(l)}`]},{[`& .${g.default.deleteIcon}`]:t[`deleteIconColor${(0,d.default)(i)}`]},{[`& .${g.default.deleteIcon}`]:t[`deleteIcon${(0,d.default)(u)}Color${(0,d.default)(i)}`]},t.root,t[`size${(0,d.default)(l)}`],t[`color${(0,d.default)(i)}`],a&&t.clickable,a&&"default"!==i&&t[`clickableColor${(0,d.default)(i)})`],s&&t.deletable,s&&"default"!==i&&t[`deletableColor${(0,d.default)(i)}`],t[u],t[`${u}${(0,d.default)(i)}`]]}})(({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300];return(0,i.default)({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${g.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${g.default.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:n,fontSize:e.typography.pxToRem(12)},[`& .${g.default.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${g.default.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${g.default.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${g.default.icon}`]:(0,i.default)({marginLeft:5,marginRight:-6},"small"===t.size&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&(0,i.default)({color:e.vars?e.vars.palette.Chip.defaultIconColor:n},"default"!==t.color&&{color:"inherit"})),[`& .${g.default.deleteIcon}`]:(0,i.default)({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:(0,l.alpha)(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:(0,l.alpha)(e.palette.text.primary,.4)}},"small"===t.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==t.color&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:(0,l.alpha)(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},"small"===t.size&&{height:24},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${g.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&"default"!==t.color&&{[`&.${g.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>(0,i.default)({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.alpha)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${g.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&"default"!==t.color&&{[`&:hover, &.${g.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>(0,i.default)({},"outlined"===t.variant&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${g.default.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${g.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${g.default.avatar}`]:{marginLeft:4},[`& .${g.default.avatarSmall}`]:{marginLeft:2},[`& .${g.default.icon}`]:{marginLeft:4},[`& .${g.default.iconSmall}`]:{marginLeft:2},[`& .${g.default.deleteIcon}`]:{marginRight:5},[`& .${g.default.deleteIconSmall}`]:{marginRight:3}},"outlined"===t.variant&&"default"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,l.alpha)(e.palette[t.color].main,.7)}`,[`&.${g.default.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${g.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:(0,l.alpha)(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${g.default.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,l.alpha)(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),w=(0,f.default)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${(0,d.default)(i)}`]]}})(({ownerState:e})=>(0,i.default)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===e.variant&&{paddingLeft:11,paddingRight:11},"small"===e.size&&{paddingLeft:8,paddingRight:8},"small"===e.size&&"outlined"===e.variant&&{paddingLeft:7,paddingRight:7}));function x(e){return"Backspace"===e.key||"Delete"===e.key}var S=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,h.useDefaultProps)({props:e,name:"MuiChip"}),{avatar:l,className:d,clickable:f,color:g="default",component:S,deleteIcon:_,disabled:E=!1,icon:T,label:O,onClick:I,onDelete:P,onKeyDown:C,onKeyUp:A,size:R="medium",variant:k="filled",tabIndex:D,skipFocusWhenDisabled:N=!1}=s,M=(0,n.default)(s,v),L=o.useRef(null),j=(0,c.default)(L,t),F=e=>{e.stopPropagation(),P&&P(e)},B=!1!==f&&!!I||f,z=B||P?p.default:S||"div",U=(0,i.default)({},s,{component:z,disabled:E,size:R,color:g,iconColor:/*#__PURE__*/o.isValidElement(T)&&T.props.color||g,onDelete:!!P,clickable:B,variant:k}),W=y(U),H=z===p.default?(0,i.default)({component:S||"div",focusVisibleClassName:W.focusVisible},P&&{disableRipple:!0}):{},V=null;P&&(V=_&&/*#__PURE__*/o.isValidElement(_)?/*#__PURE__*/o.cloneElement(_,{className:(0,a.default)(_.props.className,W.deleteIcon),onClick:F}):/*#__PURE__*/(0,m.jsx)(u.default,{className:(0,a.default)(W.deleteIcon),onClick:F}));let G=null;l&&/*#__PURE__*/o.isValidElement(l)&&(G=/*#__PURE__*/o.cloneElement(l,{className:(0,a.default)(W.avatar,l.props.className)}));let $=null;return T&&/*#__PURE__*/o.isValidElement(T)&&($=/*#__PURE__*/o.cloneElement(T,{className:(0,a.default)(W.icon,T.props.className)})),/*#__PURE__*/(0,m.jsxs)(b,(0,i.default)({as:z,className:(0,a.default)(W.root,d),disabled:!!B&&!!E||void 0,onClick:I,onKeyDown:e=>{e.currentTarget===e.target&&x(e)&&e.preventDefault(),C&&C(e)},onKeyUp:e=>{e.currentTarget===e.target&&(P&&x(e)?P(e):"Escape"===e.key&&L.current&&L.current.blur()),A&&A(e)},ref:j,tabIndex:N&&E?-1:D,ownerState:U},H,M,{children:[G||$,/*#__PURE__*/(0,m.jsx)(w,{className:(0,a.default)(W.label),ownerState:U,children:O}),V]}))})}),et("eeTIg",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("77XGA"),i=ee("9L45J"),o=(0,n.default)(/*#__PURE__*/(0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")}),et("4sGHT",function(e,t){q(e.exports,"getChipUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiChip",e)}var a=(0,n.default)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"])}),et("gHgwx",function(e,t){q(e.exports,"default",()=>v);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060");ee("g1VXJ");var a=ee("iJSGV"),s=ee("6h89a"),l=ee("6z50P"),u=ee("gvQts"),c=ee("c2dsU"),d=ee("9L45J");let p=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function h(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function f(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function g(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function m(e,t,n,i,o,a){let s=!1,l=o(e,t,!!t&&n);for(;l;){if(l===e.firstChild){if(s)return!1;s=!0}let t=!i&&(l.disabled||"true"===l.getAttribute("aria-disabled"));if(l.hasAttribute("tabindex")&&g(l,a)&&!t)return l.focus(),!0;l=o(e,l,n)}return!1}var v=/*#__PURE__*/o.forwardRef(function(e,t){let{actions:v,autoFocus:y=!1,autoFocusItem:b=!1,children:w,className:x,disabledItemsFocusable:S=!1,disableListWrap:_=!1,onKeyDown:E,variant:T="selectedMenu"}=e,O=(0,i.default)(e,p),I=o.useRef(null),P=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,c.default)(()=>{y&&I.current.focus()},[y]),o.useImperativeHandle(v,()=>({adjustStyleForScrollbar:(e,{direction:t})=>{let n=!I.current.style.width;if(e.clientHeight<I.current.clientHeight&&n){let n=`${(0,l.default)((0,a.default)(e))}px`;I.current.style["rtl"===t?"paddingLeft":"paddingRight"]=n,I.current.style.width=`calc(100% + ${n})`}return I.current}}),[]);let C=(0,u.default)(I,t),A=-1;o.Children.forEach(w,(e,t)=>{if(!/*#__PURE__*/o.isValidElement(e)){A===t&&(A+=1)>=w.length&&(A=-1);return}e.props.disabled||("selectedMenu"===T&&e.props.selected?A=t:-1!==A||(A=t)),A===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(A+=1)>=w.length&&(A=-1)});let R=o.Children.map(w,(e,t)=>{if(t===A){let t={};return b&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===T&&(t.tabIndex=0),/*#__PURE__*/o.cloneElement(e,t)}return e});return/*#__PURE__*/(0,d.jsx)(s.default,(0,n.default)({role:"menu",ref:C,className:x,onKeyDown:e=>{let t=I.current,n=e.key,i=(0,a.default)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),m(t,i,_,S,h);else if("ArrowUp"===n)e.preventDefault(),m(t,i,_,S,f);else if("Home"===n)e.preventDefault(),m(t,null,_,S,h);else if("End"===n)e.preventDefault(),m(t,null,_,S,f);else if(1===n.length){let o=P.current,a=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(a);let l=i&&!o.repeating&&g(i,o);o.previousKeyMatched&&(l||m(t,i,!1,S,h,o))?e.preventDefault():o.previousKeyMatched=!1}E&&E(e)},tabIndex:y?0:-1},O,{children:R}))})}),et("iJSGV",function(e,t){q(e.exports,"default",()=>n);var n=ee("lauWI").default}),et("6h89a",function(e,t){q(e.exports,"default",()=>m);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("lV3sb"),d=ee("fglUQ"),p=ee("9L45J");let h=["children","className","component","dense","disablePadding","subheader"],f=e=>{let{classes:t,disablePadding:n,dense:i,subheader:o}=e;return(0,s.default)({root:["root",!n&&"padding",i&&"dense",o&&"subheader"]},d.getListUtilityClass,t)},g=(0,l.default)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})(({ownerState:e})=>(0,i.default)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}));var m=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiList"}),{children:l,className:d,component:m="ul",dense:v=!1,disablePadding:y=!1,subheader:b}=s,w=(0,n.default)(s,h),x=o.useMemo(()=>({dense:v}),[v]),S=(0,i.default)({},s,{component:m,dense:v,disablePadding:y}),_=f(S);return/*#__PURE__*/(0,p.jsx)(c.default.Provider,{value:x,children:/*#__PURE__*/(0,p.jsxs)(g,(0,i.default)({as:m,className:(0,a.default)(_.root,d),ref:t,ownerState:S},w,{children:[b,l]}))})})}),et("lV3sb",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/ee("dm060").createContext({})}),et("fglUQ",function(e,t){q(e.exports,"getListUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiList",e)}(0,n.default)("MuiList",["root","padding","dense","subheader"])}),et("6z50P",function(e,t){q(e.exports,"default",()=>n);var n=ee("ctGg6").default}),et("ctGg6",function(e,t){q(e.exports,"default",()=>n);function n(e){let t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}}),et("c2dsU",function(e,t){q(e.exports,"default",()=>n);var n=ee("evlvx").default}),et("kypKg",function(e,t){q(e.exports,"default",()=>E);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("37zHU"),c=ee("4RsQO"),d=ee("91wvo"),p=ee("lV3sb"),h=ee("h8wer"),f=ee("c2dsU"),g=ee("gvQts"),m=ee("gCvlI"),v=ee("I7ctL"),y=ee("8UWaC"),b=ee("fZuz9"),w=ee("9L45J");let x=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],S=e=>{let{disabled:t,dense:n,divider:o,disableGutters:a,selected:l,classes:u}=e,c=(0,s.default)({root:["root",n&&"dense",t&&"disabled",!a&&"gutters",o&&"divider",l&&"selected"]},b.getMenuItemUtilityClass,u);return(0,i.default)({},u,c)},_=(0,u.default)(h.default,{shouldForwardProp:e=>(0,c.default)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,i.default)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.default.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.default.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${m.default.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${m.default.inset}`]:{marginLeft:52},[`& .${y.default.root}`]:{marginTop:0,marginBottom:0},[`& .${y.default.inset}`]:{paddingLeft:36},[`& .${v.default.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,i.default)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${v.default.root} svg`]:{fontSize:"1.25rem"}})));var E=/*#__PURE__*/o.forwardRef(function(e,t){let s;let l=(0,d.useDefaultProps)({props:e,name:"MuiMenuItem"}),{autoFocus:u=!1,component:c="li",dense:h=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:y,role:b="menuitem",tabIndex:E,className:T}=l,O=(0,n.default)(l,x),I=o.useContext(p.default),P=o.useMemo(()=>({dense:h||I.dense||!1,disableGutters:v}),[I.dense,h,v]),C=o.useRef(null);(0,f.default)(()=>{u&&C.current&&C.current.focus()},[u]);let A=(0,i.default)({},l,{dense:P.dense,divider:m,disableGutters:v}),R=S(l),k=(0,g.default)(C,t);return l.disabled||(s=void 0!==E?E:-1),/*#__PURE__*/(0,w.jsx)(p.default.Provider,{value:P,children:/*#__PURE__*/(0,w.jsx)(_,(0,i.default)({ref:k,role:b,tabIndex:s,component:c,focusVisibleClassName:(0,a.default)(R.focusVisible,y),className:(0,a.default)(R.root,T)},O,{ownerState:A,classes:R}))})})}),et("gCvlI",function(e,t){q(e.exports,"getDividerUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiDivider",e)}var a=(0,n.default)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"])}),et("I7ctL",function(e,t){q(e.exports,"getListItemIconUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiListItemIcon",e)}var a=(0,n.default)("MuiListItemIcon",["root","alignItemsFlexStart"])}),et("8UWaC",function(e,t){q(e.exports,"getListItemTextUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiListItemText",e)}var a=(0,n.default)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])}),et("fZuz9",function(e,t){q(e.exports,"getMenuItemUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiMenuItem",e)}var a=(0,n.default)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"])}),et("8Ninj",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("d822V"),u=ee("lV3sb"),c=ee("91wvo"),d=ee("37zHU"),p=ee("8UWaC"),h=ee("9L45J");let f=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],g=e=>{let{classes:t,inset:n,primary:i,secondary:o,dense:a}=e;return(0,s.default)({root:["root",n&&"inset",a&&"dense",i&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},p.getListItemTextUtilityClass,t)},m=(0,d.default)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${p.default.primary}`]:t.primary},{[`& .${p.default.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})(({ownerState:e})=>(0,i.default)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}));var v=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,c.useDefaultProps)({props:e,name:"MuiListItemText"}),{children:d,className:p,disableTypography:v=!1,inset:y=!1,primary:b,primaryTypographyProps:w,secondary:x,secondaryTypographyProps:S}=s,_=(0,n.default)(s,f),{dense:E}=o.useContext(u.default),T=null!=b?b:d,O=x,I=(0,i.default)({},s,{disableTypography:v,inset:y,primary:!!T,secondary:!!O,dense:E}),P=g(I);return null==T||T.type===l.default||v||(T=/*#__PURE__*/(0,h.jsx)(l.default,(0,i.default)({variant:E?"body2":"body1",className:P.primary,component:null!=w&&w.variant?void 0:"span",display:"block"},w,{children:T}))),null==O||O.type===l.default||v||(O=/*#__PURE__*/(0,h.jsx)(l.default,(0,i.default)({variant:"body2",className:P.secondary,color:"text.secondary",display:"block"},S,{children:O}))),/*#__PURE__*/(0,h.jsxs)(m,(0,i.default)({className:(0,a.default)(P.root,p),ownerState:I,ref:t},_,{children:[T,O]}))})}),et("kg66o",function(e,t){q(e.exports,"default",()=>n);var n=ee("6I4d6").SanitizedHtml}),et("6I4d6",function(e,t){q(e.exports,"SanitizedHtml",()=>m);var n=ee("dm060"),i=ee("37zHU"),o=ee("htFMq"),a=ee("YT00d"),s=ee("jMXID"),l=ee("9L45J"),u=["classes","htmlString","ruleSet"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=(0,i.default)("span",{name:"IIIFHtmlContent",slot:"root"})({}),m=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=h(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(e,t||[],h(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.htmlString,i=e.ruleSet,p=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u);return /*@__PURE__*/Y(o).addHook("afterSanitizeAttributes",function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}),/*#__PURE__*/(0,l.jsx)(g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=d(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:[(0,a.default)("third-party-html"),t.root].join(" "),dangerouslySetInnerHTML:{__html:/*@__PURE__*/Y(o).sanitize(n,s.default[i])}},p))}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);m.defaultProps={classes:{}}}),et("htFMq",function(e,t){var n;e.exports,n=function(){let{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:i,getOwnPropertyDescriptor:o}=Object,{freeze:a,seal:s,create:l}=Object,{apply:u,construct:c}="undefined"!=typeof Reflect&&Reflect;a||(a=function(e){return e}),s||(s=function(e){return e}),u||(u=function(e,t,n){return e.apply(t,n)}),c||(c=function(e,t){return new e(...t)});let d=_(Array.prototype.forEach),p=_(Array.prototype.pop),h=_(Array.prototype.push),f=_(String.prototype.toLowerCase),g=_(String.prototype.toString),m=_(String.prototype.match),v=_(String.prototype.replace),y=_(String.prototype.indexOf),b=_(String.prototype.trim),w=_(Object.prototype.hasOwnProperty),x=_(RegExp.prototype.test),S=(q=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(q,t)});function _(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return u(e,t,i)}}function E(e,i){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let a=i.length;for(;a--;){let t=i[a];if("string"==typeof t){let e=o(t);e!==t&&(n(i)||(i[a]=e),t=e)}e[t]=!0}return e}function T(t){let n=l(null);for(let[i,o]of e(t))w(t,i)&&(Array.isArray(o)?n[i]=function(e){for(let t=0;t<e.length;t++)w(e,t)||(e[t]=null);return e}(o):o&&"object"==typeof o&&o.constructor===Object?n[i]=T(o):n[i]=o);return n}function O(e,t){for(;null!==e;){let n=o(e,t);if(n){if(n.get)return _(n.get);if("function"==typeof n.value)return _(n.value)}e=i(e)}return function(){return null}}let I=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=a(["#text"]),N=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),M=a(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),B=s(/<%[\w\W]*|[\w\W]*%>/gm),z=s(/\${[\w\W]*}/gm),U=s(/^data-[\-\w.\u00B7-\uFFFF]/),W=s(/^aria-[\-\w]+$/),H=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=s(/^(?:\w+script|data):/i),G=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$=s(/^html$/i);var q,X=/*#__PURE__*/Object.freeze({__proto__:null,MUSTACHE_EXPR:F,ERB_EXPR:B,TMPLIT_EXPR:z,DATA_ATTR:U,ARIA_ATTR:W,IS_ALLOWED_URI:H,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:G,DOCTYPE_NAME:$,CUSTOM_ELEMENT:s(/^[a-z][.\w]*(-[.\w]+)+$/i)});let Y={element:1,text:3,progressingInstruction:7,comment:8,document:9},K=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(n=t.getAttribute(i));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){let n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,o=e=>t(e);if(o.version="3.1.7",o.removed=[],!i||!i.document||i.document.nodeType!==Y.document)return o.isSupported=!1,o;let{document:s}=i,u=s,c=u.currentScript,{DocumentFragment:_,HTMLTemplateElement:F,Node:B,Element:z,NodeFilter:U,NamedNodeMap:W=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:V,DOMParser:G,trustedTypes:q}=i,Z=z.prototype,J=O(Z,"cloneNode"),Q=O(Z,"remove"),ee=O(Z,"nextSibling"),et=O(Z,"childNodes"),er=O(Z,"parentNode");if("function"==typeof F){let e=s.createElement("template");e.content&&e.content.ownerDocument&&(s=e.content.ownerDocument)}let en="",{implementation:ei,createNodeIterator:eo,createDocumentFragment:ea,getElementsByTagName:es}=s,{importNode:el}=u,eu={};o.isSupported="function"==typeof e&&"function"==typeof er&&ei&&void 0!==ei.createHTMLDocument;let{MUSTACHE_EXPR:ec,ERB_EXPR:ed,TMPLIT_EXPR:ep,DATA_ATTR:eh,ARIA_ATTR:ef,IS_SCRIPT_OR_DATA:eg,ATTR_WHITESPACE:em,CUSTOM_ELEMENT:ev}=X,{IS_ALLOWED_URI:ey}=X,eb=null,ew=E({},[...I,...P,...C,...R,...D]),ex=null,eS=E({},[...N,...M,...L,...j]),e_=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eE=null,eT=null,eO=!0,eI=!0,eP=!1,eC=!0,eA=!1,eR=!0,ek=!1,eD=!1,eN=!1,eM=!1,eL=!1,ej=!1,eF=!0,eB=!1,ez=!0,eU=!1,eW={},eH=null,eV=E({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eG=null,e$=E({},["audio","video","img","source","image","track"]),eq=null,eX=E({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eY="http://www.w3.org/1998/Math/MathML",eK="http://www.w3.org/2000/svg",eZ="http://www.w3.org/1999/xhtml",eJ=eZ,eQ=!1,e0=null,e1=E({},[eY,eK,eZ],g),e2=null,e3=["application/xhtml+xml","text/html"],e5=null,e4=null,e6=s.createElement("form"),e8=function(e){return e instanceof RegExp||e instanceof Function},e9=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e4||e4!==e){if(e&&"object"==typeof e||(e={}),e=T(e),e5="application/xhtml+xml"===(e2=-1===e3.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE)?g:f,eb=w(e,"ALLOWED_TAGS")?E({},e.ALLOWED_TAGS,e5):ew,ex=w(e,"ALLOWED_ATTR")?E({},e.ALLOWED_ATTR,e5):eS,e0=w(e,"ALLOWED_NAMESPACES")?E({},e.ALLOWED_NAMESPACES,g):e1,eq=w(e,"ADD_URI_SAFE_ATTR")?E(T(eX),e.ADD_URI_SAFE_ATTR,e5):eX,eG=w(e,"ADD_DATA_URI_TAGS")?E(T(e$),e.ADD_DATA_URI_TAGS,e5):e$,eH=w(e,"FORBID_CONTENTS")?E({},e.FORBID_CONTENTS,e5):eV,eE=w(e,"FORBID_TAGS")?E({},e.FORBID_TAGS,e5):{},eT=w(e,"FORBID_ATTR")?E({},e.FORBID_ATTR,e5):{},eW=!!w(e,"USE_PROFILES")&&e.USE_PROFILES,eO=!1!==e.ALLOW_ARIA_ATTR,eI=!1!==e.ALLOW_DATA_ATTR,eP=e.ALLOW_UNKNOWN_PROTOCOLS||!1,eC=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,eA=e.SAFE_FOR_TEMPLATES||!1,eR=!1!==e.SAFE_FOR_XML,ek=e.WHOLE_DOCUMENT||!1,eM=e.RETURN_DOM||!1,eL=e.RETURN_DOM_FRAGMENT||!1,ej=e.RETURN_TRUSTED_TYPE||!1,eN=e.FORCE_BODY||!1,eF=!1!==e.SANITIZE_DOM,eB=e.SANITIZE_NAMED_PROPS||!1,ez=!1!==e.KEEP_CONTENT,eU=e.IN_PLACE||!1,ey=e.ALLOWED_URI_REGEXP||H,eJ=e.NAMESPACE||eZ,e_=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&e8(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(e_.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&e8(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(e_.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(e_.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eA&&(eI=!1),eL&&(eM=!0),eW&&(eb=E({},D),ex=[],!0===eW.html&&(E(eb,I),E(ex,N)),!0===eW.svg&&(E(eb,P),E(ex,M),E(ex,j)),!0===eW.svgFilters&&(E(eb,C),E(ex,M),E(ex,j)),!0===eW.mathMl&&(E(eb,R),E(ex,L),E(ex,j))),e.ADD_TAGS&&(eb===ew&&(eb=T(eb)),E(eb,e.ADD_TAGS,e5)),e.ADD_ATTR&&(ex===eS&&(ex=T(ex)),E(ex,e.ADD_ATTR,e5)),e.ADD_URI_SAFE_ATTR&&E(eq,e.ADD_URI_SAFE_ATTR,e5),e.FORBID_CONTENTS&&(eH===eV&&(eH=T(eH)),E(eH,e.FORBID_CONTENTS,e5)),ez&&(eb["#text"]=!0),ek&&E(eb,["html","head","body"]),eb.table&&(E(eb,["tbody"]),delete eE.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');en=(n=e.TRUSTED_TYPES_POLICY).createHTML("")}else void 0===n&&(n=K(q,c)),null!==n&&"string"==typeof en&&(en=n.createHTML(""));a&&a(e),e4=e}},e7=E({},["mi","mo","mn","ms","mtext"]),te=E({},["annotation-xml"]),tt=E({},["title","style","font","a","script"]),tr=E({},[...P,...C,...A]),tn=E({},[...R,...k]),ti=function(e){let t=er(e);t&&t.tagName||(t={namespaceURI:eJ,tagName:"template"});let n=f(e.tagName),i=f(t.tagName);return!!e0[e.namespaceURI]&&(e.namespaceURI===eK?t.namespaceURI===eZ?"svg"===n:t.namespaceURI===eY?"svg"===n&&("annotation-xml"===i||e7[i]):!!tr[n]:e.namespaceURI===eY?t.namespaceURI===eZ?"math"===n:t.namespaceURI===eK?"math"===n&&te[i]:!!tn[n]:e.namespaceURI===eZ?(t.namespaceURI!==eK||!!te[i])&&(t.namespaceURI!==eY||!!e7[i])&&!tn[n]&&(tt[n]||!tr[n]):"application/xhtml+xml"===e2&&!!e0[e.namespaceURI])},to=function(e){h(o.removed,{element:e});try{er(e).removeChild(e)}catch(t){Q(e)}},ta=function(e,t){try{h(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){h(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ex[e]){if(eM||eL)try{to(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}}},ts=function(e){let t=null,i=null;if(eN)e="<remove></remove>"+e;else{let t=m(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===e2&&eJ===eZ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let o=n?n.createHTML(e):e;if(eJ===eZ)try{t=new G().parseFromString(o,e2)}catch(e){}if(!t||!t.documentElement){t=ei.createDocument(eJ,"template",null);try{t.documentElement.innerHTML=eQ?en:o}catch(e){}}let a=t.body||t.documentElement;return(e&&i&&a.insertBefore(s.createTextNode(i),a.childNodes[0]||null),eJ===eZ)?es.call(t,ek?"html":"body")[0]:ek?t.documentElement:a},tl=function(e){return eo.call(e.ownerDocument||e,e,U.SHOW_ELEMENT|U.SHOW_COMMENT|U.SHOW_TEXT|U.SHOW_PROCESSING_INSTRUCTION|U.SHOW_CDATA_SECTION,null)},tu=function(e){return e instanceof V&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof W)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tc=function(e){return"function"==typeof B&&e instanceof B},td=function(e,t,n){eu[e]&&d(eu[e],e=>{e.call(o,t,n,e4)})},tp=function(e){let t=null;if(td("beforeSanitizeElements",e,null),tu(e))return to(e),!0;let n=e5(e.nodeName);if(td("uponSanitizeElement",e,{tagName:n,allowedTags:eb}),e.hasChildNodes()&&!tc(e.firstElementChild)&&x(/<[/\w]/g,e.innerHTML)&&x(/<[/\w]/g,e.textContent)||e.nodeType===Y.progressingInstruction||eR&&e.nodeType===Y.comment&&x(/<[/\w]/g,e.data))return to(e),!0;if(!eb[n]||eE[n]){if(!eE[n]&&tf(n)&&(e_.tagNameCheck instanceof RegExp&&x(e_.tagNameCheck,n)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(n)))return!1;if(ez&&!eH[n]){let t=er(e)||e.parentNode,n=et(e)||e.childNodes;if(n&&t){let i=n.length;for(let o=i-1;o>=0;--o){let i=J(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,ee(e))}}}return to(e),!0}return e instanceof z&&!ti(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&x(/<\/no(script|embed|frames)/i,e.innerHTML)?(to(e),!0):(eA&&e.nodeType===Y.text&&(t=e.textContent,d([ec,ed,ep],e=>{t=v(t,e," ")}),e.textContent!==t&&(h(o.removed,{element:e.cloneNode()}),e.textContent=t)),td("afterSanitizeElements",e,null),!1)},th=function(e,t,n){if(eF&&("id"===t||"name"===t)&&(n in s||n in e6))return!1;if(eI&&!eT[t]&&x(eh,t));else if(eO&&x(ef,t));else if(!ex[t]||eT[t]){if(!(tf(e)&&(e_.tagNameCheck instanceof RegExp&&x(e_.tagNameCheck,e)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(e))&&(e_.attributeNameCheck instanceof RegExp&&x(e_.attributeNameCheck,t)||e_.attributeNameCheck instanceof Function&&e_.attributeNameCheck(t))||"is"===t&&e_.allowCustomizedBuiltInElements&&(e_.tagNameCheck instanceof RegExp&&x(e_.tagNameCheck,n)||e_.tagNameCheck instanceof Function&&e_.tagNameCheck(n))))return!1}else if(eq[t]);else if(x(ey,v(n,em,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===y(n,"data:")&&eG[e]);else if(eP&&!x(eg,v(n,em,"")));else if(n)return!1;return!0},tf=function(e){return"annotation-xml"!==e&&m(e,ev)},tg=function(e){td("beforeSanitizeAttributes",e,null);let{attributes:t}=e;if(!t)return;let i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ex},a=t.length;for(;a--;){let{name:s,namespaceURI:l,value:u}=t[a],c=e5(s),h="value"===s?u:b(u);if(i.attrName=c,i.attrValue=h,i.keepAttr=!0,i.forceKeepAttr=void 0,td("uponSanitizeAttribute",e,i),h=i.attrValue,i.forceKeepAttr||(ta(s,e),!i.keepAttr))continue;if(!eC&&x(/\/>/i,h)){ta(s,e);continue}eA&&d([ec,ed,ep],e=>{h=v(h,e," ")});let f=e5(e.nodeName);if(th(f,c,h)){if(eB&&("id"===c||"name"===c)&&(ta(s,e),h="user-content-"+h),eR&&x(/((--!?|])>)|<\/(style|title)/i,h)){ta(s,e);continue}if(n&&"object"==typeof q&&"function"==typeof q.getAttributeType){if(l);else switch(q.getAttributeType(f,c)){case"TrustedHTML":h=n.createHTML(h);break;case"TrustedScriptURL":h=n.createScriptURL(h)}}try{l?e.setAttributeNS(l,s,h):e.setAttribute(s,h),tu(e)?to(e):p(o.removed)}catch(e){}}}td("afterSanitizeAttributes",e,null)},tm=function e(t){let n=null,i=tl(t);for(td("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)td("uponSanitizeShadowNode",n,null),tp(n)||(n.content instanceof _&&e(n.content),tg(n));td("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null,a=null,s=null,l=null;if((eQ=!e)&&(e="<!-->"),"string"!=typeof e&&!tc(e)){if("function"==typeof e.toString){if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}else throw S("toString is not a function")}if(!o.isSupported)return e;if(eD||e9(t),o.removed=[],"string"==typeof e&&(eU=!1),eU){if(e.nodeName){let t=e5(e.nodeName);if(!eb[t]||eE[t])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof B)(a=(i=ts("<!---->")).ownerDocument.importNode(e,!0)).nodeType===Y.element&&"BODY"===a.nodeName?i=a:"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!eM&&!eA&&!ek&&-1===e.indexOf("<"))return n&&ej?n.createHTML(e):e;if(!(i=ts(e)))return eM?null:ej?en:""}i&&eN&&to(i.firstChild);let c=tl(eU?e:i);for(;s=c.nextNode();)tp(s)||(s.content instanceof _&&tm(s.content),tg(s));if(eU)return e;if(eM){if(eL)for(l=ea.call(i.ownerDocument);i.firstChild;)l.appendChild(i.firstChild);else l=i;return(ex.shadowroot||ex.shadowrootmode)&&(l=el.call(u,l,!0)),l}let p=ek?i.outerHTML:i.innerHTML;return ek&&eb["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&x($,i.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+i.ownerDocument.doctype.name+">\n"+p),eA&&d([ec,ed,ep],e=>{p=v(p,e," ")}),n&&ej?n.createHTML(p):p},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e9(e),eD=!0},o.clearConfig=function(){e4=null,eD=!1},o.isValidAttribute=function(e,t,n){return e4||e9({}),th(e5(e),e5(t),n)},o.addHook=function(e,t){"function"==typeof t&&(eu[e]=eu[e]||[],h(eu[e],t))},o.removeHook=function(e){if(eu[e])return p(eu[e])},o.removeHooks=function(e){eu[e]&&(eu[e]=[])},o.removeAllHooks=function(){eu={}},o}()},e.exports=n()}),et("jMXID",function(e,t){q(e.exports,"default",()=>n);var n={iiif:{ALLOWED_ATTR:["href","src","alt"],ALLOWED_TAGS:["a","b","br","i","img","p","span"]},liberal:{},mirador2:{ALLOWED_ATTR:["href","target","src","alt","dir"],ALLOWED_TAGS:["a","b","br","i","img","p","span","strong","em","ul","ol","li"]},noHtml:{ALLOWED_TAGS:[]}}}),et("98yyI",function(e,t){q(e.exports,"ScrollTo",()=>d);var n=ee("dm060"),i=ee("8GlWf"),o=["children","containerRef","offsetTop","scrollTo","nodeId"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=/*#__PURE__*/function(e){var t;function d(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d),i=d,o=[e],i=u(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,l()?Reflect.construct(i,o||[],u(this).constructor):i.apply(this,o))).scrollToRef=/*#__PURE__*/(0,n.createRef)(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(d,e),t=[{key:"componentDidMount",value:function(){this.props.scrollTo&&this.scrollToElement()}},{key:"componentDidUpdate",value:function(e){var t=this.props.scrollTo;t&&e.scrollTo!==t&&this.scrollToElement()}},{key:"containerBoundingRect",value:function(){var e=this.props.containerRef;return e&&e.current?e.current.getBoundingClientRect():{}}},{key:"scrollToBoundingRect",value:function(){return this.elementToScrollTo()?this.elementToScrollTo().getBoundingClientRect():{}}},{key:"elementToScrollTo",value:function(){return this.scrollToRef&&this.scrollToRef.current?this.scrollToRef.current:null}},{key:"scrollableContainer",value:function(){var e=this.props.containerRef;return e&&e.current?e.current.getElementsByClassName("mirador-scrollto-scrollable")[0]:null}},{key:"elementIsVisible",value:function(){var e=this.props.offsetTop;return!(this.scrollToBoundingRect().top<this.containerBoundingRect().top+e)&&!(this.scrollToBoundingRect().bottom>this.containerBoundingRect().bottom)}},{key:"scrollToElement",value:function(){var e=this.props,t=e.offsetTop;if(!(!e.scrollTo||!this.elementToScrollTo()||this.elementIsVisible())&&this.scrollableContainer()){var n=this.elementToScrollTo().offsetTop-this.containerBoundingRect().height/2+t;this.scrollableContainer().scrollTo(0,n)}}},{key:"render",value:function(){var e=this.props,t=e.children,l=(e.containerRef,e.offsetTop,e.scrollTo),u=(e.nodeId,function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,o));return!l&&/*@__PURE__*/Y(i)(u)?t:/*#__PURE__*/(0,n.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=s(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({ref:this.scrollToRef},u))}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}(d.prototype,t),Object.defineProperty(d,"prototype",{writable:!1}),d}(n.Component);d.defaultProps={offsetTop:0}}),et("d6cg7",function(e,t){q(e.exports,"default",()=>m);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("cs67a"),s=ee("lqD1Z"),l=ee("dzuQk"),u=ee("g60ed"),c=ee("cOFmZ"),d=ee("8uJ99"),p=ee("lPJ6l"),h=ee("34fVF");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,n.compose)((0,l.withRef)(),(0,o.withTranslation)(),(0,a.withSize)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId,o=(0,c.getCompanionWindow)(e,{companionWindowId:n}),a=(0,p.getWindowConfig)(e,{windowId:i}),s=a.defaultSidebarPanelHeight,l=a.defaultSidebarPanelWidth;return g(g({},o),{},{defaultSidebarPanelHeight:s,defaultSidebarPanelWidth:l,direction:(0,d.getThemeDirection)(e),isDisplayed:o&&o.content&&o.content.length>0})},function(e,t){var n=t.windowId,i=t.id;return{onCloseClick:function(){return e(u.removeCompanionWindow(n,i))},updateCompanionWindow:function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return e(u.updateCompanionWindow.apply(u,[n,i].concat(o)))}}}),(0,s.withPlugins)("CompanionWindow"))(h.CompanionWindow)}),et("cs67a",function(e,t){var n=ee("dm060"),i=ee("lfr5Y"),o=ee("abyff"),a=ee("eYvA3"),s=ee("2tyHf"),l=ee("92An1");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=/*#__PURE__*/u(n),d=/*#__PURE__*/u(i),p=/*#__PURE__*/u(o),h=/*#__PURE__*/u(s),f=/*#__PURE__*/u(l);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function S(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=_(e);return n=t?Reflect.construct(i,arguments,_(this).constructor):i.apply(this,arguments),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}var P={},C=["explicitRef","className","style","size","disablePlaceholder","onSize"],A={monitorWidth:!0,monitorHeight:!1,refreshRate:16,refreshMode:"throttle",noPlaceholder:!1,resizeDetectorStrategy:"scroll"};function R(e){return e.displayName||e.name||"Component"}var k=/*#__PURE__*/function(e){S(i,e);var t=I(i);function i(){return v(this,i),t.apply(this,arguments)}return b(i,[{key:"render",value:function(){return n.Children.only(this.props.children)}}]),i}(n.Component);function D(e){var t=e.className,n=e.style,i={};return t||n?(t&&(i.className=t),n&&(i.style=n)):i.style={width:"100%",height:"100%"},/*#__PURE__*/c.default.createElement("div",i)}w(k,"displayName","SizeMeReferenceWrapper"),D.displayName="SizeMePlaceholder";var N=function(e){function t(t){var n=t.explicitRef,i=t.className,o=t.style,a=t.size,s=t.disablePlaceholder;t.onSize;var l=T(t,C),u=null==a||null==a.width&&null==a.height,d={className:i,style:o};null!=a&&(d.size=a);var p=u&&!s?/*#__PURE__*/c.default.createElement(D,{className:i,style:o}):/*#__PURE__*/c.default.createElement(e,x({},d,l));return /*#__PURE__*/c.default.createElement(k,{ref:n},p)}return t.displayName="SizeMeRenderer(".concat(R(e),")"),t};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=e.monitorWidth,n=void 0===t?A.monitorWidth:t,i=e.monitorHeight,o=void 0===i?A.monitorHeight:i,s=e.refreshRate,l=void 0===s?A.refreshRate:s,u=e.refreshMode,f=void 0===u?A.refreshMode:u,g=e.noPlaceholder,y=void 0===g?A.noPlaceholder:g,_=e.resizeDetectorStrategy,E=void 0===_?A.resizeDetectorStrategy:_;p.default(n||o,'You have to monitor at least one of the width or height when using "sizeMe"'),p.default(l>=16,"It is highly recommended that you don't put your refreshRate lower than 16 as this may cause layout thrashing."),p.default("throttle"===f||"debounce"===f,'The refreshMode should have a value of "throttle" or "debounce"');var T="throttle"===f?a.throttle:a.debounce;return function(e){var t=N(e),i=/*#__PURE__*/function(e){S(a,e);var i=I(a);function a(){var e;v(this,a);for(var t=arguments.length,s=Array(t),u=0;u<t;u++)s[u]=arguments[u];return w(O(e=i.call.apply(i,[this].concat(s))),"domEl",null),w(O(e),"state",{width:void 0,height:void 0}),w(O(e),"uninstall",function(){if(e.domEl){try{e.detector.uninstall(e.domEl)}catch(e){console.warn("react-sizeme: an error occurred whilst stopping to listen to node size changes")}e.domEl=null}}),w(O(e),"determineStrategy",function(t){t.onSize?(e.callbackState||(e.callbackState=m({},e.state)),e.strategy="callback"):e.strategy="render"}),w(O(e),"strategisedSetState",function(t){"callback"===e.strategy&&(e.callbackState=t,e.props.onSize(t)),e.setState(t)}),w(O(e),"strategisedGetState",function(){return"callback"===e.strategy?e.callbackState:e.state}),w(O(e),"refCallback",function(t){e.element=t}),w(O(e),"hasSizeChanged",function(e,t){return n&&e.width!==t.width||o&&e.height!==t.height}),w(O(e),"checkIfSizeChanged",T(l,function(t){var i=t.getBoundingClientRect(),a=i.width,s=i.height,l={width:n?a:null,height:o?s:null};e.hasSizeChanged(e.strategisedGetState(),l)&&e.strategisedSetState(l)})),e}return b(a,[{key:"componentDidMount",value:function(){this.detector=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scroll";return P[e]||(P[e]=h.default({strategy:e})),P[e]}(E),this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentDidUpdate",value:function(){this.determineStrategy(this.props),this.handleDOMNode()}},{key:"componentWillUnmount",value:function(){this.hasSizeChanged=function(){},this.checkIfSizeChanged=function(){},this.uninstall()}},{key:"handleDOMNode",value:function(){var e=this.element&&d.default.findDOMNode(this.element);if(!e){this.uninstall();return}this.domEl?(this.domEl.isSameNode&&!this.domEl.isSameNode(e)||this.domEl!==e)&&(this.uninstall(),this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged)):(this.domEl=e,this.detector.listenTo(this.domEl,this.checkIfSizeChanged))}},{key:"render",value:function(){var e=M.enableSSRBehaviour||M.noPlaceholders||y||"callback"===this.strategy,n=m({},this.state);return /*#__PURE__*/c.default.createElement(t,x({explicitRef:this.refCallback,size:"callback"===this.strategy?null:n,disablePlaceholder:e},this.props))}}]),a}(c.default.Component);return w(i,"displayName","SizeMe(".concat(R(e),")")),i.WrappedComponent=e,i}}M.enableSSRBehaviour=!1,M.noPlaceholders=!1;var L=["children","render"],j=["children","render"],F=["children","render"],B=/*#__PURE__*/function(e){S(n,e);var t=I(n);function n(e){v(this,n),w(O(i=t.call(this,e)),"createComponent",function(e){i.SizeAware=M(e)(function(e){return e.children})}),w(O(i),"onSize",function(e){return i.setState({size:e})}),e.children,e.render;var i,o=T(e,L);return i.createComponent(o),i.state={size:{width:void 0,height:void 0}},i}return b(n,[{key:"componentDidUpdate",value:function(e){var t=this.props;t.children,t.render;var n=T(t,j);e.children,e.render;var i=T(e,F);f.default(n,i)||this.createComponent(n)}},{key:"render",value:function(){var e=this.SizeAware,t=this.props.children||this.props.render;return /*#__PURE__*/c.default.createElement(e,{onSize:this.onSize},t({size:this.state.size}))}}]),n}(n.Component);w(B,"defaultProps",{children:void 0,render:void 0}),M.SizeMe=B,M.withSize=M,e.exports=M}),et("abyff",function(e,t){e.exports=function(e,t,n,i,o,a,s,l){if(!e){var u;if(void 0===t)u=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],d=0;(u=Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}}),et("eYvA3",function(e,t){function n(e,t,n,i){var o,a=!1,s=0;function l(){o&&clearTimeout(o)}function u(){for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];var p=this,h=Date.now()-s;function f(){s=Date.now(),n.apply(p,c)}a||(i&&!o&&f(),l(),void 0===i&&h>e?f():!0!==t&&(o=setTimeout(i?function(){o=void 0}:f,void 0===i?e-h:e)))}return"boolean"!=typeof t&&(i=n,n=t,t=void 0),u.cancel=function(){l(),a=!0},u}function i(e,t,i){return void 0===i?n(e,t,!1):n(e,i,!1!==t)}q(e.exports,"throttle",()=>n),q(e.exports,"debounce",()=>i)}),et("2tyHf",function(e,t){var n=ee("baxQK").forEach,i=ee("eAAMN"),o=ee("hesqe"),a=ee("73MT9"),s=ee("cayEw"),l=ee("57SPk"),u=ee("iaSDt"),c=ee("3dmsJ"),d=ee("171R9"),p=ee("bLyUg"),h=ee("6qita");function f(e){return Array.isArray(e)||void 0!==e.length}function g(e){if(Array.isArray(e))return e;var t=[];return n(e,function(e){t.push(e)}),t}function m(e){return e&&1===e.nodeType}function v(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}e.exports=function(e){if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var t,y;t=s({idGenerator:a(),stateHandler:d})}var b=e.reporter;b||(b=l(!1===b));var w=v(e,"batchProcessor",c({reporter:b})),x={};x.callOnAdd=!!v(e,"callOnAdd",!0),x.debug=!!v(e,"debug",!1);var S=o(t),_=i({stateHandler:d}),E=v(e,"strategy","object"),T=v(e,"important",!1),O={reporter:b,batchProcessor:w,stateHandler:d,idHandler:t,important:T};if("scroll"===E&&(u.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),E="object"):u.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),E="object")),"scroll"===E)y=h(O);else if("object"===E)y=p(O);else throw Error("Invalid strategy name: "+E);var I={};return{listenTo:function(e,i,o){function a(e){n(S.get(e),function(t){t(e)})}function s(e,t,n){S.add(t,n),e&&n(t)}if(o||(o=i,i=e,e={}),!i)throw Error("At least one element required.");if(!o)throw Error("Listener required.");if(m(i))i=[i];else{if(!f(i))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=g(i)}var l=0,u=v(e,"callOnAdd",x.callOnAdd),c=v(e,"onReady",function(){}),p=v(e,"debug",x.debug);n(i,function(e){d.getState(e)||(d.initState(e),t.set(e));var h=t.get(e);if(p&&b.log("Attaching listener to element",h,e),!_.isDetectable(e)){if(p&&b.log(h,"Not detectable."),_.isBusy(e)){p&&b.log(h,"System busy making it detectable"),s(u,e,o),I[h]=I[h]||[],I[h].push(function(){++l===i.length&&c()});return}return p&&b.log(h,"Making detectable..."),_.markBusy(e,!0),y.makeDetectable({debug:p,important:T},e,function(e){if(p&&b.log(h,"onElementDetectable"),d.getState(e)){_.markAsDetectable(e),_.markBusy(e,!1),y.addListener(e,a),s(u,e,o);var t=d.getState(e);if(t&&t.startSize){var f=e.offsetWidth,g=e.offsetHeight;(t.startSize.width!==f||t.startSize.height!==g)&&a(e)}I[h]&&n(I[h],function(e){e()})}else p&&b.log(h,"Element uninstalled before being detectable.");delete I[h],++l===i.length&&c()})}p&&b.log(h,"Already detecable, adding listener."),s(u,e,o),l++}),l===i.length&&c()},removeListener:S.removeListener,removeAllListeners:S.removeAllListeners,uninstall:function(e){if(!e)return b.error("At least one element is required.");if(m(e))e=[e];else{if(!f(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=g(e)}n(e,function(e){S.removeAllListeners(e),y.uninstall(e),d.cleanState(e)})},initDocument:function(e){y.initDocument&&y.initDocument(e)}}}}),et("baxQK",function(e,t){(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n]);if(i)return i}}}),et("eAAMN",function(e,t){e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}}),et("hesqe",function(e,t){e.exports=function(e){var t={};function n(n){var i=e.get(n);return void 0===i?[]:t[i]||[]}return{get:n,add:function(n,i){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(i)},removeListener:function(e,t){for(var i=n(e),o=0,a=i.length;o<a;++o)if(i[o]===t){i.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}}),et("73MT9",function(e,t){e.exports=function(){var e=1;return{generate:function(){return e++}}}}),et("cayEw",function(e,t){e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var i=n(e);if(!i)throw Error("setId required the element to have a resize detection state.");var o=t.generate();return i.id=o,o}}}}),et("57SPk",function(e,t){e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var i=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};i(n,"log"),i(n,"warn"),i(n,"error")}return n}}),et("iaSDt",function(e,t){var n=e.exports={};n.isIE=function(e){var t;return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");do n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(i[0])return t>4?t:e}())},n.isLegacyOpera=function(){return!!window.opera}}),et("3dmsJ",function(e,t){var n=ee("iZvZK");function i(){var e={},t=0,n=0,i=0;return{add:function(o,a){a||(a=o,o=0),o>n?n=o:o<i&&(i=o),e[o]||(e[o]=[]),e[o].push(a),t++},process:function(){for(var t=i;t<=n;t++)for(var o=e[t],a=0;a<o.length;a++)(0,o[a])()},size:function(){return t}}}e.exports=function(e){var t,o=(e=e||{}).reporter,a=n.getOption(e,"async",!0),s=n.getOption(e,"auto",!0);s&&!a&&(o&&o.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),a=!0);var l=i(),u=!1;function c(){for(u=!0;l.size();){var e=l;l=i(),e.process()}u=!1}function d(e){return setTimeout(e,0)}return{add:function(e,n){!u&&s&&a&&0===l.size()&&(t=d(c)),l.add(e,n)},force:function(e){u||(void 0===e&&(e=a),t&&(clearTimeout(t),t=null),e?t=d(c):c())}}}}),et("iZvZK",function(e,t){(e.exports={}).getOption=function(e,t,n){var i=e[t];return null==i&&void 0!==n?n:i}}),et("171R9",function(e,t){var n="_erd";e.exports={initState:function(e){return e[n]={},e[n]},getState:function(e){return e[n]},cleanState:function(e){delete e[n]}}}),et("bLyUg",function(e,t){var n=ee("iaSDt");e.exports=function(e){var t=(e=e||{}).reporter,i=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw Error("Missing required dependency: reporter.");return{makeDetectable:function(a,s,l){l||(l=s,s=a,a=null),(a=a||{}).debug,n.isIE(8)?l(s):function(s,l){var u,c,d=(u=["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"],c=e.important?" !important; ":"; ",(u.join(c)+c).trim()),p=!1,h=window.getComputedStyle(s),f=s.offsetWidth,g=s.offsetHeight;function m(){function e(){if("static"===h.position){s.style.setProperty("position","relative",a.important?"important":"");var e=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==o.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style.setProperty(i,"0",a.important?"important":""))};e(t,s,h,"top"),e(t,s,h,"right"),e(t,s,h,"bottom"),e(t,s,h,"left")}}""!==h.position&&(e(h),p=!0);var i=document.createElement("object");i.style.cssText=d,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){p||e(),function e(t,n){if(!t.contentDocument){var i=o(t);i.checkForObjectDocumentTimeoutId&&window.clearTimeout(i.checkForObjectDocumentTimeoutId),i.checkForObjectDocumentTimeoutId=setTimeout(function(){i.checkForObjectDocumentTimeoutId=0,e(t,n)},100);return}n(t.contentDocument)}(this,function(e){l(s)})},n.isIE()||(i.data="about:blank"),o(s)&&(s.appendChild(i),o(s).object=i,n.isIE()&&(i.data="about:blank"))}o(s).startSize={width:f,height:g},i?i.add(m):m()}(s,l)},addListener:function(e,t){function i(){t(e)}if(n.isIE(8))o(e).object={proxy:i},e.attachEvent("onresize",i);else{var a=o(e).object;if(!a)throw Error("Element is not detectable by this strategy.");a.contentDocument.defaultView.addEventListener("resize",i)}},uninstall:function(e){if(o(e)){var t=o(e).object;t&&(n.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}}),et("6qita",function(e,t){var n=ee("baxQK").forEach;e.exports=function(e){var t,i,o,a,s=(e=e||{}).reporter,l=e.batchProcessor,u=e.stateHandler.getState;e.stateHandler.hasState;var c=e.idHandler;if(!l)throw Error("Missing required dependency: batchProcessor");if(!s)throw Error("Missing required dependency: reporter.");var d=((t=document.createElement("div")).style.cssText=f(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]),(i=document.createElement("div")).style.cssText=f(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),i.appendChild(t),document.body.insertBefore(i,document.body.firstChild),o=500-i.clientWidth,a=500-i.clientHeight,document.body.removeChild(i),{width:o,height:a}),p="erd_scroll_detection_container";function h(e){(function(e,t,n){if(!e.getElementById(t)){var i,o,a,s=n+"_animation",l="/* Created by the element-resize-detector library. */\n";l+="."+n+" > div::-webkit-scrollbar { "+f(["display: none"])+" }\n\n"+("."+n+"_animation_active { ")+f(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+s,"animation-name: "+s])+" }\n@-webkit-keyframes "+s+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n@keyframes "+s+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",i=l,o=o||function(t){e.head.appendChild(t)},(a=e.createElement("style")).innerHTML=i,a.id=t,o(a)}})(e,"erd_scroll_detection_scrollbar_style",p)}function f(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function g(e,t,n){if(e.addEventListener)e.addEventListener(t,n);else{if(!e.attachEvent)return s.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+t,n)}}function m(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n);else{if(!e.detachEvent)return s.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+t,n)}}function v(e){return u(e).container.childNodes[0].childNodes[0].childNodes[0]}function y(e){return u(e).container.childNodes[0].childNodes[0].childNodes[1]}return h(window.document),{makeDetectable:function(e,t,i){var o,a,h;function m(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(c.get(t),"Scroll: "),s.log.apply)s.log.apply(null,n);else for(var i=0;i<n.length;i++)s.log(n[i])}}function b(e){var t=u(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function w(){var e=window.getComputedStyle(t),n={};return n.position=e.position,n.width=t.offsetWidth,n.height=t.offsetHeight,n.top=e.top,n.right=e.right,n.bottom=e.bottom,n.left=e.left,n.widthCSS=e.width,n.heightCSS=e.height,n}function x(){if(m("storeStyle invoked."),!u(t)){m("Aborting because element has been uninstalled");return}var e=w();u(t).style=e}function S(e,t,n){u(e).lastWidth=t,u(e).lastHeight=n}function _(){return 2*d.width+1}function E(){return 2*d.height+1}function T(e,t,n){var i=v(e),o=y(e),a=t+10+_(),s=n+10+E(),l=2*t+_(),u=2*n+E();i.scrollLeft=a,i.scrollTop=s,o.scrollLeft=l,o.scrollTop=u}function O(){var e=u(t).container;if(!e){(e=document.createElement("div")).className=p,e.style.cssText=f(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),u(t).container=e,n=e,n.className+=" "+p+"_animation_active",t.appendChild(e);var n,i=function(){u(t).onRendered&&u(t).onRendered()};g(e,"animationstart",i),u(t).onAnimationStart=i}return e}function I(){if(m("Injecting elements"),!u(t)){m("Aborting because element has been uninstalled");return}!function(){var n=u(t).style;if("static"===n.position){t.style.setProperty("position","relative",e.important?"important":"");var i=function(e,t,n,i){var o=n[i];"auto"!==o&&"0"!==o.replace(/[^-\d\.]/g,"")&&(e.warn("An element that is positioned static has style."+i+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",t),t.style[i]=0)};i(s,t,n,"top"),i(s,t,n,"right"),i(s,t,n,"bottom"),i(s,t,n,"left")}}();var n,i,o,a,l=u(t).container;l||(l=O());var c=d.width,h=d.height,v=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),y=f(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat((n=-(1+c),i=-(1+h),o=-h,["left: "+(n=n?n+"px":"0"),"top: "+(i=i?i+"px":"0"),"right: "+(a=(a=-c)?a+"px":"0"),"bottom: "+(o=o?o+"px":"0")]))),b=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=f(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),x=f(["position: absolute","left: 0","top: 0"]),S=f(["position: absolute","width: 200%","height: 200%"]),_=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div"),I=document.createElement("div"),P=document.createElement("div"),C=document.createElement("div");function A(){var e=u(t);e&&e.onExpand?e.onExpand():m("Aborting expand scroll handler: element has been uninstalled")}function R(){var e=u(t);e&&e.onShrink?e.onShrink():m("Aborting shrink scroll handler: element has been uninstalled")}_.dir="ltr",_.style.cssText=v,_.className=p,E.className=p,E.style.cssText=y,T.style.cssText=b,I.style.cssText=x,P.style.cssText=w,C.style.cssText=S,T.appendChild(I),P.appendChild(C),E.appendChild(T),E.appendChild(P),_.appendChild(E),l.appendChild(_),g(T,"scroll",A),g(P,"scroll",R),u(t).onExpandScroll=A,u(t).onShrinkScroll=R}function P(){function i(t,n,i){var o=v(t).childNodes[0],a=n+10+_(),s=i+10+E();o.style.setProperty("width",a+"px",e.important?"important":""),o.style.setProperty("height",s+"px",e.important?"important":"")}function o(n){var o=t.offsetWidth,d=t.offsetHeight,p=o!==u(t).lastWidth||d!==u(t).lastHeight;m("Storing current size",o,d),S(t,o,d),l.add(0,function(){if(p){if(!u(t)){m("Aborting because element has been uninstalled");return}if(!a()){m("Aborting because element container has not been initialized");return}if(e.debug){var n=t.offsetWidth,l=t.offsetHeight;(n!==o||l!==d)&&s.warn(c.get(t),"Scroll: Size changed before updating detector elements.")}i(t,o,d)}}),l.add(1,function(){if(!u(t)){m("Aborting because element has been uninstalled");return}if(!a()){m("Aborting because element container has not been initialized");return}T(t,o,d)}),p&&n&&l.add(2,function(){if(!u(t)){m("Aborting because element has been uninstalled");return}if(!a()){m("Aborting because element container has not been initialized");return}n()})}function a(){return!!u(t).container}function d(){m("notifyListenersIfNeeded invoked");var e=u(t);return void 0===u(t).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?m("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?m("Not notifying: Size already notified"):void(m("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,n(u(t).listeners,function(e){e(t)}))}function p(){if(m("Scroll detected."),b(t)){m("Scroll event fired while unrendered. Ignoring...");return}o(d)}if(m("registerListenersAndPositionElements invoked."),!u(t)){m("Aborting because element has been uninstalled");return}u(t).onRendered=function(){if(m("startanimation triggered."),b(t)){m("Ignoring since element is still unrendered...");return}m("Element rendered.");var e=v(t),n=y(t);(0===e.scrollLeft||0===e.scrollTop||0===n.scrollLeft||0===n.scrollTop)&&(m("Scrollbars out of sync. Updating detector elements..."),o(d))},u(t).onExpand=p,u(t).onShrink=p;var h=u(t).style;i(t,h.width,h.height)}function C(){if(m("finalizeDomMutation invoked."),!u(t)){m("Aborting because element has been uninstalled");return}var e=u(t).style;S(t,e.width,e.height),T(t,e.width,e.height)}function A(){i(t)}function R(){var e;m("Installing..."),u(t).listeners=[],e=w(),u(t).startSize={width:e.width,height:e.height},m("Element start size",u(t).startSize),l.add(0,x),l.add(1,I),l.add(2,P),l.add(3,C),l.add(4,A)}i||(i=t,t=e,e=null),e=e||{},(m("Making detectable..."),(h=(a=o=t).getRootNode&&a.getRootNode().contains(a),(a===a.ownerDocument.body||a.ownerDocument.body.contains(a)||h)&&null!==window.getComputedStyle(o))?1:0)?R():(m("Element is detached"),O(),m("Waiting until element is attached..."),u(t).onRendered=function(){m("Element is now attached"),R()})},addListener:function(e,t){if(!u(e).listeners.push)throw Error("Cannot add listener to an element that is not detectable.");u(e).listeners.push(t)},uninstall:function(e){var t=u(e);t&&(t.onExpandScroll&&m(v(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&m(y(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&m(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:h}}}),et("92An1",function(e,t){e.exports=function(e,t,n,i){var o=n?n.call(i,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!l(c))return!1;var d=e[c],p=t[c];if(!1===(o=n?n.call(i,d,p,c):void 0)||void 0===o&&d!==p)return!1}return!0}}),et("dzuQk",function(e,t){q(e.exports,"withRef",()=>a);var n=ee("dm060"),i=ee("9L45J");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var a=function(){return function(e){return/*#__PURE__*/(0,n.forwardRef)(function(t,n){return/*#__PURE__*/(0,i.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({innerRef:n},t))})}}}),et("34fVF",function(e,t){q(e.exports,"CompanionWindow",()=>A);var n=ee("dm060"),i=ee("37zHU"),o=ee("iWgry"),a=ee("ftrCj"),s=ee("8tnhB"),l=ee("c9wxR"),u=ee("d822V"),c=ee("iELjf"),d=ee("9UjVT"),p=ee("2Wy2f"),h=ee("YT00d"),f=ee("9L45J");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var S=(0,i.default)(l.default,{name:"CompanionWindow",slot:"root"})({}),_=(0,i.default)(c.default,{name:"CompanionWindow",slot:"toolbar"})({}),E=(0,i.default)(u.default,{name:"CompanionWindow",slot:"title"})({}),T=(0,i.default)("div",{name:"CompanionWindow",slot:"controls"})({}),O=(0,i.default)(l.default,{name:"CompanionWindow",slot:"contents"})({}),I=(0,i.default)(d.Rnd,{name:"CompanionWindow",slot:"resize"})({}),P=(0,i.default)(p.default,{name:"CompanionWindow",slot:"positionButton"})({}),C=(0,i.default)(p.default,{name:"CompanionWindow",slot:"closeButton"})({}),A=/*#__PURE__*/function(e){var t;function i(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),e=i,t=arguments,e=w(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,b()?Reflect.construct(e,t||[],w(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e),t=[{key:"openInNewStyle",value:function(){return"rtl"===this.props.direction?{transform:"scale(-1, 1)"}:{}}},{key:"resizeHandles",value:function(){var e=this.props,t=e.direction,n=e.position,i={ltr:{default:"left",opposite:"right"},rtl:{default:"right",opposite:"left"}},o={bottom:!1,bottomLeft:!1,bottomRight:!1,left:!1,right:!1,top:!1,topLeft:!1,topRight:!1};return"right"===n||"far-right"===n?m(m({},o),{},v({},i[t].default,!0)):"left"===n?m(m({},o),{},v({},i[t].opposite,!0)):"bottom"===n||"far-bottom"===n?m(m({},o),{},{top:!0}):o}},{key:"render",value:function(){var e=this.props,t=e.ariaLabel,i=e.classes,l=e.paperClassName,u=e.onCloseClick,c=e.updateCompanionWindow,d=e.isDisplayed,g=e.position,v=e.t,y=e.title,b=e.children,w=e.titleControls,x=e.size,A=e.defaultSidebarPanelWidth,R=e.defaultSidebarPanelHeight,k=e.innerRef,D="bottom"===g||"far-bottom"===g,N=(0,n.Children).map(b,function(e){return e?/*#__PURE__*/(0,n.cloneElement)(e,{parentactions:{closeCompanionWindow:u}}):null});return/*#__PURE__*/(0,f.jsx)(S,{ownerState:this.props,ref:k,style:{display:d?null:"none",order:"left"===g?-1:null},className:[(0,h.default)("companion-window-".concat(g)),l,"bottom"===g?i.horizontal:i.vertical].join(" "),square:!0,component:"aside","aria-label":t||y,children:/*#__PURE__*/(0,f.jsxs)(I,{style:{display:"inherit",position:"inherit"},ownerState:this.props,default:{height:D?R:"100%",width:D?"auto":A},disableDragging:!0,enableResizing:this.resizeHandles(),minHeight:50,minWidth:"left"===g?235:100,children:[/*#__PURE__*/(0,f.jsxs)(_,{variant:"dense",className:[(0,h.default)("companion-window-header"),x.width<370?i.small:null].join(" "),disableGutters:!0,children:[/*#__PURE__*/(0,f.jsx)(E,{variant:"h3",children:y}),"left"===g?c&&/*#__PURE__*/(0,f.jsx)(p.default,{"aria-label":v("openInCompanionWindow"),onClick:function(){c({position:"right"})},children:/*#__PURE__*/(0,f.jsx)(/*@__PURE__*/Y(a),{style:this.openInNewStyle()})}):/*#__PURE__*/(0,f.jsxs)(f.Fragment,{children:[c&&/*#__PURE__*/(0,f.jsx)(P,{"aria-label":v("bottom"===g?"moveCompanionWindowToRight":"moveCompanionWindowToBottom"),onClick:function(){c({position:"bottom"===g?"right":"bottom"})},children:/*#__PURE__*/(0,f.jsx)(/*@__PURE__*/Y(s),{})}),/*#__PURE__*/(0,f.jsx)(C,{sx:m({},x.width<370&&{order:"unset"}),"aria-label":v("closeCompanionWindow"),onClick:u,children:/*#__PURE__*/(0,f.jsx)(/*@__PURE__*/Y(o),{})})]}),w&&/*#__PURE__*/(0,f.jsx)(T,{ownerState:{position:g},sx:{order:D||x.width<370?"unset":1e3},className:(0,h.default)("companion-window-title-controls"),children:w})]}),/*#__PURE__*/(0,f.jsx)(O,{className:(0,h.default)("scrollto-scrollable"),elevation:0,children:N})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}(n.Component);A.defaultProps={ariaLabel:void 0,children:void 0,classes:{},defaultSidebarPanelHeight:201,defaultSidebarPanelWidth:235,innerRef:void 0,isDisplayed:!1,onCloseClick:function(){},paperClassName:"",position:null,size:{},t:function(e){return e},title:null,titleControls:null,updateCompanionWindow:void 0}}),et("iWgry",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseSharp")}),et("ftrCj",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M19 19H5V5h7V3H3v18h18v-9h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNewSharp")}),et("8tnhB",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicatorSharp")}),et("iELjf",function(e,t){q(e.exports,"default",()=>g);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("91wvo"),u=ee("37zHU"),c=ee("cXIZY"),d=ee("9L45J");let p=["className","component","disableGutters","variant"],h=e=>{let{classes:t,disableGutters:n,variant:i}=e;return(0,s.default)({root:["root",!n&&"gutters",i]},c.getToolbarUtilityClass,t)},f=(0,u.default)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,i.default)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48}),({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar);var g=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,l.useDefaultProps)({props:e,name:"MuiToolbar"}),{className:s,component:u="div",disableGutters:c=!1,variant:g="regular"}=o,m=(0,n.default)(o,p),v=(0,i.default)({},o,{component:u,disableGutters:c,variant:g}),y=h(v);return/*#__PURE__*/(0,d.jsx)(f,(0,i.default)({as:u,className:(0,a.default)(y.root,s),ref:t,ownerState:v},m))})}),et("cXIZY",function(e,t){q(e.exports,"getToolbarUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiToolbar",e)}(0,n.default)("MuiToolbar",["root","gutters","regular","dense"])}),et("9UjVT",function(e,t){q(e.exports,"Rnd",()=>c);var n=ee("dm060"),i=ee("4Tu4n"),o=ee("j3K6g"),a=ee("lfr5Y"),s=function(e,t){return(s=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},c=function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,i=this.getDraggablePosition(),o=i.x,a=i.y;this.draggable.setState({x:o-t,y:a-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n,i=this.getDraggablePosition();if(this.originalPosition=i,this.props.bounds){var o=this.getParent(),a=this.props.scale;if("parent"===this.props.bounds)n=o;else if("body"===this.props.bounds){var s=o.getBoundingClientRect(),l=s.left,u=s.top,c=document.body.getBoundingClientRect(),d=-(l-o.offsetLeft*a-c.left)/a,p=-(u-o.offsetTop*a-c.top)/a,h=(document.body.offsetWidth-this.resizable.size.width*a)/a+d,f=(document.body.offsetHeight-this.resizable.size.height*a)/a+p;return this.setState({bounds:{top:p,right:h,bottom:f,left:d}})}else if("window"===this.props.bounds){if(!this.resizable)return;var g=o.getBoundingClientRect(),m=g.left,v=g.top,y=-(m-o.offsetLeft*a)/a,b=-(v-o.offsetTop*a)/a,h=(window.innerWidth-this.resizable.size.width*a)/a+y,f=(window.innerHeight-this.resizable.size.height*a)/a+b;return this.setState({bounds:{top:b,right:h,bottom:f,left:y}})}else"string"==typeof this.props.bounds?n=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(n=this.props.bounds);if(n instanceof HTMLElement&&o instanceof HTMLElement){var w=n.getBoundingClientRect(),x=w.left,S=w.top,_=o.getBoundingClientRect(),E=_.left,T=_.top,O=(x-E)/a,I=S-T;if(this.resizable){this.updateOffsetFromParent();var P=this.offsetFromParent;this.setState({bounds:{top:I-P.top,right:O+(n.offsetWidth-this.resizable.size.width)-P.left/a,bottom:I+(n.offsetHeight-this.resizable.size.height)-P.top,left:O-P.left/a}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,i=n.left,o=n.top;if(!this.props.dragAxis||"both"===this.props.dragAxis)return this.props.onDrag(e,l(l({},t),{x:t.x+i,y:t.y+o}));if("x"===this.props.dragAxis)return this.props.onDrag(e,l(l({},t),{x:t.x+i,y:this.originalPosition.y+o,deltaY:0}));if("y"===this.props.dragAxis)return this.props.onDrag(e,l(l({},t),{x:this.originalPosition.x+i,y:t.y+o,deltaX:0}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,i=n.left,o=n.top;if(!this.props.dragAxis||"both"===this.props.dragAxis)return this.props.onDragStop(e,l(l({},t),{x:t.x+i,y:t.y+o}));if("x"===this.props.dragAxis)return this.props.onDragStop(e,l(l({},t),{x:t.x+i,y:this.originalPosition.y+o,deltaY:0}));if("y"===this.props.dragAxis)return this.props.onDragStop(e,l(l({},t),{x:this.originalPosition.x+i,y:t.y+o,deltaX:0}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var i=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var s=this.getParent(),l=void 0;"parent"===this.props.bounds?l=s:"body"===this.props.bounds?l=document.body:"window"===this.props.bounds?l=window:"string"==typeof this.props.bounds?l=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(l=this.props.bounds);var u=this.getSelfElement();if(u instanceof Element&&(l instanceof HTMLElement||l===window)&&s instanceof HTMLElement){var c=this.getMaxSizesFromProps(),d=c.maxWidth,p=c.maxHeight,h=this.getParentSize();if(d&&"string"==typeof d){if(d.endsWith("%")){var f=Number(d.replace("%",""))/100;d=h.width*f}else d.endsWith("px")&&(d=Number(d.replace("px","")))}if(p&&"string"==typeof p){if(p.endsWith("%")){var f=Number(p.replace("%",""))/100;p=h.height*f}else p.endsWith("px")&&(p=Number(p.replace("px","")))}var g=u.getBoundingClientRect(),m=g.left,v=g.top,y="window"===this.props.bounds?{left:0,top:0}:l.getBoundingClientRect(),b=y.left,w=y.top,x=this.getOffsetWidth(l),S=this.getOffsetHeight(l),_=t.toLowerCase().endsWith("left"),E=t.toLowerCase().endsWith("right"),T=t.startsWith("top"),O=t.startsWith("bottom");if((_||T)&&this.resizable){var I=(m-b)/i+this.resizable.size.width;this.setState({maxWidth:I>Number(d)?d:I})}if(E||this.props.lockAspectRatio&&!_&&!T){var I=x+(b-m)/i;this.setState({maxWidth:I>Number(d)?d:I})}if((T||_)&&this.resizable){var I=(v-w)/i+this.resizable.size.height;this.setState({maxHeight:I>Number(p)?p:I})}if(O||this.props.lockAspectRatio&&!T&&!_){var I=S+(w-v)/i;this.setState({maxHeight:I>Number(p)?p:I})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,i){var o=this,s={x:this.originalPosition.x,y:this.originalPosition.y},l=-i.width,u=-i.height;["top","left","topLeft","bottomLeft","topRight"].includes(t)&&("bottomLeft"===t?s.x+=l:("topRight"===t||(s.x+=l),s.y+=u));var c=this.draggable.state;(s.x!==c.x||s.y!==c.y)&&(0,a.flushSync)(function(){o.draggable.setState(s)}),this.updateOffsetFromParent();var d=this.offsetFromParent,p=this.getDraggablePosition().x+d.left,h=this.getDraggablePosition().y+d.top;this.resizingPosition={x:p,y:h},this.props.onResize&&this.props.onResize(e,t,n,i,{x:p,y:h})},t.prototype.onResizeStop=function(e,t,n,i){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,s=o.maxHeight;this.setState({maxWidth:a,maxHeight:s}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,i,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var i=t.getBoundingClientRect(),o=i.left,a=i.top,s=n.getBoundingClientRect(),l=this.getDraggablePosition(),u=t.scrollLeft,c=t.scrollTop;this.offsetFromParent={left:s.left-o+u-l.x*e,top:s.top-a+c-l.y*e}},t.prototype.render=function(){var e,t=this,a=this.props,s=a.disableDragging,c=a.style,d=a.dragHandleClassName,p=a.position,h=a.onMouseDown,f=a.onMouseUp,g=a.dragAxis,m=a.dragGrid,v=a.bounds,y=a.enableUserSelectHack,b=a.cancel,w=a.children,x=(a.onResizeStart,a.onResize,a.onResizeStop,a.onDragStart,a.onDrag,a.onDragStop,a.resizeHandleStyles),S=a.resizeHandleClasses,_=a.resizeHandleComponent,E=a.enableResizing,T=a.resizeGrid,O=a.resizeHandleWrapperClass,I=a.resizeHandleWrapperStyle,P=a.scale,C=a.allowAnyClick,A=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>t.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}(a,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),R=this.props.default?l({},this.props.default):void 0;delete A.default;var k=l(l(l({},u),s||d?{cursor:"auto"}:{cursor:"move"}),c),D=this.offsetFromParent,N=D.left,M=D.top;p&&(e={x:p.x-N,y:p.y-M});var L=this.state.resizing?void 0:e,j=this.state.resizing?"both":g;return(0,n.createElement)(/*@__PURE__*/Y(i),{ref:function(e){e&&(t.draggable=e)},handle:d?".".concat(d):void 0,defaultPosition:R,onMouseDown:h,onMouseUp:f,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:j,disabled:s,grid:m,bounds:v?this.state.bounds:void 0,position:L,enableUserSelectHack:y,cancel:b,scale:P,allowAnyClick:C,nodeRef:this.resizableElement},(0,n.createElement)(o.Resizable,l({},A,{ref:function(e){e&&(t.resizable=e,t.resizableElement.current=e.resizable)},defaultSize:R,size:this.props.size,enable:"boolean"==typeof E?{bottom:E,bottomLeft:E,bottomRight:E,left:E,right:E,top:E,topLeft:E,topRight:E}:E,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:k,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:T,handleWrapperClass:O,handleWrapperStyle:I,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:S,handleComponent:_,scale:this.props.scale}),w))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(n.PureComponent)}),et("4Tu4n",function(e,t){var n=ee("bPV1y"),i=n.default,o=n.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=o}),et("bPV1y",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),Object.defineProperty(e.exports,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.exports.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(void 0);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(ee("dm060")),i=p(ee("6mQQP")),o=p(ee("lfr5Y")),a=p(ee("jjmVH")),s=ee("cnQdS"),l=ee("aoaPo"),u=ee("lo1I2"),c=p(ee("2HC7O")),d=p(ee("gemo3"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends n.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:i}=t;return n&&(!i||n.x!==i.x||n.y!==i.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(e){super(e),g(this,"onDragStart",(e,t)=>{if((0,d.default)("Draggable: onDragStart: %j",t),!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",t);let n=(0,l.createDraggableData)(this,t),i={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){let{x:e,y:t}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;let[o,a]=(0,l.getBoundPosition)(this,i.x,i.y);i.x=o,i.y=a,i.slackX=this.state.slackX+(e-i.x),i.slackY=this.state.slackY+(t-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-this.state.x,n.deltaY=i.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(i)}),g(this,"onDragStop",(e,t)=>{if(!this.state.dragging||!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,d.default)("Draggable: onDragStop: %j",t);let n={dragging:!1,slackX:0,slackY:0};if(this.props.position){let{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&!(e.onDrag||e.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:o.default.findDOMNode(this)}render(){let{axis:e,bounds:t,children:i,defaultPosition:o,defaultClassName:u,defaultClassNameDragging:d,defaultClassNameDragged:p,position:h,positionOffset:g,scale:m,...v}=this.props,y={},b=null,w=!h||this.state.dragging,x=h||o,S={x:(0,l.canDragX)(this)&&w?this.state.x:x.x,y:(0,l.canDragY)(this)&&w?this.state.y:x.y};this.state.isElementSVG?b=(0,s.createSVGTransform)(S,g):y=(0,s.createCSSTransform)(S,g);let _=(0,a.default)(i.props.className||"",u,{[d]:this.state.dragging,[p]:this.state.dragged});return /*#__PURE__*/n.createElement(c.default,f({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),/*#__PURE__*/n.cloneElement(n.Children.only(i),{className:_,style:{...i.props.style,...y},transform:b}))}}e.exports.default=m,g(m,"displayName","Draggable"),g(m,"propTypes",{...c.default.propTypes,axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe}),g(m,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}),et("6mQQP",function(e,t){e.exports=ee("9YH3F")()}),et("9YH3F",function(e,t){var n=ee("fNkjA");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,i,o,a,s){if(s!==n){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return a.PropTypes=a,a}}),et("fNkjA",function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}),et("jjmVH",function(e,t){function n(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=function e(t){var n,i,o="";if("string"==typeof t||"number"==typeof t)o+=t;else if("object"==typeof t){if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(i=e(t[n]))&&(o&&(o+=" "),o+=i);else for(n in t)t[n]&&(o&&(o+=" "),o+=n)}return o}(e))&&(i&&(i+=" "),i+=t);return i}K(e.exports),q(e.exports,"clsx",()=>n),q(e.exports,"default",()=>i);var i=n}),et("cnQdS",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.addClassName=u,e.exports.addEvent=function(e,t,n,i){if(!e)return;let o={capture:!0,...i};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},e.exports.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&u(e.body,"react-draggable-transparent-selection")},e.exports.createCSSTransform=function(e,t){let n=l(e,t,"px");return{[(0,i.browserPrefixToKey)("transform",i.default)]:n}},e.exports.createSVGTransform=function(e,t){return l(e,t,"")},e.exports.getTouch=function(e,t){return e.targetTouches&&(0,n.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,n.findInArray)(e.changedTouches,e=>t===e.identifier)},e.exports.getTouchIdentifier=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0},e.exports.getTranslation=l,e.exports.innerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(i.paddingTop),t-=(0,n.int)(i.paddingBottom)},e.exports.innerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,n.int)(i.paddingLeft),t-=(0,n.int)(i.paddingRight)},e.exports.matchesSelector=s,e.exports.matchesSelectorAndParentsTo=function(e,t,n){let i=e;do{if(s(i,t))return!0;if(i===n)break;i=i.parentNode}while(i)return!1},e.exports.offsetXYFromParent=function(e,t,n){let i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-i.left)/n,y:(e.clientY+t.scrollTop-i.top)/n}},e.exports.outerHeight=function(e){let t=e.clientHeight,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(i.borderTopWidth),t+=(0,n.int)(i.borderBottomWidth)},e.exports.outerWidth=function(e){let t=e.clientWidth,i=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,n.int)(i.borderLeftWidth),t+=(0,n.int)(i.borderRightWidth)},e.exports.removeClassName=c,e.exports.removeEvent=function(e,t,n,i){if(!e)return;let o={capture:!0,...i};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},e.exports.removeUserSelectStyles=function(e){if(e)try{if(e.body&&c(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{let t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}};var n=ee("lo1I2"),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(void 0);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(i,s,l):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(ee("3DD8j"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}let a="";function s(e,t){return a||(a=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,n.isFunction)(e[t])})),!!(0,n.isFunction)(e[a])&&e[a](t)}function l(e,t,n){let{x:i,y:o}=e,a="translate(".concat(i).concat(n,",").concat(o).concat(n,")");if(t){let e="".concat("string"==typeof t.x?t.x:t.x+n),i="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(e,", ").concat(i,")")+a}return a}function u(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}}),et("lo1I2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.dontSetMe=function(e,t,n){if(e[t])return Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},e.exports.findInArray=function(e,t){for(let n=0,i=e.length;n<i;n++)if(t.apply(t,[e[n],n,e]))return e[n]},e.exports.int=function(e){return parseInt(e,10)},e.exports.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},e.exports.isNum=function(e){return"number"==typeof e&&!isNaN(e)}}),et("3DD8j",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.browserPrefixToKey=o,e.exports.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},e.exports.default=void 0,e.exports.getPrefix=i;let n=["Moz","Webkit","O","ms"];function i(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window)return"";let i=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!i||t in i)return"";for(let e=0;e<n.length;e++)if(o(t,n[e])in i)return n[e];return""}function o(e,t){return t?"".concat(t).concat(function(e){let t="",n=!0;for(let i=0;i<e.length;i++)n?(t+=e[i].toUpperCase(),n=!1):"-"===e[i]?n=!0:t+=e[i];return t}(e)):e}e.exports.default=i()}),et("aoaPo",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},e.exports.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},e.exports.createCoreData=function(e,t,i){let a=!(0,n.isNum)(e.lastX),s=o(e);return a?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:i,x:t,y:i}:{node:s,deltaX:t-e.lastX,deltaY:i-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:i}},e.exports.createDraggableData=function(e,t){let n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},e.exports.getBoundPosition=function(e,t,a){var s;if(!e.props.bounds)return[t,a];let{bounds:l}=e.props;l="string"==typeof l?l:{left:(s=l).left,top:s.top,right:s.right,bottom:s.bottom};let u=o(e);if("string"==typeof l){let e;let{ownerDocument:t}=u,o=t.defaultView;if(!((e="parent"===l?u.parentNode:t.querySelector(l))instanceof o.HTMLElement))throw Error('Bounds selector "'+l+'" could not find an element.');let a=o.getComputedStyle(u),s=o.getComputedStyle(e);l={left:-u.offsetLeft+(0,n.int)(s.paddingLeft)+(0,n.int)(a.marginLeft),top:-u.offsetTop+(0,n.int)(s.paddingTop)+(0,n.int)(a.marginTop),right:(0,i.innerWidth)(e)-(0,i.outerWidth)(u)-u.offsetLeft+(0,n.int)(s.paddingRight)-(0,n.int)(a.marginRight),bottom:(0,i.innerHeight)(e)-(0,i.outerHeight)(u)-u.offsetTop+(0,n.int)(s.paddingBottom)-(0,n.int)(a.marginBottom)}}return(0,n.isNum)(l.right)&&(t=Math.min(t,l.right)),(0,n.isNum)(l.bottom)&&(a=Math.min(a,l.bottom)),(0,n.isNum)(l.left)&&(t=Math.max(t,l.left)),(0,n.isNum)(l.top)&&(a=Math.max(a,l.top)),[t,a]},e.exports.getControlPosition=function(e,t,n){let a="number"==typeof t?(0,i.getTouch)(e,t):null;if("number"==typeof t&&!a)return null;let s=o(n),l=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,i.offsetXYFromParent)(a||e,l,n.props.scale)},e.exports.snapToGrid=function(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]};var n=ee("lo1I2"),i=ee("cnQdS");function o(e){let t=e.findDOMNode();if(!t)throw Error("<DraggableCore>: Unmounted during event!");return t}}),et("2HC7O",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(void 0);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(ee("dm060")),i=c(ee("6mQQP")),o=c(ee("lfr5Y")),a=ee("cnQdS"),s=ee("aoaPo"),l=ee("lo1I2"),u=c(ee("gemo3"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let h={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},f=h.mouse;class g extends n.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;let t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"===e.type&&e.preventDefault();let i=(0,a.getTouchIdentifier)(e);this.touchIdentifier=i;let o=(0,s.getControlPosition)(e,i,this);if(null==o)return;let{x:l,y:c}=o,d=(0,s.createCoreData)(this,l,c);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",this.props.onStart),!1!==this.props.onStart(e,d)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(n),this.dragging=!0,this.lastX=l,this.lastY=c,(0,a.addEvent)(n,f.move,this.handleDrag),(0,a.addEvent)(n,f.stop,this.handleDragStop))}),p(this,"handleDrag",e=>{let t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=i-this.lastY;if([e,t]=(0,s.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,i=this.lastY+t}let o=(0,s.createCoreData)(this,n,i);if((0,u.default)("DraggableCore: handleDrag: %j",o),!1===this.props.onDrag(e,o)||!1===this.mounted){try{this.handleDragStop(new MouseEvent("mouseup"))}catch(t){let e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}return}this.lastX=n,this.lastY=i}),p(this,"handleDragStop",e=>{if(!this.dragging)return;let t=(0,s.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=i-this.lastY||0;[e,t]=(0,s.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,i=this.lastY+t}let o=(0,s.createCoreData)(this,n,i);if(!1===this.props.onStop(e,o)||!1===this.mounted)return!1;let l=this.findDOMNode();l&&this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(l.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",o),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,l&&((0,u.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(l.ownerDocument,f.move,this.handleDrag),(0,a.removeEvent)(l.ownerDocument,f.stop,this.handleDragStop))}),p(this,"onMouseDown",e=>(f=h.mouse,this.handleDragStart(e))),p(this,"onMouseUp",e=>(f=h.mouse,this.handleDragStop(e))),p(this,"onTouchStart",e=>(f=h.touch,this.handleDragStart(e))),p(this,"onTouchEnd",e=>(f=h.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,a.addEvent)(e,h.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:t}=e;(0,a.removeEvent)(t,h.mouse.move,this.handleDrag),(0,a.removeEvent)(t,h.touch.move,this.handleDrag),(0,a.removeEvent)(t,h.mouse.stop,this.handleDragStop),(0,a.removeEvent)(t,h.touch.stop,this.handleDragStop),(0,a.removeEvent)(e,h.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:o.default.findDOMNode(this)}render(){return /*#__PURE__*/n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}e.exports.default=g,p(g,"displayName","DraggableCore"),p(g,"propTypes",{allowAnyClick:i.default.bool,children:i.default.node.isRequired,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),p(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})}),et("gemo3",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){}}),et("j3K6g",function(e,t){q(e.exports,"Resizable",()=>b);var n,i=ee("dm060"),o=ee("lfr5Y"),a=ee("lWJbl"),s=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(){return(l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u={width:"auto",height:"auto"},c=function(e,t,n){return Math.max(Math.min(e,n),t)},d=function(e,t,n){var i=Math.round(e/t);return i*t+n*(i-1)},p=function(e,t){return RegExp(e,"i").test(t)},h=function(e){return!!(e.touches&&e.touches.length)},f=function(e,t,n){void 0===n&&(n=0);var i=t.reduce(function(n,i,o){return Math.abs(i-e)<Math.abs(t[n]-e)?o:n},0),o=Math.abs(t[i]-e);return 0===n||o<n?t[i]:e},g=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},m=function(e,t,n,i){if(e&&"string"==typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return i*o}}return e},v=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],y="__resizable_base__",b=function(e){function t(t){var n,i,o,a,s=e.call(this,t)||this;return s.ratio=1,s.resizable=null,s.parentLeft=0,s.parentTop=0,s.resizableLeft=0,s.resizableRight=0,s.resizableTop=0,s.resizableBottom=0,s.targetLeft=0,s.targetTop=0,s.appendBase=function(){if(!s.resizable||!s.window)return null;var e=s.parentNode;if(!e)return null;var t=s.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(y):t.className+=y,e.appendChild(t),t},s.removeBase=function(e){var t=s.parentNode;t&&t.removeChild(e)},s.state={isResizing:!1,width:null!==(i=null===(n=s.propsSize)||void 0===n?void 0:n.width)&&void 0!==i?i:"auto",height:null!==(a=null===(o=s.propsSize)||void 0===o?void 0:o.height)&&void 0!==a?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},s.onResizeStart=s.onResizeStart.bind(s),s.onMouseMove=s.onMouseMove.bind(s),s.onMouseUp=s.onMouseUp.bind(s),s}return s(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||u},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,i=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:i,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(n=e.propsSize[t])||void 0===n?void 0:n.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var i=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/i[t]*100+"%"}return g(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?g(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var i={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),i},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"===this.state[t]&&this.state.original[t]===e&&(void 0===n||"auto"===n)?"auto":e},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,i,o=this.props.boundsByDirection,a=this.state.direction,s=o&&p("left",a),l=o&&p("top",a);if("parent"===this.props.bounds){var u=this.parentNode;u&&(n=s?this.resizableRight-this.parentLeft:u.offsetWidth+(this.parentLeft-this.resizableLeft),i=l?this.resizableBottom-this.parentTop:u.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,i=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),i&&Number.isFinite(i)&&(t=t&&t<i?t:i),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n,i=this.props.scale||1,o=Array.isArray(n=this.props.resizeRatio||1)?n:[n,n],a=o[0],s=o[1],l=this.state,u=l.direction,c=l.original,d=this.props,h=d.lockAspectRatio,f=d.lockAspectRatioExtraHeight,g=d.lockAspectRatioExtraWidth,m=c.width,v=c.height,y=f||0,b=g||0;return p("right",u)&&(m=c.width+(e-c.x)*a/i,h&&(v=(m-b)/this.ratio+y)),p("left",u)&&(m=c.width-(e-c.x)*a/i,h&&(v=(m-b)/this.ratio+y)),p("bottom",u)&&(v=c.height+(t-c.y)*s/i,h&&(m=(v-y)*this.ratio+b)),p("top",u)&&(v=c.height-(t-c.y)*s/i,h&&(m=(v-y)*this.ratio+b)),{newWidth:m,newHeight:v}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,i){var o=this.props,a=o.lockAspectRatio,s=o.lockAspectRatioExtraHeight,l=o.lockAspectRatioExtraWidth,u=void 0===i.width?10:i.width,d=void 0===n.width||n.width<0?e:n.width,p=void 0===i.height?10:i.height,h=void 0===n.height||n.height<0?t:n.height,f=s||0,g=l||0;if(a){var m=(p-f)*this.ratio+g,v=(h-f)*this.ratio+g,y=(u-g)/this.ratio+f,b=(d-g)/this.ratio+f,w=Math.max(p,y),x=Math.min(h,b);e=c(e,Math.max(u,m),Math.min(d,v)),t=c(t,w,x)}else e=c(e,u,d),t=c(t,p,h);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&"string"!=typeof this.props.bounds){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*e,this.targetTop=i.top*e}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,s=o.top,l=o.right,u=o.bottom;this.resizableLeft=a*e,this.resizableRight=l*e,this.resizableTop=s*e,this.resizableBottom=u*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,i,o=0,a=0;if(e.nativeEvent&&((n=e.nativeEvent).clientX||0===n.clientX)&&(n.clientY||0===n.clientY)?(o=e.nativeEvent.clientX,a=e.nativeEvent.clientY):e.nativeEvent&&h(e.nativeEvent)&&(o=e.nativeEvent.touches[0].clientX,a=e.nativeEvent.touches[0].clientY),!this.props.onResizeStart||!this.resizable||!1!==this.props.onResizeStart(e,t,this.resizable)){this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var s=this.window.getComputedStyle(this.resizable);if("auto"!==s.flexBasis){var u=this.parentNode;if(u){var c=this.window.getComputedStyle(u).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",i=s.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:o,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:l(l({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:i};this.setState(d)}}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&h(e))try{e.preventDefault(),e.stopPropagation()}catch(e){}var n,i,a,s,l,u,c=this.props,p=c.maxWidth,g=c.maxHeight,v=c.minWidth,y=c.minHeight,b=h(e)?e.touches[0].clientX:e.clientX,w=h(e)?e.touches[0].clientY:e.clientY,x=this.state,S=x.direction,_=x.original,E=x.width,T=x.height,O=this.getParentSize(),I=(n=this.window.innerWidth,i=this.window.innerHeight,a=p,s=g,l=v,u=y,a=m(a,O.width,n,i),s=m(s,O.height,n,i),l=m(l,O.width,n,i),u=m(u,O.height,n,i),{maxWidth:void 0===a?void 0:Number(a),maxHeight:void 0===s?void 0:Number(s),minWidth:void 0===l?void 0:Number(l),minHeight:void 0===u?void 0:Number(u)});p=I.maxWidth,g=I.maxHeight,v=I.minWidth,y=I.minHeight;var P=this.calculateNewSizeFromDirection(b,w),C=P.newHeight,A=P.newWidth,R=this.calculateNewMaxFromBoundary(p,g);this.props.snap&&this.props.snap.x&&(A=f(A,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(C=f(C,this.props.snap.y,this.props.snapGap));var k=this.calculateNewSizeFromAspectRatio(A,C,{width:R.maxWidth,height:R.maxHeight},{width:v,height:y});if(A=k.newWidth,C=k.newHeight,this.props.grid){var D=d(A,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),N=d(C,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0,L=0===M||Math.abs(D-A)<=M?D:A,j=0===M||Math.abs(N-C)<=M?N:C;A=L,C=j}var F={width:A-_.width,height:C-_.height};if(E&&"string"==typeof E){if(E.endsWith("%")){var B=A/O.width*100;A=B+"%"}else if(E.endsWith("vw")){var z=A/this.window.innerWidth*100;A=z+"vw"}else if(E.endsWith("vh")){var U=A/this.window.innerHeight*100;A=U+"vh"}}if(T&&"string"==typeof T){if(T.endsWith("%")){var B=C/O.height*100;C=B+"%"}else if(T.endsWith("vw")){var z=C/this.window.innerWidth*100;C=z+"vw"}else if(T.endsWith("vh")){var U=C/this.window.innerHeight*100;C=U+"vh"}}var W={width:this.createSizeForCssProperty(A,"width"),height:this.createSizeForCssProperty(C,"height")};"row"===this.flexDir?W.flexBasis=W.width:"column"===this.flexDir&&(W.flexBasis=W.height);var H=this.state.width!==W.width,V=this.state.height!==W.height,G=this.state.flexBasis!==W.flexBasis,$=H||V||G;$&&(0,o.flushSync)(function(){t.setState(W)}),this.props.onResize&&$&&this.props.onResize(e,S,this.resizable,F)}},t.prototype.onMouseUp=function(e){var t,n,i=this.state,o=i.isResizing,a=i.direction,s=i.original;if(o&&this.resizable){var u={width:this.size.width-s.width,height:this.size.height-s.height};this.props.onResizeStop&&this.props.onResizeStop(e,a,this.resizable,u),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:l(l({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},t.prototype.renderResizer=function(e){var t=this,n=this.props,o=n.enable,s=n.handleStyles,l=n.handleClasses,u=n.handleWrapperStyle,c=n.handleWrapperClass,d=n.handleComponent;if(!o)return null;var p=e.filter(function(e){return!1!==o[e]}).map(function(e){return!1!==o[e]?i.createElement(a.Resizer,{key:e,direction:e,onResizeStart:t.onResizeStart,replaceStyles:s&&s[e],className:l&&l[e]},d&&d[e]?d[e]:null):null});return i.createElement("div",{className:c,style:u},p)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce(function(t,n){return -1!==v.indexOf(n)||(t[n]=e.props[n]),t},{}),n=l(l(l({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return i.createElement(o,l({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)}}),this.state.isResizing&&i.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(i.PureComponent)}),et("lWJbl",function(e,t){q(e.exports,"Resizer",()=>d);var n,i=ee("dm060"),o=(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),a=function(){return(a=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},l={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},u={width:"20px",height:"20px",position:"absolute"},c={top:a(a({},s),{top:"-5px"}),right:a(a({},l),{left:void 0,right:"-5px"}),bottom:a(a({},s),{top:void 0,bottom:"-5px"}),left:a(a({},l),{left:"-5px"}),topRight:a(a({},u),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:a(a({},u),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:a(a({},u),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:a(a({},u),{left:"-10px",top:"-10px",cursor:"nw-resize"})},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return o(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.props.className||"",style:a(a({position:"absolute",userSelect:"none"},c[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(i.PureComponent)}),et("5MoWj",function(e,t){q(e.exports,"CompanionWindowSection",()=>n);var n=(0,ee("37zHU").default)("div",{name:"CompanionWindowSection",slot:"root"})(function(e){var t=e.theme;return{paddingBlockEnd:t.spacing(1),paddingBlockStart:t.spacing(2),paddingInlineEnd:t.spacing(1),paddingInlineStart:t.spacing(2)}})}),et("h0a6y",function(e,t){q(e.exports,"default",()=>f);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("glweN"),l=ee("cOFmZ"),u=ee("8pjuL"),c=ee("hJg9G"),d=ee("cEqnD"),p=ee("lPJ6l"),h=ee("k07O1"),f=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId;return{availableLocales:(0,u.getMetadataLocales)(e,{companionWindowId:n,windowId:i}),canvasIds:(0,c.getVisibleCanvasIds)(e,{windowId:i}),collectionPath:((0,d.getWindow)(e,{windowId:i})||{}).collectionPath,locale:(0,l.getCompanionWindow)(e,{companionWindowId:n}).locale||(0,u.getManifestLocale)(e,{windowId:i}),showLocalePicker:(0,p.getWindowConfig)(e,{windowId:i}).showLocalePicker}},function(e,t){var n=t.windowId,i=t.id;return{setLocale:function(t){return e(s.updateCompanionWindow(n,i,{locale:t}))}}}),(0,a.withPlugins)("WindowSideBarInfoPanel"))(h.WindowSideBarInfoPanel)}),et("k07O1",function(e,t){q(e.exports,"WindowSideBarInfoPanel",()=>m);var n=ee("dm060"),i=ee("d6cg7"),o=ee("5MoWj"),a=ee("2Yk8F"),s=ee("1H7N9"),l=ee("AvOy9"),u=ee("88eam"),c=ee("a32YO"),d=ee("YT00d"),p=ee("9L45J");function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var m=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=f(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,h()?Reflect.construct(e,t||[],f(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.windowId,n=e.id,h=e.canvasIds,f=e.collectionPath,g=e.t,m=e.locale,v=e.setLocale,y=e.availableLocales,b=e.showLocalePicker;return/*#__PURE__*/(0,p.jsxs)(i.default,{title:g("aboutThisItem"),paperClassName:(0,d.default)("window-sidebar-info-panel"),windowId:t,id:n,titleControls:b&&/*#__PURE__*/(0,p.jsx)(s.default,{locale:m,setLocale:v,availableLocales:y}),children:[h.map(function(e,i){return/*#__PURE__*/(0,p.jsx)(o.CompanionWindowSection,{children:/*#__PURE__*/(0,p.jsx)(a.default,{id:n,canvasId:e,index:i,totalSize:h.length,windowId:t})},e)}),f.length>0&&/*#__PURE__*/(0,p.jsx)(o.CompanionWindowSection,{children:/*#__PURE__*/(0,p.jsx)(u.default,{id:n,windowId:t})}),/*#__PURE__*/(0,p.jsx)(o.CompanionWindowSection,{children:/*#__PURE__*/(0,p.jsx)(l.default,{id:n,windowId:t})}),/*#__PURE__*/(0,p.jsx)(o.CompanionWindowSection,{children:/*#__PURE__*/(0,p.jsx)(c.default,{id:n,windowId:t})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);m.defaultProps={availableLocales:[],canvasIds:[],collectionPath:[],locale:"",setLocale:void 0,showLocalePicker:!1,t:function(e){return e}}}),et("2Yk8F",function(e,t){q(e.exports,"default",()=>c);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("hJg9G"),l=ee("8pjuL"),u=ee("1y9Vh"),c=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.canvasId,i=t.id,o=t.windowId;return{canvasDescription:(0,s.getCanvasDescription)(e,{canvasId:n,companionWindowId:i,windowId:o}),canvasLabel:(0,s.getCanvasLabel)(e,{canvasId:n,companionWindowId:i,windowId:o}),canvasMetadata:(0,l.getDestructuredMetadata)((0,s.getCanvas)(e,{canvasId:n,companionWindowId:i,windowId:o}))}}),(0,a.withPlugins)("CanvasInfo"))(u.CanvasInfo)}),et("1y9Vh",function(e,t){q(e.exports,"CanvasInfo",()=>g);var n=ee("dm060"),i=ee("d822V"),o=ee("bWbsn"),a=ee("kg66o"),s=ee("bN2oN"),l=ee("e32sw"),u=ee("9L45J");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=h(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(e,t||[],h(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.canvasDescription,n=e.canvasLabel,p=e.canvasMetadata,h=e.id,f=e.index,g=e.t,m=e.totalSize;return/*#__PURE__*/(0,u.jsxs)(o.default,{id:"".concat(h,"-currentItem-").concat(f),label:g("currentItem",{context:"".concat(f+1,"/").concat(m)}),children:[n&&/*#__PURE__*/(0,u.jsx)(i.default,{"aria-labelledby":"".concat(h,"-currentItem-").concat(f," ").concat(h,"-currentItem-").concat(f,"-heading"),id:"".concat(h,"-currentItem-").concat(f,"-heading"),variant:"h4",component:"h5",children:n}),t&&/*#__PURE__*/(0,u.jsx)(i.default,{variant:"body1",children:/*#__PURE__*/(0,u.jsx)(a.default,{htmlString:t,ruleSet:"iiif"})}),p&&p.length>0&&/*#__PURE__*/(0,u.jsx)(s.LabelValueMetadata,{labelValuePairs:p}),/*#__PURE__*/(0,u.jsx)(l.PluginHook,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=d(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);g.defaultProps={canvasDescription:null,canvasLabel:null,canvasMetadata:[],index:1,t:function(e){return e},totalSize:1}}),et("bWbsn",function(e,t){q(e.exports,"default",()=>a);var n=ee("1l9KS");ee("2IInF");var i=ee("9xAYM"),o=ee("kODqz"),a=(0,n.compose)((0,i.withTranslation)())(o.CollapsibleSection)}),et("kODqz",function(e,t){q(e.exports,"CollapsibleSection",()=>h);var n=ee("dm060"),i=ee("d822V"),o=ee("jBQRK"),a=ee("gLUGR"),s=ee("e9lFn"),l=ee("fVdvd"),u=ee("9L45J");function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(c=function(){return!!e})()}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var h=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=d(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,c()?Reflect.construct(i,o||[],d(this).constructor):i.apply(this,o))).state={open:!0},t.handleChange=t.handleChange.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(n,e),t=[{key:"handleChange",value:function(e,t){this.setState({open:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,c=e.label,d=e.t,p=this.state.open;return/*#__PURE__*/(0,u.jsxs)(o.default,{id:n,elevation:0,expanded:p,onChange:this.handleChange,disableGutters:!0,square:!0,variant:"compact",children:[/*#__PURE__*/(0,u.jsx)(s.default,{id:"".concat(n,"-header"),"aria-controls":"".concat(n,"-content"),"aria-label":d(p?"collapseSection":"expandSection",{section:c}),expandIcon:/*#__PURE__*/(0,u.jsx)(/*@__PURE__*/Y(l),{}),children:/*#__PURE__*/(0,u.jsx)(i.default,{variant:"overline",component:"h4",children:c})}),/*#__PURE__*/(0,u.jsx)(a.default,{children:t})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component)}),et("jBQRK",function(e,t){q(e.exports,"default",()=>w);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060");ee("g1VXJ");var a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("fvPlZ"),d=ee("c9wxR"),p=ee("aZUNm"),h=ee("esRas"),f=ee("6qsCs"),g=ee("g6zad"),m=ee("9L45J");let v=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],y=e=>{let{classes:t,square:n,expanded:i,disabled:o,disableGutters:a}=e;return(0,s.default)({root:["root",!n&&"rounded",i&&"expanded",o&&"disabled",!a&&"gutters"],region:["region"]},g.getAccordionUtilityClass,t)},b=(0,l.default)(d.default,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${g.default.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{let t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${g.default.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${g.default.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${g.default.expanded}`]:{margin:"16px 0"}}}]}));var w=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiAccordion"}),{children:l,className:d,defaultExpanded:g=!1,disabled:w=!1,disableGutters:x=!1,expanded:S,onChange:_,square:E=!1,slots:T={},slotProps:O={},TransitionComponent:I,TransitionProps:P}=s,C=(0,i.default)(s,v),[A,R]=(0,h.default)({controlled:S,default:g,name:"Accordion",state:"expanded"}),k=o.useCallback(e=>{R(!A),_&&_(e,!A)},[A,_,R]),[D,...N]=o.Children.toArray(l),M=o.useMemo(()=>({expanded:A,disabled:w,disableGutters:x,toggle:k}),[A,w,x,k]),L=(0,n.default)({},s,{square:E,disabled:w,disableGutters:x,expanded:A}),j=y(L),F=(0,n.default)({transition:I},T),B=(0,n.default)({transition:P},O),[z,U]=(0,f.default)("transition",{elementType:c.default,externalForwardedProps:{slots:F,slotProps:B},ownerState:L});return/*#__PURE__*/(0,m.jsxs)(b,(0,n.default)({className:(0,a.default)(j.root,d),ref:t,ownerState:L,square:E},C,{children:[/*#__PURE__*/(0,m.jsx)(p.default.Provider,{value:M,children:D}),/*#__PURE__*/(0,m.jsx)(z,(0,n.default)({in:A,timeout:"auto"},U,{children:/*#__PURE__*/(0,m.jsx)("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region",className:j.region,children:N})}))]}))})}),et("fvPlZ",function(e,t){q(e.exports,"default",()=>E);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("cLeWd"),l=ee("3GUsc"),u=ee("kbtjl"),c=ee("37zHU"),d=ee("91wvo"),p=ee("d1GX6"),h=ee("ftBEV"),f=ee("3rPNm"),g=ee("gvQts"),m=ee("dEejg"),v=ee("9L45J");let y=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],b=e=>{let{orientation:t,classes:n}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,u.default)(i,m.getCollapseUtilityClass,n)},w=(0,c.default)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(({theme:e,ownerState:t})=>(0,i.default)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,i.default)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"})),x=(0,c.default)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>(0,i.default)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),S=(0,c.default)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>(0,i.default)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"})),_=/*#__PURE__*/o.forwardRef(function(e,t){let u=(0,d.useDefaultProps)({props:e,name:"MuiCollapse"}),{addEndListener:c,children:m,className:_,collapsedSize:E="0px",component:T,easing:O,in:I,onEnter:P,onEntered:C,onEntering:A,onExit:R,onExited:k,onExiting:D,orientation:N="vertical",style:M,timeout:L=p.duration.standard,TransitionComponent:j=s.default}=u,F=(0,n.default)(u,y),B=(0,i.default)({},u,{orientation:N,collapsedSize:E}),z=b(B),U=(0,f.default)(),W=(0,l.default)(),H=o.useRef(null),V=o.useRef(),G="number"==typeof E?`${E}px`:E,$="horizontal"===N,q=$?"width":"height",X=o.useRef(null),Y=(0,g.default)(t,X),K=e=>t=>{if(e){let n=X.current;void 0===t?e(n):e(n,t)}},Z=()=>H.current?H.current[$?"clientWidth":"clientHeight"]:0,J=K((e,t)=>{H.current&&$&&(H.current.style.position="absolute"),e.style[q]=G,P&&P(e,t)}),Q=K((e,t)=>{let n=Z();H.current&&$&&(H.current.style.position="");let{duration:i,easing:o}=(0,h.getTransitionProps)({style:M,timeout:L,easing:O},{mode:"enter"});if("auto"===L){let t=U.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,V.current=t}else e.style.transitionDuration="string"==typeof i?i:`${i}ms`;e.style[q]=`${n}px`,e.style.transitionTimingFunction=o,A&&A(e,t)}),ee=K((e,t)=>{e.style[q]="auto",C&&C(e,t)}),et=K(e=>{e.style[q]=`${Z()}px`,R&&R(e)}),er=K(k),en=K(e=>{let t=Z(),{duration:n,easing:i}=(0,h.getTransitionProps)({style:M,timeout:L,easing:O},{mode:"exit"});if("auto"===L){let n=U.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,V.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[q]=G,e.style.transitionTimingFunction=i,D&&D(e)});return/*#__PURE__*/(0,v.jsx)(j,(0,i.default)({in:I,onEnter:J,onEntered:ee,onEntering:Q,onExit:et,onExited:er,onExiting:en,addEndListener:e=>{"auto"===L&&W.start(V.current||0,e),c&&c(X.current,e)},nodeRef:X,timeout:"auto"===L?null:L},F,{children:(e,t)=>/*#__PURE__*/(0,v.jsx)(w,(0,i.default)({as:T,className:(0,a.default)(z.root,_,{entered:z.entered,exited:!I&&"0px"===G&&z.hidden}[e]),style:(0,i.default)({[$?"minWidth":"minHeight"]:G},M),ref:Y},t,{ownerState:(0,i.default)({},B,{state:e}),children:/*#__PURE__*/(0,v.jsx)(x,{ownerState:(0,i.default)({},B,{state:e}),className:z.wrapper,ref:H,children:/*#__PURE__*/(0,v.jsx)(S,{ownerState:(0,i.default)({},B,{state:e}),className:z.wrapperInner,children:m})})}))}))});_.muiSupportAuto=!0;var E=_}),et("dEejg",function(e,t){q(e.exports,"getCollapseUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiCollapse",e)}(0,n.default)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"])}),et("aZUNm",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/ee("dm060").createContext({})}),et("6qsCs",function(e,t){q(e.exports,"default",()=>p);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("duXim"),a=ee("eKX1G"),s=ee("90jb8"),l=ee("i0rbD");let u=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],c=["component","slots","slotProps"],d=["component"];function p(e,t){let{className:p,elementType:h,ownerState:f,externalForwardedProps:g,getSlotOwnerState:m,internalForwardedProps:v}=t,y=(0,i.default)(t,u),{component:b,slots:w={[e]:void 0},slotProps:x={[e]:void 0}}=g,S=(0,i.default)(g,c),_=w[e]||h,E=(0,s.default)(x[e],f),T=(0,l.default)((0,n.default)({className:p},y,{externalForwardedProps:"root"===e?S:void 0,externalSlotProps:E})),{props:{component:O},internalRef:I}=T,P=(0,i.default)(T.props,d),C=(0,o.default)(I,null==E?void 0:E.ref,t.ref),A=m?m(P):{},R=(0,n.default)({},f,A),k="root"===e?O||b:O,D=(0,a.default)(_,(0,n.default)({},"root"===e&&!b&&!w[e]&&v,"root"!==e&&!w[e]&&v,P,k&&{as:k},{ref:C}),R);return Object.keys(A).forEach(e=>{delete D[e]}),[_,D]}}),et("g6zad",function(e,t){q(e.exports,"getAccordionUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiAccordion",e)}var a=(0,n.default)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"])}),et("gLUGR",function(e,t){q(e.exports,"default",()=>g);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("TvmZQ"),d=ee("9L45J");let p=["className"],h=e=>{let{classes:t}=e;return(0,s.default)({root:["root"]},c.getAccordionDetailsUtilityClass,t)},f=(0,l.default)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)}));var g=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,u.useDefaultProps)({props:e,name:"MuiAccordionDetails"}),{className:s}=o,l=(0,i.default)(o,p),c=h(o);return/*#__PURE__*/(0,d.jsx)(f,(0,n.default)({className:(0,a.default)(c.root,s),ref:t,ownerState:o},l))})}),et("TvmZQ",function(e,t){q(e.exports,"getAccordionDetailsUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiAccordionDetails",e)}(0,n.default)("MuiAccordionDetails",["root"])}),et("e9lFn",function(e,t){q(e.exports,"default",()=>b);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("h8wer"),d=ee("aZUNm"),p=ee("eiw7a"),h=ee("9L45J");let f=["children","className","expandIcon","focusVisibleClassName","onClick"],g=e=>{let{classes:t,expanded:n,disabled:i,disableGutters:o}=e;return(0,s.default)({root:["root",n&&"expanded",i&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},p.getAccordionSummaryUtilityClass,t)},m=(0,l.default)(c.default,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{let t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${p.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${p.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${p.default.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${p.default.expanded}`]:{minHeight:64}}}]}}),v=(0,l.default)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${p.default.expanded}`]:{margin:"20px 0"}}}]})),y=(0,l.default)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${p.default.expanded}`]:{transform:"rotate(180deg)"}}));var b=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiAccordionSummary"}),{children:l,className:c,expandIcon:p,focusVisibleClassName:b,onClick:w}=s,x=(0,i.default)(s,f),{disabled:S=!1,disableGutters:_,expanded:E,toggle:T}=o.useContext(d.default),O=(0,n.default)({},s,{expanded:E,disabled:S,disableGutters:_}),I=g(O);return/*#__PURE__*/(0,h.jsxs)(m,(0,n.default)({focusRipple:!1,disableRipple:!0,disabled:S,component:"div","aria-expanded":E,className:(0,a.default)(I.root,c),focusVisibleClassName:(0,a.default)(I.focusVisible,b),onClick:e=>{T&&T(e),w&&w(e)},ref:t,ownerState:O},x,{children:[/*#__PURE__*/(0,h.jsx)(v,{className:I.content,ownerState:O,children:l}),p&&/*#__PURE__*/(0,h.jsx)(y,{className:I.expandIconWrapper,ownerState:O,children:p})]}))})}),et("eiw7a",function(e,t){q(e.exports,"getAccordionSummaryUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiAccordionSummary",e)}var a=(0,n.default)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"])}),et("fVdvd",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")}),et("bN2oN",function(e,t){q(e.exports,"LabelValueMetadata",()=>d);var n=ee("dm060"),i=ee("d822V"),o=ee("kg66o"),a=ee("YT00d"),s=ee("9L45J");function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var d=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=u(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,l()?Reflect.construct(e,t||[],u(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.defaultLabel,n=e.labelValuePairs;return 0===n.length?null:/*#__PURE__*/(0,s.jsx)("dl",{className:(0,a.default)("label-value-metadata"),children:n.reduce(function(e,n,a){return e.concat([/*#__PURE__*/(0,s.jsx)(i.default,{component:"dt",variant:"subtitle2",children:n.label||t},"label-".concat(a)),/*#__PURE__*/(0,s.jsx)(i.default,{style:{marginBottom:".5em",marginLeft:"0px"},component:"dd",variant:"body1",children:/*#__PURE__*/(0,s.jsx)(o.default,{htmlString:n.values.join(", "),ruleSet:"iiif"})},"value-".concat(a))])},[])})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);d.defaultProps={defaultLabel:void 0}}),et("e32sw",function(e,t){q(e.exports,"PluginHook",()=>s);var n=ee("dm060"),i=["classes"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=/*#__PURE__*/(0,n.forwardRef)(function(e,t){var o=e.PluginComponents;e.classes;var s=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return o?o.map(function(e,i){return/*#__PURE__*/(0,n.isValidElement)(e)?/*#__PURE__*/(0,n.cloneElement)(e,a(a({},s),{},{ref:t})):/*#__PURE__*/(0,n.createElement)(e,a(a({ref:t},s),{},{key:i}))}):null})}),et("1H7N9",function(e,t){q(e.exports,"default",()=>a);var n=ee("1l9KS");ee("2IInF");var i=ee("9xAYM"),o=ee("e2QVu"),a=(0,n.compose)((0,i.withTranslation)())(o.LocalePicker)}),et("e2QVu",function(e,t){q(e.exports,"LocalePicker",()=>p);var n=ee("dm060"),i=ee("kypKg"),o=ee("j5pD4"),a=ee("clLHD"),s=ee("d822V"),l=ee("9L45J");function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=c(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,u()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.availableLocales,n=e.locale,u=e.setLocale;return!u||t.length<2?null:/*#__PURE__*/(0,l.jsx)(o.default,{children:/*#__PURE__*/(0,l.jsx)(a.default,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"}},displayEmpty:!0,value:n,onChange:function(e){u(e.target.value)},name:"locale",children:t.map(function(e){return/*#__PURE__*/(0,l.jsx)(i.default,{value:e,children:/*#__PURE__*/(0,l.jsx)(s.default,{variant:"body2",children:e})},e)})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);p.defaultProps={availableLocales:[],locale:"",setLocale:void 0}}),et("j5pD4",function(e,t){q(e.exports,"default",()=>b);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("91wvo"),u=ee("37zHU"),c=ee("20Ykp"),d=ee("iOGUL"),p=ee("xq5kG"),h=ee("4p24j"),f=ee("4pa67"),g=ee("9L45J");let m=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],v=e=>{let{classes:t,margin:n,fullWidth:i}=e,o={root:["root","none"!==n&&`margin${(0,d.default)(n)}`,i&&"fullWidth"]};return(0,s.default)(o,f.getFormControlUtilityClasses,t)},y=(0,u.default)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.default)({},t.root,t[`margin${(0,d.default)(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>(0,i.default)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}));var b=/*#__PURE__*/o.forwardRef(function(e,t){let s;let u=(0,l.useDefaultProps)({props:e,name:"MuiFormControl"}),{children:d,className:f,color:b="primary",component:w="div",disabled:x=!1,error:S=!1,focused:_,fullWidth:E=!1,hiddenLabel:T=!1,margin:O="none",required:I=!1,size:P="medium",variant:C="outlined"}=u,A=(0,n.default)(u,m),R=(0,i.default)({},u,{color:b,component:w,disabled:x,error:S,fullWidth:E,hiddenLabel:T,margin:O,required:I,size:P,variant:C}),k=v(R),[D,N]=o.useState(()=>{let e=!1;return d&&o.Children.forEach(d,t=>{if(!(0,p.default)(t,["Input","Select"]))return;let n=(0,p.default)(t,["Select"])?t.props.input:t;n&&(0,c.isAdornedStart)(n.props)&&(e=!0)}),e}),[M,L]=o.useState(()=>{let e=!1;return d&&o.Children.forEach(d,t=>{(0,p.default)(t,["Input","Select"])&&((0,c.isFilled)(t.props,!0)||(0,c.isFilled)(t.props.inputProps,!0))&&(e=!0)}),e}),[j,F]=o.useState(!1);x&&j&&F(!1);let B=void 0===_||x?j:_,z=o.useMemo(()=>({adornedStart:D,setAdornedStart:N,color:b,disabled:x,error:S,filled:M,focused:B,fullWidth:E,hiddenLabel:T,size:P,onBlur:()=>{F(!1)},onEmpty:()=>{L(!1)},onFilled:()=>{L(!0)},onFocus:()=>{F(!0)},registerEffect:s,required:I,variant:C}),[D,b,x,S,M,B,E,T,s,I,P,C]);return/*#__PURE__*/(0,g.jsx)(h.default.Provider,{value:z,children:/*#__PURE__*/(0,g.jsx)(y,(0,i.default)({as:w,ownerState:R,className:(0,a.default)(k.root,f),ref:t},A,{children:d}))})})}),et("20Ykp",function(e,t){function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e,t=!1){return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}q(e.exports,"isFilled",()=>i),q(e.exports,"isAdornedStart",()=>o)}),et("xq5kG",function(e,t){q(e.exports,"default",()=>n);var n=ee("4B2dq").default}),et("4B2dq",function(e,t){q(e.exports,"default",()=>i);var n=ee("dm060");function i(e,t){var i,o;return /*#__PURE__*/n.isValidElement(e)&&-1!==t.indexOf(null!=(i=e.type.muiName)?i:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}}),et("4p24j",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/ee("dm060").createContext(void 0)}),et("4pa67",function(e,t){q(e.exports,"getFormControlUtilityClasses",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiFormControl",e)}(0,n.default)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"])}),et("clLHD",function(e,t){q(e.exports,"default",()=>C);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("xtY8e"),l=ee("f98wD"),u=ee("dQ8bX"),c=ee("2uYcW"),d=ee("7hLra"),p=ee("kAtI6"),h=ee("1wMSf"),f=ee("huhjC"),g=ee("2h05r"),m=ee("91wvo"),v=ee("gvQts"),y=ee("37zHU"),b=ee("4RsQO"),w=ee("9L45J");let x=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],S=["root"],_=e=>{let{classes:t}=e;return t},E={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,b.default)(e)&&"variant"!==e,slot:"Root"},T=(0,y.default)(p.default,E)(""),O=(0,y.default)(g.default,E)(""),I=(0,y.default)(f.default,E)(""),P=/*#__PURE__*/o.forwardRef(function(e,t){let p=(0,m.useDefaultProps)({name:"MuiSelect",props:e}),{autoWidth:f=!1,children:g,classes:y={},className:b,defaultOpen:E=!1,displayEmpty:P=!1,IconComponent:C=d.default,id:A,input:R,inputProps:k,label:D,labelId:N,MenuProps:M,multiple:L=!1,native:j=!1,onClose:F,onOpen:B,open:z,renderValue:U,SelectDisplayProps:W,variant:H="outlined"}=p,V=(0,i.default)(p,x),G=j?h.default:l.default,$=(0,c.default)(),q=(0,u.default)({props:p,muiFormControl:$,states:["variant","error"]}),X=q.variant||H,Y=(0,n.default)({},p,{variant:X,classes:y}),K=_(Y),Z=(0,i.default)(K,S),J=R||({standard:/*#__PURE__*/(0,w.jsx)(T,{ownerState:Y}),outlined:/*#__PURE__*/(0,w.jsx)(O,{label:D,ownerState:Y}),filled:/*#__PURE__*/(0,w.jsx)(I,{ownerState:Y})})[X],Q=(0,v.default)(t,J.ref);return/*#__PURE__*/(0,w.jsx)(o.Fragment,{children:/*#__PURE__*/o.cloneElement(J,(0,n.default)({inputComponent:G,inputProps:(0,n.default)({children:g,error:q.error,IconComponent:C,variant:X,type:void 0,multiple:L},j?{id:A}:{autoWidth:f,defaultOpen:E,displayEmpty:P,labelId:N,MenuProps:M,onClose:F,onOpen:B,open:z,renderValue:U,SelectDisplayProps:(0,n.default)({id:A},W)},k,{classes:k?(0,s.default)(Z,k.classes):Z},R?R.props.inputProps:{})},(L&&j||P)&&"outlined"===X?{notched:!0}:{},{ref:Q,className:(0,a.default)(J.props.className,b,K.root)},!R&&{variant:X},V))})});P.muiName="Select";var C=P}),et("f98wD",function(e,t){q(e.exports,"default",()=>P);var n,i=ee("5XyNA"),o=ee("u6U9p"),a=ee("bfgsZ"),s=ee("dm060");ee("g1VXJ");var l=ee("auY7r"),u=ee("kbtjl"),c=ee("bagf4"),d=ee("iJSGV"),p=ee("iOGUL"),h=ee("5Uocu"),f=ee("1wMSf"),g=ee("20Ykp"),m=ee("37zHU"),v=ee("cpNQ9"),y=ee("gvQts"),b=ee("esRas"),w=ee("gwR3C"),x=ee("9L45J");let S=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],_=(0,m.default)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`&.${w.default.select}`]:t.select},{[`&.${w.default.select}`]:t[n.variant]},{[`&.${w.default.error}`]:t.error},{[`&.${w.default.multiple}`]:t.multiple}]}})(f.nativeSelectSelectStyles,{[`&.${w.default.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),E=(0,m.default)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,p.default)(n.variant)}`],n.open&&t.iconOpen]}})(f.nativeSelectIconStyles),T=(0,m.default)("input",{shouldForwardProp:e=>(0,v.default)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function O(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}let I=e=>{let{classes:t,variant:n,disabled:i,multiple:o,open:a,error:s}=e,l={select:["select",n,i&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${(0,p.default)(n)}`,a&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return(0,u.default)(l,w.getSelectUtilityClasses,t)};var P=/*#__PURE__*/s.forwardRef(function(e,t){var u,p;let f,m,v;let{"aria-describedby":w,"aria-label":P,autoFocus:C,autoWidth:A,children:R,className:k,defaultOpen:D,defaultValue:N,disabled:M,displayEmpty:L,error:j=!1,IconComponent:F,inputRef:B,labelId:z,MenuProps:U={},multiple:W,name:H,onBlur:V,onChange:G,onClose:$,onFocus:q,onOpen:X,open:Y,readOnly:K,renderValue:Z,SelectDisplayProps:J={},tabIndex:Q,value:ee,variant:et="standard"}=e,er=(0,o.default)(e,S),[en,ei]=(0,b.default)({controlled:ee,default:N,name:"Select"}),[eo,ea]=(0,b.default)({controlled:Y,default:D,name:"Select"}),es=s.useRef(null),el=s.useRef(null),[eu,ec]=s.useState(null),{current:ed}=s.useRef(null!=Y),[ep,eh]=s.useState(),ef=(0,y.default)(t,B),eg=s.useCallback(e=>{el.current=e,e&&ec(e)},[]),em=null==eu?void 0:eu.parentNode;s.useImperativeHandle(ef,()=>({focus:()=>{el.current.focus()},node:es.current,value:en}),[en]),s.useEffect(()=>{D&&eo&&eu&&!ed&&(eh(A?null:em.clientWidth),el.current.focus())},[eu,A]),s.useEffect(()=>{C&&el.current.focus()},[C]),s.useEffect(()=>{if(!z)return;let e=(0,d.default)(el.current).getElementById(z);if(e){let t=()=>{getSelection().isCollapsed&&el.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[z]);let ev=(e,t)=>{e?X&&X(t):$&&$(t),ed||(eh(A?null:em.clientWidth),ea(e))},ey=s.Children.toArray(R),eb=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(W){n=Array.isArray(en)?en.slice():[];let t=en.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),en!==n&&(ei(n),G)){let i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:H}}),G(o,e)}W||ev(!1,t)}},ew=null!==eu&&eo;delete er["aria-invalid"];let ex=[],eS=!1;((0,g.isFilled)({value:en})||L)&&(Z?f=Z(en):eS=!0);let e_=ey.map(e=>{let t;if(!/*#__PURE__*/s.isValidElement(e))return null;if(W){if(!Array.isArray(en))throw Error((0,a.default)(2));(t=en.some(t=>O(t,e.props.value)))&&eS&&ex.push(e.props.children)}else(t=O(en,e.props.value))&&eS&&(m=e.props.children);return /*#__PURE__*/s.cloneElement(e,{"aria-selected":t?"true":"false",onClick:eb(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});eS&&(f=W?0===ex.length?null:ex.reduce((e,t,n)=>(e.push(t),n<ex.length-1&&e.push(", "),e),[]):m);let eE=ep;!A&&ed&&eu&&(eE=em.clientWidth),v=void 0!==Q?Q:M?null:0;let eT=J.id||(H?`mui-component-select-${H}`:void 0),eO=(0,i.default)({},e,{variant:et,value:en,open:ew,error:j}),eI=I(eO),eP=(0,i.default)({},U.PaperProps,null==(u=U.slotProps)?void 0:u.paper),eC=(0,c.default)();return/*#__PURE__*/(0,x.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,x.jsx)(_,(0,i.default)({ref:eg,tabIndex:v,role:"combobox","aria-controls":eC,"aria-disabled":M?"true":void 0,"aria-expanded":ew?"true":"false","aria-haspopup":"listbox","aria-label":P,"aria-labelledby":[z,eT].filter(Boolean).join(" ")||void 0,"aria-describedby":w,onKeyDown:e=>{K||-1===[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)||(e.preventDefault(),ev(!0,e))},onMouseDown:M||K?null:e=>{0===e.button&&(e.preventDefault(),el.current.focus(),ev(!0,e))},onBlur:e=>{!ew&&V&&(Object.defineProperty(e,"target",{writable:!0,value:{value:en,name:H}}),V(e))},onFocus:q},J,{ownerState:eO,className:(0,l.default)(J.className,eI.select,k),id:eT,children:null!=(p=f)&&("string"!=typeof p||p.trim())?f:n||(n=/*#__PURE__*/(0,x.jsx)("span",{className:"notranslate",children:""}))})),/*#__PURE__*/(0,x.jsx)(T,(0,i.default)({"aria-invalid":j,value:Array.isArray(en)?en.join(","):en,name:H,ref:es,"aria-hidden":!0,onChange:e=>{let t=ey.find(t=>t.props.value===e.target.value);void 0!==t&&(ei(t.props.value),G&&G(e,t))},tabIndex:-1,disabled:M,className:eI.nativeInput,autoFocus:C,ownerState:eO},er)),/*#__PURE__*/(0,x.jsx)(E,{as:F,className:eI.icon,ownerState:eO}),/*#__PURE__*/(0,x.jsx)(h.default,(0,i.default)({id:`menu-${H||""}`,anchorEl:em,open:ew,onClose:e=>{ev(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},U,{MenuListProps:(0,i.default)({"aria-labelledby":z,role:"listbox","aria-multiselectable":W?"true":void 0,disableListWrap:!0,id:eC},U.MenuListProps),slotProps:(0,i.default)({},U.slotProps,{paper:(0,i.default)({},eP,{style:(0,i.default)({minWidth:eE},null!=eP?eP.style:null)})}),children:e_}))]})})}),et("5Uocu",function(e,t){q(e.exports,"default",()=>T);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060");ee("g1VXJ");var a=ee("auY7r"),s=ee("kbtjl"),l=ee("aBKyn"),u=ee("kRqjG"),c=ee("gHgwx"),d=ee("cVBZr"),p=ee("37zHU"),h=ee("4RsQO"),f=ee("91wvo"),g=ee("1Pn5J"),m=ee("9L45J");let v=["onEntering"],y=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],b={vertical:"top",horizontal:"right"},w={vertical:"top",horizontal:"left"},x=e=>{let{classes:t}=e;return(0,s.default)({root:["root"],paper:["paper"],list:["list"]},g.getMenuUtilityClass,t)},S=(0,p.default)(d.default,{shouldForwardProp:e=>(0,h.default)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_=(0,p.default)(d.PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),E=(0,p.default)(c.default,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0});var T=/*#__PURE__*/o.forwardRef(function(e,t){var s,c;let d=(0,f.useDefaultProps)({props:e,name:"MuiMenu"}),{autoFocus:p=!0,children:h,className:g,disableAutoFocusItem:T=!1,MenuListProps:O={},onClose:I,open:P,PaperProps:C={},PopoverClasses:A,transitionDuration:R="auto",TransitionProps:{onEntering:k}={},variant:D="selectedMenu",slots:N={},slotProps:M={}}=d,L=(0,i.default)(d.TransitionProps,v),j=(0,i.default)(d,y),F=(0,l.useRtl)(),B=(0,n.default)({},d,{autoFocus:p,disableAutoFocusItem:T,MenuListProps:O,onEntering:k,PaperProps:C,transitionDuration:R,TransitionProps:L,variant:D}),z=x(B),U=p&&!T&&P,W=o.useRef(null),H=-1;o.Children.map(h,(e,t)=>{/*#__PURE__*/o.isValidElement(e)&&!e.props.disabled&&("selectedMenu"===D&&e.props.selected?H=t:-1===H&&(H=t))});let V=null!=(s=N.paper)?s:_,G=null!=(c=M.paper)?c:C,$=(0,u.default)({elementType:N.root,externalSlotProps:M.root,ownerState:B,className:[z.root,g]}),q=(0,u.default)({elementType:V,externalSlotProps:G,ownerState:B,className:z.paper});return/*#__PURE__*/(0,m.jsx)(S,(0,n.default)({onClose:I,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?b:w,slots:{paper:V,root:N.root},slotProps:{root:$,paper:q},open:P,ref:t,transitionDuration:R,TransitionProps:(0,n.default)({onEntering:(e,t)=>{W.current&&W.current.adjustStyleForScrollbar(e,{direction:F?"rtl":"ltr"}),k&&k(e,t)}},L),ownerState:B},j,{classes:A,children:/*#__PURE__*/(0,m.jsx)(E,(0,n.default)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),I&&I(e,"tabKeyDown"))},actions:W,autoFocus:p&&(-1===H||T),autoFocusItem:U,variant:D},O,{className:(0,a.default)(z.list,O.className),children:h}))}))})}),et("cVBZr",function(e,t){q(e.exports,"PopoverPaper",()=>A),q(e.exports,"default",()=>R);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("kRqjG"),u=ee("3oDsv"),c=ee("37zHU"),d=ee("91wvo"),p=ee("kqgsq"),h=ee("iJSGV"),f=ee("7hvg4"),g=ee("gvQts"),m=ee("8qRXU"),v=ee("jDb5L"),y=ee("c9wxR"),b=ee("4BTDb"),w=ee("9L45J");let x=["onEntering"],S=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_=["slotProps"];function E(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function T(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function O(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function I(e){return"function"==typeof e?e():e}let P=e=>{let{classes:t}=e;return(0,s.default)({root:["root"],paper:["paper"]},b.getPopoverUtilityClass,t)},C=(0,c.default)(v.default,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),A=(0,c.default)(y.default,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0});var R=/*#__PURE__*/o.forwardRef(function(e,t){var s,c,v;let y=(0,d.useDefaultProps)({props:e,name:"MuiPopover"}),{action:b,anchorEl:R,anchorOrigin:k={vertical:"top",horizontal:"left"},anchorPosition:D,anchorReference:N="anchorEl",children:M,className:L,container:j,elevation:F=8,marginThreshold:B=16,open:z,PaperProps:U={},slots:W,slotProps:H,transformOrigin:V={vertical:"top",horizontal:"left"},TransitionComponent:G=m.default,transitionDuration:$="auto",TransitionProps:{onEntering:q}={},disableScrollLock:X=!1}=y,Y=(0,i.default)(y.TransitionProps,x),K=(0,i.default)(y,S),Z=null!=(s=null==H?void 0:H.paper)?s:U,J=o.useRef(),Q=(0,g.default)(J,Z.ref),ee=(0,n.default)({},y,{anchorOrigin:k,anchorReference:N,elevation:F,marginThreshold:B,externalPaperSlotProps:Z,transformOrigin:V,TransitionComponent:G,transitionDuration:$,TransitionProps:Y}),et=P(ee),er=o.useCallback(()=>{if("anchorPosition"===N)return D;let e=I(R),t=(e&&1===e.nodeType?e:(0,h.default)(J.current).body).getBoundingClientRect();return{top:t.top+E(t,k.vertical),left:t.left+T(t,k.horizontal)}},[R,k.horizontal,k.vertical,D,N]),en=o.useCallback(e=>({vertical:E(e,V.vertical),horizontal:T(e,V.horizontal)}),[V.horizontal,V.vertical]),ei=o.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},n=en(t);if("none"===N)return{top:null,left:null,transformOrigin:O(n)};let i=er(),o=i.top-n.vertical,a=i.left-n.horizontal,s=o+t.height,l=a+t.width,u=(0,f.default)(I(R)),c=u.innerHeight-B,d=u.innerWidth-B;if(null!==B&&o<B){let e=o-B;o-=e,n.vertical+=e}else if(null!==B&&s>c){let e=s-c;o-=e,n.vertical+=e}if(null!==B&&a<B){let e=a-B;a-=e,n.horizontal+=e}else if(l>d){let e=l-d;a-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(a)}px`,transformOrigin:O(n)}},[R,N,er,en,B]),[eo,ea]=o.useState(z),es=o.useCallback(()=>{let e=J.current;if(!e)return;let t=ei(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,ea(!0)},[ei]);o.useEffect(()=>(X&&window.addEventListener("scroll",es),()=>window.removeEventListener("scroll",es)),[R,X,es]),o.useEffect(()=>{z&&es()}),o.useImperativeHandle(b,()=>z?{updatePosition:()=>{es()}}:null,[z,es]),o.useEffect(()=>{if(!z)return;let e=(0,p.default)(()=>{es()}),t=(0,f.default)(R);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[R,z,es]);let el=$;"auto"!==$||G.muiSupportAuto||(el=void 0);let eu=j||(R?(0,h.default)(I(R)).body:void 0),ec=null!=(c=null==W?void 0:W.root)?c:C,ed=null!=(v=null==W?void 0:W.paper)?v:A,ep=(0,l.default)({elementType:ed,externalSlotProps:(0,n.default)({},Z,{style:eo?Z.style:(0,n.default)({},Z.style,{opacity:0})}),additionalProps:{elevation:F,ref:Q},ownerState:ee,className:(0,a.default)(et.paper,null==Z?void 0:Z.className)}),eh=(0,l.default)({elementType:ec,externalSlotProps:(null==H?void 0:H.root)||{},externalForwardedProps:K,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:eu,open:z},ownerState:ee,className:(0,a.default)(et.root,L)}),{slotProps:ef}=eh,eg=(0,i.default)(eh,_);return/*#__PURE__*/(0,w.jsx)(ec,(0,n.default)({},eg,!(0,u.default)(ec)&&{slotProps:ef,disableScrollLock:X},{children:/*#__PURE__*/(0,w.jsx)(G,(0,n.default)({appear:!0,in:z,onEntering:(e,t)=>{q&&q(e,t),es()},onExited:()=>{ea(!1)},timeout:el},Y,{children:/*#__PURE__*/(0,w.jsx)(ed,(0,n.default)({},ep,{children:M}))}))}))})}),et("kqgsq",function(e,t){q(e.exports,"default",()=>n);var n=ee("lTM7s").default}),et("lTM7s",function(e,t){q(e.exports,"default",()=>n);function n(e,t=166){let i;function o(...n){clearTimeout(i),i=setTimeout(()=>{e.apply(this,n)},t)}return o.clear=()=>{clearTimeout(i)},o}}),et("7hvg4",function(e,t){q(e.exports,"default",()=>n);var n=ee("1yj6A").default}),et("1yj6A",function(e,t){q(e.exports,"default",()=>i);var n=ee("lauWI");function i(e){return(0,n.default)(e).defaultView||window}}),et("jDb5L",function(e,t){q(e.exports,"default",()=>x);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("kRqjG"),u=ee("4HBA3"),c=ee("2rNaj"),d=ee("37zHU"),p=ee("91wvo"),h=ee("3xARQ"),f=ee("g0003"),g=ee("aldZQ"),m=ee("9L45J");let v=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],y=e=>{let{open:t,exited:n,classes:i}=e;return(0,s.default)({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},g.getModalUtilityClass,i)},b=(0,d.default)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(({theme:e,ownerState:t})=>(0,i.default)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),w=(0,d.default)(h.default,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1});var x=/*#__PURE__*/o.forwardRef(function(e,t){var s,d,h,g,x,S;let _=(0,p.useDefaultProps)({name:"MuiModal",props:e}),{BackdropComponent:E=w,BackdropProps:T,className:O,closeAfterTransition:I=!1,children:P,container:C,component:A,components:R={},componentsProps:k={},disableAutoFocus:D=!1,disableEnforceFocus:N=!1,disableEscapeKeyDown:M=!1,disablePortal:L=!1,disableRestoreFocus:j=!1,disableScrollLock:F=!1,hideBackdrop:B=!1,keepMounted:z=!1,onBackdropClick:U,open:W,slotProps:H,slots:V}=_,G=(0,n.default)(_,v),$=(0,i.default)({},_,{closeAfterTransition:I,disableAutoFocus:D,disableEnforceFocus:N,disableEscapeKeyDown:M,disablePortal:L,disableRestoreFocus:j,disableScrollLock:F,hideBackdrop:B,keepMounted:z}),{getRootProps:q,getBackdropProps:X,getTransitionProps:Y,portalRef:K,isTopModal:Z,exited:J,hasTransition:Q}=(0,f.default)((0,i.default)({},$,{rootRef:t})),ee=(0,i.default)({},$,{exited:J}),et=y(ee),er={};if(void 0===P.props.tabIndex&&(er.tabIndex="-1"),Q){let{onEnter:e,onExited:t}=Y();er.onEnter=e,er.onExited=t}let en=null!=(s=null!=(d=null==V?void 0:V.root)?d:R.Root)?s:b,ei=null!=(h=null!=(g=null==V?void 0:V.backdrop)?g:R.Backdrop)?h:E,eo=null!=(x=null==H?void 0:H.root)?x:k.root,ea=null!=(S=null==H?void 0:H.backdrop)?S:k.backdrop,es=(0,l.default)({elementType:en,externalSlotProps:eo,externalForwardedProps:G,getSlotProps:q,additionalProps:{ref:t,as:A},ownerState:ee,className:(0,a.default)(O,null==eo?void 0:eo.className,null==et?void 0:et.root,!ee.open&&ee.exited&&(null==et?void 0:et.hidden))}),el=(0,l.default)({elementType:ei,externalSlotProps:ea,additionalProps:T,getSlotProps:e=>X((0,i.default)({},e,{onClick:t=>{U&&U(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,a.default)(null==ea?void 0:ea.className,null==T?void 0:T.className,null==et?void 0:et.backdrop),ownerState:ee});return z||W||Q&&!J?/*#__PURE__*/(0,m.jsx)(c.default,{ref:K,container:C,disablePortal:L,children:/*#__PURE__*/(0,m.jsxs)(en,(0,i.default)({},es,{children:[!B&&E?/*#__PURE__*/(0,m.jsx)(ei,(0,i.default)({},el)):null,/*#__PURE__*/(0,m.jsx)(u.default,{disableEnforceFocus:N,disableAutoFocus:D,disableRestoreFocus:j,isEnabled:Z,open:W,children:/*#__PURE__*/o.cloneElement(P,er)})]}))}):null})}),et("4HBA3",function(e,t){q(e.exports,"default",()=>u);var n=ee("dm060"),i=ee("lauWI"),o=ee("duXim"),a=ee("9L45J");function s(e){let t=[],n=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,i)=>{let o=function(e){let t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1===o||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e)||(0===o?t.push(e):n.push({documentOrder:i,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function l(){return!0}var u=function(e){let{children:t,disableAutoFocus:u=!1,disableEnforceFocus:c=!1,disableRestoreFocus:d=!1,getTabbable:p=s,isEnabled:h=l,open:f}=e,g=n.useRef(!1),m=n.useRef(null),v=n.useRef(null),y=n.useRef(null),b=n.useRef(null),w=n.useRef(!1),x=n.useRef(null),S=(0,o.default)(t.ref,x),_=n.useRef(null);n.useEffect(()=>{f&&x.current&&(w.current=!u)},[u,f]),n.useEffect(()=>{if(!f||!x.current)return;let e=(0,i.default)(x.current);return!x.current.contains(e.activeElement)&&(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),w.current&&x.current.focus()),()=>{d||(y.current&&y.current.focus&&(g.current=!0,y.current.focus()),y.current=null)}},[f]),n.useEffect(()=>{if(!f||!x.current)return;let e=(0,i.default)(x.current),t=t=>{_.current=t,!c&&h()&&"Tab"===t.key&&e.activeElement===x.current&&t.shiftKey&&(g.current=!0,v.current&&v.current.focus())},n=()=>{let t=x.current;if(null===t)return;if(!e.hasFocus()||!h()||g.current){g.current=!1;return}if(t.contains(e.activeElement)||c&&e.activeElement!==m.current&&e.activeElement!==v.current)return;if(e.activeElement!==b.current)b.current=null;else if(null!==b.current)return;if(!w.current)return;let n=[];if((e.activeElement===m.current||e.activeElement===v.current)&&(n=p(x.current)),n.length>0){var i,o;let e=!!((null==(i=_.current)?void 0:i.shiftKey)&&(null==(o=_.current)?void 0:o.key)==="Tab"),t=n[0],a=n[n.length-1];"string"!=typeof t&&"string"!=typeof a&&(e?a.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);let o=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(o),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[u,c,d,h,f,p]);let E=e=>{null===y.current&&(y.current=e.relatedTarget),w.current=!0};return/*#__PURE__*/(0,a.jsxs)(n.Fragment,{children:[/*#__PURE__*/(0,a.jsx)("div",{tabIndex:f?0:-1,onFocus:E,ref:m,"data-testid":"sentinelStart"}),/*#__PURE__*/n.cloneElement(t,{ref:S,onFocus:e=>{null===y.current&&(y.current=e.relatedTarget),w.current=!0,b.current=e.target;let n=t.props.onFocus;n&&n(e)}}),/*#__PURE__*/(0,a.jsx)("div",{tabIndex:f?0:-1,onFocus:E,ref:v,"data-testid":"sentinelEnd"})]})}}),et("3xARQ",function(e,t){q(e.exports,"default",()=>m);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("gVyL4"),d=ee("k2OKD"),p=ee("9L45J");let h=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],f=e=>{let{classes:t,invisible:n}=e;return(0,s.default)({root:["root",n&&"invisible"]},d.getBackdropUtilityClass,t)},g=(0,l.default)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})(({ownerState:e})=>(0,i.default)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}));var m=/*#__PURE__*/o.forwardRef(function(e,t){var o,s,l;let d=(0,u.useDefaultProps)({props:e,name:"MuiBackdrop"}),{children:m,className:v,component:y="div",components:b={},componentsProps:w={},invisible:x=!1,open:S,slotProps:_={},slots:E={},TransitionComponent:T=c.default,transitionDuration:O}=d,I=(0,n.default)(d,h),P=(0,i.default)({},d,{component:y,invisible:x}),C=f(P),A=null!=(o=_.root)?o:w.root;return/*#__PURE__*/(0,p.jsx)(T,(0,i.default)({in:S,timeout:O},I,{children:/*#__PURE__*/(0,p.jsx)(g,(0,i.default)({"aria-hidden":!0},A,{as:null!=(s=null!=(l=E.root)?l:b.Root)?s:y,className:(0,a.default)(C.root,v,null==A?void 0:A.className),ownerState:(0,i.default)({},P,null==A?void 0:A.ownerState),classes:C,ref:t,children:m}))}))})}),et("gVyL4",function(e,t){q(e.exports,"default",()=>h);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("cLeWd"),s=ee("3rPNm"),l=ee("ftBEV"),u=ee("gvQts"),c=ee("9L45J");let d=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],p={entering:{opacity:1},entered:{opacity:1}};var h=/*#__PURE__*/o.forwardRef(function(e,t){let h=(0,s.default)(),f={enter:h.transitions.duration.enteringScreen,exit:h.transitions.duration.leavingScreen},{addEndListener:g,appear:m=!0,children:v,easing:y,in:b,onEnter:w,onEntered:x,onEntering:S,onExit:_,onExited:E,onExiting:T,style:O,timeout:I=f,TransitionComponent:P=a.default}=e,C=(0,i.default)(e,d),A=o.useRef(null),R=(0,u.default)(A,v.ref,t),k=e=>t=>{if(e){let n=A.current;void 0===t?e(n):e(n,t)}},D=k(S),N=k((e,t)=>{(0,l.reflow)(e);let n=(0,l.getTransitionProps)({style:O,timeout:I,easing:y},{mode:"enter"});e.style.webkitTransition=h.transitions.create("opacity",n),e.style.transition=h.transitions.create("opacity",n),w&&w(e,t)}),M=k(x),L=k(T),j=k(e=>{let t=(0,l.getTransitionProps)({style:O,timeout:I,easing:y},{mode:"exit"});e.style.webkitTransition=h.transitions.create("opacity",t),e.style.transition=h.transitions.create("opacity",t),_&&_(e)}),F=k(E);return/*#__PURE__*/(0,c.jsx)(P,(0,n.default)({appear:m,in:b,nodeRef:A,onEnter:N,onEntered:M,onEntering:D,onExit:j,onExited:F,onExiting:L,addEndListener:e=>{g&&g(A.current,e)},timeout:I},C,{children:(e,t)=>/*#__PURE__*/o.cloneElement(v,(0,n.default)({style:(0,n.default)({opacity:0,visibility:"exited"!==e||b?void 0:"hidden"},p[e],O,v.props.style),ref:R},t))}))})}),et("k2OKD",function(e,t){q(e.exports,"getBackdropUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiBackdrop",e)}(0,n.default)("MuiBackdrop",["root","invisible"])}),et("g0003",function(e,t){q(e.exports,"default",()=>p);var n=ee("5XyNA"),i=ee("dm060"),o=ee("8tCgM"),a=ee("lauWI"),s=ee("bOBP7"),l=ee("duXim"),u=ee("9fH15"),c=ee("1Vhd8");let d=new c.ModalManager;var p=function(e){let{container:t,disableEscapeKeyDown:p=!1,disableScrollLock:h=!1,manager:f=d,closeAfterTransition:g=!1,onTransitionEnter:m,onTransitionExited:v,children:y,onClose:b,open:w,rootRef:x}=e,S=i.useRef({}),_=i.useRef(null),E=i.useRef(null),T=(0,l.default)(E,x),[O,I]=i.useState(!w),P=!!y&&y.props.hasOwnProperty("in"),C=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(C=!1);let A=()=>(0,a.default)(_.current),R=()=>(S.current.modalRef=E.current,S.current.mount=_.current,S.current),k=()=>{f.mount(R(),{disableScrollLock:h}),E.current&&(E.current.scrollTop=0)},D=(0,s.default)(()=>{let e=("function"==typeof t?t():t)||A().body;f.add(R(),e),E.current&&k()}),N=i.useCallback(()=>f.isTopModal(R()),[f]),M=(0,s.default)(e=>{_.current=e,e&&(w&&N()?k():E.current&&(0,c.ariaHidden)(E.current,C))}),L=i.useCallback(()=>{f.remove(R(),C)},[C,f]);i.useEffect(()=>()=>{L()},[L]),i.useEffect(()=>{w?D():P&&g||L()},[w,L,P,g,D]);let j=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&N()&&!p&&(t.stopPropagation(),b&&b(t,"escapeKeyDown"))},F=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&b&&b(t,"backdropClick")};return{getRootProps:(t={})=>{let i=(0,u.default)(e);delete i.onTransitionEnter,delete i.onTransitionExited;let o=(0,n.default)({},i,t);return(0,n.default)({role:"presentation"},o,{onKeyDown:j(o),ref:T})},getBackdropProps:(e={})=>(0,n.default)({"aria-hidden":!0},e,{onClick:F(e),open:w}),getTransitionProps:()=>({onEnter:(0,o.default)(()=>{I(!1),m&&m()},null==y?void 0:y.props.onEnter),onExited:(0,o.default)(()=>{I(!0),v&&v(),g&&L()},null==y?void 0:y.props.onExited)}),rootRef:T,portalRef:M,isTopModal:N,exited:O,hasTransition:P}}}),et("8tCgM",function(e,t){q(e.exports,"default",()=>n);function n(...e){return e.reduce((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)},()=>{})}}),et("1Vhd8",function(e,t){q(e.exports,"ariaHidden",()=>a),q(e.exports,"ModalManager",()=>c);var n=ee("ctGg6"),i=ee("lauWI"),o=ee("1yj6A");function a(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function s(e){return parseInt((0,o.default)(e).getComputedStyle(e).paddingRight,10)||0}function l(e,t,n,i,o){let s=[t,n,...i];[].forEach.call(e.children,e=>{let t=-1===s.indexOf(e),n=!function(e){let t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&a(e,o)})}function u(e,t){let n=-1;return e.some((e,i)=>!!t(e)&&(n=i,!0)),n}class c{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&a(e.modalRef,!1);let i=function(e){let t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);l(t,e.mount,e.modalRef,i,!0);let o=u(this.containers,e=>e.container===t);return -1!==o?this.containers[o].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n}mount(e,t){let a=u(this.containers,t=>-1!==t.modals.indexOf(e)),l=this.containers[a];l.restore||(l.restore=function(e,t){let a=[],l=e.container;if(!t.disableScrollLock){let e;if(function(e){let t=(0,i.default)(e);return t.body===e?(0,o.default)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(l)){let e=(0,n.default)((0,i.default)(l));a.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${s(l)+e}px`;let t=(0,i.default)(l).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{a.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${s(t)+e}px`})}if(l.parentNode instanceof DocumentFragment)e=(0,i.default)(l).body;else{let t=l.parentElement,n=(0,o.default)(l);e=(null==t?void 0:t.nodeName)==="HTML"&&"scroll"===n.getComputedStyle(t).overflowY?t:l}a.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{a.forEach(({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)})}}(l,t))}remove(e,t=!0){let n=this.modals.indexOf(e);if(-1===n)return n;let i=u(this.containers,t=>-1!==t.modals.indexOf(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&a(e.modalRef,t),l(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{let e=o.modals[o.modals.length-1];e.modalRef&&a(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}}),et("aldZQ",function(e,t){q(e.exports,"getModalUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiModal",e)}(0,n.default)("MuiModal",["root","hidden","backdrop"])}),et("4BTDb",function(e,t){q(e.exports,"getPopoverUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiPopover",e)}(0,n.default)("MuiPopover",["root","paper"])}),et("1Pn5J",function(e,t){q(e.exports,"getMenuUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiMenu",e)}(0,n.default)("MuiMenu",["root","paper","list"])}),et("1wMSf",function(e,t){q(e.exports,"nativeSelectSelectStyles",()=>g),q(e.exports,"nativeSelectIconStyles",()=>v),q(e.exports,"default",()=>b);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("iOGUL"),u=ee("8EjDp"),c=ee("37zHU"),d=ee("4RsQO"),p=ee("9L45J");let h=["className","disabled","error","IconComponent","inputRef","variant"],f=e=>{let{classes:t,variant:n,disabled:i,multiple:o,open:a,error:c}=e,d={select:["select",n,i&&"disabled",o&&"multiple",c&&"error"],icon:["icon",`icon${(0,l.default)(n)}`,a&&"iconOpen",i&&"disabled"]};return(0,s.default)(d,u.getNativeSelectUtilityClasses,t)},g=({ownerState:e,theme:t})=>(0,i.default)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,i.default)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${u.default.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),m=(0,c.default)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:d.default,overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${u.default.multiple}`]:t.multiple}]}})(g),v=({ownerState:e,theme:t})=>(0,i.default)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${u.default.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),y=(0,c.default)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,l.default)(n.variant)}`],n.open&&t.iconOpen]}})(v);var b=/*#__PURE__*/o.forwardRef(function(e,t){let{className:s,disabled:l,error:u,IconComponent:c,inputRef:d,variant:g="standard"}=e,v=(0,n.default)(e,h),b=(0,i.default)({},e,{disabled:l,variant:g,error:u}),w=f(b);return/*#__PURE__*/(0,p.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,p.jsx)(m,(0,i.default)({ownerState:b,className:(0,a.default)(w.select,s),disabled:l,ref:d||t},v)),e.multiple?null:/*#__PURE__*/(0,p.jsx)(y,{as:c,ownerState:b,className:w.icon})]})})}),et("8EjDp",function(e,t){q(e.exports,"getNativeSelectUtilityClasses",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiNativeSelect",e)}var a=(0,n.default)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"])}),et("gwR3C",function(e,t){q(e.exports,"getSelectUtilityClasses",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiSelect",e)}var a=(0,n.default)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"])}),et("dQ8bX",function(e,t){q(e.exports,"default",()=>n);function n({props:e,states:t,muiFormControl:n}){return t.reduce((t,i)=>(t[i]=e[i],n&&void 0===e[i]&&(t[i]=n[i]),t),{})}}),et("2uYcW",function(e,t){q(e.exports,"default",()=>o);var n=ee("dm060"),i=ee("4p24j");function o(){return n.useContext(i.default)}}),et("7hLra",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("77XGA"),i=ee("9L45J"),o=(0,n.default)(/*#__PURE__*/(0,i.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")}),et("kAtI6",function(e,t){q(e.exports,"default",()=>b);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("kbtjl"),s=ee("xtY8e"),l=ee("lNNgv"),u=ee("37zHU"),c=ee("4RsQO"),d=ee("91wvo"),p=ee("gstec"),l=ee("lNNgv"),h=ee("9L45J");let f=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],g=e=>{let{classes:t,disableUnderline:n}=e,o=(0,a.default)({root:["root",!n&&"underline"],input:["input"]},p.getInputUtilityClass,t);return(0,i.default)({},t,o)},m=(0,u.default)(l.InputBaseRoot,{shouldForwardProp:e=>(0,c.default)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[...(0,l.rootOverridesResolver)(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,i.default)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${p.default.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${p.default.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${p.default.disabled}, .${p.default.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${p.default.disabled}:before`]:{borderBottomStyle:"dotted"}})}),v=(0,u.default)(l.InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:l.inputOverridesResolver})({}),y=/*#__PURE__*/o.forwardRef(function(e,t){var o,a,u,c;let p=(0,d.useDefaultProps)({props:e,name:"MuiInput"}),{disableUnderline:y,components:b={},componentsProps:w,fullWidth:x=!1,inputComponent:S="input",multiline:_=!1,slotProps:E,slots:T={},type:O="text"}=p,I=(0,n.default)(p,f),P=g(p),C={root:{ownerState:{disableUnderline:y}}},A=(null!=E?E:w)?(0,s.default)(null!=E?E:w,C):C,R=null!=(o=null!=(a=T.root)?a:b.Root)?o:m,k=null!=(u=null!=(c=T.input)?c:b.Input)?u:v;return/*#__PURE__*/(0,h.jsx)(l.default,(0,i.default)({slots:{root:R,input:k},slotProps:A,fullWidth:x,inputComponent:S,multiline:_,ref:t,type:O},I,{classes:P}))});y.muiName="Input";var b=y}),et("lNNgv",function(e,t){q(e.exports,"rootOverridesResolver",()=>E),q(e.exports,"inputOverridesResolver",()=>T),q(e.exports,"InputBaseRoot",()=>I),q(e.exports,"InputBaseComponent",()=>P),q(e.exports,"default",()=>A);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("bfgsZ"),a=ee("dm060"),s=ee("auY7r"),l=ee("kbtjl"),u=ee("3oDsv"),c=ee("dvt7u"),d=ee("dQ8bX"),p=ee("4p24j"),h=ee("2uYcW"),f=ee("37zHU"),g=ee("91wvo"),m=ee("iOGUL"),v=ee("gvQts"),y=ee("c2dsU"),b=ee("6Y53D"),w=ee("20Ykp"),x=ee("hZV4m"),S=ee("9L45J");let _=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],E=(e,t)=>{let{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,m.default)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},T=(e,t)=>{let{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},O=e=>{let{classes:t,color:n,disabled:i,error:o,endAdornment:a,focused:s,formControl:u,fullWidth:c,hiddenLabel:d,multiline:p,readOnly:h,size:f,startAdornment:g,type:v}=e,y={root:["root",`color${(0,m.default)(n)}`,i&&"disabled",o&&"error",c&&"fullWidth",s&&"focused",u&&"formControl",f&&"medium"!==f&&`size${(0,m.default)(f)}`,p&&"multiline",g&&"adornedStart",a&&"adornedEnd",d&&"hiddenLabel",h&&"readOnly"],input:["input",i&&"disabled","search"===v&&"inputTypeSearch",p&&"inputMultiline","small"===f&&"inputSizeSmall",d&&"inputHiddenLabel",g&&"inputAdornedStart",a&&"inputAdornedEnd",h&&"readOnly"]};return(0,l.default)(y,x.getInputBaseUtilityClass,t)},I=(0,f.default)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:E})(({theme:e,ownerState:t})=>(0,i.default)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${x.default.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,i.default)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),P=(0,f.default)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:T})(({theme:e,ownerState:t})=>{let n="light"===e.palette.mode,o=(0,i.default)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),a={opacity:"0 !important"},s=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return(0,i.default)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${x.default.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${x.default.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})}),C=/*#__PURE__*/(0,S.jsx)(b.default,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}});var A=/*#__PURE__*/a.forwardRef(function(e,t){var l;let f=(0,g.useDefaultProps)({props:e,name:"MuiInputBase"}),{"aria-describedby":m,autoComplete:b,autoFocus:x,className:E,components:T={},componentsProps:A={},defaultValue:R,disabled:k,disableInjectingGlobalStyles:D,endAdornment:N,fullWidth:M=!1,id:L,inputComponent:j="input",inputProps:F={},inputRef:B,maxRows:z,minRows:U,multiline:W=!1,name:H,onBlur:V,onChange:G,onClick:$,onFocus:q,onKeyDown:X,onKeyUp:Y,placeholder:K,readOnly:Z,renderSuffix:J,rows:Q,slotProps:ee={},slots:et={},startAdornment:er,type:en="text",value:ei}=f,eo=(0,n.default)(f,_),ea=null!=F.value?F.value:ei,{current:es}=a.useRef(null!=ea),el=a.useRef(),eu=a.useCallback(e=>{},[]),ec=(0,v.default)(el,B,F.ref,eu),[ed,ep]=a.useState(!1),eh=(0,h.default)(),ef=(0,d.default)({props:f,muiFormControl:eh,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ef.focused=eh?eh.focused:ed,a.useEffect(()=>{!eh&&k&&ed&&(ep(!1),V&&V())},[eh,k,ed,V]);let eg=eh&&eh.onFilled,em=eh&&eh.onEmpty,ev=a.useCallback(e=>{(0,w.isFilled)(e)?eg&&eg():em&&em()},[eg,em]);(0,y.default)(()=>{es&&ev({value:ea})},[ea,ev,es]),a.useEffect(()=>{ev(el.current)},[]);let ey=j,eb=F;W&&"input"===ey&&(eb=Q?(0,i.default)({type:void 0,minRows:Q,maxRows:Q},eb):(0,i.default)({type:void 0,maxRows:z,minRows:U},eb),ey=c.default),a.useEffect(()=>{eh&&eh.setAdornedStart(!!er)},[eh,er]);let ew=(0,i.default)({},f,{color:ef.color||"primary",disabled:ef.disabled,endAdornment:N,error:ef.error,focused:ef.focused,formControl:eh,fullWidth:M,hiddenLabel:ef.hiddenLabel,multiline:W,size:ef.size,startAdornment:er,type:en}),ex=O(ew),eS=et.root||T.Root||I,e_=ee.root||A.root||{},eE=et.input||T.Input||P;return eb=(0,i.default)({},eb,null!=(l=ee.input)?l:A.input),/*#__PURE__*/(0,S.jsxs)(a.Fragment,{children:[!D&&C,/*#__PURE__*/(0,S.jsxs)(eS,(0,i.default)({},e_,!(0,u.default)(eS)&&{ownerState:(0,i.default)({},ew,e_.ownerState)},{ref:t,onClick:e=>{el.current&&e.currentTarget===e.target&&el.current.focus(),$&&$(e)}},eo,{className:(0,s.default)(ex.root,e_.className,E,Z&&"MuiInputBase-readOnly"),children:[er,/*#__PURE__*/(0,S.jsx)(p.default.Provider,{value:null,children:/*#__PURE__*/(0,S.jsx)(eE,(0,i.default)({ownerState:ew,"aria-invalid":ef.error,"aria-describedby":m,autoComplete:b,autoFocus:x,defaultValue:R,disabled:ef.disabled,id:L,onAnimationStart:e=>{ev("mui-auto-fill-cancel"===e.animationName?el.current:{value:"x"})},name:H,placeholder:K,readOnly:Z,required:ef.required,rows:Q,value:ea,onKeyDown:X,onKeyUp:Y,type:en},eb,!(0,u.default)(eE)&&{as:ey,ownerState:(0,i.default)({},ew,eb.ownerState)},{ref:ec,className:(0,s.default)(ex.input,eb.className,Z&&"MuiInputBase-readOnly"),onBlur:e=>{V&&V(e),F.onBlur&&F.onBlur(e),eh&&eh.onBlur?eh.onBlur(e):ep(!1)},onChange:(e,...t)=>{if(!es){let t=e.target||el.current;if(null==t)throw Error((0,o.default)(1));ev({value:t.value})}F.onChange&&F.onChange(e,...t),G&&G(e,...t)},onFocus:e=>{if(ef.disabled){e.stopPropagation();return}q&&q(e),F.onFocus&&F.onFocus(e),eh&&eh.onFocus?eh.onFocus(e):ep(!0)}}))}),N,J?J((0,i.default)({},ef,{startAdornment:er})):null]}))]})})}),et("dvt7u",function(e,t){q(e.exports,"default",()=>f);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("lTM7s"),s=ee("1yj6A"),l=ee("evlvx"),u=ee("duXim"),c=ee("9L45J");let d=["onChange","maxRows","minRows","style","value"];function p(e){return parseInt(e,10)||0}let h={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var f=/*#__PURE__*/o.forwardRef(function(e,t){let{onChange:f,maxRows:g,minRows:m=1,style:v,value:y}=e,b=(0,i.default)(e,d),{current:w}=o.useRef(null!=y),x=o.useRef(null),S=(0,u.default)(t,x),_=o.useRef(null),E=o.useRef(null),T=o.useCallback(()=>{let t=x.current,n=(0,s.default)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};let i=E.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");let o=n.boxSizing,a=p(n.paddingBottom)+p(n.paddingTop),l=p(n.borderBottomWidth)+p(n.borderTopWidth),u=i.scrollHeight;i.value="x";let c=i.scrollHeight,d=u;return m&&(d=Math.max(Number(m)*c,d)),g&&(d=Math.min(Number(g)*c,d)),{outerHeightStyle:(d=Math.max(d,c))+("border-box"===o?a+l:0),overflowing:1>=Math.abs(d-u)}},[g,m,e.placeholder]),O=o.useCallback(()=>{let e=T();if(null==e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflowing)return;let t=e.outerHeightStyle,n=x.current;_.current!==t&&(_.current=t,n.style.height=`${t}px`),n.style.overflow=e.overflowing?"hidden":""},[T]);return(0,l.default)(()=>{let e,t;let n=()=>{O()},i=(0,a.default)(n),o=x.current,l=(0,s.default)(o);return l.addEventListener("resize",i),"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(n)).observe(o),()=>{i.clear(),cancelAnimationFrame(e),l.removeEventListener("resize",i),t&&t.disconnect()}},[T,O]),(0,l.default)(()=>{O()}),/*#__PURE__*/(0,c.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,c.jsx)("textarea",(0,n.default)({value:y,onChange:e=>{w||O(),f&&f(e)},ref:S,rows:m,style:v},b)),/*#__PURE__*/(0,c.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:E,tabIndex:-1,style:(0,n.default)({},h,v,{paddingTop:0,paddingBottom:0})})]})})}),et("6Y53D",function(e,t){q(e.exports,"default",()=>l);var n=ee("5XyNA");ee("dm060");var i=ee("kPbag"),o=ee("bR10X"),a=ee("5MpsY"),s=ee("9L45J"),l=function(e){return/*#__PURE__*/(0,s.jsx)(i.default,(0,n.default)({},e,{defaultTheme:o.default,themeId:a.default}))}}),et("kPbag",function(e,t){q(e.exports,"default",()=>a),ee("dm060");var n=ee("cmbiA"),i=ee("dzheh"),o=ee("9L45J"),a=function({styles:e,themeId:t,defaultTheme:a={}}){let s=(0,i.default)(a),l="function"==typeof e?e(t&&s[t]||s):e;return/*#__PURE__*/(0,o.jsx)(n.default,{styles:l})}}),et("hZV4m",function(e,t){q(e.exports,"getInputBaseUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiInputBase",e)}var a=(0,n.default)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"])}),et("gstec",function(e,t){q(e.exports,"getInputUtilityClass",()=>s),q(e.exports,"default",()=>l);var n=ee("5XyNA"),i=ee("auOVn"),o=ee("hH6Po"),a=ee("hZV4m");function s(e){return(0,o.default)("MuiInput",e)}var l=(0,n.default)({},a.default,(0,i.default)("MuiInput",["root","underline","input"]))}),et("huhjC",function(e,t){q(e.exports,"default",()=>b);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("xtY8e"),s=ee("kbtjl"),l=ee("lNNgv"),u=ee("37zHU"),c=ee("4RsQO"),d=ee("91wvo"),p=ee("6pzli"),l=ee("lNNgv"),h=ee("9L45J");let f=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],g=e=>{let{classes:t,disableUnderline:n}=e,o=(0,s.default)({root:["root",!n&&"underline"],input:["input"]},p.getFilledInputUtilityClass,t);return(0,i.default)({},t,o)},m=(0,u.default)(l.InputBaseRoot,{shouldForwardProp:e=>(0,c.default)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[...(0,l.rootOverridesResolver)(e,t),!n.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var n;let o="light"===e.palette.mode,a=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,i.default)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a}},[`&.${p.default.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:a},[`&.${p.default.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(n=(e.vars||e).palette[t.color||"primary"])?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${p.default.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${p.default.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${p.default.disabled}, .${p.default.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${p.default.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,i.default)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))}),v=(0,u.default)(l.InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:l.inputOverridesResolver})(({theme:e,ownerState:t})=>(0,i.default)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),y=/*#__PURE__*/o.forwardRef(function(e,t){var o,s,u,c;let p=(0,d.useDefaultProps)({props:e,name:"MuiFilledInput"}),{components:y={},componentsProps:b,fullWidth:w=!1,inputComponent:x="input",multiline:S=!1,slotProps:_,slots:E={},type:T="text"}=p,O=(0,n.default)(p,f),I=(0,i.default)({},p,{fullWidth:w,inputComponent:x,multiline:S,type:T}),P=g(p),C={root:{ownerState:I},input:{ownerState:I}},A=(null!=_?_:b)?(0,a.default)(C,null!=_?_:b):C,R=null!=(o=null!=(s=E.root)?s:y.Root)?o:m,k=null!=(u=null!=(c=E.input)?c:y.Input)?u:v;return/*#__PURE__*/(0,h.jsx)(l.default,(0,i.default)({slots:{root:R,input:k},componentsProps:A,fullWidth:w,inputComponent:x,multiline:S,ref:t,type:T},O,{classes:P}))});y.muiName="Input";var b=y}),et("6pzli",function(e,t){q(e.exports,"getFilledInputUtilityClass",()=>s),q(e.exports,"default",()=>l);var n=ee("5XyNA"),i=ee("auOVn"),o=ee("hH6Po"),a=ee("hZV4m");function s(e){return(0,o.default)("MuiFilledInput",e)}var l=(0,n.default)({},a.default,(0,i.default)("MuiFilledInput",["root","underline","input"]))}),et("2h05r",function(e,t){q(e.exports,"default",()=>S);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("kbtjl"),s=ee("EUFws"),l=ee("2uYcW"),u=ee("dQ8bX"),c=ee("37zHU"),d=ee("4RsQO"),p=ee("12DJO"),h=ee("lNNgv"),f=ee("91wvo"),g=ee("9L45J");let m=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],v=e=>{let{classes:t}=e,n=(0,a.default)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},p.getOutlinedInputUtilityClass,t);return(0,i.default)({},t,n)},y=(0,c.default)(h.InputBaseRoot,{shouldForwardProp:e=>(0,d.default)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:h.rootOverridesResolver})(({theme:e,ownerState:t})=>{let n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,i.default)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${p.default.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${p.default.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${p.default.focused} .${p.default.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${p.default.error} .${p.default.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${p.default.disabled} .${p.default.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,i.default)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))}),b=(0,c.default)(s.default,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),w=(0,c.default)(h.InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:h.inputOverridesResolver})(({theme:e,ownerState:t})=>(0,i.default)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),x=/*#__PURE__*/o.forwardRef(function(e,t){var a,s,c,d,p;let x=(0,f.useDefaultProps)({props:e,name:"MuiOutlinedInput"}),{components:S={},fullWidth:_=!1,inputComponent:E="input",label:T,multiline:O=!1,notched:I,slots:P={},type:C="text"}=x,A=(0,n.default)(x,m),R=v(x),k=(0,l.default)(),D=(0,u.default)({props:x,muiFormControl:k,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N=(0,i.default)({},x,{color:D.color||"primary",disabled:D.disabled,error:D.error,focused:D.focused,formControl:k,fullWidth:_,hiddenLabel:D.hiddenLabel,multiline:O,size:D.size,type:C}),M=null!=(a=null!=(s=P.root)?s:S.Root)?a:y,L=null!=(c=null!=(d=P.input)?d:S.Input)?c:w;return/*#__PURE__*/(0,g.jsx)(h.default,(0,i.default)({slots:{root:M,input:L},renderSuffix:e=>/*#__PURE__*/(0,g.jsx)(b,{ownerState:N,className:R.notchedOutline,label:null!=T&&""!==T&&D.required?p||(p=/*#__PURE__*/(0,g.jsxs)(o.Fragment,{children:[T,"","*"]})):T,notched:void 0!==I?I:!!(e.startAdornment||e.filled||e.focused)}),fullWidth:_,inputComponent:E,multiline:O,ref:t,type:C},A,{classes:(0,i.default)({},R,{notchedOutline:null})}))});x.muiName="Input";var S=x}),et("EUFws",function(e,t){q(e.exports,"default",()=>p);var n,i=ee("u6U9p"),o=ee("5XyNA");ee("dm060");var a=ee("37zHU"),s=ee("4RsQO"),l=ee("9L45J");let u=["children","classes","className","label","notched"],c=(0,a.default)("fieldset",{shouldForwardProp:s.default})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),d=(0,a.default)("legend",{shouldForwardProp:s.default})(({ownerState:e,theme:t})=>(0,o.default)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,o.default)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function p(e){let{className:t,label:a,notched:s}=e,p=(0,i.default)(e,u),h=null!=a&&""!==a,f=(0,o.default)({},e,{notched:s,withLabel:h});return/*#__PURE__*/(0,l.jsx)(c,(0,o.default)({"aria-hidden":!0,className:t,ownerState:f},p,{children:/*#__PURE__*/(0,l.jsx)(d,{ownerState:f,children:h?/*#__PURE__*/(0,l.jsx)("span",{children:a}):n||(n=/*#__PURE__*/(0,l.jsx)("span",{className:"notranslate",children:""}))})}))}}),et("12DJO",function(e,t){q(e.exports,"getOutlinedInputUtilityClass",()=>s),q(e.exports,"default",()=>l);var n=ee("5XyNA"),i=ee("auOVn"),o=ee("hH6Po"),a=ee("hZV4m");function s(e){return(0,o.default)("MuiOutlinedInput",e)}var l=(0,n.default)({},a.default,(0,i.default)("MuiOutlinedInput",["root","notchedOutline","input"]))}),et("AvOy9",function(e,t){q(e.exports,"default",()=>u);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("8pjuL"),l=ee("28DNx"),u=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.manifestId,o=t.windowId;return{manifestDescription:(0,s.getManifestDescription)(e,{companionWindowId:n,manifestId:i,windowId:o}),manifestLabel:(0,s.getManifestTitle)(e,{companionWindowId:n,manifestId:i,windowId:o}),manifestMetadata:(0,s.getManifestMetadata)(e,{companionWindowId:n,manifestId:i,windowId:o}),manifestSummary:(0,s.getManifestSummary)(e,{companionWindowId:n,manifestId:i,windowId:o})}}),(0,a.withPlugins)("ManifestInfo"))(l.ManifestInfo)}),et("28DNx",function(e,t){q(e.exports,"ManifestInfo",()=>g);var n=ee("dm060"),i=ee("d822V"),o=ee("bWbsn"),a=ee("kg66o"),s=ee("bN2oN"),l=ee("e32sw"),u=ee("9L45J");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=h(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(e,t||[],h(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.manifestDescription,n=e.manifestSummary,p=e.manifestLabel,h=e.manifestMetadata,f=e.id,g=e.t;return/*#__PURE__*/(0,u.jsxs)(o.default,{id:"".concat(f,"-resource"),label:g("resource"),children:[p&&/*#__PURE__*/(0,u.jsx)(i.default,{"aria-labelledby":"".concat(f,"-resource ").concat(f,"-resource-heading"),id:"".concat(f,"-resource-heading"),variant:"h4",component:"h5",children:p}),t&&/*#__PURE__*/(0,u.jsx)(i.default,{variant:"body1",children:/*#__PURE__*/(0,u.jsx)(a.default,{htmlString:t,ruleSet:"iiif"})}),n&&/*#__PURE__*/(0,u.jsx)(i.default,{variant:"body1",children:/*#__PURE__*/(0,u.jsx)(a.default,{htmlString:n,ruleSet:"iiif"})}),h.length>0&&/*#__PURE__*/(0,u.jsx)(s.LabelValueMetadata,{labelValuePairs:h}),/*#__PURE__*/(0,u.jsx)(l.PluginHook,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=d(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,d(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);g.defaultProps={manifestDescription:null,manifestLabel:null,manifestMetadata:[],manifestSummary:null,t:function(e){return e}}}),et("88eam",function(e,t){q(e.exports,"default",()=>p);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("8pjuL"),l=ee("cEqnD"),u=ee("4gN6n"),c=ee("fLZX2"),d={showCollectionDialog:u.showCollectionDialog},p=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){t.id;var n=t.windowId,i=((0,l.getWindow)(e,{windowId:n})||{}).collectionPath,o=i[i.length-1];return{collectionLabel:(0,s.getManifestTitle)(e,{manifestId:o}),collectionPath:i}},d),(0,a.withPlugins)("CollectionInfo"))(c.CollectionInfo)}),et("fLZX2",function(e,t){q(e.exports,"CollectionInfo",()=>p);var n=ee("dm060"),i=ee("4hayw"),o=ee("d822V"),a=ee("qYiSA"),s=ee("bWbsn"),l=ee("9L45J");function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=c(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,u()?Reflect.construct(i,o||[],c(this).constructor):i.apply(this,o))).openCollectionDialog=t.openCollectionDialog.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e),t=[{key:"openCollectionDialog",value:function(){var e=this.props,t=e.collectionPath,n=e.showCollectionDialog,i=e.windowId;n(t[t.length-1],t.slice(0,-1),i)}},{key:"render",value:function(){var e=this.props,t=e.collectionLabel,n=e.collectionPath,u=e.id,c=e.t;return 0===n.length?null:/*#__PURE__*/(0,l.jsxs)(s.default,{id:"".concat(u,"-collection"),label:c("collection"),children:[t&&/*#__PURE__*/(0,l.jsx)(o.default,{"aria-labelledby":"".concat(u,"-resource ").concat(u,"-resource-heading"),id:"".concat(u,"-resource-heading"),variant:"h4",children:t}),/*#__PURE__*/(0,l.jsx)(i.default,{color:"primary",onClick:this.openCollectionDialog,startIcon:/*#__PURE__*/(0,l.jsx)(/*@__PURE__*/Y(a),{}),children:c("showCollection")})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);p.defaultProps={collectionLabel:null,collectionPath:[],t:function(e){return e},windowId:null}}),et("4hayw",function(e,t){q(e.exports,"default",()=>T);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("4lbob"),l=ee("kbtjl"),u=ee("9xsQ3"),c=ee("37zHU"),d=ee("4RsQO"),p=ee("91wvo"),h=ee("h8wer"),f=ee("iOGUL"),g=ee("nlVKu"),m=ee("2Oj4e"),v=ee("56h8Z"),y=ee("9L45J");let b=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],w=e=>{let{color:t,disableElevation:n,fullWidth:o,size:a,variant:s,classes:u}=e,c={root:["root",s,`${s}${(0,f.default)(t)}`,`size${(0,f.default)(a)}`,`${s}Size${(0,f.default)(a)}`,`color${(0,f.default)(t)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,f.default)(a)}`],endIcon:["icon","endIcon",`iconSize${(0,f.default)(a)}`]},d=(0,l.default)(c,g.getButtonUtilityClass,u);return(0,i.default)({},u,d)},x=e=>(0,i.default)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),S=(0,c.default)(h.default,{shouldForwardProp:e=>(0,d.default)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,f.default)(n.color)}`],t[`size${(0,f.default)(n.size)}`],t[`${n.variant}Size${(0,f.default)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var n,o;let a="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],s="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,i.default)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,i.default)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.alpha)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.alpha)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,i.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${g.default.focusVisible}`]:(0,i.default)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${g.default.disabled}`]:(0,i.default)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,u.alpha)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(n=(o=e.palette).getContrastText)?void 0:n.call(o,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:a,boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${g.default.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${g.default.disabled}`]:{boxShadow:"none"}}),_=(0,c.default)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,f.default)(n.size)}`]]}})(({ownerState:e})=>(0,i.default)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},x(e))),E=(0,c.default)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,f.default)(n.size)}`]]}})(({ownerState:e})=>(0,i.default)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},x(e)));var T=/*#__PURE__*/o.forwardRef(function(e,t){let l=o.useContext(m.default),u=o.useContext(v.default),c=(0,s.default)(l,e),d=(0,p.useDefaultProps)({props:c,name:"MuiButton"}),{children:h,color:f="primary",component:g="button",className:x,disabled:T=!1,disableElevation:O=!1,disableFocusRipple:I=!1,endIcon:P,focusVisibleClassName:C,fullWidth:A=!1,size:R="medium",startIcon:k,type:D,variant:N="text"}=d,M=(0,n.default)(d,b),L=(0,i.default)({},d,{color:f,component:g,disabled:T,disableElevation:O,disableFocusRipple:I,fullWidth:A,size:R,type:D,variant:N}),j=w(L),F=k&&/*#__PURE__*/(0,y.jsx)(_,{className:j.startIcon,ownerState:L,children:k}),B=P&&/*#__PURE__*/(0,y.jsx)(E,{className:j.endIcon,ownerState:L,children:P});return/*#__PURE__*/(0,y.jsxs)(S,(0,i.default)({ownerState:L,className:(0,a.default)(l.className,j.root,x,u||""),component:g,disabled:T,focusRipple:!I,focusVisibleClassName:(0,a.default)(j.focusVisible,C),ref:t,type:D},M,{classes:j,children:[F,h,B]}))})}),et("nlVKu",function(e,t){q(e.exports,"getButtonUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiButton",e)}var a=(0,n.default)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"])}),et("2Oj4e",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/ee("dm060").createContext({})}),et("56h8Z",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/ee("dm060").createContext(void 0)}),et("qYiSA",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M3 14h4v-4H3zm0 5h4v-4H3zM3 9h4V5H3zm5 5h13v-4H8zm0 5h13v-4H8zM8 5v4h13V5z"}),"ViewListSharp")}),et("a32YO",function(e,t){q(e.exports,"default",()=>u);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("8pjuL"),l=ee("cbGWg"),u=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){t.id;var n=t.windowId;return{homepage:(0,s.getManifestHomepage)(e,{windowId:n}),manifestUrl:(0,s.getManifestUrl)(e,{windowId:n}),related:(0,s.getManifestRelated)(e,{windowId:n}),renderings:(0,s.getManifestRenderings)(e,{windowId:n}),seeAlso:(0,s.getManifestSeeAlso)(e,{windowId:n})}}),(0,a.withPlugins)("ManifestRelatedLinks"))(l.ManifestRelatedLinks)}),et("cbGWg",function(e,t){q(e.exports,"ManifestRelatedLinks",()=>y);var n=ee("dm060"),i=ee("37zHU"),o=ee("d822V"),a=ee("fO93T"),s=ee("2gnOd"),l=ee("bWbsn"),u=ee("YT00d"),c=ee("e32sw"),d=ee("9L45J");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var v=(0,i.default)("dl")(function(e){return e.theme,{"& dd":{marginBottom:".5em",marginLeft:"0"}}}),y=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=g(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,f()?Reflect.construct(e,t||[],g(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.homepage,n=e.manifestUrl,i=e.related,f=e.renderings,g=e.seeAlso,m=e.id,y=e.t;return/*#__PURE__*/(0,d.jsxs)(l.default,{id:"".concat(m,"-related"),label:y("related"),children:[/*#__PURE__*/(0,d.jsx)(o.default,{"aria-labelledby":"".concat(m,"-related ").concat(m,"-related-heading"),id:"".concat(m,"-related-heading"),variant:"h4",component:"h5",children:y("links")}),/*#__PURE__*/(0,d.jsxs)(v,{className:/*@__PURE__*/Y(s)((0,u.default)("label-value-metadata")),children:[t&&/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(o.default,{variant:"subtitle2",component:"dt",children:y("iiif_homepage")}),t.map(function(e){return/*#__PURE__*/(0,d.jsx)(o.default,{variant:"body1",component:"dd",children:/*#__PURE__*/(0,d.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:e.value,children:e.label||e.value})},e.value)})]}),f&&f.length>0&&/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(o.default,{variant:"subtitle2",component:"dt",children:y("iiif_renderings")}),f.map(function(e){return/*#__PURE__*/(0,d.jsx)(o.default,{variant:"body1",component:"dd",children:/*#__PURE__*/(0,d.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:e.value,children:e.label||e.value})},e.value)})]}),i&&/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(o.default,{variant:"subtitle2",component:"dt",children:y("iiif_related")}),i.map(function(e){return/*#__PURE__*/(0,d.jsxs)(o.default,{variant:"body1",component:"dd",children:[/*#__PURE__*/(0,d.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:e.value,children:e.label||e.value}),e.format&&/*#__PURE__*/(0,d.jsx)(o.default,{component:"span",children:" (".concat(e.format,")")})]},e.value)})]}),g&&/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(o.default,{variant:"subtitle2",component:"dt",children:y("iiif_seeAlso")}),g.map(function(e){return/*#__PURE__*/(0,d.jsxs)(o.default,{variant:"body1",component:"dd",children:[/*#__PURE__*/(0,d.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:e.value,children:e.label||e.value}),e.format&&/*#__PURE__*/(0,d.jsx)(o.default,{component:"span",children:" (".concat(e.format,")")})]},e.value)})]}),n&&/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[/*#__PURE__*/(0,d.jsx)(o.default,{variant:"subtitle2",component:"dt",children:y("iiif_manifest")}),/*#__PURE__*/(0,d.jsx)(o.default,{variant:"body1",component:"dd",children:/*#__PURE__*/(0,d.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:n,children:n})})]})]}),/*#__PURE__*/(0,d.jsx)(c.PluginHook,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=h(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);y.defaultProps={homepage:null,manifestUrl:null,related:null,renderings:null,seeAlso:null,t:function(e){return e}}}),et("fO93T",function(e,t){q(e.exports,"default",()=>w);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("iOGUL"),u=ee("37zHU"),c=ee("91wvo"),d=ee("9UHJr"),p=ee("gvQts"),h=ee("d822V"),f=ee("eT9J0"),g=ee("jVBZB"),m=ee("9L45J");let v=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],y=e=>{let{classes:t,component:n,focusVisible:i,underline:o}=e,a={root:["root",`underline${(0,l.default)(o)}`,"button"===n&&"button",i&&"focusVisible"]};return(0,s.default)(a,f.getLinkUtilityClass,t)},b=(0,u.default)(h.default,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`underline${(0,l.default)(n.underline)}`],"button"===n.component&&t.button]}})(({theme:e,ownerState:t})=>(0,i.default)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,i.default)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:(0,g.default)({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${f.default.focusVisible}`]:{outline:"auto"}}));var w=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,c.useDefaultProps)({props:e,name:"MuiLink"}),{className:l,color:u="primary",component:h="a",onBlur:f,onFocus:w,TypographyClasses:x,underline:S="always",variant:_="inherit",sx:E}=s,T=(0,n.default)(s,v),{isFocusVisibleRef:O,onBlur:I,onFocus:P,ref:C}=(0,d.default)(),[A,R]=o.useState(!1),k=(0,p.default)(t,C),D=(0,i.default)({},s,{color:u,component:h,focusVisible:A,underline:S,variant:_}),N=y(D);return/*#__PURE__*/(0,m.jsx)(b,(0,i.default)({color:u,className:(0,a.default)(N.root,l),classes:x,component:h,onBlur:e=>{I(e),!1===O.current&&R(!1),f&&f(e)},onFocus:e=>{P(e),!0===O.current&&R(!0),w&&w(e)},ref:k,ownerState:D,variant:_,sx:[...Object.keys(g.colorTransformations).includes(u)?[]:[{color:u}],...Array.isArray(E)?E:[E]]},T))})}),et("eT9J0",function(e,t){q(e.exports,"getLinkUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiLink",e)}var a=(0,n.default)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"])}),et("jVBZB",function(e,t){q(e.exports,"colorTransformations",()=>o),q(e.exports,"default",()=>s);var n=ee("1Yyok"),i=ee("9xsQ3");let o={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},a=e=>o[e]||e;var s=({theme:e,ownerState:t})=>{let o=a(t.color),s=(0,n.getPath)(e,`palette.${o}`,!1)||t.color,l=(0,n.getPath)(e,`palette.${o}Channel`);return"vars"in e&&l?`rgba(${l} / 0.4)`:(0,i.alpha)(s,.4)}}),et("eyqfR",function(e,t){q(e.exports,"default",()=>g);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("glweN"),l=ee("4gN6n"),u=ee("4cbpI"),c=ee("cOFmZ"),d=ee("02l6u"),p=ee("8pjuL"),h=ee("8jlY4"),f=ee("cEqnD"),g=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId,o=(0,h.getSequenceTreeStructure)(e,{windowId:i}),a=(0,f.getWindow)(e,{windowId:i}),s=e.config,l=(0,c.getCompanionWindow)(e,{companionWindowId:n}),u=a.collectionPath||[],g=u&&u[u.length-1],m=(0,h.getSequence)(e,{windowId:i});return{collection:g&&(0,p.getManifestoInstance)(e,{manifestId:g}),config:s,sequenceId:m&&m.id,sequences:(0,h.getSequences)(e,{windowId:i}),showToc:o&&o.nodes&&o.nodes.length>0,variant:l.variant||(0,d.getDefaultSidebarVariant)(e,{windowId:i})}},function(e,t){var n=t.id,i=t.windowId;return{showMultipart:function(){return e(s.addOrUpdateCompanionWindow(i,{content:"collection",position:"right"}))},updateSequence:function(t){return e(l.updateWindow(i,{sequenceId:t}))},updateVariant:function(t){return e(s.updateCompanionWindow(i,n,{variant:t}))}}}),(0,a.withPlugins)("WindowSideBarCanvasPanel"))(u.WindowSideBarCanvasPanel)}),et("4cbpI",function(e,t){q(e.exports,"WindowSideBarCanvasPanel",()=>O);var n=ee("dm060"),i=ee("37zHU"),o=ee("isrdJ"),a=ee("1oPqd"),s=ee("d0rRE"),l=ee("4hayw"),u=ee("enDwz"),c=ee("5KjRj"),d=ee("qYiSA"),p=ee("d822V"),h=ee("53Rl3"),f=ee("j5pD4"),g=ee("clLHD"),m=ee("kypKg"),v=ee("d6cg7"),y=ee("keM1a"),b=ee("5hHMc"),w=ee("9L45J");function x(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(S=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var T=(0,i.default)("div")(function(){return{flexBasis:"100%",height:0}}),O=/*#__PURE__*/function(e){var t,i;function O(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,O),i=O,o=[e],i=_(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,S()?Reflect.construct(i,o||[],_(this).constructor):i.apply(this,o))).handleSequenceChange=t.handleSequenceChange.bind(t),t.handleVariantChange=t.handleVariantChange.bind(t),t.containerRef=/*#__PURE__*/(0,n.createRef)(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(O,e),t=[{key:"handleSequenceChange",value:function(e){(0,this.props.updateSequence)(e.target.value)}},{key:"handleVariantChange",value:function(e,t){(0,this.props.updateVariant)(t)}},{key:"render",value:function(){var e,t=this.props,n=t.collection,i=t.id,x=t.showMultipart,S=t.sequenceId,_=t.sequences,E=t.t,I=t.variant,P=t.showToc,C=t.windowId;return e="tableOfContents"===I?/*#__PURE__*/(0,w.jsx)(b.default,{id:i,containerRef:this.containerRef,windowId:C}):/*#__PURE__*/(0,w.jsx)(y.default,{id:i,containerRef:this.containerRef,windowId:C}),/*#__PURE__*/(0,w.jsx)(v.default,{title:E("canvasIndex"),id:i,windowId:C,ref:this.containerRef,titleControls:/*#__PURE__*/(0,w.jsxs)(w.Fragment,{children:[_&&_.length>1&&/*#__PURE__*/(0,w.jsx)(f.default,{children:/*#__PURE__*/(0,w.jsx)(g.default,{MenuProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"}},displayEmpty:!0,value:S,onChange:this.handleSequenceChange,name:"sequenceId",sx:{"&.MuiSelect-select":{"&:focus":{backgroundColor:"background.paper"}},backgroundColor:"background.paper"},"data-testid":"sequence-select",children:_.map(function(e,t){return/*#__PURE__*/(0,w.jsx)(m.default,{value:e.id,children:/*#__PURE__*/(0,w.jsx)(p.default,{variant:"body2",children:O.getUseableLabel(e,t)})},e.id)})})}),/*#__PURE__*/(0,w.jsx)(T,{}),/*#__PURE__*/(0,w.jsxs)(o.default,{value:I,onChange:this.handleVariantChange,variant:"fullWidth",indicatorColor:"primary",textColor:"primary",children:[P&&/*#__PURE__*/(0,w.jsx)(s.default,{title:E("tableOfContentsList"),value:"tableOfContents",children:/*#__PURE__*/(0,w.jsx)(a.default,{sx:{minWidth:"auto"},value:"tableOfContents","aria-label":E("tableOfContentsList"),"aria-controls":"tab-panel-".concat(i),icon:/*#__PURE__*/(0,w.jsx)(/*@__PURE__*/Y(c),{style:{transform:"scale(-1, 1)"}})})}),/*#__PURE__*/(0,w.jsx)(s.default,{title:E("itemList"),value:"item",children:/*#__PURE__*/(0,w.jsx)(a.default,{sx:{minWidth:"auto"},value:"item","aria-label":E("itemList"),"aria-controls":"tab-panel-".concat(i),icon:/*#__PURE__*/(0,w.jsx)(/*@__PURE__*/Y(u),{})})}),/*#__PURE__*/(0,w.jsx)(s.default,{title:E("thumbnailList"),value:"thumbnail",children:/*#__PURE__*/(0,w.jsx)(a.default,{sx:{minWidth:"auto"},value:"thumbnail","aria-label":E("thumbnailList"),"aria-controls":"tab-panel-".concat(i),icon:/*#__PURE__*/(0,w.jsx)(/*@__PURE__*/Y(d),{})})})]})]}),children:/*#__PURE__*/(0,w.jsxs)("div",{id:"tab-panel-".concat(i),children:[n&&/*#__PURE__*/(0,w.jsx)(l.default,{fullWidth:!0,onClick:x,endIcon:/*#__PURE__*/(0,w.jsx)(/*@__PURE__*/Y(h),{}),children:/*#__PURE__*/(0,w.jsx)(p.default,{sx:{textTransform:"none"},children:O.getUseableLabel(n)})}),e]})})}}],i=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],t&&x(O.prototype,t),i&&x(O,i),Object.defineProperty(O,"prototype",{writable:!1}),O}(n.Component);O.defaultProps={collection:null,sequenceId:null,sequences:[],showToc:!1}}),et("isrdJ",function(e,t){q(e.exports,"default",()=>N);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060");ee("g1VXJ");var a=ee("auY7r"),s=ee("kbtjl"),l=ee("aBKyn"),u=ee("kRqjG"),c=ee("37zHU"),d=ee("91wvo"),p=ee("3rPNm"),h=ee("kqgsq"),f=ee("h4r6x"),g=ee("hHthd"),m=ee("abW2f"),v=ee("e1dkG"),y=ee("bUOa9"),b=ee("dwqSf"),w=ee("iJSGV"),x=ee("7hvg4"),S=ee("9L45J");let _=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],E=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,T=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,O=(e,t,n)=>{let i=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(i)return;i=!0}let t=o.disabled||"true"===o.getAttribute("aria-disabled");if(!o.hasAttribute("tabindex")||t)o=n(e,o);else{o.focus();return}}},I=e=>{let{vertical:t,fixed:n,hideScrollbar:i,scrollableX:o,scrollableY:a,centered:l,scrollButtonsHideMobile:u,classes:c}=e;return(0,s.default)({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",i&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},b.getTabsUtilityClass,c)},P=(0,c.default)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${b.default.scrollButtons}`]:t.scrollButtons},{[`& .${b.default.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>(0,i.default)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${b.default.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),C=(0,c.default)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>(0,i.default)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),A=(0,c.default)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>(0,i.default)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),R=(0,c.default)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>(0,i.default)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),k=(0,c.default)(m.default)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),D={};var N=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,d.useDefaultProps)({props:e,name:"MuiTabs"}),c=(0,p.default)(),m=(0,l.useRtl)(),{"aria-label":b,"aria-labelledby":N,action:M,centered:L=!1,children:j,className:F,component:B="div",allowScrollButtonsMobile:z=!1,indicatorColor:U="primary",onChange:W,orientation:H="horizontal",ScrollButtonComponent:V=v.default,scrollButtons:G="auto",selectionFollowsFocus:$,slots:q={},slotProps:X={},TabIndicatorProps:Y={},TabScrollButtonProps:K={},textColor:Z="primary",value:J,variant:Q="standard",visibleScrollbar:ee=!1}=s,et=(0,n.default)(s,_),er="scrollable"===Q,en="vertical"===H,ei=en?"scrollTop":"scrollLeft",eo=en?"top":"left",ea=en?"bottom":"right",es=en?"clientHeight":"clientWidth",el=en?"height":"width",eu=(0,i.default)({},s,{component:B,allowScrollButtonsMobile:z,indicatorColor:U,orientation:H,vertical:en,scrollButtons:G,textColor:Z,variant:Q,visibleScrollbar:ee,fixed:!er,hideScrollbar:er&&!ee,scrollableX:er&&!en,scrollableY:er&&en,centered:L&&!er,scrollButtonsHideMobile:!z}),ec=I(eu),ed=(0,u.default)({elementType:q.StartScrollButtonIcon,externalSlotProps:X.startScrollButtonIcon,ownerState:eu}),ep=(0,u.default)({elementType:q.EndScrollButtonIcon,externalSlotProps:X.endScrollButtonIcon,ownerState:eu}),[eh,ef]=o.useState(!1),[eg,em]=o.useState(D),[ev,ey]=o.useState(!1),[eb,ew]=o.useState(!1),[ex,eS]=o.useState(!1),[e_,eE]=o.useState({overflow:"hidden",scrollbarWidth:0}),eT=new Map,eO=o.useRef(null),eI=o.useRef(null),eP=()=>{let e,t;let n=eO.current;if(n){let t=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:(0,f.getNormalizedScrollLeft)(n,m?"rtl":"ltr"),scrollWidth:n.scrollWidth,top:t.top,bottom:t.bottom,left:t.left,right:t.right}}if(n&&!1!==J){let e=eI.current.children;if(e.length>0){let n=e[eT.get(J)];t=n?n.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},eC=(0,y.default)(()=>{let e;let{tabsMeta:t,tabMeta:n}=eP(),i=0;if(en)e="top",n&&t&&(i=n.top-t.top+t.scrollTop);else if(e=m?"right":"left",n&&t){let o=m?t.scrollLeftNormalized+t.clientWidth-t.scrollWidth:t.scrollLeft;i=(m?-1:1)*(n[e]-t[e]+o)}let o={[e]:i,[el]:n?n[el]:0};if(isNaN(eg[e])||isNaN(eg[el]))em(o);else{let t=Math.abs(eg[e]-o[e]),n=Math.abs(eg[el]-o[el]);(t>=1||n>=1)&&em(o)}}),eA=(e,{animation:t=!0}={})=>{t?(0,g.default)(ei,eO.current,e,{duration:c.transitions.duration.standard}):eO.current[ei]=e},eR=e=>{let t=eO.current[ei];en?t+=e:(t+=e*(m?-1:1),t*=m&&"reverse"===(0,f.detectScrollType)()?-1:1),eA(t)},ek=()=>{let e=eO.current[es],t=0,n=Array.from(eI.current.children);for(let i=0;i<n.length;i+=1){let o=n[i];if(t+o[es]>e){0===i&&(t=e);break}t+=o[es]}return t},eD=()=>{eR(-1*ek())},eN=()=>{eR(ek())},eM=o.useCallback(e=>{eE({overflow:null,scrollbarWidth:e})},[]),eL=(0,y.default)(e=>{let{tabsMeta:t,tabMeta:n}=eP();n&&t&&(n[eo]<t[eo]?eA(t[ei]+(n[eo]-t[eo]),{animation:e}):n[ea]>t[ea]&&eA(t[ei]+(n[ea]-t[ea]),{animation:e}))}),ej=(0,y.default)(()=>{er&&!1!==G&&eS(!ex)});o.useEffect(()=>{let e,t;let n=(0,h.default)(()=>{eO.current&&eC()}),i=(0,x.default)(eO.current);return i.addEventListener("resize",n),"undefined"!=typeof ResizeObserver&&(e=new ResizeObserver(n),Array.from(eI.current.children).forEach(t=>{e.observe(t)})),"undefined"!=typeof MutationObserver&&(t=new MutationObserver(t=>{t.forEach(t=>{t.removedNodes.forEach(t=>{var n;null==(n=e)||n.unobserve(t)}),t.addedNodes.forEach(t=>{var n;null==(n=e)||n.observe(t)})}),n(),ej()})).observe(eI.current,{childList:!0}),()=>{var o,a;n.clear(),i.removeEventListener("resize",n),null==(o=t)||o.disconnect(),null==(a=e)||a.disconnect()}},[eC,ej]),o.useEffect(()=>{let e=Array.from(eI.current.children),t=e.length;if("undefined"!=typeof IntersectionObserver&&t>0&&er&&!1!==G){let n=e[0],i=e[t-1],o={root:eO.current,threshold:.99},a=new IntersectionObserver(e=>{ey(!e[0].isIntersecting)},o);a.observe(n);let s=new IntersectionObserver(e=>{ew(!e[0].isIntersecting)},o);return s.observe(i),()=>{a.disconnect(),s.disconnect()}}},[er,G,ex,null==j?void 0:j.length]),o.useEffect(()=>{ef(!0)},[]),o.useEffect(()=>{eC()}),o.useEffect(()=>{eL(D!==eg)},[eL,eg]),o.useImperativeHandle(M,()=>({updateIndicator:eC,updateScrollButtons:ej}),[eC,ej]);let eF=/*#__PURE__*/(0,S.jsx)(R,(0,i.default)({},Y,{className:(0,a.default)(ec.indicator,Y.className),ownerState:eu,style:(0,i.default)({},eg,Y.style)})),eB=0,ez=o.Children.map(j,e=>{if(!/*#__PURE__*/o.isValidElement(e))return null;let t=void 0===e.props.value?eB:e.props.value;eT.set(t,eB);let n=t===J;return eB+=1,/*#__PURE__*/o.cloneElement(e,(0,i.default)({fullWidth:"fullWidth"===Q,indicator:n&&!eh&&eF,selected:n,selectionFollowsFocus:$,onChange:W,textColor:Z,value:t},1!==eB||!1!==J||e.props.tabIndex?{}:{tabIndex:0}))}),eU=(()=>{let e={};e.scrollbarSizeListener=er?/*#__PURE__*/(0,S.jsx)(k,{onChange:eM,className:(0,a.default)(ec.scrollableX,ec.hideScrollbar)}):null;let t=er&&("auto"===G&&(ev||eb)||!0===G);return e.scrollButtonStart=t?/*#__PURE__*/(0,S.jsx)(V,(0,i.default)({slots:{StartScrollButtonIcon:q.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:ed},orientation:H,direction:m?"right":"left",onClick:eD,disabled:!ev},K,{className:(0,a.default)(ec.scrollButtons,K.className)})):null,e.scrollButtonEnd=t?/*#__PURE__*/(0,S.jsx)(V,(0,i.default)({slots:{EndScrollButtonIcon:q.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ep},orientation:H,direction:m?"left":"right",onClick:eN,disabled:!eb},K,{className:(0,a.default)(ec.scrollButtons,K.className)})):null,e})();return/*#__PURE__*/(0,S.jsxs)(P,(0,i.default)({className:(0,a.default)(ec.root,F),ownerState:eu,ref:t,as:B},et,{children:[eU.scrollButtonStart,eU.scrollbarSizeListener,/*#__PURE__*/(0,S.jsxs)(C,{className:ec.scroller,ownerState:eu,style:{overflow:e_.overflow,[en?`margin${m?"Left":"Right"}`:"marginBottom"]:ee?void 0:-e_.scrollbarWidth},ref:eO,children:[/*#__PURE__*/(0,S.jsx)(A,{"aria-label":b,"aria-labelledby":N,"aria-orientation":"vertical"===H?"vertical":null,className:ec.flexContainer,ownerState:eu,onKeyDown:e=>{let t=eI.current,n=(0,w.default)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let i="horizontal"===H?"ArrowLeft":"ArrowUp",o="horizontal"===H?"ArrowRight":"ArrowDown";switch("horizontal"===H&&m&&(i="ArrowRight",o="ArrowLeft"),e.key){case i:e.preventDefault(),O(t,n,T);break;case o:e.preventDefault(),O(t,n,E);break;case"Home":e.preventDefault(),O(t,null,E);break;case"End":e.preventDefault(),O(t,null,T)}},ref:eI,role:"tablist",children:ez}),eh&&eF]}),eU.scrollButtonEnd]}))})}),et("h4r6x",function(e,t){let n;function i(){if(n)return n;let e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),n="reverse",e.scrollLeft>0?n="default":(e.scrollLeft=1,0===e.scrollLeft&&(n="negative")),document.body.removeChild(e),n}function o(e,t){let n=e.scrollLeft;if("rtl"!==t)return n;switch(i()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}q(e.exports,"detectScrollType",()=>i),q(e.exports,"getNormalizedScrollLeft",()=>o)}),et("hHthd",function(e,t){function n(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function i(e,t,o,a={},s=()=>{}){let{ease:l=n,duration:u=300}=a,c=null,d=t[e],p=!1,h=n=>{if(p){s(Error("Animation cancelled"));return}null===c&&(c=n);let i=Math.min(1,(n-c)/u);if(t[e]=l(i)*(o-d)+d,i>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(h)};return d===o?s(Error("Element already at target position")):requestAnimationFrame(h),()=>{p=!0}}q(e.exports,"default",()=>i)}),et("abW2f",function(e,t){q(e.exports,"default",()=>p);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("kqgsq"),s=ee("7hvg4"),l=ee("c2dsU"),u=ee("9L45J");let c=["onChange"],d={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function p(e){let{onChange:t}=e,p=(0,i.default)(e,c),h=o.useRef(),f=o.useRef(null),g=()=>{h.current=f.current.offsetHeight-f.current.clientHeight};return(0,l.default)(()=>{let e=(0,a.default)(()=>{let e=h.current;g(),e!==h.current&&t(h.current)}),n=(0,s.default)(f.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}},[t]),o.useEffect(()=>{g(),t(h.current)},[t]),/*#__PURE__*/(0,u.jsx)("div",(0,n.default)({style:d,ref:f},p))}}),et("e1dkG",function(e,t){q(e.exports,"default",()=>w);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("aBKyn"),u=ee("kRqjG"),c=ee("96kGd"),d=ee("hCmmD"),p=ee("h8wer"),h=ee("91wvo"),f=ee("37zHU"),g=ee("hmzKP"),m=ee("9L45J");let v=["className","slots","slotProps","direction","orientation","disabled"],y=e=>{let{classes:t,orientation:n,disabled:i}=e;return(0,s.default)({root:["root",n,i&&"disabled"]},g.getTabScrollButtonUtilityClass,t)},b=(0,f.default)(p.default,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>(0,i.default)({width:40,flexShrink:0,opacity:.8,[`&.${g.default.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}}));var w=/*#__PURE__*/o.forwardRef(function(e,t){var o,s;let p=(0,h.useDefaultProps)({props:e,name:"MuiTabScrollButton"}),{className:f,slots:g={},slotProps:w={},direction:x}=p,S=(0,n.default)(p,v),_=(0,l.useRtl)(),E=(0,i.default)({isRtl:_},p),T=y(E),O=null!=(o=g.StartScrollButtonIcon)?o:c.default,I=null!=(s=g.EndScrollButtonIcon)?s:d.default,P=(0,u.default)({elementType:O,externalSlotProps:w.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:E}),C=(0,u.default)({elementType:I,externalSlotProps:w.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:E});return/*#__PURE__*/(0,m.jsx)(b,(0,i.default)({component:"div",className:(0,a.default)(T.root,f),ref:t,role:null,ownerState:E,tabIndex:null},S,{children:"left"===x?/*#__PURE__*/(0,m.jsx)(O,(0,i.default)({},P)):/*#__PURE__*/(0,m.jsx)(I,(0,i.default)({},C))}))})}),et("96kGd",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("77XGA"),i=ee("9L45J"),o=(0,n.default)(/*#__PURE__*/(0,i.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")}),et("hCmmD",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("77XGA"),i=ee("9L45J"),o=(0,n.default)(/*#__PURE__*/(0,i.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")}),et("hmzKP",function(e,t){q(e.exports,"getTabScrollButtonUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTabScrollButton",e)}var a=(0,n.default)("MuiTabScrollButton",["root","vertical","horizontal","disabled"])}),et("dwqSf",function(e,t){q(e.exports,"getTabsUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTabs",e)}var a=(0,n.default)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"])}),et("1oPqd",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("h8wer"),u=ee("iOGUL"),c=ee("91wvo"),d=ee("37zHU"),p=ee("gowT8"),h=ee("9L45J");let f=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],g=e=>{let{classes:t,textColor:n,fullWidth:i,wrapped:o,icon:a,label:l,selected:c,disabled:d}=e,h={root:["root",a&&l&&"labelIcon",`textColor${(0,u.default)(n)}`,i&&"fullWidth",o&&"wrapped",c&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return(0,s.default)(h,p.getTabUtilityClass,t)},m=(0,d.default)(l.default,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,u.default)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${p.default.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>(0,i.default)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${p.default.iconWrapper}`]:(0,i.default)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${p.default.selected}`]:{opacity:1},[`&.${p.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"primary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${p.default.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${p.default.disabled}`]:{color:(e.vars||e).palette.text.disabled}},"secondary"===t.textColor&&{color:(e.vars||e).palette.text.secondary,[`&.${p.default.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${p.default.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)}));var v=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,c.useDefaultProps)({props:e,name:"MuiTab"}),{className:l,disabled:u=!1,disableFocusRipple:d=!1,fullWidth:p,icon:v,iconPosition:y="top",indicator:b,label:w,onChange:x,onClick:S,onFocus:_,selected:E,selectionFollowsFocus:T,textColor:O="inherit",value:I,wrapped:P=!1}=s,C=(0,n.default)(s,f),A=(0,i.default)({},s,{disabled:u,disableFocusRipple:d,selected:E,icon:!!v,iconPosition:y,label:!!w,fullWidth:p,textColor:O,wrapped:P}),R=g(A),k=v&&w&&/*#__PURE__*/o.isValidElement(v)?/*#__PURE__*/o.cloneElement(v,{className:(0,a.default)(R.iconWrapper,v.props.className)}):v;return/*#__PURE__*/(0,h.jsxs)(m,(0,i.default)({focusRipple:!d,className:(0,a.default)(R.root,l),ref:t,role:"tab","aria-selected":E,disabled:u,onClick:e=>{!E&&x&&x(e,I),S&&S(e)},onFocus:e=>{T&&!E&&x&&x(e,I),_&&_(e)},ownerState:A,tabIndex:E?0:-1},C,{children:["top"===y||"start"===y?/*#__PURE__*/(0,h.jsxs)(o.Fragment,{children:[k,w]}):/*#__PURE__*/(0,h.jsxs)(o.Fragment,{children:[w,k]}),b]}))})}),et("gowT8",function(e,t){q(e.exports,"getTabUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTab",e)}var a=(0,n.default)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"])}),et("enDwz",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M3 15h18v-2H3zm0 4h18v-2H3zm0-8h18V9H3zm0-6v2h18V5z"}),"ReorderSharp")}),et("5KjRj",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}),"SortSharp")}),et("53Rl3",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForwardSharp")}),et("keM1a",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("g60ed"),l=ee("hJg9G"),u=ee("cOFmZ"),c=ee("a9ZJY"),d=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId;return{canvases:(0,l.getCanvases)(e,{windowId:i}),selectedCanvasIds:(0,l.getVisibleCanvasIds)(e,{windowId:i}),variant:(0,u.getCompanionWindow)(e,{companionWindowId:n,windowId:i}).variant}},function(e,t){return t.id,t.windowId,{setCanvas:function(){return e(s.setCanvas.apply(s,arguments))}}}),(0,a.withPlugins)("SidebarIndexList"))(c.SidebarIndexList)}),et("a9ZJY",function(e,t){q(e.exports,"SidebarIndexList",()=>m);var n=ee("dm060"),i=ee("gHgwx"),o=ee("kypKg"),a=ee("37zHU"),s=ee("98yyI"),l=ee("3h31Z"),u=ee("b20p9"),c=ee("l0Ie8"),d=ee("9L45J");function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=(0,a.default)(o.default,{name:"SidebarIndexList",slot:"item"})(function(e){var t=e.theme;return{alignItems:"flex-start",paddingLeft:t.spacing(2),paddingRight:t.spacing(1),position:"initial",whiteSpace:"normal"}}),m=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=h(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(e,t||[],h(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"getIdAndLabelOfCanvases",value:function(){return this.props.canvases.map(function(e,t){return{id:e.id,label:new(0,l.default)(e).getLabel()}})}},{key:"render",value:function(){var e,t=this.props,n=t.canvases,o=t.containerRef,a=t.selectedCanvasIds,l=t.setCanvas,p=t.variant,h=t.windowId,f=this.getIdAndLabelOfCanvases(n);return e="thumbnail"===p?c.default:u.default,/*#__PURE__*/(0,d.jsx)(i.default,{variant:"selectedMenu",children:f.map(function(t,i){return/*#__PURE__*/(0,d.jsx)(s.ScrollTo,{containerRef:o,offsetTop:96,selected:a.includes(t.id),scrollTo:a.includes(t.id),children:/*#__PURE__*/(0,d.jsx)(g,{divider:!0,onClick:function(){l(h,t.id)},component:"li",children:/*#__PURE__*/(0,d.jsx)(e,{label:t.label,canvas:n[i]})},t.id)},"".concat(t.id,"-").concat(p))})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);m.defaultProps={selectedCanvasIds:[],variant:"item"}}),et("b20p9",function(e,t){q(e.exports,"default",()=>l);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("coIhA"),l=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(null,null),(0,a.withPlugins)("SidebarIndexItem"))(s.SidebarIndexItem)}),et("coIhA",function(e,t){q(e.exports,"SidebarIndexItem",()=>u);var n=ee("dm060"),i=ee("d822V"),o=ee("9L45J");function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=s(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a()?Reflect.construct(e,t||[],s(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props.label;return/*#__PURE__*/(0,o.jsx)(i.default,{variant:"body1",children:e})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component)}),et("l0Ie8",function(e,t){q(e.exports,"default",()=>c);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("hzppn"),l=ee("8uJ99");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var c=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){return t.data,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},(0,l.getConfig)(e).canvasNavigation||{})},null),(0,a.withPlugins)("SidebarIndexThumbnail"))(s.SidebarIndexThumbnail)}),et("hzppn",function(e,t){q(e.exports,"SidebarIndexThumbnail",()=>c);var n=ee("dm060"),i=ee("d822V"),o=ee("aG6hj"),a=ee("9L45J");function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=l(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,s()?Reflect.construct(e,t||[],l(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.canvas,n=e.height,s=e.label,l=e.width;return/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)("div",{style:{minWidth:50},children:/*#__PURE__*/(0,a.jsx)(o.default,{label:s,resource:t,maxHeight:n,maxWidth:l})}),/*#__PURE__*/(0,a.jsx)(i.default,{children:s})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);c.defaultProps={height:void 0,width:void 0}}),et("5hHMc",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("fBAmA"),l=ee("02l6u"),u=ee("8jlY4"),c=ee("g60ed"),d=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId;return{expandedNodeIds:(0,l.getExpandedNodeIds)(e,{companionWindowId:n,windowId:i}),nodeIdToScrollTo:(0,l.getNodeIdToScrollTo)(e,{companionWindowId:n,windowId:i}),treeStructure:(0,u.getSequenceTreeStructure)(e,{windowId:i}),visibleNodeIds:(0,l.getVisibleNodeIds)(e,{companionWindowId:n,windowId:i})}},function(e,t){var n=t.id,i=t.windowId;return{expandNodes:function(t){return e(c.expandNodes(i,n,t))},setCanvas:function(){return e(c.setCanvas.apply(c,arguments))},toggleNode:function(t){return e(c.toggleNode(i,n,t))}}}),(0,a.withPlugins)("SidebarIndexTableOfContents"))(s.SidebarIndexTableOfContents)}),et("fBAmA",function(e,t){q(e.exports,"SidebarIndexTableOfContents",()=>x);var n=ee("dm060"),i=ee("3uUVc"),o=ee("37zHU"),a=ee("imMnq"),s=ee("fVdvd"),l=ee("aLbbO"),u=ee("9FrQR"),c=ee("98yyI"),d=ee("9L45J"),p=["children","nodeId"];function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=y(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var b=(0,o.default)("div")(function(){return{}}),w=function(e){var t=e.children,n=(e.nodeId,function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,p));return/*#__PURE__*/(0,d.jsx)(c.ScrollTo,v(v({},n),{},{children:t}))},x=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=f(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,h()?Reflect.construct(i,o||[],f(this).constructor):i.apply(this,o))).handleNodeSelect=t.handleNodeSelect.bind(t),t.handleNodeToggle=t.handleNodeToggle.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(n,e),t=[{key:"handleNodeSelect",value:function(e,t){var n=this.props.toggleNode;(" "===e.key||"Spacebar"===e.key)&&n(t),this.selectTreeItem(t)}},{key:"handleNodeToggle",value:function(e,t){(0,this.props.expandNodes)(t)}},{key:"selectTreeItem",value:function(e){var t=this.props,n=t.setCanvas,i=t.treeStructure,o=t.windowId,a=function e(t,n){if(t.id===n)return t;var i=null;if(t.nodes)for(var o=0;null==i&&o<t.nodes.length;o+=1)i=e(t.nodes[o],n);return i}(i,e);if(a.data.getCanvasIds()&&0!==a.data.getCanvasIds().length&&!(a.nodes.length>0)){var s=function(e){var t=e.data.__jsonld;if(t.startCanvas&&"string"==typeof t.startCanvas)return t.startCanvas;if(t.start){if("Canvas"===t.start.type&&"string"==typeof t.start.id)return t.start.id;if("SpecificResource"===t.start.type&&"string"==typeof t.start.source)return t.start.source}return e.data.getCanvasIds()[0]}(a);n(o,-1===s.indexOf("#")?s:s.substr(0,s.indexOf("#")))}}},{key:"render",value:function(){var e=this.props,t=e.treeStructure,n=e.visibleNodeIds,o=e.expandedNodeIds,c=e.containerRef,p=e.nodeIdToScrollTo;if(!t)return null;var h=function(e){return/*#__PURE__*/(0,d.jsx)(w,{containerRef:c,nodeId:e.id,offsetTop:96,scrollTo:p===e.id,children:/*#__PURE__*/(0,d.jsx)(u.TreeItem,{nodeId:e.id,sx:{"& .MuiTreeItem-content":{alignItems:"flex-start",borderLeft:"1px solid transparent",padding:"8px 16px 8px 0",width:"auto"},"& .MuiTreeItem-group":{borderLeft:"1px solid",borderLeftColor:"grey.300"},"& .MuiTreeItem-iconContainer":{paddingBlockStart:.5},"& .MuiTreeItem-label":{paddingLeft:0},"& .MuiTreeItem-root":{"&:focus > .MuiTreeItem-content":{backgroundColor:"action.selected"},"&:hover > .MuiTreeItem-content":{backgroundColor:"action.hover"},"&:hover > .MuiTreeItem-content .MuiTreeItem-label, &:focus > .MuiTreeItem-content .MuiTreeItem-label, &.MuiTreeItem-selected > .MuiTreeItem-content .MuiTreeItem-label, &.MuiTreeItem-selected > .MuiTreeItem-content .MuiTreeItem-label:hover, &.MuiTreeItem-selected:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"transparent"}}},label:/*#__PURE__*/(0,d.jsx)(b,{sx:function(t){var o;return{backgroundColor:-1!==n.indexOf(e.id)&&(0,i.alpha)((null===(o=t.palette.highlights)||void 0===o?void 0:o.primary)||t.palette.action.selected,.35),display:-1!==n.indexOf(e.id)&&"inline"}},children:e.label}),children:Array.isArray(e.nodes)?e.nodes.map(function(e){return h(e)}):null})},e.id)};return/*#__PURE__*/(0,d.jsx)(a.TreeView,{sx:{flexGrow:1},defaultCollapseIcon:/*#__PURE__*/(0,d.jsx)(/*@__PURE__*/Y(s),{color:"action"}),defaultExpandIcon:/*#__PURE__*/(0,d.jsx)(/*@__PURE__*/Y(l),{color:"action"}),defaultEndIcon:null,onNodeSelect:this.handleNodeSelect,onNodeToggle:this.handleNodeToggle,expanded:o,children:Array.isArray(t.nodes)?t.nodes.map(function(e){return h(e)}):null})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component)}),et("3uUVc",function(e,t){q(e.exports,"alpha",()=>l),q(e.exports,"darken",()=>u),q(e.exports,"lighten",()=>c);var n=ee("bfgsZ"),i=ee("fDl5e");function o(e,t=0,n=1){return(0,i.default)(e,t,n)}function a(e){let t;if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);let t=RegExp(`.{1,${e.length>=6?2:1}}`,"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));let i=e.indexOf("("),o=e.substring(0,i);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(o))throw Error((0,n.default)(9,e));let s=e.substring(i+1,e.length-1);if("color"===o){if(t=(s=s.split(" ")).shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(t))throw Error((0,n.default)(10,t))}else s=s.split(",");return{type:o,values:s=s.map(e=>parseFloat(e)),colorSpace:t}}function s(e){let{type:t,colorSpace:n}=e,{values:i}=e;return -1!==t.indexOf("rgb")?i=i.map((e,t)=>t<3?parseInt(e,10):e):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function l(e,t){return e=a(e),t=o(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,s(e)}function u(e,t){if(e=a(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function c(e,t){if(e=a(e),t=o(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return s(e)}}),et("imMnq",function(e,t){q(e.exports,"TreeView",()=>y);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("37zHU"),s=ee("4DVOv"),l=ee("kbtjl"),u=ee("bMRyJ"),c=ee("kCSbv"),d=ee("836Kq"),p=ee("cjqCJ"),h=ee("ibHaP"),f=ee("9L45J");let g=["disabledItemsFocusable","expanded","defaultExpanded","onNodeToggle","onNodeFocus","disableSelection","defaultSelected","selected","multiSelect","onNodeSelect","id","defaultCollapseIcon","defaultEndIcon","defaultExpandIcon","defaultParentIcon","children"],m=e=>{let{classes:t}=e;return(0,l.default)({root:["root"]},c.getTreeViewUtilityClass,t)},v=(0,a.default)("ul",{name:"MuiTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0}),y=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,s.default)({props:e,name:"MuiTreeView"}),{disabledItemsFocusable:a,expanded:l,defaultExpanded:c,onNodeToggle:y,onNodeFocus:b,disableSelection:w,defaultSelected:x,selected:S,multiSelect:_,onNodeSelect:E,id:T,defaultCollapseIcon:O,defaultEndIcon:I,defaultExpandIcon:P,defaultParentIcon:C,children:A}=o,R=(0,i.default)(o,g),{getRootProps:k,contextValue:D}=(0,d.useTreeView)({disabledItemsFocusable:a,expanded:l,defaultExpanded:c,onNodeToggle:y,onNodeFocus:b,disableSelection:w,defaultSelected:x,selected:S,multiSelect:_,onNodeSelect:E,id:T,defaultCollapseIcon:O,defaultEndIcon:I,defaultExpandIcon:P,defaultParentIcon:C,plugins:h.DEFAULT_TREE_VIEW_PLUGINS,rootRef:t}),N=m(o),M=(0,u.useSlotProps)({elementType:v,externalSlotProps:{},externalForwardedProps:R,className:N.root,getSlotProps:k,ownerState:o});return/*#__PURE__*/(0,f.jsx)(p.TreeViewProvider,{value:D,children:/*#__PURE__*/(0,f.jsx)(v,(0,n.default)({},M,{children:A}))})})}),et("4DVOv",function(e,t){q(e.exports,"default",()=>a);var n=ee("87KoV"),i=ee("bR10X"),o=ee("5MpsY");function a({props:e,name:t}){return(0,n.default)({props:e,name:t,defaultTheme:i.default,themeId:o.default})}}),et("87KoV",function(e,t){q(e.exports,"default",()=>o);var n=ee("Xon4A"),i=ee("dzheh");function o({props:e,name:t,defaultTheme:o,themeId:a}){let s=(0,i.default)(o);return a&&(s=s[a]||s),(0,n.default)({theme:s,name:t,props:e})}}),et("Xon4A",function(e,t){q(e.exports,"default",()=>i);var n=ee("4lbob");function i(e){let{theme:t,name:i,props:o}=e;return t&&t.components&&t.components[i]&&t.components[i].defaultProps?(0,n.default)(t.components[i].defaultProps,o):o}}),et("bMRyJ",function(e,t){q(e.exports,"useSlotProps",()=>c);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("duXim"),a=ee("D2FYu"),s=ee("iBwe6"),l=ee("dEVDz");let u=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function c(e){var t;let{elementType:c,externalSlotProps:d,ownerState:p,skipResolvingSlotProps:h=!1}=e,f=(0,i.default)(e,u),g=h?{}:(0,l.resolveComponentProps)(d,p),{props:m,internalRef:v}=(0,s.mergeSlotProps)((0,n.default)({},f,{externalSlotProps:g})),y=(0,o.default)(v,null==g?void 0:g.ref,null==(t=e.additionalProps)?void 0:t.ref);return(0,a.appendOwnerState)(c,(0,n.default)({},m,{ref:y}),p)}}),et("D2FYu",function(e,t){q(e.exports,"appendOwnerState",()=>o);var n=ee("5XyNA"),i=ee("gG53j");function o(e,t,o){return void 0===e||(0,i.isHostComponent)(e)?t:(0,n.default)({},t,{ownerState:(0,n.default)({},t.ownerState,o)})}}),et("gG53j",function(e,t){q(e.exports,"isHostComponent",()=>n);function n(e){return"string"==typeof e}}),et("iBwe6",function(e,t){q(e.exports,"mergeSlotProps",()=>s);var n=ee("5XyNA"),i=ee("auY7r"),o=ee("5bJk3"),a=ee("8KAVQ");function s(e){let{getSlotProps:t,additionalProps:s,externalSlotProps:l,externalForwardedProps:u,className:c}=e;if(!t){let e=(0,i.default)(null==s?void 0:s.className,c,null==u?void 0:u.className,null==l?void 0:l.className),t=(0,n.default)({},null==s?void 0:s.style,null==u?void 0:u.style,null==l?void 0:l.style),o=(0,n.default)({},s,u,l);return e.length>0&&(o.className=e),Object.keys(t).length>0&&(o.style=t),{props:o,internalRef:void 0}}let d=(0,o.extractEventHandlers)((0,n.default)({},u,l)),p=(0,a.omitEventHandlers)(l),h=(0,a.omitEventHandlers)(u),f=t(d),g=(0,i.default)(null==f?void 0:f.className,null==s?void 0:s.className,c,null==u?void 0:u.className,null==l?void 0:l.className),m=(0,n.default)({},null==f?void 0:f.style,null==s?void 0:s.style,null==u?void 0:u.style,null==l?void 0:l.style),v=(0,n.default)({},f,s,h,p);return g.length>0&&(v.className=g),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:f.ref}}}),et("5bJk3",function(e,t){q(e.exports,"extractEventHandlers",()=>n);function n(e,t=[]){if(void 0===e)return{};let i={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n)).forEach(t=>{i[t]=e[t]}),i}}),et("8KAVQ",function(e,t){q(e.exports,"omitEventHandlers",()=>n);function n(e){if(void 0===e)return{};let t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t])).forEach(n=>{t[n]=e[n]}),t}}),et("dEVDz",function(e,t){q(e.exports,"resolveComponentProps",()=>n);function n(e,t,n){return"function"==typeof e?e(t,n):e}}),et("kCSbv",function(e,t){q(e.exports,"getTreeViewUtilityClass",()=>i);var n=ee("hH6Po");function i(e){return(0,n.default)("MuiTreeView",e)}(0,ee("auOVn").default)("MuiTreeView",["root"])}),et("836Kq",function(e,t){q(e.exports,"useTreeView",()=>u);var n=ee("5XyNA"),i=ee("dm060"),o=ee("duXim"),a=ee("fRQqP"),s=ee("1bgJc"),l=ee("lllmh");let u=e=>{let t=[...l.TREE_VIEW_CORE_PLUGINS,...e.plugins],u=t.reduce((e,t)=>t.getDefaultizedParams?t.getDefaultizedParams(e):e,e),c=(0,s.useTreeViewModels)(t,u),d=i.useRef({}).current,p=i.useRef(null),h=(0,o.default)(p,e.rootRef),[f,g]=i.useState(()=>{let e={};return t.forEach(t=>{t.getInitialState&&Object.assign(e,t.getInitialState(u))}),e}),m=[],v=a.DEFAULT_TREE_VIEW_CONTEXT_VALUE;return t.forEach(e=>{let t=e({instance:d,params:u,state:f,setState:g,rootRef:p,models:c})||{};t.getRootProps&&m.push(t.getRootProps),t.contextValue&&(v=t.contextValue)}),{getRootProps:(e={})=>{let t=(0,n.default)({role:"tree",tabIndex:0},e,{ref:h});return m.forEach(n=>{Object.assign(t,n(e))}),t},rootRef:h,contextValue:v}}}),et("fRQqP",function(e,t){q(e.exports,"DEFAULT_TREE_VIEW_CONTEXT_VALUE",()=>i),q(e.exports,"TreeViewContext",()=>o);var n=ee("dm060");let i={instance:null,multiSelect:!1,disabledItemsFocusable:!1,treeId:void 0,icons:{defaultCollapseIcon:null,defaultExpandIcon:null,defaultParentIcon:null,defaultEndIcon:null}},o=/*#__PURE__*/n.createContext(i)}),et("1bgJc",function(e,t){q(e.exports,"useTreeViewModels",()=>o);var n=ee("5XyNA"),i=ee("dm060");let o=(e,t)=>{let o=i.useRef({}),[a,s]=i.useState(()=>{let n={};return e.forEach(e=>{e.models&&Object.entries(e.models).forEach(([e,i])=>{o.current[e]={controlledProp:i.controlledProp,defaultProp:i.defaultProp,isControlled:void 0!==t[i.controlledProp]},n[e]=t[i.defaultProp]})}),n});return Object.fromEntries(Object.entries(o.current).map(([e,i])=>{let o=i.isControlled?t[i.controlledProp]:a[e];return[e,{value:o,setValue:t=>{i.isControlled||s(i=>(0,n.default)({},i,{[e]:t}))}}]}))}}),et("lllmh",function(e,t){q(e.exports,"TREE_VIEW_CORE_PLUGINS",()=>n);let n=[ee("iSfh5").useTreeViewInstanceEvents]}),et("iSfh5",function(e,t){q(e.exports,"useTreeViewInstanceEvents",()=>s);var n=ee("dm060"),i=ee("dMfAt"),o=ee("10bCW");let a=e=>void 0!==e.isPropagationStopped,s=({instance:e})=>{let[t]=n.useState(()=>new i.EventManager),s=n.useCallback((...e)=>{let[n,i,o={}]=e;o.defaultMuiPrevented=!1,a(o)&&o.isPropagationStopped()||t.emit(n,i,o)},[t]),l=n.useCallback((e,n)=>(t.on(e,n),()=>{t.removeListener(e,n)}),[t]);(0,o.populateInstance)(e,{$$publishEvent:s,$$subscribeEvent:l})}}),et("dMfAt",function(e,t){q(e.exports,"EventManager",()=>n);class n{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(e,t,n={}){let i=this.events[e];i||(i={highPriority:new Map,regular:new Map},this.events[e]=i),n.isFirst?i.highPriority.set(t,!0):i.regular.set(t,!0)}removeListener(e,t){this.events[e]&&(this.events[e].regular.delete(t),this.events[e].highPriority.delete(t))}removeAllListeners(){this.events={}}emit(e,...t){let n=this.events[e];if(!n)return;let i=Array.from(n.highPriority.keys()),o=Array.from(n.regular.keys());for(let e=i.length-1;e>=0;e-=1){let o=i[e];n.highPriority.has(o)&&o.apply(this,t)}for(let e=0;e<o.length;e+=1){let i=o[e];n.regular.has(i)&&i.apply(this,t)}}once(e,t){let n=this;this.on(e,function i(...o){n.removeListener(e,i),t.apply(n,o)})}}}),et("10bCW",function(e,t){q(e.exports,"getPreviousNode",()=>n),q(e.exports,"getNextNode",()=>i),q(e.exports,"getLastNode",()=>o),q(e.exports,"getFirstNode",()=>a),q(e.exports,"populateInstance",()=>s);let n=(e,t)=>{let n=e.getNode(t),i=e.getNavigableChildrenIds(n.parentId),o=i.indexOf(t);if(0===o)return n.parentId;let a=i[o-1];for(;e.isNodeExpanded(a)&&e.getNavigableChildrenIds(a).length>0;)a=e.getNavigableChildrenIds(a).pop();return a},i=(e,t)=>{if(e.isNodeExpanded(t)&&e.getNavigableChildrenIds(t).length>0)return e.getNavigableChildrenIds(t)[0];let n=e.getNode(t);for(;null!=n;){let t=e.getNavigableChildrenIds(n.parentId),i=t[t.indexOf(n.id)+1];if(i)return i;n=e.getNode(n.parentId)}return null},o=e=>{let t=e.getNavigableChildrenIds(null).pop();for(;e.isNodeExpanded(t);)t=e.getNavigableChildrenIds(t).pop();return t},a=e=>e.getNavigableChildrenIds(null)[0],s=(e,t)=>{Object.assign(e,t)}}),et("cjqCJ",function(e,t){q(e.exports,"TreeViewProvider",()=>a),ee("dm060");var n=ee("fRQqP"),i=ee("8Cbq1"),o=ee("9L45J");function a(e){let{value:t,children:a}=e;return/*#__PURE__*/(0,o.jsx)(n.TreeViewContext.Provider,{value:t,children:/*#__PURE__*/(0,o.jsx)(i.DescendantProvider,{children:a})})}}),et("8Cbq1",function(e,t){q(e.exports,"useDescendant",()=>d),q(e.exports,"DescendantProvider",()=>p);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("evlvx"),s=ee("9L45J");let l=["element"],u=/*#__PURE__*/o.createContext({}),c=()=>{};function d(e){let[,t]=o.useState(),{registerDescendant:n=c,unregisterDescendant:s=c,descendants:l=[],parentId:d=null}=o.useContext(u),p=function(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return -1}(l,t=>t.element===e.element),h=function(e){let t=o.useRef(null);return o.useEffect(()=>{t.current=e},[e]),t.current}(l),f=l.some((e,t)=>h&&h[t]&&h[t].element!==e.element);return(0,a.default)(()=>{if(e.element)return n((0,i.default)({},e,{index:p})),()=>{s(e.element)};t({})},[n,s,p,f,e]),{parentId:d,index:p}}function p(e){let{children:t,id:a}=e,[c,d]=o.useState([]),p=o.useCallback(e=>{let{element:t}=e,o=(0,n.default)(e,l);d(e=>{let n;if(0===e.length)return[(0,i.default)({},o,{element:t,index:0})];let a=function(e,t){let n=0,i=e.length-1;for(;n<=i;){let o=Math.floor((n+i)/2);if(e[o].element===t)return o;e[o].element.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?i=o-1:n=o+1}return n}(e,t);if(e[a]&&e[a].element===t)n=e;else{let s=(0,i.default)({},o,{element:t,index:a});(n=e.slice()).splice(a,0,s)}return n.forEach((e,t)=>{e.index=t}),n})},[]),h=o.useCallback(e=>{d(t=>t.filter(t=>e!==t.element))},[]),f=o.useMemo(()=>({descendants:c,registerDescendant:p,unregisterDescendant:h,parentId:a}),[c,p,h,a]);return/*#__PURE__*/(0,s.jsx)(u.Provider,{value:f,children:t})}}),et("ibHaP",function(e,t){q(e.exports,"DEFAULT_TREE_VIEW_PLUGINS",()=>u);var n=ee("aZHAQ"),i=ee("7hZqw"),o=ee("eJ7Tl"),a=ee("bJmZt"),s=ee("iNzJp"),l=ee("hrlw8");let u=[n.useTreeViewNodes,i.useTreeViewExpansion,o.useTreeViewSelection,a.useTreeViewFocus,s.useTreeViewKeyboardNavigation,l.useTreeViewContextValueBuilder]}),et("aZHAQ",function(e,t){q(e.exports,"useTreeViewNodes",()=>l);var n=ee("5XyNA"),i=ee("dm060"),o=ee("bOBP7"),a=ee("10bCW"),s=ee("lDcUp");let l=({instance:e,params:t})=>{let l=i.useRef({}),u=i.useCallback(e=>l.current[e],[]),c=i.useCallback(e=>{l.current[e.id]=e},[]),d=i.useCallback(t=>{let i=(0,n.default)({},l.current);delete i[t],l.current=i,(0,s.publishTreeViewEvent)(e,"removeNode",{id:t})},[e]),p=i.useCallback(t=>{if(null==t)return!1;let n=e.getNode(t);if(!n)return!1;if(n.disabled)return!0;for(;null!=n.parentId;)if((n=e.getNode(n.parentId)).disabled)return!0;return!1},[e]),h=(0,o.default)(e=>Object.values(l.current).filter(t=>t.parentId===e).sort((e,t)=>e.index-t.index).map(e=>e.id));(0,a.populateInstance)(e,{getNode:u,updateNode:c,removeNode:d,getChildrenIds:h,getNavigableChildrenIds:n=>{let i=e.getChildrenIds(n);return t.disabledItemsFocusable||(i=i.filter(t=>!e.isNodeDisabled(t))),i},isNodeDisabled:p})}}),et("lDcUp",function(e,t){q(e.exports,"publishTreeViewEvent",()=>n);let n=(e,t,n)=>{e.$$publishEvent(t,n)}}),et("7hZqw",function(e,t){q(e.exports,"useTreeViewExpansion",()=>s);var n=ee("5XyNA"),i=ee("dm060"),o=ee("bOBP7"),a=ee("10bCW");let s=({instance:e,params:t,models:n})=>{let s=i.useCallback(e=>!!Array.isArray(n.expanded.value)&&-1!==n.expanded.value.indexOf(e),[n.expanded.value]),l=i.useCallback(t=>{var n;return!!(null!=(n=e.getNode(t))&&n.expandable)},[e]),u=(0,o.default)((e,i)=>{let o;null!=i&&(o=-1!==n.expanded.value.indexOf(i)?n.expanded.value.filter(e=>e!==i):[i].concat(n.expanded.value),t.onNodeToggle&&t.onNodeToggle(e,o),n.expanded.setValue(o))});(0,a.populateInstance)(e,{isNodeExpanded:s,isNodeExpandable:l,toggleNodeExpansion:u,expandAllSiblings:(i,o)=>{let a=e.getNode(o),s=e.getChildrenIds(a.parentId).filter(t=>e.isNodeExpandable(t)&&!e.isNodeExpanded(t)),l=n.expanded.value.concat(s);s.length>0&&(n.expanded.setValue(l),t.onNodeToggle&&t.onNodeToggle(i,l))}})};s.models={expanded:{controlledProp:"expanded",defaultProp:"defaultExpanded"}};let l=[];s.getDefaultizedParams=e=>{var t;return(0,n.default)({},e,{defaultExpanded:null!=(t=e.defaultExpanded)?t:l})}}),et("eJ7Tl",function(e,t){q(e.exports,"useTreeViewSelection",()=>s);var n=ee("5XyNA"),i=ee("dm060"),o=ee("10bCW"),a=ee("24Dx6");let s=({instance:e,params:t,models:n})=>{let s=i.useRef(null),l=i.useRef(!1),u=i.useRef([]),c=(t,n)=>{let[i,s]=(0,a.findOrderInTremauxTree)(e,t,n),l=[i],u=i;for(;u!==s;)l.push(u=(0,o.getNextNode)(e,u));return l},d=(e,i)=>{let o=n.selected.value.slice(),{start:a,next:s,current:c}=i;s&&c&&(-1===u.current.indexOf(c)&&(u.current=[]),l.current?-1!==u.current.indexOf(s)?(o=o.filter(e=>e===a||e!==c),u.current=u.current.filter(e=>e===a||e!==c)):(o.push(s),u.current.push(s)):(o.push(s),u.current.push(c,s)),t.onNodeSelect&&t.onNodeSelect(e,o),n.selected.setValue(o))},p=(i,o)=>{let a=n.selected.value.slice(),{start:s,end:d}=o;l.current&&(a=a.filter(e=>-1===u.current.indexOf(e)));let p=c(s,d);p=p.filter(t=>!e.isNodeDisabled(t)),u.current=p;let h=a.concat(p);h=h.filter((e,t)=>h.indexOf(e)===t),t.onNodeSelect&&t.onNodeSelect(i,h),n.selected.setValue(h)};return(0,o.populateInstance)(e,{isNodeSelected:e=>Array.isArray(n.selected.value)?-1!==n.selected.value.indexOf(e):n.selected.value===e,selectNode:(e,i,o=!1)=>{if(!t.disableSelection){if(o){if(Array.isArray(n.selected.value)){let o;o=-1!==n.selected.value.indexOf(i)?n.selected.value.filter(e=>e!==i):[i].concat(n.selected.value),t.onNodeSelect&&t.onNodeSelect(e,o),n.selected.setValue(o)}}else{let o=t.multiSelect?[i]:i;t.onNodeSelect&&t.onNodeSelect(e,o),n.selected.setValue(o)}s.current=i,l.current=!1,u.current=[]}},selectRange:(e,n,i=!1)=>{if(t.disableSelection)return;let{start:o=s.current,end:a,current:u}=n;i?d(e,{start:o,next:a,current:u}):null!=o&&null!=a&&p(e,{start:o,end:a}),l.current=!0},rangeSelectToLast:(t,n)=>{s.current||(s.current=n);let i=l.current?s.current:n;e.selectRange(t,{start:i,end:(0,o.getLastNode)(e)})},rangeSelectToFirst:(t,n)=>{s.current||(s.current=n);let i=l.current?s.current:n;e.selectRange(t,{start:i,end:(0,o.getFirstNode)(e)})}}),{getRootProps:()=>({"aria-multiselectable":t.multiSelect})}};s.models={selected:{controlledProp:"selected",defaultProp:"defaultSelected"}};let l=[];s.getDefaultizedParams=e=>{var t,i,o;return(0,n.default)({},e,{disableSelection:null!=(t=e.disableSelection)&&t,multiSelect:null!=(i=e.multiSelect)&&i,defaultSelected:null!=(o=e.defaultSelected)?o:e.multiSelect?l:null})}}),et("24Dx6",function(e,t){q(e.exports,"findOrderInTremauxTree",()=>n);let n=(e,t,n)=>{if(t===n)return[t,n];let i=e.getNode(t),o=e.getNode(n);if(i.parentId===o.id||o.parentId===i.id)return o.parentId===i.id?[i.id,o.id]:[o.id,i.id];let a=[i.id],s=[o.id],l=i.parentId,u=o.parentId,c=-1!==s.indexOf(l),d=-1!==a.indexOf(u),p=!0,h=!0;for(;!d&&!c;)p&&(a.push(l),c=-1!==s.indexOf(l),p=null!==l,!c&&p&&(l=e.getNode(l).parentId)),h&&!c&&(s.push(u),d=-1!==a.indexOf(u),h=null!==u,!d&&h&&(u=e.getNode(u).parentId));let f=c?l:u,g=e.getChildrenIds(f),m=a[a.indexOf(f)-1],v=s[s.indexOf(f)-1];return g.indexOf(m)<g.indexOf(v)?[t,n]:[n,t]}}),et("bJmZt",function(e,t){q(e.exports,"useTreeViewFocus",()=>u);var n=ee("5XyNA"),i=ee("dm060"),o=ee("bOBP7"),a=ee("lauWI"),s=ee("10bCW"),l=ee("2jULt");let u=({instance:e,params:t,state:u,setState:c,models:d,rootRef:p})=>{let h=(0,o.default)(e=>{let t="function"==typeof e?e(u.focusedNodeId):e;c(e=>(0,n.default)({},e,{focusedNodeId:t}))}),f=i.useCallback(e=>u.focusedNodeId===e,[u.focusedNodeId]),g=(0,o.default)((e,n)=>{n&&(h(n),t.onNodeFocus&&t.onNodeFocus(e,n))});(0,s.populateInstance)(e,{isNodeFocused:f,focusNode:g}),(0,l.useInstanceEventHandler)(e,"removeNode",({id:t})=>{h(n=>n===t&&p.current===(0,a.default)(p.current).activeElement?e.getChildrenIds(null)[0]:n)});let m=t=>n=>{var i;if(null==(i=t.onFocus)||i.call(t,n),n.target===n.currentTarget){let t;let i=t=>{let n=e.getNode(t);return n&&(null==n.parentId||e.isNodeExpanded(n.parentId))};Array.isArray(d.selected.value)?t=d.selected.value.find(i):null!=d.selected.value&&i(d.selected.value)&&(t=d.selected.value),null==t&&(t=e.getNavigableChildrenIds(null)[0]),e.focusNode(n,t)}},v=e=>t=>{var n;null==(n=e.onBlur)||n.call(e,t),h(null)},y=e.getNode(u.focusedNodeId),b=y?y.idAttribute:null;return{getRootProps:e=>({onFocus:m(e),onBlur:v(e),"aria-activedescendant":null!=b?b:void 0})}};u.getInitialState=()=>({focusedNodeId:null}),u.getDefaultizedParams=e=>{var t;return(0,n.default)({},e,{disabledItemsFocusable:null!=(t=e.disabledItemsFocusable)&&t})}}),et("2jULt",function(e,t){let n;q(e.exports,"useInstanceEventHandler",()=>u);var i,o=ee("dm060"),a=ee("lxZkV"),s=ee("2q0F4");class l{}let u=(i={registry:null},n=0,function(e,t,u){null===i.registry&&(i.registry="undefined"!=typeof FinalizationRegistry?new s.FinalizationRegistryBasedCleanupTracking:new a.TimerBasedCleanupTracking);let[c]=o.useState(new l),d=o.useRef(null),p=o.useRef();p.current=u;let h=o.useRef(null);!d.current&&p.current?(d.current=e.$$subscribeEvent(t,(e,t)=>{if(!t.defaultMuiPrevented){var n;null==(n=p.current)||n.call(p,e,t)}}),n+=1,h.current={cleanupToken:n},i.registry.register(c,()=>{var e;null==(e=d.current)||e.call(d),d.current=null,h.current=null},h.current)):!p.current&&d.current&&(d.current(),d.current=null,h.current&&(i.registry.unregister(h.current),h.current=null)),o.useEffect(()=>(!d.current&&p.current&&(d.current=e.$$subscribeEvent(t,(e,t)=>{if(!t.defaultMuiPrevented){var n;null==(n=p.current)||n.call(p,e,t)}})),h.current&&i.registry&&(i.registry.unregister(h.current),h.current=null),()=>{var e;null==(e=d.current)||e.call(d),d.current=null}),[e,t])})}),et("lxZkV",function(e,t){q(e.exports,"TimerBasedCleanupTracking",()=>n);class n{constructor(e=1e3){this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=e}register(e,t,n){this.timeouts||(this.timeouts=new Map);let i=setTimeout(()=>{"function"==typeof t&&t(),this.timeouts.delete(n.cleanupToken)},this.cleanupTimeout);this.timeouts.set(n.cleanupToken,i)}unregister(e){let t=this.timeouts.get(e.cleanupToken);t&&(this.timeouts.delete(e.cleanupToken),clearTimeout(t))}reset(){this.timeouts&&(this.timeouts.forEach((e,t)=>{this.unregister({cleanupToken:t})}),this.timeouts=void 0)}}}),et("2q0F4",function(e,t){q(e.exports,"FinalizationRegistryBasedCleanupTracking",()=>n);class n{constructor(){this.registry=new FinalizationRegistry(e=>{"function"==typeof e&&e()})}register(e,t,n){this.registry.register(e,t,n)}unregister(e){this.registry.unregister(e)}reset(){}}}),et("iNzJp",function(e,t){q(e.exports,"useTreeViewKeyboardNavigation",()=>u);var n=ee("5XyNA"),i=ee("dm060"),o=ee("3rPNm"),a=ee("bOBP7"),s=ee("10bCW");function l(e,t,n){for(let i=t;i<e.length;i+=1)if(n===e[i])return i;return -1}let u=({instance:e,params:t,state:u})=>{let c="rtl"===(0,o.default)().direction,d=i.useRef({}),p=(0,a.default)((e,t)=>(d.current[e]=t,()=>{let t=(0,n.default)({},d.current);delete t[e],d.current=t}));(0,s.populateInstance)(e,{mapFirstChar:p});let h=t=>(null!=u.focusedNodeId&&e.isNodeExpandable(u.focusedNodeId)&&(e.isNodeExpanded(u.focusedNodeId)?e.focusNode(t,(0,s.getNextNode)(e,u.focusedNodeId)):e.isNodeDisabled(u.focusedNodeId)||e.toggleNodeExpansion(t,u.focusedNodeId)),!0),f=t=>{if(null==u.focusedNodeId)return!1;if(e.isNodeExpanded(u.focusedNodeId)&&!e.isNodeDisabled(u.focusedNodeId))return e.toggleNodeExpansion(t,u.focusedNodeId),!0;let n=e.getNode(u.focusedNodeId).parentId;return!!n&&(e.focusNode(t,n),!0)},g=(n,i,o)=>{let a,s;let u=o.toLowerCase(),c=[],p=[];Object.keys(d.current).forEach(n=>{let i=e.getNode(n),o=!i.parentId||e.isNodeExpanded(i.parentId),a=!t.disabledItemsFocusable&&e.isNodeDisabled(n);o&&!a&&(c.push(n),p.push(d.current[n]))}),(a=c.indexOf(i)+1)>=c.length&&(a=0),-1===(s=l(p,a,u))&&(s=l(p,0,u)),s>-1&&e.focusNode(n,c[s])},m=(t,n)=>{e.isNodeDisabled((0,s.getNextNode)(e,n))||e.selectRange(t,{end:(0,s.getNextNode)(e,n),current:n},!0)},v=(t,n)=>{e.isNodeDisabled((0,s.getPreviousNode)(e,n))||e.selectRange(t,{end:(0,s.getPreviousNode)(e,n),current:n},!0)},y=n=>i=>{var o,a;null==(o=n.onKeyDown)||o.call(n,i);let l=!1,d=i.key;if(i.altKey||i.currentTarget!==i.target||null==u.focusedNodeId)return;let p=i.ctrlKey||i.metaKey;switch(d){case" ":t.disableSelection||e.isNodeDisabled(u.focusedNodeId)||(l=!0,t.multiSelect&&i.shiftKey?e.selectRange(i,{end:u.focusedNodeId}):t.multiSelect?e.selectNode(i,u.focusedNodeId,!0):e.selectNode(i,u.focusedNodeId)),i.stopPropagation();break;case"Enter":e.isNodeDisabled(u.focusedNodeId)||(e.isNodeExpandable(u.focusedNodeId)?(e.toggleNodeExpansion(i,u.focusedNodeId),l=!0):t.disableSelection||(l=!0,t.multiSelect?e.selectNode(i,u.focusedNodeId,!0):e.selectNode(i,u.focusedNodeId))),i.stopPropagation();break;case"ArrowDown":t.multiSelect&&i.shiftKey&&!t.disableSelection&&m(i,u.focusedNodeId),e.focusNode(i,(0,s.getNextNode)(e,u.focusedNodeId)),l=!0;break;case"ArrowUp":t.multiSelect&&i.shiftKey&&!t.disableSelection&&v(i,u.focusedNodeId),e.focusNode(i,(0,s.getPreviousNode)(e,u.focusedNodeId)),l=!0;break;case"ArrowRight":l=c?f(i):h(i);break;case"ArrowLeft":l=c?h(i):f(i);break;case"Home":t.multiSelect&&p&&i.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(u.focusedNodeId)&&e.rangeSelectToFirst(i,u.focusedNodeId),e.focusNode(i,(0,s.getFirstNode)(e)),l=!0;break;case"End":t.multiSelect&&p&&i.shiftKey&&!t.disableSelection&&!e.isNodeDisabled(u.focusedNodeId)&&e.rangeSelectToLast(i,u.focusedNodeId),e.focusNode(i,(0,s.getLastNode)(e)),l=!0;break;default:"*"===d?(e.expandAllSiblings(i,u.focusedNodeId),l=!0):t.multiSelect&&p&&"a"===d.toLowerCase()&&!t.disableSelection?(e.selectRange(i,{start:(0,s.getFirstNode)(e),end:(0,s.getLastNode)(e)}),l=!0):!p&&!i.shiftKey&&(a=d)&&1===a.length&&a.match(/\S/)&&(g(i,u.focusedNodeId,d),l=!0)}l&&(i.preventDefault(),i.stopPropagation())};return{getRootProps:e=>({onKeyDown:y(e)})}}}),et("hrlw8",function(e,t){q(e.exports,"useTreeViewContextValueBuilder",()=>i);var n=ee("bagf4");let i=({instance:e,params:t})=>{let i=(0,n.default)(t.id);return{getRootProps:()=>({id:i}),contextValue:{treeId:i,instance:e,multiSelect:t.multiSelect,disabledItemsFocusable:t.disabledItemsFocusable,icons:{defaultCollapseIcon:t.defaultCollapseIcon,defaultEndIcon:t.defaultEndIcon,defaultExpandIcon:t.defaultExpandIcon,defaultParentIcon:t.defaultParentIcon}}}}}),et("aLbbO",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")}),et("9FrQR",function(e,t){q(e.exports,"TreeItem",()=>E);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("fvPlZ"),l=ee("3uUVc"),u=ee("37zHU"),c=ee("4DVOv"),d=ee("lauWI"),p=ee("duXim"),h=ee("kbtjl"),f=ee("8Cbq1"),g=ee("3pKF9"),m=ee("015xZ"),v=ee("lSr93"),y=ee("9L45J");let b=["children","className","collapseIcon","ContentComponent","ContentProps","endIcon","expandIcon","disabled","icon","id","label","nodeId","onClick","onMouseDown","TransitionComponent","TransitionProps"],w=e=>{let{classes:t}=e;return(0,h.default)({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],group:["group"]},m.getTreeItemUtilityClass,t)},x=(0,u.default)("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),S=(0,u.default)(g.TreeItemContent,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${m.treeItemClasses.iconContainer}`]:t.iconContainer},t.label&&{[`& .${m.treeItemClasses.label}`]:t.label}]})(({theme:e})=>({padding:"0 8px",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${m.treeItemClasses.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${m.treeItemClasses.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${m.treeItemClasses.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${m.treeItemClasses.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${m.treeItemClasses.iconContainer}`]:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${m.treeItemClasses.label}`]:(0,i.default)({paddingLeft:4,width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),_=(0,u.default)(s.default,{name:"MuiTreeItem",slot:"Group",overridesResolver:(e,t)=>t.group})({margin:0,padding:0,marginLeft:17}),E=/*#__PURE__*/o.forwardRef(function(e,t){let l,u,h,m;let E=(0,c.default)({props:e,name:"MuiTreeItem"}),{children:T,className:O,collapseIcon:I,ContentComponent:P=g.TreeItemContent,ContentProps:C,endIcon:A,expandIcon:R,disabled:k,icon:D,id:N,label:M,nodeId:L,onClick:j,onMouseDown:F,TransitionComponent:B=s.default,TransitionProps:z}=E,U=(0,n.default)(E,b),{icons:W,multiSelect:H,disabledItemsFocusable:V,treeId:G,instance:$}=(0,v.useTreeViewContext)();null!=N?l=N:G&&L&&(l=`${G}-${L}`);let[q,X]=o.useState(null),Y=o.useRef(null),K=(0,p.default)(X,t),Z=o.useMemo(()=>({element:q,id:L}),[L,q]),{index:J,parentId:Q}=(0,f.useDescendant)(Z),ee=!!(Array.isArray(T)?T.length:T),et=!!$&&$.isNodeExpanded(L),er=!!$&&$.isNodeFocused(L),en=!!$&&$.isNodeSelected(L),ei=!!$&&$.isNodeDisabled(L),eo=(0,i.default)({},E,{expanded:et,focused:er,selected:en,disabled:ei}),ea=w(eo);return ee&&(h=et?I||W.defaultCollapseIcon:R||W.defaultExpandIcon),u=ee?W.defaultParentIcon:A||W.defaultEndIcon,o.useEffect(()=>{if($&&-1!==J)return $.updateNode({id:L,idAttribute:l,index:J,parentId:Q,expandable:ee,disabled:k}),()=>$.removeNode(L)},[$,Q,J,L,ee,k,l]),o.useEffect(()=>{if($&&M){var e,t;return $.mapFirstChar(L,(null!=(e=null==(t=Y.current)?void 0:t.textContent)?e:"").substring(0,1).toLowerCase())}},[$,L,M]),H?m=en:en&&(m=!0),/*#__PURE__*/(0,y.jsxs)(x,(0,i.default)({className:(0,a.default)(ea.root,O),role:"treeitem","aria-expanded":ee?et:void 0,"aria-selected":m,"aria-disabled":ei||void 0,id:l,tabIndex:-1},U,{ownerState:eo,onFocus:function(e){e.target===e.currentTarget&&("function"==typeof e.target.getRootNode?e.target.getRootNode():(0,d.default)(e.target)).getElementById(G).focus({preventScroll:!0});let t=!V&&ei;!$||er||e.currentTarget!==e.target||t||$.focusNode(e,L)},ref:K,children:[/*#__PURE__*/(0,y.jsx)(S,(0,i.default)({as:P,ref:Y,classes:{root:ea.content,expanded:ea.expanded,selected:ea.selected,focused:ea.focused,disabled:ea.disabled,iconContainer:ea.iconContainer,label:ea.label},label:M,nodeId:L,onClick:j,onMouseDown:F,icon:D,expansionIcon:h,displayIcon:u,ownerState:eo},C)),T&&/*#__PURE__*/(0,y.jsx)(f.DescendantProvider,{id:L,children:/*#__PURE__*/(0,y.jsx)(_,(0,i.default)({as:B,unmountOnExit:!0,className:ea.group,in:et,component:"ul",role:"group"},z,{children:T}))})]}))})}),et("3pKF9",function(e,t){q(e.exports,"TreeItemContent",()=>c);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kNKqr"),l=ee("9L45J");let u=["classes","className","displayIcon","expansionIcon","icon","label","nodeId","onClick","onMouseDown"],c=/*#__PURE__*/o.forwardRef(function(e,t){let{classes:o,className:c,displayIcon:d,expansionIcon:p,icon:h,label:f,nodeId:g,onClick:m,onMouseDown:v}=e,y=(0,i.default)(e,u),{disabled:b,expanded:w,selected:x,focused:S,handleExpansion:_,handleSelection:E,preventSelection:T}=(0,s.useTreeItem)(g);return/*#__PURE__*/(0,l.jsxs)("div",(0,n.default)({},y,{className:(0,a.default)(c,o.root,w&&o.expanded,x&&o.selected,S&&o.focused,b&&o.disabled),onClick:e=>{_(e),E(e),m&&m(e)},onMouseDown:e=>{T(e),v&&v(e)},ref:t,children:[/*#__PURE__*/(0,l.jsx)("div",{className:o.iconContainer,children:h||p||d}),/*#__PURE__*/(0,l.jsx)("div",{className:o.label,children:f})]}))})}),et("kNKqr",function(e,t){q(e.exports,"useTreeItem",()=>i);var n=ee("lSr93");function i(e){let{instance:t,multiSelect:i}=(0,n.useTreeViewContext)(),o=!!t&&t.isNodeExpandable(e),a=!!t&&t.isNodeExpanded(e),s=!!t&&t.isNodeFocused(e),l=!!t&&t.isNodeSelected(e),u=!!t&&t.isNodeDisabled(e);return{disabled:u,expanded:a,selected:l,focused:s,handleExpansion:n=>{if(t&&!u){s||t.focusNode(n,e);let a=i&&(n.shiftKey||n.ctrlKey||n.metaKey);o&&!(a&&t.isNodeExpanded(e))&&t.toggleNodeExpansion(n,e)}},handleSelection:n=>{t&&!u&&(s||t.focusNode(n,e),i&&(n.shiftKey||n.ctrlKey||n.metaKey)?n.shiftKey?t.selectRange(n,{end:e}):t.selectNode(n,e,!0):t.selectNode(n,e))},preventSelection:e=>{(e.shiftKey||e.ctrlKey||e.metaKey||u)&&e.preventDefault()}}}}),et("lSr93",function(e,t){q(e.exports,"useTreeViewContext",()=>o);var n=ee("dm060"),i=ee("fRQqP");let o=()=>n.useContext(i.TreeViewContext)}),et("015xZ",function(e,t){q(e.exports,"getTreeItemUtilityClass",()=>i),q(e.exports,"treeItemClasses",()=>o);var n=ee("hH6Po");function i(e){return(0,n.default)("MuiTreeItem",e)}let o=(0,ee("auOVn").default)("MuiTreeItem",["root","group","content","expanded","selected","focused","disabled","iconContainer","label"])}),et("7LLaT",function(e,t){q(e.exports,"default",()=>u);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("8pjuL"),s=ee("lqD1Z"),l=ee("89USe"),u=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){t.id;var n=t.windowId;return{manifestLogo:(0,a.getManifestLogo)(e,{windowId:n}),requiredStatement:(0,a.getRequiredStatement)(e,{windowId:n}),rights:(0,a.getRights)(e,{windowId:n})}}),(0,s.withPlugins)("AttributionPanel"))(l.AttributionPanel)}),et("89USe",function(e,t){q(e.exports,"AttributionPanel",()=>S);var n=ee("dm060"),i=ee("37zHU"),o=ee("d822V"),a=ee("fO93T"),s=ee("8yfls"),l=ee("dEUQD"),u=ee("d6cg7"),c=ee("5MoWj"),d=ee("bN2oN"),p=ee("YT00d"),h=ee("e32sw"),f=ee("9L45J");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var w=(0,i.default)(l.Img)(function(){return{maxWidth:"100%"}}),x=(0,i.default)(s.default)(function(e){return{backgroundColor:e.theme.palette.grey[300]}}),S=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=y(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,v()?Reflect.construct(e,t||[],y(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.manifestLogo,n=e.requiredStatement,i=e.rights,s=e.windowId,l=e.id,v=e.t;return/*#__PURE__*/(0,f.jsxs)(u.default,{title:v("attributionTitle"),paperClassName:(0,p.default)("attribution-panel"),windowId:s,id:l,children:[/*#__PURE__*/(0,f.jsxs)(c.CompanionWindowSection,{children:[n&&/*#__PURE__*/(0,f.jsx)(d.LabelValueMetadata,{labelValuePairs:n,defaultLabel:v("attribution")}),i&&i.length>0&&/*#__PURE__*/(0,f.jsxs)("dl",{className:(0,p.default)("label-value-metadata"),children:[/*#__PURE__*/(0,f.jsx)(o.default,{variant:"subtitle2",component:"dt",children:v("rights")}),i.map(function(e){return/*#__PURE__*/(0,f.jsx)(o.default,{variant:"body1",component:"dd",children:/*#__PURE__*/(0,f.jsx)(a.default,{target:"_blank",rel:"noopener noreferrer",href:e,children:e})},e.toString())})]})]}),t&&/*#__PURE__*/(0,f.jsx)(c.CompanionWindowSection,{children:/*#__PURE__*/(0,f.jsx)(w,{src:[t],alt:"",role:"presentation",unloader:/*#__PURE__*/(0,f.jsx)(x,{variant:"rectangular",height:60,width:60})})}),/*#__PURE__*/(0,f.jsx)(h.PluginHook,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=m(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,m(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);S.defaultProps={manifestLogo:null,requiredStatement:null,rights:null,t:function(e){return e}}}),et("8yfls",function(e,t){q(e.exports,"default",()=>T);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("1yKl8"),l=ee("kbtjl"),u=ee("3uUVc"),c=ee("fRp1g"),d=ee("37zHU"),p=ee("91wvo"),h=ee("efo7I"),f=ee("9L45J");let g=["animation","className","component","height","style","variant","width"],m=e=>e,v,y,b,w,x=e=>{let{classes:t,variant:n,animation:i,hasChildren:o,width:a,height:s}=e;return(0,l.default)({root:["root",n,i,o&&"withChildren",o&&!a&&"fitContent",o&&!s&&"heightAuto"]},h.getSkeletonUtilityClass,t)},S=(0,s.keyframes)(v||(v=m`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),_=(0,s.keyframes)(y||(y=m`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),E=(0,d.default)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{let n=(0,c.getUnit)(e.shape.borderRadius)||"px",o=(0,c.toUnitless)(e.shape.borderRadius);return(0,i.default)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,u.alpha)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${n}/${Math.round(o/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>"pulse"===e.animation&&(0,s.css)(b||(b=m`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),S),({ownerState:e,theme:t})=>"wave"===e.animation&&(0,s.css)(w||(w=m`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),_,(t.vars||t).palette.action.hover));var T=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,p.useDefaultProps)({props:e,name:"MuiSkeleton"}),{animation:s="pulse",className:l,component:u="span",height:c,style:d,variant:h="text",width:m}=o,v=(0,n.default)(o,g),y=(0,i.default)({},o,{animation:s,component:u,variant:h,hasChildren:!!v.children}),b=x(y);return/*#__PURE__*/(0,f.jsx)(E,(0,i.default)({as:u,ref:t,className:(0,a.default)(b.root,l),ownerState:y},v,{style:(0,i.default)({width:m,height:c},d)}))})}),et("fRp1g",function(e,t){function n(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function i(e){return parseFloat(e)}q(e.exports,"getUnit",()=>n),q(e.exports,"toUnitless",()=>i)}),et("efo7I",function(e,t){q(e.exports,"getSkeletonUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiSkeleton",e)}(0,n.default)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"])}),et("dEUQD",function(e,t){e.exports,function(e,t,n,i){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?a(Object(t),!0).forEach(function(n){c.default(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}function l(e){var t=e.srcList,n=e.imgPromise,o=void 0===n?h({decode:!0}):n,a=e.useSuspense,l=void 0===a||a,u=i.useState(!1)[1],c=f(g(t)),d=c.join("");if(m[d]||(m[d]={promise:v(c,o),cache:"pending",error:null}),"resolved"===m[d].cache)return{src:m[d].src,isLoading:!1,error:null};if("rejected"===m[d].cache){if(l)throw m[d].error;return{isLoading:!1,error:m[d].error,src:void 0}}if(m[d].promise.then(function(e){m[d]=s(s({},m[d]),{},{cache:"resolved",src:e}),l||u(d)}).catch(function(e){m[d]=s(s({},m[d]),{},{cache:"rejected",error:e}),l||u(d)}),l)throw m[d].promise;return{isLoading:!0,src:void 0,error:null}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var c=o(t),d=o(n),p=o(i),h=function(e){var t=e.decode,n=e.crossOrigin,i=void 0===n?"":n;return function(e){return new Promise(function(n,o){var a=new Image;i&&(a.crossOrigin=i),a.onload=function(){(!(void 0!==t)||t)&&a.decode?a.decode().then(n).catch(o):n()},a.onerror=o,a.src=e})}},f=function(e){return e.filter(function(e){return e})},g=function(e){return Array.isArray(e)?e:[e]},m={},v=function(e,t){var n=!1;return new Promise(function(i,o){var a=function(e){return t(e).then(function(){n=!0,i(e)})};e.reduce(function(e,t){return e.catch(function(){if(!n)return a(t)})},a(e.shift())).catch(o)})},y=["decode","src","loader","unloader","container","loaderContainer","unloaderContainer","imgPromise","crossorigin","useSuspense"],b=function(e){return e};e.Img=function(e){var t=e.decode,n=e.src,i=e.loader,o=e.unloader,a=void 0===o?null:o,s=e.container,f=void 0===s?b:s,g=e.loaderContainer,m=void 0===g?b:g,v=e.unloaderContainer,w=void 0===v?b:v,x=e.imgPromise,S=e.crossorigin,_=e.useSuspense,E=void 0!==_&&_,T=d.default(e,y),O=l({srcList:void 0===n?[]:n,imgPromise:x=x||h({decode:!(void 0!==t)||t,crossOrigin:S}),useSuspense:E}),I=O.src,P=O.isLoading;return I?f(p.default.createElement("img",function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?u(Object(t),!0).forEach(function(n){c.default(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))});return e}({src:I},T))):!E&&P?m(void 0===i?null:i):!E&&a?w(a):null},e.useImage=l,Object.defineProperty(e,"__esModule",{value:!0})}(e.exports,ee("krEWq"),ee("4UjiJ"),ee("dm060"))}),et("krEWq",function(e,t){var n=ee("2PP8b");e.exports=function(e,t,i){return(t=n(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports}),et("2PP8b",function(e,t){var n=ee("5UzjP").default,i=ee("jrsSa");e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports}),et("5UzjP",function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}),et("jrsSa",function(e,t){var n=ee("5UzjP").default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}),et("lfJgr",function(e,t){q(e.exports,"default",()=>p);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("3Egnc"),s=ee("lqD1Z"),l=ee("ioJxu"),u=ee("8pjuL"),c=ee("lmpGm"),d=ee("cEqnD"),p=(0,n.compose)((0,i.connect)(function(e,t){var n=t.id,i=t.windowId;return{query:(0,c.getSearchQuery)(e,{companionWindowId:n,windowId:i}),searchService:(0,u.getManifestSearchService)(e,{windowId:i}),suggestedSearches:(0,d.getWindow)(e,{windowId:i}).suggestedSearches}},function(e,t){return{fetchSearch:function(n,i){return e(a.fetchSearch(t.windowId,t.id,n,i))},removeSearch:function(){return e(a.removeSearch(t.windowId,t.id))}}}),(0,o.withTranslation)(),(0,s.withPlugins)("SearchPanel"))(l.SearchPanel)}),et("ioJxu",function(e,t){q(e.exports,"SearchPanel",()=>f);var n=ee("dm060"),i=ee("4hayw"),o=ee("3cECp"),a=ee("d822V"),s=ee("d6cg7"),l=ee("8hRNs"),u=ee("6hGfa"),c=ee("9L45J");function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var f=/*#__PURE__*/function(e){var t;function f(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f),i=f,o=[e],i=p(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,d()?Reflect.construct(i,o||[],p(this).constructor):i.apply(this,o))).containerRef=/*#__PURE__*/(0,n.createRef)(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(f,e),t=[{key:"render",value:function(){var e=this.props,t=e.fetchSearch,n=e.windowId,d=e.id,p=e.query,h=e.removeSearch,f=e.searchService,g=e.suggestedSearches,m=e.t;return/*#__PURE__*/(0,c.jsxs)(s.default,{ariaLabel:m("searchTitle"),title:/*#__PURE__*/(0,c.jsxs)(c.Fragment,{children:[m("searchTitle"),p&&""!==p&&/*#__PURE__*/(0,c.jsx)(o.default,{role:"button",sx:{marginLeft:1},color:"secondary",label:m("clearSearch"),onClick:h,onDelete:h,size:"small",tabIndex:0,variant:"outlined"})]}),windowId:n,id:d,titleControls:/*#__PURE__*/(0,c.jsx)(l.default,{companionWindowId:d,windowId:n}),ref:this.containerRef,children:[/*#__PURE__*/(0,c.jsx)(u.default,{containerRef:this.containerRef,companionWindowId:d,windowId:n}),t&&g&&""===p&&g.map(function(e){return/*#__PURE__*/(0,c.jsx)(a.default,{component:"p",variant:"body1",sx:{margin:2},children:/*#__PURE__*/(0,c.jsx)(i.default,{variant:"inlineText",color:"secondary",onClick:function(){return t("".concat(f.id,"?q=").concat(e),e)},children:m("suggestSearch",{query:e})})},e)})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(f.prototype,t),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component);f.defaultProps={fetchSearch:void 0,query:"",suggestedSearches:[],t:function(e){return e}}}),et("8hRNs",function(e,t){q(e.exports,"default",()=>p);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("eKTZn"),l=ee("3Egnc"),u=ee("8pjuL"),c=ee("lmpGm"),d={fetchSearch:l.fetchSearch},p=(0,n.compose)((0,i.connect)(function(e,t){var n=t.companionWindowId,i=t.windowId;return{autocompleteService:(0,u.getManifestAutocompleteService)(e,{windowId:i}),query:(0,c.getSearchQuery)(e,{companionWindowId:n,windowId:i}),searchIsFetching:(0,c.getSearchIsFetching)(e,{companionWindowId:n,windowId:i}),searchService:(0,u.getManifestSearchService)(e,{windowId:i})}},d),(0,o.withTranslation)(),(0,a.withPlugins)("SearchPanelControls"))(s.SearchPanelControls)}),et("eKTZn",function(e,t){q(e.exports,"SearchPanelControls",()=>E);var n=ee("dm060"),i=ee("37zHU"),o=ee("1Th1z"),a=ee("9n03X"),s=ee("iGPgj"),l=ee("2Ome0"),u=ee("lOOpI"),c=ee("7Vz1p"),d=ee("kLWt6"),p=ee("dDkOL"),h=ee("2Wy2f"),f=ee("ceWq5"),g=ee("9L45J");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=y(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var S=(0,i.default)("form",{name:"SearchPanelControls",slot:"form"})(function(e){var t=e.theme;return{paddingBottom:t.spacing(1),paddingRight:t.spacing(1.5),width:"100%"}}),_=function(e){return /*@__PURE__*/Y(s)(e)?e.match:e},E=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=w(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,b()?Reflect.construct(i,o||[],w(this).constructor):i.apply(this,o))).state={search:e.query,suggestions:[]},t.handleChange=t.handleChange.bind(t),t.submitSearch=t.submitSearch.bind(t),t.getSuggestions=t.getSuggestions.bind(t),t.selectItem=t.selectItem.bind(t),t.fetchAutocomplete=/*@__PURE__*/Y(a)(t.fetchAutocomplete.bind(t),500),t.receiveAutocomplete=t.receiveAutocomplete.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(n,e),t=[{key:"componentDidUpdate",value:function(e){var t=this.props.query;t!==e.query&&this.setState({search:t})}},{key:"componentWillUnmount",value:function(){this.fetchAutocomplete.cancel()}},{key:"handleChange",value:function(e,t,n){("reset"!==n||t)&&(this.setState({search:t,suggestions:[]}),t&&this.fetchAutocomplete(t))}},{key:"getSuggestions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.showEmpty,i=this.state.suggestions;return 0!==/*@__PURE__*/Y(o)(e.trim()).toLowerCase().length||void 0!==n&&n?i:[]}},{key:"fetchAutocomplete",value:function(e){var t=this.props.autocompleteService;t&&e&&fetch("".concat(t.id,"?").concat(new URLSearchParams({q:e}))).then(function(e){return e.json()}).then(this.receiveAutocomplete)}},{key:"receiveAutocomplete",value:function(e){this.setState({suggestions:e.terms})}},{key:"submitSearch",value:function(e){var t=this.props,n=t.companionWindowId,i=t.fetchSearch,o=t.searchService,a=t.windowId,s=this.state.search;e&&e.preventDefault(),s&&i(a,n,"".concat(o.id,"?").concat(new URLSearchParams({q:s})),s)}},{key:"selectItem",value:function(e,t,n){t&&_(t)&&this.setState({search:_(t)},this.submitSearch)}},{key:"render",value:function(){var e=this.props,t=e.companionWindowId,n=e.searchIsFetching,i=e.t,a=e.windowId,s=this.state,m=s.search,y=s.suggestions,b="search-".concat(t);return/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[/*#__PURE__*/(0,g.jsx)(S,{"aria-label":i("searchTitle"),onSubmit:this.submitSearch,children:/*#__PURE__*/(0,g.jsx)(l.default,{id:b,inputValue:m,options:y,getOptionLabel:_,isOptionEqualToValue:function(e,t){return /*@__PURE__*/Y(o)(_(e).trim()).toLowerCase()===/*@__PURE__*/Y(o)(_(t).trim()).toLowerCase()},noOptionsText:"",onChange:this.selectItem,onInputChange:this.handleChange,freeSolo:!0,disableClearable:!0,renderInput:function(e){return/*#__PURE__*/(0,g.jsx)(c.default,v(v({},e),{},{label:i("searchInputLabel"),variant:"standard",InputProps:v(v({},e.InputProps),{},{endAdornment:/*#__PURE__*/(0,g.jsxs)(d.default,{sx:{position:"relative"},position:"end",children:[/*#__PURE__*/(0,g.jsx)(h.default,{"aria-label":i("searchSubmitAria"),type:"submit",children:/*#__PURE__*/(0,g.jsx)(/*@__PURE__*/Y(p),{})}),!!n&&/*#__PURE__*/(0,g.jsx)(u.default,{sx:{left:"50%",marginLeft:"-25px",marginTop:"-25px",position:"absolute",top:"50%"},size:50})]})})}))}})}),/*#__PURE__*/(0,g.jsx)(f.default,{windowId:a,companionWindowId:t})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);E.defaultProps={autocompleteService:void 0,query:"",t:function(e){return e}}}),et("1Th1z",function(e,t){var n=ee("2FND8"),i=ee("j40El"),o=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(o,n).replace(a,"")}}),et("2FND8",function(e,t){var n=ee("7phTz")({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=n}),et("7phTz",function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}}),et("9n03X",function(e,t){var n=ee("iGPgj"),i=ee("e9sRi"),o=ee("drBGz"),a=Math.max,s=Math.min;e.exports=function(e,t,l){var u,c,d,p,h,f,g=0,m=!1,v=!1,y=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var n=u,i=c;return u=c=void 0,g=t,p=e.apply(i,n)}function w(e){var n=e-f,i=e-g;return void 0===f||n>=t||n<0||v&&i>=d}function x(){var e,n,o,a=i();if(w(a))return S(a);h=setTimeout(x,(e=a-f,n=a-g,o=t-e,v?s(o,d-n):o))}function S(e){return(h=void 0,y&&u)?b(e):(u=c=void 0,p)}function _(){var e,n=i(),o=w(n);if(u=arguments,c=this,f=n,o){if(void 0===h)return g=e=f,h=setTimeout(x,t),m?b(e):p;if(v)return clearTimeout(h),h=setTimeout(x,t),b(f)}return void 0===h&&(h=setTimeout(x,t)),p}return t=o(t)||0,n(l)&&(m=!!l.leading,d=(v="maxWait"in l)?a(o(l.maxWait)||0,t):d,y="trailing"in l?!!l.trailing:y),_.cancel=function(){void 0!==h&&clearTimeout(h),g=0,u=f=c=h=void 0},_.flush=function(){return void 0===h?p:S(i())},_}}),et("e9sRi",function(e,t){var n=ee("azsR2");e.exports=function(){return n.Date.now()}}),et("2Ome0",function(e,t){q(e.exports,"default",()=>G);var n,i,o=ee("u6U9p"),a=ee("5XyNA"),s=ee("dm060"),l=ee("auY7r"),u=ee("kbtjl"),c=ee("9xsQ3"),d=ee("agPoQ"),p=ee("cnHRL"),h=ee("bj8dC"),f=ee("c9wxR"),g=ee("b9KXs"),m=ee("3cECp"),v=ee("gstec"),y=ee("hZV4m"),b=ee("12DJO"),w=ee("6pzli"),x=ee("7iN4K"),S=ee("7hLra"),_=ee("37zHU"),E=ee("91wvo"),T=ee("5OZYW"),O=ee("iOGUL"),I=ee("gvQts"),P=ee("9L45J");let C=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],A=["ref"],R=["key"],k=["key"],D=e=>{let{classes:t,disablePortal:n,expanded:i,focused:o,fullWidth:a,hasClearIcon:s,hasPopupIcon:l,inputFocused:c,popupOpen:d,size:p}=e,h={root:["root",i&&"expanded",o&&"focused",a&&"fullWidth",s&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",c&&"inputFocused"],tag:["tag",`tagSize${(0,O.default)(p)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",d&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,u.default)(h,T.getAutocompleteUtilityClass,t)},N=(0,_.default)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e,{fullWidth:i,hasClearIcon:o,hasPopupIcon:a,inputFocused:s,size:l}=n;return[{[`& .${T.default.tag}`]:t.tag},{[`& .${T.default.tag}`]:t[`tagSize${(0,O.default)(l)}`]},{[`& .${T.default.inputRoot}`]:t.inputRoot},{[`& .${T.default.input}`]:t.input},{[`& .${T.default.input}`]:s&&t.inputFocused},t.root,i&&t.fullWidth,a&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${T.default.focused} .${T.default.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${T.default.clearIndicator}`]:{visibility:"visible"}},[`& .${T.default.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${T.default.inputRoot}`]:{[`.${T.default.hasPopupIcon}&, .${T.default.hasClearIcon}&`]:{paddingRight:30},[`.${T.default.hasPopupIcon}.${T.default.hasClearIcon}&`]:{paddingRight:56},[`& .${T.default.input}`]:{width:0,minWidth:30}},[`& .${v.default.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${v.default.root}.${y.default.sizeSmall}`]:{[`& .${v.default.input}`]:{padding:"2px 4px 3px 0"}},[`& .${b.default.root}`]:{padding:9,[`.${T.default.hasPopupIcon}&, .${T.default.hasClearIcon}&`]:{paddingRight:39},[`.${T.default.hasPopupIcon}.${T.default.hasClearIcon}&`]:{paddingRight:65},[`& .${T.default.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${T.default.endAdornment}`]:{right:9}},[`& .${b.default.root}.${y.default.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${T.default.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${w.default.root}`]:{paddingTop:19,paddingLeft:8,[`.${T.default.hasPopupIcon}&, .${T.default.hasClearIcon}&`]:{paddingRight:39},[`.${T.default.hasPopupIcon}.${T.default.hasClearIcon}&`]:{paddingRight:65},[`& .${w.default.input}`]:{padding:"7px 4px"},[`& .${T.default.endAdornment}`]:{right:9}},[`& .${w.default.root}.${y.default.sizeSmall}`]:{paddingBottom:1,[`& .${w.default.input}`]:{padding:"2.5px 4px"}},[`& .${y.default.hiddenLabel}`]:{paddingTop:8},[`& .${w.default.root}.${y.default.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${T.default.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${w.default.root}.${y.default.hiddenLabel}.${y.default.sizeSmall}`]:{[`& .${T.default.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${T.default.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${T.default.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${T.default.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${T.default.inputRoot}`]:{flexWrap:"wrap"}}}]}),M=(0,_.default)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),L=(0,_.default)(g.default,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),j=(0,_.default)(g.default,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>(0,a.default)({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),F=(0,_.default)(p.default,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${T.default.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),B=(0,_.default)(f.default,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>(0,a.default)({},e.typography.body1,{overflow:"auto"})),z=(0,_.default)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),U=(0,_.default)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"})),W=(0,_.default)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${T.default.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${T.default.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${T.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,c.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${T.default.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,c.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${T.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,c.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}})),H=(0,_.default)(h.default,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8})),V=(0,_.default)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${T.default.option}`]:{paddingLeft:24}});var G=/*#__PURE__*/s.forwardRef(function(e,t){var u,c,h,g;let v;let y=(0,E.useDefaultProps)({props:e,name:"MuiAutocomplete"}),{autoComplete:b=!1,autoHighlight:w=!1,autoSelect:_=!1,blurOnSelect:T=!1,ChipProps:O,className:G,clearIcon:$=n||(n=/*#__PURE__*/(0,P.jsx)(x.default,{fontSize:"small"})),clearOnBlur:q=!y.freeSolo,clearOnEscape:X=!1,clearText:Y="Clear",closeText:K="Close",componentsProps:Z={},defaultValue:J=y.multiple?[]:null,disableClearable:Q=!1,disableCloseOnSelect:ee=!1,disabled:et=!1,disabledItemsFocusable:er=!1,disableListWrap:en=!1,disablePortal:ei=!1,filterSelectedOptions:eo=!1,forcePopupIcon:ea="auto",freeSolo:es=!1,fullWidth:el=!1,getLimitTagsText:eu=e=>`+${e}`,getOptionLabel:ec,groupBy:ed,handleHomeEndKeys:ep=!y.freeSolo,includeInputInList:eh=!1,limitTags:ef=-1,ListboxComponent:eg="ul",ListboxProps:em,loading:ev=!1,loadingText:ey="Loading",multiple:eb=!1,noOptionsText:ew="No options",openOnFocus:ex=!1,openText:eS="Open",PaperComponent:e_=f.default,PopperComponent:eE=p.default,popupIcon:eT=i||(i=/*#__PURE__*/(0,P.jsx)(S.default,{})),readOnly:eO=!1,renderGroup:eI,renderInput:eP,renderOption:eC,renderTags:eA,selectOnFocus:eR=!y.freeSolo,size:ek="medium",slotProps:eD={}}=y,eN=(0,o.default)(y,C),{getRootProps:eM,getInputProps:eL,getInputLabelProps:ej,getPopupIndicatorProps:eF,getClearProps:eB,getTagProps:ez,getListboxProps:eU,getOptionProps:eW,value:eH,dirty:eV,expanded:eG,id:e$,popupOpen:eq,focused:eX,focusedTag:eY,anchorEl:eK,setAnchorEl:eZ,inputValue:eJ,groupedOptions:eQ}=(0,d.default)((0,a.default)({},y,{componentName:"Autocomplete"})),e0=!Q&&!et&&eV&&!eO,e1=(!es||!0===ea)&&!1!==ea,{onMouseDown:e2}=eL(),{ref:e3}=null!=em?em:{},e5=eU(),{ref:e4}=e5,e6=(0,o.default)(e5,A),e8=(0,I.default)(e4,e3),e9=ec||(e=>{var t;return null!=(t=e.label)?t:e}),e7=(0,a.default)({},y,{disablePortal:ei,expanded:eG,focused:eX,fullWidth:el,getOptionLabel:e9,hasClearIcon:e0,hasPopupIcon:e1,inputFocused:-1===eY,popupOpen:eq,size:ek}),te=D(e7);if(eb&&eH.length>0){let e=e=>(0,a.default)({className:te.tag,disabled:et},ez(e));v=eA?eA(eH,e,e7):eH.map((t,n)=>{let i=e({index:n}),{key:s}=i,l=(0,o.default)(i,R);return/*#__PURE__*/(0,P.jsx)(m.default,(0,a.default)({label:e9(t),size:ek},l,O),s)})}if(ef>-1&&Array.isArray(v)){let e=v.length-ef;!eX&&e>0&&(v=v.splice(0,ef)).push(/*#__PURE__*/(0,P.jsx)("span",{className:te.tag,children:eu(e)},v.length))}let tt=eI||(e=>/*#__PURE__*/(0,P.jsxs)("li",{children:[/*#__PURE__*/(0,P.jsx)(H,{className:te.groupLabel,ownerState:e7,component:"div",children:e.group}),/*#__PURE__*/(0,P.jsx)(V,{className:te.groupUl,ownerState:e7,children:e.children})]},e.key)),tr=eC||((e,t)=>{let{key:n}=e,i=(0,o.default)(e,k);return/*#__PURE__*/(0,P.jsx)("li",(0,a.default)({},i,{children:e9(t)}),n)}),tn=(e,t)=>{let n=eW({option:e,index:t});return tr((0,a.default)({},n,{className:te.option}),e,{selected:n["aria-selected"],index:t,inputValue:eJ},e7)},ti=null!=(u=eD.clearIndicator)?u:Z.clearIndicator,to=null!=(c=eD.paper)?c:Z.paper,ta=null!=(h=eD.popper)?h:Z.popper,ts=null!=(g=eD.popupIndicator)?g:Z.popupIndicator,tl=e=>/*#__PURE__*/(0,P.jsx)(F,(0,a.default)({as:eE,disablePortal:ei,style:{width:eK?eK.clientWidth:null},ownerState:e7,role:"presentation",anchorEl:eK,open:eq},ta,{className:(0,l.default)(te.popper,null==ta?void 0:ta.className),children:/*#__PURE__*/(0,P.jsx)(B,(0,a.default)({ownerState:e7,as:e_},to,{className:(0,l.default)(te.paper,null==to?void 0:to.className),children:e}))})),tu=null;return eQ.length>0?tu=tl(/*#__PURE__*/(0,P.jsx)(W,(0,a.default)({as:eg,className:te.listbox,ownerState:e7},e6,em,{ref:e8,children:eQ.map((e,t)=>ed?tt({key:e.key,group:e.group,children:e.options.map((t,n)=>tn(t,e.index+n))}):tn(e,t))}))):ev&&0===eQ.length?tu=tl(/*#__PURE__*/(0,P.jsx)(z,{className:te.loading,ownerState:e7,children:ey})):0!==eQ.length||es||ev||(tu=tl(/*#__PURE__*/(0,P.jsx)(U,{className:te.noOptions,ownerState:e7,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:ew}))),/*#__PURE__*/(0,P.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,P.jsx)(N,(0,a.default)({ref:t,className:(0,l.default)(te.root,G),ownerState:e7},eM(eN),{children:eP({id:e$,disabled:et,fullWidth:!0,size:"small"===ek?"small":void 0,InputLabelProps:ej(),InputProps:(0,a.default)({ref:eZ,className:te.inputRoot,startAdornment:v,onClick:e=>{e.target===e.currentTarget&&e2(e)}},(e0||e1)&&{endAdornment:/*#__PURE__*/(0,P.jsxs)(M,{className:te.endAdornment,ownerState:e7,children:[e0?/*#__PURE__*/(0,P.jsx)(L,(0,a.default)({},eB(),{"aria-label":Y,title:Y,ownerState:e7},ti,{className:(0,l.default)(te.clearIndicator,null==ti?void 0:ti.className),children:$})):null,e1?/*#__PURE__*/(0,P.jsx)(j,(0,a.default)({},eF(),{disabled:et,"aria-label":eq?K:eS,title:eq?K:eS,ownerState:e7},ts,{className:(0,l.default)(te.popupIndicator,null==ts?void 0:ts.className),children:eT})):null]})}),inputProps:(0,a.default)({className:te.input,disabled:et,readOnly:eO},eL())})})),eK?tu:null]})})}),et("agPoQ",function(e,t){q(e.exports,"default",()=>f);var n=ee("5XyNA"),i=ee("dm060"),o=ee("58OfG"),a=ee("bKnTm"),s=ee("bOBP7"),l=ee("bagf4"),u=ee("f3Zr4");function c(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function d(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return -1}let p=function(e={}){let{ignoreAccents:t=!0,ignoreCase:n=!0,limit:i,matchFrom:o="any",stringify:a,trim:s=!1}=e;return(e,{inputValue:l,getOptionLabel:u})=>{let d=s?l.trim():l;n&&(d=d.toLowerCase()),t&&(d=c(d));let p=d?e.filter(e=>{let i=(a||u)(e);return n&&(i=i.toLowerCase()),t&&(i=c(i)),"start"===o?0===i.indexOf(d):i.indexOf(d)>-1}):e;return"number"==typeof i?p.slice(0,i):p}}(),h=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};var f=function(e){let{unstable_isActiveElementInListbox:t=h,unstable_classNamePrefix:c="Mui",autoComplete:f=!1,autoHighlight:g=!1,autoSelect:m=!1,blurOnSelect:v=!1,clearOnBlur:y=!e.freeSolo,clearOnEscape:b=!1,componentName:w="useAutocomplete",defaultValue:x=e.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:_=!1,disabled:E,disabledItemsFocusable:T=!1,disableListWrap:O=!1,filterOptions:I=p,filterSelectedOptions:P=!1,freeSolo:C=!1,getOptionDisabled:A,getOptionKey:R,getOptionLabel:k=e=>{var t;return null!=(t=e.label)?t:e},groupBy:D,handleHomeEndKeys:N=!e.freeSolo,id:M,includeInputInList:L=!1,inputValue:j,isOptionEqualToValue:F=(e,t)=>e===t,multiple:B=!1,onChange:z,onClose:U,onHighlightChange:W,onInputChange:H,onOpen:V,open:G,openOnFocus:$=!1,options:q,readOnly:X=!1,selectOnFocus:Y=!e.freeSolo,value:K}=e,Z=(0,l.default)(M),J=k;J=e=>{let t=k(e);return"string"!=typeof t?String(t):t};let Q=i.useRef(!1),ee=i.useRef(!0),et=i.useRef(null),er=i.useRef(null),[en,ei]=i.useState(null),[eo,ea]=i.useState(-1),es=g?0:-1,el=i.useRef(es),[eu,ec]=(0,a.default)({controlled:K,default:x,name:w}),[ed,ep]=(0,a.default)({controlled:j,default:"",name:w,state:"inputValue"}),[eh,ef]=i.useState(!1),eg=i.useCallback((e,t)=>{let n;if((B?eu.length<t.length:null!==t)||y){if(B)n="";else if(null==t)n="";else{let e=J(t);n="string"==typeof e?e:""}ed!==n&&(ep(n),H&&H(e,n,"reset"))}},[J,ed,B,H,ep,y,eu]),[em,ev]=(0,a.default)({controlled:G,default:!1,name:w,state:"open"}),[ey,eb]=i.useState(!0),ew=!B&&null!=eu&&ed===J(eu),ex=em&&!X,eS=ex?I(q.filter(e=>!(P&&(B?eu:[eu]).some(t=>null!==t&&F(e,t)))),{inputValue:ew&&ey?"":ed,getOptionLabel:J}):[],e_=(0,u.default)({filteredOptions:eS,value:eu,inputValue:ed});i.useEffect(()=>{let e=eu!==e_.value;(!eh||e)&&(!C||e)&&eg(null,eu)},[eu,eg,eh,e_.value,C]);let eE=em&&eS.length>0&&!X,eT=(0,s.default)(e=>{-1===e?et.current.focus():en.querySelector(`[data-tag-index="${e}"]`).focus()});i.useEffect(()=>{B&&eo>eu.length-1&&(ea(-1),eT(-1))},[eu,B,eo,eT]);let eO=(0,s.default)(({event:e,index:t,reason:n="auto"})=>{if(el.current=t,-1===t?et.current.removeAttribute("aria-activedescendant"):et.current.setAttribute("aria-activedescendant",`${Z}-option-${t}`),W&&W(e,-1===t?null:eS[t],n),!er.current)return;let i=er.current.querySelector(`[role="option"].${c}-focused`);i&&(i.classList.remove(`${c}-focused`),i.classList.remove(`${c}-focusVisible`));let o=er.current;if("listbox"!==er.current.getAttribute("role")&&(o=er.current.parentElement.querySelector('[role="listbox"]')),!o)return;if(-1===t){o.scrollTop=0;return}let a=er.current.querySelector(`[data-option-index="${t}"]`);if(a&&(a.classList.add(`${c}-focused`),"keyboard"===n&&a.classList.add(`${c}-focusVisible`),o.scrollHeight>o.clientHeight&&"mouse"!==n&&"touch"!==n)){let e=o.clientHeight+o.scrollTop,t=a.offsetTop+a.offsetHeight;t>e?o.scrollTop=t-o.clientHeight:a.offsetTop-a.offsetHeight*(D?1.3:0)<o.scrollTop&&(o.scrollTop=a.offsetTop-a.offsetHeight*(D?1.3:0))}}),eI=(0,s.default)(({event:e,diff:t,direction:n="next",reason:i="auto"})=>{if(!ex)return;let o=function(e,t){if(!er.current||e<0||e>=eS.length)return -1;let n=e;for(;;){let i=er.current.querySelector(`[data-option-index="${n}"]`),o=!T&&(!i||i.disabled||"true"===i.getAttribute("aria-disabled"));if(i&&i.hasAttribute("tabindex")&&!o)return n;if((n="next"===t?(n+1)%eS.length:(n-1+eS.length)%eS.length)===e)return -1}}((()=>{let e=eS.length-1;if("reset"===t)return es;if("start"===t)return 0;if("end"===t)return e;let n=el.current+t;return n<0?-1===n&&L?-1:O&&-1!==el.current||Math.abs(t)>1?0:e:n>e?n===e+1&&L?-1:O||Math.abs(t)>1?e:0:n})(),n);if(eO({index:o,reason:i,event:e}),f&&"reset"!==t){if(-1===o)et.current.value=ed;else{let e=J(eS[o]);et.current.value=e,0===e.toLowerCase().indexOf(ed.toLowerCase())&&ed.length>0&&et.current.setSelectionRange(ed.length,e.length)}}}),eP=()=>{var e;if(-1!==el.current&&e_.filteredOptions&&e_.filteredOptions.length!==eS.length&&e_.inputValue===ed&&(B?eu.length===e_.value.length&&e_.value.every((e,t)=>J(eu[t])===J(e)):((e=e_.value)?J(e):"")===(eu?J(eu):""))){let e=e_.filteredOptions[el.current];if(e)return d(eS,t=>J(t)===J(e))}return -1},eC=i.useCallback(()=>{if(!ex)return;let e=eP();if(-1!==e){el.current=e;return}let t=B?eu[0]:eu;if(0===eS.length||null==t){eI({diff:"reset"});return}if(er.current){if(null!=t){let e=eS[el.current];if(B&&e&&-1!==d(eu,t=>F(e,t)))return;let n=d(eS,e=>F(e,t));-1===n?eI({diff:"reset"}):eO({index:n});return}if(el.current>=eS.length-1){eO({index:eS.length-1});return}eO({index:el.current})}},[eS.length,!B&&eu,P,eI,eO,ex,ed,B]),eA=(0,s.default)(e=>{(0,o.default)(er,e),e&&eC()});i.useEffect(()=>{eC()},[eC]);let eR=e=>{!em&&(ev(!0),eb(!0),V&&V(e))},ek=(e,t)=>{em&&(ev(!1),U&&U(e,t))},eD=(e,t,n,i)=>{if(B){if(eu.length===t.length&&eu.every((e,n)=>e===t[n]))return}else if(eu===t)return;z&&z(e,t,n,i),ec(t)},eN=i.useRef(!1),eM=(e,t,n="selectOption",i="options")=>{let o=n,a=t;if(B){let e=d(a=Array.isArray(eu)?eu.slice():[],e=>F(t,e));-1===e?a.push(t):"freeSolo"!==i&&(a.splice(e,1),o="removeOption")}eg(e,a),eD(e,a,o,{option:t}),_||e&&(e.ctrlKey||e.metaKey)||ek(e,o),(!0===v||"touch"===v&&eN.current||"mouse"===v&&!eN.current)&&et.current.blur()},eL=(e,t)=>{if(!B)return;""===ed&&ek(e,"toggleInput");let n=eo;-1===eo?""===ed&&"previous"===t&&(n=eu.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===eu.length&&(n=-1)),ea(n=function(e,t){if(-1===e)return -1;let n=e;for(;;){if("next"===t&&n===eu.length||"previous"===t&&-1===n)return -1;let e=en.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t)),eT(n)},ej=e=>{Q.current=!0,ep(""),H&&H(e,"","clear"),eD(e,B?[]:null,"clear")},eF=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==eo&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(ea(-1),eT(-1)),229!==t.which))switch(t.key){case"Home":ex&&N&&(t.preventDefault(),eI({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":ex&&N&&(t.preventDefault(),eI({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),eI({diff:-5,direction:"previous",reason:"keyboard",event:t}),eR(t);break;case"PageDown":t.preventDefault(),eI({diff:5,direction:"next",reason:"keyboard",event:t}),eR(t);break;case"ArrowDown":t.preventDefault(),eI({diff:1,direction:"next",reason:"keyboard",event:t}),eR(t);break;case"ArrowUp":t.preventDefault(),eI({diff:-1,direction:"previous",reason:"keyboard",event:t}),eR(t);break;case"ArrowLeft":eL(t,"previous");break;case"ArrowRight":eL(t,"next");break;case"Enter":if(-1!==el.current&&ex){let e=eS[el.current],n=!!A&&A(e);if(t.preventDefault(),n)return;eM(t,e,"selectOption"),f&&et.current.setSelectionRange(et.current.value.length,et.current.value.length)}else C&&""!==ed&&!1===ew&&(B&&t.preventDefault(),eM(t,ed,"createOption","freeSolo"));break;case"Escape":ex?(t.preventDefault(),t.stopPropagation(),ek(t,"escape")):b&&(""!==ed||B&&eu.length>0)&&(t.preventDefault(),t.stopPropagation(),ej(t));break;case"Backspace":if(B&&!X&&""===ed&&eu.length>0){let e=-1===eo?eu.length-1:eo,n=eu.slice();n.splice(e,1),eD(t,n,"removeOption",{option:eu[e]})}break;case"Delete":if(B&&!X&&""===ed&&eu.length>0&&-1!==eo){let e=eu.slice();e.splice(eo,1),eD(t,e,"removeOption",{option:eu[eo]})}}},eB=e=>{ef(!0),$&&!Q.current&&eR(e)},ez=e=>{if(t(er)){et.current.focus();return}ef(!1),ee.current=!0,Q.current=!1,m&&-1!==el.current&&ex?eM(e,eS[el.current],"blur"):m&&C&&""!==ed?eM(e,ed,"blur","freeSolo"):y&&eg(e,eu),ek(e,"blur")},eU=e=>{let t=e.target.value;ed!==t&&(ep(t),eb(!1),H&&H(e,t,"input")),""===t?S||B||eD(e,null,"clear"):eR(e)},eW=e=>{let t=Number(e.currentTarget.getAttribute("data-option-index"));el.current!==t&&eO({event:e,index:t,reason:"mouse"})},eH=e=>{eO({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),eN.current=!0},eV=e=>{let t=Number(e.currentTarget.getAttribute("data-option-index"));eM(e,eS[t],"selectOption"),eN.current=!1},eG=e=>t=>{let n=eu.slice();n.splice(e,1),eD(t,n,"removeOption",{option:eu[e]})},e$=e=>{em?ek(e,"toggleInput"):eR(e)},eq=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==Z&&e.preventDefault()},eX=e=>{e.currentTarget.contains(e.target)&&(et.current.focus(),Y&&ee.current&&et.current.selectionEnd-et.current.selectionStart==0&&et.current.select(),ee.current=!1)},eY=e=>{E||""!==ed&&em||e$(e)},eK=C&&ed.length>0;eK=eK||(B?eu.length>0:null!==eu);let eZ=eS;return D&&(eZ=eS.reduce((e,t,n)=>{let i=D(t);return e.length>0&&e[e.length-1].group===i?e[e.length-1].options.push(t):e.push({key:n,index:n,group:i,options:[t]}),e},[])),E&&eh&&ez(),{getRootProps:(e={})=>(0,n.default)({"aria-owns":eE?`${Z}-listbox`:null},e,{onKeyDown:eF(e),onMouseDown:eq,onClick:eX}),getInputLabelProps:()=>({id:`${Z}-label`,htmlFor:Z}),getInputProps:()=>({id:Z,value:ed,onBlur:ez,onFocus:eB,onChange:eU,onMouseDown:eY,"aria-activedescendant":ex?"":null,"aria-autocomplete":f?"both":"list","aria-controls":eE?`${Z}-listbox`:void 0,"aria-expanded":eE,autoComplete:"off",ref:et,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:E}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ej}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:e$}),getTagProps:({index:e})=>(0,n.default)({key:e,"data-tag-index":e,tabIndex:-1},!X&&{onDelete:eG(e)}),getListboxProps:()=>({role:"listbox",id:`${Z}-listbox`,"aria-labelledby":`${Z}-label`,ref:eA,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var n;let i=(B?eu:[eu]).some(e=>null!=e&&F(t,e)),o=!!A&&A(t);return{key:null!=(n=null==R?void 0:R(t))?n:J(t),tabIndex:-1,role:"option",id:`${Z}-option-${e}`,onMouseMove:eW,onClick:eV,onTouchStart:eH,"data-option-index":e,"aria-disabled":o,"aria-selected":i}},id:Z,inputValue:ed,value:eu,dirty:eK,expanded:ex&&en,popupOpen:ex,focused:eh||-1!==eo,anchorEl:en,setAnchorEl:ei,focusedTag:eo,groupedOptions:eZ}}}),et("bj8dC",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("iOGUL"),d=ee("bQ4L0"),p=ee("9L45J");let h=["className","color","component","disableGutters","disableSticky","inset"],f=e=>{let{classes:t,color:n,disableGutters:i,inset:o,disableSticky:a}=e,l={root:["root","default"!==n&&`color${(0,c.default)(n)}`,!i&&"gutters",o&&"inset",!a&&"sticky"]};return(0,s.default)(l,d.getListSubheaderUtilityClass,t)},g=(0,l.default)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,c.default)(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})(({theme:e,ownerState:t})=>(0,i.default)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})),m=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,u.useDefaultProps)({props:e,name:"MuiListSubheader"}),{className:s,color:l="default",component:c="li",disableGutters:d=!1,disableSticky:m=!1,inset:v=!1}=o,y=(0,n.default)(o,h),b=(0,i.default)({},o,{color:l,component:c,disableGutters:d,disableSticky:m,inset:v}),w=f(b);return/*#__PURE__*/(0,p.jsx)(g,(0,i.default)({as:c,className:(0,a.default)(w.root,s),ref:t,ownerState:b},y))});m.muiSkipListHighlight=!0;var v=m}),et("bQ4L0",function(e,t){q(e.exports,"getListSubheaderUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiListSubheader",e)}(0,n.default)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"])}),et("7iN4K",function(e,t){q(e.exports,"default",()=>o),ee("dm060");var n=ee("77XGA"),i=ee("9L45J"),o=(0,n.default)(/*#__PURE__*/(0,i.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")}),et("5OZYW",function(e,t){q(e.exports,"getAutocompleteUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiAutocomplete",e)}var a=(0,n.default)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"])}),et("lOOpI",function(e,t){q(e.exports,"default",()=>O);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("1yKl8"),u=ee("iOGUL"),c=ee("91wvo"),d=ee("37zHU"),p=ee("chZ6i"),h=ee("9L45J");let f=["className","color","disableShrink","size","style","thickness","value","variant"],g=e=>e,m,v,y,b,w=(0,l.keyframes)(m||(m=g`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),x=(0,l.keyframes)(v||(v=g`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=e=>{let{classes:t,variant:n,color:i,disableShrink:o}=e,a={root:["root",n,`color${(0,u.default)(i)}`],svg:["svg"],circle:["circle",`circle${(0,u.default)(n)}`,o&&"circleDisableShrink"]};return(0,s.default)(a,p.getCircularProgressUtilityClass,t)},_=(0,d.default)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,u.default)(n.color)}`]]}})(({ownerState:e,theme:t})=>(0,i.default)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,l.css)(y||(y=g`
      animation: ${0} 1.4s linear infinite;
    `),w)),E=(0,d.default)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),T=(0,d.default)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.circle,t[`circle${(0,u.default)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(({ownerState:e,theme:t})=>(0,i.default)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.css)(b||(b=g`
      animation: ${0} 1.4s ease-in-out infinite;
    `),x));var O=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,c.useDefaultProps)({props:e,name:"MuiCircularProgress"}),{className:s,color:l="primary",disableShrink:u=!1,size:d=40,style:p,thickness:g=3.6,value:m=0,variant:v="indeterminate"}=o,y=(0,n.default)(o,f),b=(0,i.default)({},o,{color:l,disableShrink:u,size:d,thickness:g,value:m,variant:v}),w=S(b),x={},O={},I={};if("determinate"===v){let e=2*Math.PI*((44-g)/2);x.strokeDasharray=e.toFixed(3),I["aria-valuenow"]=Math.round(m),x.strokeDashoffset=`${((100-m)/100*e).toFixed(3)}px`,O.transform="rotate(-90deg)"}return/*#__PURE__*/(0,h.jsx)(_,(0,i.default)({className:(0,a.default)(w.root,s),style:(0,i.default)({width:d,height:d},O,p),ownerState:b,ref:t,role:"progressbar"},I,y,{children:/*#__PURE__*/(0,h.jsx)(E,{className:w.svg,ownerState:b,viewBox:"22 22 44 44",children:/*#__PURE__*/(0,h.jsx)(T,{className:w.circle,style:x,ownerState:b,cx:44,cy:44,r:(44-g)/2,fill:"none",strokeWidth:g})})}))})}),et("chZ6i",function(e,t){q(e.exports,"getCircularProgressUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiCircularProgress",e)}(0,n.default)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"])}),et("7Vz1p",function(e,t){q(e.exports,"default",()=>E);var n=ee("5XyNA"),i=ee("u6U9p"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("bagf4"),u=ee("37zHU"),c=ee("91wvo"),d=ee("kAtI6"),p=ee("huhjC"),h=ee("2h05r"),f=ee("jwjB0"),g=ee("j5pD4"),m=ee("7AHmw"),v=ee("clLHD"),y=ee("3echC"),b=ee("9L45J");let w=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],x={standard:d.default,filled:p.default,outlined:h.default},S=e=>{let{classes:t}=e;return(0,s.default)({root:["root"]},y.getTextFieldUtilityClass,t)},_=(0,u.default)(g.default,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({});var E=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,c.useDefaultProps)({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:u=!1,children:d,className:p,color:h="primary",defaultValue:g,disabled:y=!1,error:E=!1,FormHelperTextProps:T,fullWidth:O=!1,helperText:I,id:P,InputLabelProps:C,inputProps:A,InputProps:R,inputRef:k,label:D,maxRows:N,minRows:M,multiline:L=!1,name:j,onBlur:F,onChange:B,onFocus:z,placeholder:U,required:W=!1,rows:H,select:V=!1,SelectProps:G,type:$,value:q,variant:X="outlined"}=o,Y=(0,i.default)(o,w),K=(0,n.default)({},o,{autoFocus:u,color:h,disabled:y,error:E,fullWidth:O,multiline:L,required:W,select:V,variant:X}),Z=S(K),J={};"outlined"===X&&(C&&void 0!==C.shrink&&(J.notched=C.shrink),J.label=D),V&&(G&&G.native||(J.id=void 0),J["aria-describedby"]=void 0);let Q=(0,l.default)(P),ee=I&&Q?`${Q}-helper-text`:void 0,et=D&&Q?`${Q}-label`:void 0,er=x[X],en=/*#__PURE__*/(0,b.jsx)(er,(0,n.default)({"aria-describedby":ee,autoComplete:s,autoFocus:u,defaultValue:g,fullWidth:O,multiline:L,name:j,rows:H,maxRows:N,minRows:M,type:$,value:q,id:Q,inputRef:k,onBlur:F,onChange:B,onFocus:z,placeholder:U,inputProps:A},J,R));return/*#__PURE__*/(0,b.jsxs)(_,(0,n.default)({className:(0,a.default)(Z.root,p),disabled:y,error:E,fullWidth:O,ref:t,required:W,color:h,variant:X,ownerState:K},Y,{children:[null!=D&&""!==D&&/*#__PURE__*/(0,b.jsx)(f.default,(0,n.default)({htmlFor:Q,id:et},C,{children:D})),V?/*#__PURE__*/(0,b.jsx)(v.default,(0,n.default)({"aria-describedby":ee,id:Q,labelId:et,value:q,input:en},G,{children:d})):en,I&&/*#__PURE__*/(0,b.jsx)(m.default,(0,n.default)({id:ee},T,{children:I}))]}))})}),et("jwjB0",function(e,t){q(e.exports,"default",()=>x);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("kbtjl"),s=ee("auY7r"),l=ee("dQ8bX"),u=ee("2uYcW"),c=ee("36UO6"),d=ee("ah3ik"),p=ee("91wvo"),h=ee("iOGUL"),f=ee("37zHU"),g=ee("4RsQO"),m=ee("1Kpxm"),v=ee("9L45J");let y=["disableAnimation","margin","shrink","variant","className"],b=e=>{let{classes:t,formControl:n,size:o,shrink:s,disableAnimation:l,variant:u,required:c}=e,d={root:["root",n&&"formControl",!l&&"animated",s&&"shrink",o&&"normal"!==o&&`size${(0,h.default)(o)}`,u],asterisk:[c&&"asterisk"]},p=(0,a.default)(d,m.getInputLabelUtilityClasses,t);return(0,i.default)({},t,p)},w=(0,f.default)(c.default,{shouldForwardProp:e=>(0,g.default)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[{[`& .${d.default.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,i.default)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,i.default)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,i.default)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,i.default)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"})));var x=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,p.useDefaultProps)({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,shrink:c,className:d}=o,h=(0,n.default)(o,y),f=(0,u.default)(),g=c;void 0===g&&f&&(g=f.filled||f.focused||f.adornedStart);let m=(0,l.default)({props:o,muiFormControl:f,states:["size","variant","required","focused"]}),x=(0,i.default)({},o,{disableAnimation:a,formControl:f,shrink:g,size:m.size,variant:m.variant,required:m.required,focused:m.focused}),S=b(x);return/*#__PURE__*/(0,v.jsx)(w,(0,i.default)({"data-shrink":g,ownerState:x,ref:t,className:(0,s.default)(S.root,d)},h,{classes:S}))})}),et("36UO6",function(e,t){q(e.exports,"default",()=>b);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("dQ8bX"),u=ee("2uYcW"),c=ee("iOGUL"),d=ee("91wvo"),p=ee("37zHU"),h=ee("ah3ik"),f=ee("9L45J");let g=["children","className","color","component","disabled","error","filled","focused","required"],m=e=>{let{classes:t,color:n,focused:i,disabled:o,error:a,filled:l,required:u}=e,d={root:["root",`color${(0,c.default)(n)}`,o&&"disabled",a&&"error",l&&"filled",i&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return(0,s.default)(d,h.getFormLabelUtilityClasses,t)},v=(0,p.default)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.default)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>(0,i.default)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${h.default.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${h.default.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${h.default.error}`]:{color:(e.vars||e).palette.error.main}})),y=(0,p.default)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${h.default.error}`]:{color:(e.vars||e).palette.error.main}}));var b=/*#__PURE__*/o.forwardRef(function(e,t){let o=(0,d.useDefaultProps)({props:e,name:"MuiFormLabel"}),{children:s,className:c,component:p="label"}=o,h=(0,n.default)(o,g),b=(0,u.default)(),w=(0,l.default)({props:o,muiFormControl:b,states:["color","required","focused","disabled","error","filled"]}),x=(0,i.default)({},o,{color:w.color||"primary",component:p,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),S=m(x);return/*#__PURE__*/(0,f.jsxs)(v,(0,i.default)({as:p,ownerState:x,className:(0,a.default)(S.root,c),ref:t},h,{children:[s,w.required&&/*#__PURE__*/(0,f.jsxs)(y,{ownerState:x,"aria-hidden":!0,className:S.asterisk,children:["","*"]})]}))})}),et("ah3ik",function(e,t){q(e.exports,"getFormLabelUtilityClasses",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiFormLabel",e)}var a=(0,n.default)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"])}),et("1Kpxm",function(e,t){q(e.exports,"getInputLabelUtilityClasses",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiInputLabel",e)}(0,n.default)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"])}),et("7AHmw",function(e,t){q(e.exports,"default",()=>b);var n,i=ee("u6U9p"),o=ee("5XyNA"),a=ee("dm060"),s=ee("auY7r"),l=ee("kbtjl"),u=ee("dQ8bX"),c=ee("2uYcW"),d=ee("37zHU"),p=ee("iOGUL"),h=ee("h7C5U"),f=ee("91wvo"),g=ee("9L45J");let m=["children","className","component","disabled","error","filled","focused","margin","required","variant"],v=e=>{let{classes:t,contained:n,size:i,disabled:o,error:a,filled:s,focused:u,required:c}=e,d={root:["root",o&&"disabled",a&&"error",i&&`size${(0,p.default)(i)}`,n&&"contained",u&&"focused",s&&"filled",c&&"required"]};return(0,l.default)(d,h.getFormHelperTextUtilityClasses,t)},y=(0,d.default)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,p.default)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(({theme:e,ownerState:t})=>(0,o.default)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${h.default.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${h.default.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14}));var b=/*#__PURE__*/a.forwardRef(function(e,t){let a=(0,f.useDefaultProps)({props:e,name:"MuiFormHelperText"}),{children:l,className:d,component:p="p"}=a,h=(0,i.default)(a,m),b=(0,c.default)(),w=(0,u.default)({props:a,muiFormControl:b,states:["variant","size","disabled","error","filled","focused","required"]}),x=(0,o.default)({},a,{component:p,contained:"filled"===w.variant||"outlined"===w.variant,variant:w.variant,size:w.size,disabled:w.disabled,error:w.error,filled:w.filled,focused:w.focused,required:w.required}),S=v(x);return/*#__PURE__*/(0,g.jsx)(y,(0,o.default)({as:p,ownerState:x,className:(0,s.default)(S.root,d),ref:t},h,{children:" "===l?n||(n=/*#__PURE__*/(0,g.jsx)("span",{className:"notranslate",children:""})):l}))})}),et("h7C5U",function(e,t){q(e.exports,"getFormHelperTextUtilityClasses",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiFormHelperText",e)}var a=(0,n.default)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"])}),et("3echC",function(e,t){q(e.exports,"getTextFieldUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiTextField",e)}(0,n.default)("MuiTextField",["root"])}),et("kLWt6",function(e,t){q(e.exports,"default",()=>w);var n,i=ee("u6U9p"),o=ee("5XyNA"),a=ee("dm060"),s=ee("auY7r"),l=ee("kbtjl"),u=ee("iOGUL"),c=ee("d822V"),d=ee("4p24j"),p=ee("2uYcW"),h=ee("37zHU"),f=ee("9pDNa"),g=ee("91wvo"),m=ee("9L45J");let v=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=e=>{let{classes:t,disablePointerEvents:n,hiddenLabel:i,position:o,size:a,variant:s}=e,c={root:["root",n&&"disablePointerEvents",o&&`position${(0,u.default)(o)}`,s,i&&"hiddenLabel",a&&`size${(0,u.default)(a)}`]};return(0,l.default)(c,f.getInputAdornmentUtilityClass,t)},b=(0,h.default)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`position${(0,u.default)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})(({theme:e,ownerState:t})=>(0,o.default)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${f.default.positionStart}&:not(.${f.default.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}));var w=/*#__PURE__*/a.forwardRef(function(e,t){let l=(0,g.useDefaultProps)({props:e,name:"MuiInputAdornment"}),{children:u,className:h,component:f="div",disablePointerEvents:w=!1,disableTypography:x=!1,position:S,variant:_}=l,E=(0,i.default)(l,v),T=(0,p.default)()||{},O=_;_&&T.variant,T&&!O&&(O=T.variant);let I=(0,o.default)({},l,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:w,position:S,variant:O}),P=y(I);return/*#__PURE__*/(0,m.jsx)(d.default.Provider,{value:null,children:/*#__PURE__*/(0,m.jsx)(b,(0,o.default)({as:f,ownerState:I,className:(0,s.default)(P.root,h),ref:t},E,{children:"string"!=typeof u||x?/*#__PURE__*/(0,m.jsxs)(a.Fragment,{children:["start"===S?n||(n=/*#__PURE__*/(0,m.jsx)("span",{className:"notranslate",children:""})):null,u]}):/*#__PURE__*/(0,m.jsx)(c.default,{color:"text.secondary",children:u})}))})})}),et("9pDNa",function(e,t){q(e.exports,"getInputAdornmentUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiInputAdornment",e)}var a=(0,n.default)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"])}),et("dDkOL",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchSharp")}),et("ceWq5",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("g7pFk"),l=ee("g60ed"),u=ee("lmpGm"),c=ee("8uJ99"),d=(0,n.compose)((0,i.connect)(function(e,t){var n=t.companionWindowId,i=t.windowId;return{direction:(0,c.getThemeDirection)(e),numTotal:(0,u.getSearchNumTotal)(e,{companionWindowId:n,windowId:i}),searchHits:(0,u.getSortedSearchHitsForCompanionWindow)(e,{companionWindowId:n,windowId:i}),selectedContentSearchAnnotation:(0,u.getSelectedContentSearchAnnotationIds)(e,{companionWindowId:n,windowId:i})}},function(e,t){var n=t.windowId;return{selectAnnotation:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(l.selectAnnotation.apply(l,[n].concat(i)))}}}),(0,o.withTranslation)(),(0,a.withPlugins)("SearchPanelNavigation"))(s.SearchPanelNavigation)}),et("g7pFk",function(e,t){q(e.exports,"SearchPanelNavigation",()=>p);var n=ee("dm060"),i=ee("l9KdJ"),o=ee("5ubCg"),a=ee("d822V"),s=ee("2Wy2f"),l=ee("9L45J");function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(u=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var p=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=c(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,u()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(n,e),t=[{key:"nextSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e+1].annotations[0])}},{key:"previousSearchResult",value:function(e){var t=this.props,n=t.searchHits;(0,t.selectAnnotation)(n[e-1].annotations[0])}},{key:"hasNextResult",value:function(e){var t=this.props.searchHits;return 0!==t.length&&e<t.length-1}},{key:"hasPreviousResult",value:function(e){return 0!==this.props.searchHits.length&&e>0}},{key:"render",value:function(){var e=this,t=this.props,n=t.numTotal,u=t.searchHits,c=t.selectedContentSearchAnnotation,d=t.t,p="rtl"===t.direction?{transform:"rotate(180deg)"}:{},h=u.findIndex(function(e){return e.annotations.includes(c[0])}),f=u.length;return(u.length<n&&(f+="+"),0===u.length)?null:/*#__PURE__*/(0,l.jsxs)(a.default,{variant:"body2",align:"center",children:[/*#__PURE__*/(0,l.jsx)(s.default,{"aria-label":d("searchPreviousResult"),disabled:!this.hasPreviousResult(h),onClick:function(){return e.previousSearchResult(h)},children:/*#__PURE__*/(0,l.jsx)(/*@__PURE__*/Y(i),{style:p})}),/*#__PURE__*/(0,l.jsx)("span",{style:{unicodeBidi:"plaintext"},children:d("pagination",{current:h+1,total:f})}),/*#__PURE__*/(0,l.jsx)(s.default,{"aria-label":d("searchNextResult"),disabled:!this.hasNextResult(h),onClick:function(){return e.nextSearchResult(h)},children:/*#__PURE__*/(0,l.jsx)(/*@__PURE__*/Y(o),{style:p})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);p.defaultProps={numTotal:void 0,searchHits:[],t:function(e){return e}}}),et("l9KdJ",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeftSharp")}),et("5ubCg",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRightSharp")}),et("lmpGm",function(e,t){q(e.exports,"getSearchForWindow",()=>d),q(e.exports,"getSearchQuery",()=>f),q(e.exports,"getSearchIsFetching",()=>g),q(e.exports,"getSearchNumTotal",()=>m),q(e.exports,"getNextSearchId",()=>v),q(e.exports,"getSortedSearchHitsForCompanionWindow",()=>b),q(e.exports,"getResourceAnnotationForSearchHit",()=>T),q(e.exports,"getSearchAnnotationsForCompanionWindow",()=>x),q(e.exports,"getSortedSearchAnnotationsForCompanionWindow",()=>S),q(e.exports,"getSearchAnnotationsForWindow",()=>_),q(e.exports,"getSelectedContentSearchAnnotationIds",()=>E),q(e.exports,"getResourceAnnotationLabel",()=>O),q(e.exports,"getCanvasForAnnotation",()=>P);var n=ee("9Fw2L"),i=ee("cyP9O"),o=ee("dPHLq"),a=ee("cuiwY"),s=ee("hJg9G"),l=ee("cEqnD"),u=ee("8pjuL"),c=ee("5h5fP"),d=(0,n.createSelector)([function(e,t){return t.windowId},function(e){return(0,c.miradorSlice)(e).searches}],function(e,t){return e&&t?t[e]:{}}),p=(0,n.createSelector)([d,function(e,t){return t.companionWindowId}],function(e,t){if(e&&t)return e[t]}),h=(0,n.createSelector)([p],function(e){return e?Object.values(e.data):[]}),f=(0,n.createSelector)([p],function(e){return e&&e.query}),g=(0,n.createSelector)([h],function(e){return e.some(function(e){return e.isFetching})}),m=(0,n.createSelector)([p],function(e){if(e&&e.data){var t,n=Object.values(e.data).find(function(e){return!e.isFetching&&e.json&&e.json.within});return null==n||null===(t=n.json)||void 0===t||null===(t=t.within)||void 0===t?void 0:t.total}}),v=(0,n.createSelector)([p],function(e){if(e&&e.data){var t=Object.values(e.data).find(function(t){return!t.isFetching&&t.json&&t.json.next&&!e.data[t.json.next]});return t&&t.json&&t.json.next}}),y=(0,n.createSelector)([h],function(e){return /*@__PURE__*/Y(o)(e.map(function(e){return e&&e.json&&!e.isFetching&&e.json.hits?e.json.hits:[]}))}),b=(0,n.createSelector)([y,s.getCanvases,function(e,t){var n=t.companionWindowId,i=t.windowId;return function(t){return T(e,{annotationUri:t,companionWindowId:n,windowId:i})}}],function(e,t,n){if(!t||0===t.length||!e||0===e.length)return[];var i=t.map(function(e){return e.id});return[].concat(e).sort(function(e,t){var o=n(e.annotations[0]),a=n(t.annotations[0]);return i.indexOf(o.targetId)-i.indexOf(a.targetId)})}),w=function(e){var t=e.map(function(e){if(e&&e.json&&!e.isFetching&&e.json.resources){var t=new a.default(e.json);return{id:t.id,resources:t.resources}}}).filter(Boolean);return{id:(t.find(function(e){return e.id})||{}).id,resources:/*@__PURE__*/Y(o)(t.map(function(e){return e.resources}))}},x=(0,n.createSelector)([h],function(e){return e&&w(e)}),S=(0,n.createSelector)([x,s.getCanvases],function(e,t){return function(e,t){if(!e||!e.resources||0===e.length||!t||0===t.length)return[];var n=t.map(function(e){return e.id});return[].concat(e.resources).sort(function(e,t){return n.indexOf(e.targetId)-n.indexOf(t.targetId)})}(e,t)}),_=(0,n.createSelector)([d],function(e){return e?Object.values(e).map(function(e){return Object.values(e.data)}).map(function(e){return w(e)}).filter(function(e){return e.resources.length>0}):[]}),E=(0,n.createSelector)([l.getWindow,p],function(e,t){return t&&t.selectedContentSearchAnnotationIds||[]}),T=(0,n.createSelector)([x,function(e,t){return t.annotationUri}],function(e,t){return e.resources.find(function(e){return e.id===t})}),O=(0,n.createSelector)([T,u.getManifestLocale],function(e,t){return e&&e.resource&&e.resource.label?(0,i.PropertyValue).parse(e.resource.label,t).getValues():[]}),I=(0,n.createSelector)([_,function(e,t){return t.annotationId}],function(e,t){return /*@__PURE__*/Y(o)(e.map(function(e){return e.resources})).find(function(e){return e.id===t})}),P=(0,n.createSelector)([I,function(e,t){var n=t.windowId;return function(t){return(0,s.getCanvas)(e,{canvasId:t,windowId:n})}}],function(e,t){var n=e&&e.targetId;return n&&t(n)})}),et("6hGfa",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("03QdE"),l=ee("3Egnc"),u=ee("lmpGm"),c={fetchSearch:l.fetchSearch},d=(0,n.compose)((0,i.connect)(function(e,t){var n=t.companionWindowId,i=t.windowId;return{isFetching:(0,u.getSearchIsFetching)(e,{companionWindowId:n,windowId:i}),nextSearch:(0,u.getNextSearchId)(e,{companionWindowId:n,windowId:i}),query:(0,u.getSearchQuery)(e,{companionWindowId:n,windowId:i}),searchAnnotations:(0,u.getSortedSearchAnnotationsForCompanionWindow)(e,{companionWindowId:n,windowId:i}),searchHits:(0,u.getSortedSearchHitsForCompanionWindow)(e,{companionWindowId:n,windowId:i}),searchNumTotal:(0,u.getSearchNumTotal)(e,{companionWindowId:n,windowId:i})}},c),(0,o.withTranslation)(),(0,a.withPlugins)("SearchResults"))(s.SearchResults)}),et("03QdE",function(e,t){q(e.exports,"SearchResults",()=>g);var n=ee("dm060"),i=ee("4hayw"),o=ee("6h89a"),a=ee("d822V"),s=ee("9DVEn"),l=ee("7c0T8"),u=ee("8Dn5z"),c=ee("98yyI"),d=ee("9L45J");function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=h(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,p()?Reflect.construct(i,o||[],h(this).constructor):i.apply(this,o))).state={focused:!1},t.toggleFocus=t.toggleFocus.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(n,e),t=[{key:"toggleFocus",value:function(){var e=this.state.focused;this.setState({focused:!e})}},{key:"renderSearchHitsAndAnnotations",value:function(){var e=this,t=this.props,n=t.companionWindowId,i=t.containerRef,o=t.searchAnnotations,a=t.searchHits,s=t.windowId,c=this.state.focused;return 0===a.length&&o.length>0?o.map(function(t,a){return/*#__PURE__*/(0,d.jsx)(u.default,{announcer:l.announce,annotationId:t.id,companionWindowId:n,containerRef:i,focused:c,index:a,total:o.length,windowId:s,showDetails:e.toggleFocus},t.id)}):a.map(function(t,o){return/*#__PURE__*/(0,d.jsx)(u.default,{announcer:l.announce,containerRef:i,companionWindowId:n,focused:c,hit:t,index:o,total:a.length,windowId:s,showDetails:e.toggleFocus},t.annotations[0])})}},{key:"render",value:function(){var e=this.props,t=e.companionWindowId,n=e.containerRef,l=e.isFetching,u=e.fetchSearch,p=e.nextSearch,h=e.query,f=e.searchAnnotations,g=e.searchHits,m=e.searchNumTotal,v=e.t,y=e.windowId,b=this.state.focused,w=h&&!l&&0===g.length&&0===f.length;return/*#__PURE__*/(0,d.jsxs)(d.Fragment,{children:[b&&/*#__PURE__*/(0,d.jsx)(c.ScrollTo,{containerRef:n,offsetTop:96,scrollTo:!0,children:/*#__PURE__*/(0,d.jsxs)(i.default,{onClick:this.toggleFocus,sx:{textTransform:"none"},size:"small",children:[/*#__PURE__*/(0,d.jsx)(/*@__PURE__*/Y(s),{}),v("backToResults")]})}),w&&/*#__PURE__*/(0,d.jsx)(a.default,{sx:{padding:2,typography:"h6"},children:v("searchNoResults")}),/*#__PURE__*/(0,d.jsx)(o.default,{disablePadding:!0,children:this.renderSearchHitsAndAnnotations()}),p&&/*#__PURE__*/(0,d.jsxs)(i.default,{sx:{width:"100%"},color:"secondary",onClick:function(){return u(y,t,p,h)},children:[v("moreResults"),/*#__PURE__*/(0,d.jsx)("br",{}),"(".concat(v("searchResultsRemaining",{numLeft:m-g.length}),")")]})]})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);g.defaultProps={containerRef:void 0,isFetching:!1,nextSearch:void 0,query:void 0,searchAnnotations:[],searchHits:[],searchNumTotal:void 0,t:function(e){return e}}}),et("9DVEn",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBackSharp")}),et("7c0T8",function(e,t){q(e.exports,"announce",()=>i);let n=null;function i(e,t="assertive",a=7e3){n?n.announce(e,t,a):(n=new o,("boolean"==typeof IS_REACT_ACT_ENVIRONMENT?IS_REACT_ACT_ENVIRONMENT:"undefined"!=typeof jest)?n.announce(e,t,a):setTimeout(()=>{(null==n?void 0:n.isAttached())&&(null==n||n.announce(e,t,a))},100))}class o{isAttached(){var e;return null===(e=this.node)||void 0===e?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=7e3){var i,o;if(!this.node)return;let a=document.createElement("div");"object"==typeof e?(a.setAttribute("role","img"),a.setAttribute("aria-labelledby",e["aria-labelledby"])):a.textContent=e,"assertive"===t?null===(i=this.assertiveLog)||void 0===i||i.appendChild(a):null===(o=this.politeLog)||void 0===o||o.appendChild(a),""!==e&&setTimeout(()=>{a.remove()},n)}clear(e){this.node&&((!e||"assertive"===e)&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||"polite"===e)&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,"undefined"!=typeof document&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}}),et("8Dn5z",function(e,t){q(e.exports,"default",()=>h);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("5nRze"),l=ee("g60ed"),u=ee("hJg9G"),c=ee("lmpGm"),d=ee("bdEuo");function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var h=(0,n.compose)((0,i.connect)(function(e,t){var n,i=t.annotationId,o=t.hit,a=void 0===o?{annotations:[]}:o,s=t.companionWindowId,l=t.windowId,h=i||a.annotations[0],f=(0,c.getResourceAnnotationForSearchHit)(e,{annotationUri:h,companionWindowId:s,windowId:l}),g=(0,c.getResourceAnnotationLabel)(e,{annotationUri:h,companionWindowId:s,windowId:l}),m=(0,u.getVisibleCanvasIds)(e,{windowId:l}),v=(0,c.getSelectedContentSearchAnnotationIds)(e,{companionWindowId:s,windowId:l}),y=(0,d.getSelectedAnnotationId)(e,{windowId:l}),b=[i].concat(function(e){if(Array.isArray(e))return p(e)}(n=a.annotations)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return p(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{adjacent:m.includes(f.targetId),annotation:f,annotationId:h,annotationLabel:g[0],canvasLabel:f&&(0,u.getCanvasLabel)(e,{canvasId:f.targetId,windowId:l}),selected:v[0]&&b.includes(v[0]),windowSelected:y&&b.includes(y)}},function(e,t){var n=t.windowId;return{selectAnnotation:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(l.selectAnnotation.apply(l,[n].concat(i)))}}}),(0,o.withTranslation)(),(0,a.withPlugins)("SearchHit"))(s.SearchHit)}),et("5nRze",function(e,t){q(e.exports,"SearchHit",()=>_);var n=ee("dm060"),i=ee("4hayw"),o=ee("5YsFA"),a=ee("8Ninj"),s=ee("d822V"),l=ee("3cECp"),u=ee("37zHU"),c=ee("kg66o"),d=ee("1cSbr"),p=ee("98yyI"),h=ee("9L45J");function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=b(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var w=(0,u.default)(o.default,{name:"SearchHit",slot:"root"})(function(e){var t=e.ownerState,n=e.theme;return{"&.Mui-focused":y({"&:hover":y({},t.windowSelected&&{backgroundColor:"inherit"})},t.windowSelected&&{backgroundColor:"inherit"}),paddingRight:n.spacing(1)}}),x=(0,u.default)("h4",{name:"SearchHit",slot:"canvasLabel"})(function(e){return{display:"inline",marginBottom:e.theme.spacing(1.5)}}),S=(0,u.default)(l.default,{name:"SearchHit",slot:"counter"})(function(e){var t=e.ownerState,n=e.theme;return y(y(y({backgroundColor:n.palette.hitCounter.default},t.windowSelected&&{backgroundColor:n.palette.highlights.primary}),t.adjacent&&!t.windowSelected&&{backgroundColor:n.palette.highlights.secondary}),{},{height:30,marginRight:n.spacing(1),typography:"subtitle2",verticalAlign:"inherit"})}),_=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=g(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,f()?Reflect.construct(i,o||[],g(this).constructor):i.apply(this,o))).handleClick=t.handleClick.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(n,e),t=[{key:"componentDidMount",value:function(){this.props.selected&&this.announceHit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selected;t&&t!==e.selected&&this.announceHit()}},{key:"handleClick",value:function(){var e=this.props,t=e.annotation,n=e.annotationId,i=e.selectAnnotation;t&&n&&i(n)}},{key:"announceHit",value:function(){var e=this.props,t=e.annotation,n=e.annotationLabel,i=e.announcer,o=e.canvasLabel,a=e.hit,s=e.index,l=e.t,u=e.total;if(a&&i){var c=new d.default(a,t);i([l("pagination",{current:s+1,total:u}),o,n,c.before,c.match,c.after].join(" "),"polite")}}},{key:"render",value:function(){var e=this.props,t=e.adjacent,n=e.annotation,o=e.annotationLabel,l=e.canvasLabel,u=e.companionWindowId,f=e.containerRef,g=e.hit,m=e.focused,v=e.index,y=e.showDetails,b=e.selected,_=e.t,E=e.windowSelected;if(m&&!b)return null;var T=m?g:g&&new d.default(g,n),O=g&&(T.before!==g.before||T.after!==g.after),I="".concat(u,"-").concat(v),P={adjacent:t,focused:m,selected:b,windowSelected:E},C=/*#__PURE__*/(0,h.jsxs)(h.Fragment,{children:[/*#__PURE__*/(0,h.jsx)(S,{component:"span",ownerState:P,label:v+1}),/*#__PURE__*/(0,h.jsxs)(x,{id:I,children:[l,o&&/*#__PURE__*/(0,h.jsx)(s.default,{component:"span",sx:{display:"block",marginTop:1},children:o})]})]});return/*#__PURE__*/(0,h.jsx)(p.ScrollTo,{containerRef:f,offsetTop:96,scrollTo:E&&!m,children:/*#__PURE__*/(0,h.jsx)(w,{ownerState:P,className:E?"windowSelected":"",divider:!0,button:!b,component:"li",onClick:this.handleClick,selected:b,children:/*#__PURE__*/(0,h.jsx)(a.default,{primary:C,primaryTypographyProps:{component:"div",sx:{marginBottom:1},variant:"subtitle2"},secondaryTypographyProps:{variant:"body1"},secondary:/*#__PURE__*/(0,h.jsxs)(h.Fragment,{children:[g&&/*#__PURE__*/(0,h.jsxs)(h.Fragment,{children:[/*#__PURE__*/(0,h.jsx)(c.default,{ruleSet:"iiif",htmlString:T.before})," ",/*#__PURE__*/(0,h.jsx)("strong",{children:/*#__PURE__*/(0,h.jsx)(c.default,{ruleSet:"iiif",htmlString:T.match})})," ",/*#__PURE__*/(0,h.jsx)(c.default,{ruleSet:"iiif",htmlString:T.after})," ",O&&!m&&/*#__PURE__*/(0,h.jsx)(i.default,{sx:{"& span":{lineHeight:"1.5em"},margin:0,padding:0,textTransform:"none"},onClick:y,color:"secondary",size:"small","aria-describedby":I,children:_("more")})]}),!g&&n&&/*#__PURE__*/(0,h.jsx)(c.default,{ruleSet:"iiif",htmlString:n.chars})]})})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,b(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);_.defaultProps={adjacent:!1,annotation:void 0,annotationId:void 0,annotationLabel:void 0,announcer:void 0,canvasLabel:void 0,companionWindowId:void 0,containerRef:void 0,focused:!1,hit:void 0,index:void 0,selectAnnotation:function(){},selected:!1,showDetails:function(){},t:function(e){return e},total:void 0,windowSelected:!1}}),et("5YsFA",function(e,t){q(e.exports,"default",()=>O);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("3oDsv"),c=ee("37zHU"),d=ee("91wvo"),p=ee("h8wer"),h=ee("xq5kG"),f=ee("c2dsU"),g=ee("gvQts"),m=ee("lV3sb"),v=ee("gNoWp"),y=ee("e29sP"),b=ee("4EKx4"),w=ee("9L45J");let x=["className"],S=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],_=e=>{let{alignItems:t,button:n,classes:i,dense:o,disabled:a,disableGutters:l,disablePadding:u,divider:c,hasSecondaryAction:d,selected:p}=e;return(0,s.default)({root:["root",o&&"dense",!l&&"gutters",!u&&"padding",c&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",d&&"secondaryAction",p&&"selected"],container:["container"]},v.getListItemUtilityClass,i)},E=(0,c.default)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})(({theme:e,ownerState:t})=>(0,i.default)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,i.default)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${y.default.root}`]:{paddingRight:48}},{[`&.${v.default.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${v.default.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${v.default.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${v.default.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${v.default.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.alpha)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),T=(0,c.default)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"});var O=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,d.useDefaultProps)({props:e,name:"MuiListItem"}),{alignItems:l="center",autoFocus:c=!1,button:y=!1,children:O,className:I,component:P,components:C={},componentsProps:A={},ContainerComponent:R="li",ContainerProps:{className:k}={},dense:D=!1,disabled:N=!1,disableGutters:M=!1,disablePadding:L=!1,divider:j=!1,focusVisibleClassName:F,secondaryAction:B,selected:z=!1,slotProps:U={},slots:W={}}=s,H=(0,n.default)(s.ContainerProps,x),V=(0,n.default)(s,S),G=o.useContext(m.default),$=o.useMemo(()=>({dense:D||G.dense||!1,alignItems:l,disableGutters:M}),[l,G.dense,D,M]),q=o.useRef(null);(0,f.default)(()=>{c&&q.current&&q.current.focus()},[c]);let X=o.Children.toArray(O),Y=X.length&&(0,h.default)(X[X.length-1],["ListItemSecondaryAction"]),K=(0,i.default)({},s,{alignItems:l,autoFocus:c,button:y,dense:$.dense,disabled:N,disableGutters:M,disablePadding:L,divider:j,hasSecondaryAction:Y,selected:z}),Z=_(K),J=(0,g.default)(q,t),Q=W.root||C.Root||E,ee=U.root||A.root||{},et=(0,i.default)({className:(0,a.default)(Z.root,ee.className,I),disabled:N},V),er=P||"li";return(y&&(et.component=P||"div",et.focusVisibleClassName=(0,a.default)(v.default.focusVisible,F),er=p.default),Y)?(er=et.component||P?er:"div","li"===R&&("li"===er?er="div":"li"===et.component&&(et.component="div")),/*#__PURE__*/(0,w.jsx)(m.default.Provider,{value:$,children:/*#__PURE__*/(0,w.jsxs)(T,(0,i.default)({as:R,className:(0,a.default)(Z.container,k),ref:J,ownerState:K},H,{children:[/*#__PURE__*/(0,w.jsx)(Q,(0,i.default)({},ee,!(0,u.default)(Q)&&{as:er,ownerState:(0,i.default)({},K,ee.ownerState)},et,{children:X})),X.pop()]}))})):/*#__PURE__*/(0,w.jsx)(m.default.Provider,{value:$,children:/*#__PURE__*/(0,w.jsxs)(Q,(0,i.default)({},ee,{as:er,ref:J},!(0,u.default)(Q)&&{ownerState:(0,i.default)({},K,ee.ownerState)},et,{children:[X,B&&/*#__PURE__*/(0,w.jsx)(b.default,{children:B})]}))})})}),et("gNoWp",function(e,t){q(e.exports,"getListItemUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiListItem",e)}var a=(0,n.default)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"])}),et("e29sP",function(e,t){q(e.exports,"default",()=>i);var n=ee("auOVn");ee("hH6Po");var i=(0,n.default)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"])}),et("4EKx4",function(e,t){q(e.exports,"default",()=>v);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("lV3sb"),d=ee("lP0bK"),p=ee("9L45J");let h=["className"],f=e=>{let{disableGutters:t,classes:n}=e;return(0,s.default)({root:["root",t&&"disableGutters"]},d.getListItemSecondaryActionClassesUtilityClass,n)},g=(0,l.default)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})(({ownerState:e})=>(0,i.default)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),m=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiListItemSecondaryAction"}),{className:l}=s,d=(0,n.default)(s,h),m=o.useContext(c.default),v=(0,i.default)({},s,{disableGutters:m.disableGutters}),y=f(v);return/*#__PURE__*/(0,p.jsx)(g,(0,i.default)({className:(0,a.default)(y.root,l),ownerState:v,ref:t},d))});m.muiName="ListItemSecondaryAction";var v=m}),et("lP0bK",function(e,t){q(e.exports,"getListItemSecondaryActionClassesUtilityClass",()=>o);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiListItemSecondaryAction",e)}(0,n.default)("MuiListItemSecondaryAction",["root","disableGutters"])}),et("1cSbr",function(e,t){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}q(e.exports,"default",()=>a);var i,o,a=(i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.maxChars,a=i.minimum;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.hit=t,this.annotation=n,this.maxChars=(void 0===o?200:o)||200,this.minimum=(void 0===a?20:a)||20},o=[{key:"match",get:function(){return this.hit.match||this.annotation&&this.annotation.resource.resource.chars||"-"}},{key:"charsOnSide",get:function(){var e=(this.maxChars-this.match.length)/2,t=[(this.hit.before||"").length,(this.hit.after||"").length].filter(function(e){return e>0});return Math.max(Math.min.apply(Math,[e].concat(function(e){if(Array.isArray(e))return n(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var i=({}).toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),this.minimum)}},{key:"before",get:function(){return this.hit.before?this.hit.before.substring(this.hit.before.length-this.charsOnSide,this.hit.before.length):""}},{key:"after",get:function(){return this.hit.after?this.hit.after.substring(0,Math.min(this.hit.after.length,this.charsOnSide)):""}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(i.prototype,o),Object.defineProperty(i,"prototype",{writable:!1}),i)}),et("3Jd8l",function(e,t){q(e.exports,"default",()=>u);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("fhnUR"),l=ee("hJg9G"),u=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){t.id;var n=t.windowId;return{canvasIds:(0,l.getVisibleCanvasIds)(e,{windowId:n})}}),(0,a.withPlugins)("LayersPanel"))(s.LayersPanel)}),et("fhnUR",function(e,t){q(e.exports,"LayersPanel",()=>c);var n=ee("dm060"),i=ee("d6cg7"),o=ee("kIcbC"),a=ee("9L45J");function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var c=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=l(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,s()?Reflect.construct(e,t||[],l(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.canvasIds,n=e.id,s=e.t,l=e.windowId;return/*#__PURE__*/(0,a.jsx)(i.default,{title:s("layers"),id:n,windowId:l,children:t.map(function(e,n){return/*#__PURE__*/(0,a.jsx)(o.default,{canvasId:e,index:n,totalSize:t.length,windowId:l},e)})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);c.defaultProps={canvasIds:[]}}),et("kIcbC",function(e,t){q(e.exports,"default",()=>d);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("6PNZs"),s=ee("hJg9G"),l=ee("1inBa"),u=ee("glOfl"),c={updateLayers:a.updateLayers},d=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.canvasId,i=t.windowId;return{label:(0,s.getCanvasLabel)(e,{canvasId:n,windowId:i}),layerMetadata:(0,l.getLayers)(e,{canvasId:n,windowId:i}),layers:(0,l.getSortedLayers)(e,{canvasId:n,windowId:i})}},c))(u.CanvasLayers)}),et("1inBa",function(e,t){q(e.exports,"getLayers",()=>c),q(e.exports,"getSortedLayers",()=>d),q(e.exports,"getLayersForVisibleCanvases",()=>p);var n=ee("9Fw2L"),i=ee("3h31Z"),o=ee("hJg9G"),a=ee("5h5fP"),s=(0,n.createSelector)([o.getCanvas],function(e){return e?new i.default(e).imageResources:[]}),l=Object.freeze([]),u=(0,n.createSelector)([function(e){return(0,a.miradorSlice)(e).layers},function(e,t){return t.windowId}],function(e,t){return e&&e[t]||l}),c=(0,n.createSelector)([u,function(e,t){return t.canvasId}],function(e,t){return e[t]}),d=(0,n.createSelector)([s,c],function(e,t){return t?e.sort(function(e,n){return t[e.id]&&void 0!==t[e.id].index&&t[n.id]&&void 0!==t[n.id].index?t[e.id].index-t[n.id].index:t[e.id]&&void 0!==t[e.id].index?-1:t[n.id]&&void 0!==t[n.id].index?1:0}):e}),p=(0,n.createSelector)([o.getVisibleCanvasIds,u],function(e,t){return e.reduce(function(e,n){return e[n]=t[n],e},{})})}),et("glOfl",function(e,t){q(e.exports,"CanvasLayers",()=>D);var n=ee("dm060"),i=ee("37zHU"),o=ee("e7c9a"),a=ee("kAtI6"),s=ee("kLWt6"),l=ee("6h89a"),u=ee("5YsFA"),c=ee("7KY40"),d=ee("d0rRE"),p=ee("dZavd"),h=ee("ZgeA8"),f=ee("9x9UM"),g=ee("kowpd"),m=ee("5X2Hj"),v=ee("d822V"),y=ee("7VUhX"),b=ee("2Wy2f"),w=ee("aG6hj"),x=ee("9L45J");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O(i.key),i)}}function O(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var R=(0,i.default)("div")(function(e){var t=e.theme;return{alignItems:"center",borderRight:"0.5px solid ".concat(t.palette.divider),display:"flex",flex:1,flexDirection:"row",marginBottom:t.spacing(-2),marginRight:t.spacing(1),marginTop:t.spacing(-2),maxWidth:t.spacing(3),width:t.spacing(3)}}),k=function(e,t,n){var i,o=Array.from(e),a=(function(e){if(Array.isArray(e))return e}(i=o.splice(t,1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),1!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(i,1)||function(e,t){if(e){if("string"==typeof e)return A(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,1):void 0}}(i,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return o.splice(n,0,a),o},D=/*#__PURE__*/function(e){var t,i;function S(e){var t,n,i;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,S),n=S,i=[e],n=P(n),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,I()?Reflect.construct(n,i||[],P(this).constructor):n.apply(this,i))).droppableId=(0,o.default)(),t.onDragEnd=t.onDragEnd.bind(t),t.handleOpacityChange=t.handleOpacityChange.bind(t),t.setLayerVisibility=t.setLayerVisibility.bind(t),t.moveToTop=t.moveToTop.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(S,e),t=[{key:"handleOpacityChange",value:function(e,t){var n=this.props,i=n.canvasId;(0,n.updateLayers)(n.windowId,i,E({},e,{opacity:t/100}))}},{key:"onDragEnd",value:function(e){var t=this.props,n=t.canvasId,i=t.layers,o=t.updateLayers,a=t.windowId;if(e.destination&&e.destination.droppableId===this.droppableId&&e.source.droppableId===this.droppableId){var s=k(i.map(function(e){return e.id}),e.source.index,e.destination.index);o(a,n,i.reduce(function(e,t){return e[t.id]={index:s.indexOf(t.id)},e},{}))}}},{key:"setLayerVisibility",value:function(e,t){var n=this.props,i=n.canvasId;(0,n.updateLayers)(n.windowId,i,E({},e,{visibility:t}))}},{key:"moveToTop",value:function(e){var t=this.props,n=t.canvasId,i=t.layers,o=t.updateLayers,a=t.windowId,s=k(i.map(function(e){return e.id}),i.findIndex(function(t){return t.id===e}),0);o(a,n,i.reduce(function(e,t){return e[t.id]={index:s.indexOf(t.id)},e},{}))}},{key:"renderLayer",value:function(e,t){var n=this,i=this.props,o=i.layerMetadata,l=i.t,u=_({opacity:1,visibility:!0},(o||{})[e.id]);return/*#__PURE__*/(0,x.jsxs)("div",{style:{flex:1},children:[/*#__PURE__*/(0,x.jsxs)("div",{style:{alignItems:"flex-start",display:"flex"},children:[/*#__PURE__*/(0,x.jsx)(w.default,{maxHeight:void 0,maxWidth:50,resource:e,border:!0}),/*#__PURE__*/(0,x.jsxs)(v.default,{sx:{paddingLeft:1},component:"div",variant:"body1",children:[S.getUseableLabel(e,t),/*#__PURE__*/(0,x.jsxs)("div",{children:[/*#__PURE__*/(0,x.jsx)(b.default,{"aria-label":l(u.visibility?"layer_hide":"layer_show"),edge:"start",size:"small",onClick:function(){n.setLayerVisibility(e.id,!u.visibility)},children:u.visibility?/*#__PURE__*/(0,x.jsx)(/*@__PURE__*/Y(f),{}):/*#__PURE__*/(0,x.jsx)(/*@__PURE__*/Y(g),{})}),0!==u.index&&/*#__PURE__*/(0,x.jsx)(b.default,{"aria-label":l("layer_moveToTop"),size:"small",onClick:function(){n.moveToTop(e.id)},children:/*#__PURE__*/(0,x.jsx)(/*@__PURE__*/Y(h),{})})]})]})]}),/*#__PURE__*/(0,x.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[/*#__PURE__*/(0,x.jsx)(d.default,{title:l("layer_opacity"),children:/*#__PURE__*/(0,x.jsx)(/*@__PURE__*/Y(m),{sx:{marginRight:.5},color:u.visibility?"inherit":"disabled",fontSize:"small"})}),/*#__PURE__*/(0,x.jsx)(a.default,{sx:{"MuiInput-input":{"&::-webkit-outer-spin-button,&::-webkit-inner-spin-button":{margin:0,WebkitAppearance:"none"},MozAppearance:"textfield",textAlign:"right",typography:"caption",width:"3ch"}},disabled:!u.visibility,value:Math.round(100*u.opacity),type:"number",min:0,max:100,onChange:function(t){return n.handleOpacityChange(e.id,t.target.value)},endAdornment:/*#__PURE__*/(0,x.jsx)(s.default,{disableTypography:!0,position:"end",children:/*#__PURE__*/(0,x.jsx)(v.default,{variant:"caption",children:"%"})}),inputProps:{"aria-label":l("layer_opacity")}}),/*#__PURE__*/(0,x.jsx)(c.default,{sx:{marginLeft:2,marginRight:2,maxWidth:150},disabled:!u.visibility,value:100*u.opacity,onChange:function(t,i){return n.handleOpacityChange(e.id,i)}})]})]})}},{key:"renderDraggableLayer",value:function(e,t){var i=this,o=this.props.t;return/*#__PURE__*/(0,x.jsx)(y.Draggable,{draggableId:e.id,index:t,children:function(a,s){return/*#__PURE__*/(0,n.createElement)(u.default,_(_({ref:a.innerRef},a.draggableProps),{},{component:"li",divider:!0,sx:_({alignItems:"stretch",cursor:"pointer",paddingBottom:2,paddingRight:2,paddingTop:2},s.isDragging&&{backgroundColor:"action.hover"}),disableGutters:!0,key:e.id}),/*#__PURE__*/(0,x.jsx)(R,_(_({},a.dragHandleProps),{},{sx:{"&:hover":{backgroundColor:s.isDragging?"action.selected":"action.hover"},backgroundColor:s.isDragging?"action.selected":"shades.light"},children:/*#__PURE__*/(0,x.jsx)(d.default,{title:o("layer_move"),children:/*#__PURE__*/(0,x.jsx)(/*@__PURE__*/Y(p),{})})})),i.renderLayer(e,t))}},e.id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,i=t.label,o=t.layers,a=t.t,s=t.totalSize;return/*#__PURE__*/(0,x.jsxs)(x.Fragment,{children:[s>1&&/*#__PURE__*/(0,x.jsx)(v.default,{sx:{paddingLeft:1,paddingRight:1,paddingTop:2},variant:"overline",children:a("annotationCanvasLabel",{context:"".concat(n+1,"/").concat(s),label:i})}),/*#__PURE__*/(0,x.jsx)(y.DragDropContext,{onDragEnd:this.onDragEnd,children:/*#__PURE__*/(0,x.jsx)(y.Droppable,{droppableId:this.droppableId,children:function(t,n){return/*#__PURE__*/(0,x.jsxs)(l.default,_(_({sx:{paddingTop:0}},t.droppableProps),{},{ref:t.innerRef,children:[o&&o.map(function(t,n){return e.renderDraggableLayer(t,n)}),t.placeholder]}))}})})]})}}],i=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():String(t+1)}}],t&&T(S.prototype,t),i&&T(S,i),Object.defineProperty(S,"prototype",{writable:!1}),S}(n.Component);D.defaultProps={layerMetadata:void 0}}),et("7KY40",function(e,t){q(e.exports,"default",()=>k);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("9xsQ3"),u=ee("aBKyn"),c=ee("kRqjG"),d=ee("3oDsv"),p=ee("kOok0"),h=ee("37zHU"),f=ee("91wvo"),g=ee("cpNQ9"),m=ee("9nv6r"),v=ee("iOGUL"),y=ee("BnvMm"),b=ee("vl922"),w=ee("9L45J");let x=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function S(e){return e}let _=(0,h.default)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`color${(0,v.default)(n.color)}`],"medium"!==n.size&&t[`size${(0,v.default)(n.size)}`],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})(({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${b.default.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${b.default.dragging}`]:{[`& .${b.default.thumb}, & .${b.default.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(t=e.vars)?t:e).palette).filter(t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main}).map(t=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),E=(0,h.default)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),T=(0,h.default)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter(t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main}).map(t=>({props:{color:t,track:"inverted"},style:(0,i.default)({},e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:(0,i.default)({backgroundColor:(0,l.lighten)(e.palette[t].main,.62),borderColor:(0,l.lighten)(e.palette[t].main,.62)},e.applyStyles("dark",{backgroundColor:(0,l.darken)(e.palette[t].main,.5)}),e.applyStyles("dark",{borderColor:(0,l.darken)(e.palette[t].main,.5)})))}))]}}),O=(0,h.default)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.thumb,t[`thumbColor${(0,v.default)(n.color)}`],"medium"!==n.size&&t[`thumbSize${(0,v.default)(n.size)}`]]}})(({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${b.default.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(t=e.vars)?t:e).palette).filter(t=>{var n;return(null!=(n=e.vars)?n:e).palette[t].main}).map(t=>({props:{color:t},style:{[`&:hover, &.${b.default.focusVisible}`]:(0,i.default)({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${(0,l.alpha)(e.palette[t].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${b.default.active}`]:(0,i.default)({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${(0,l.alpha)(e.palette[t].main,.16)}`})}}))]}}),I=(0,h.default)(y.default,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e})=>(0,i.default)({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${b.default.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${b.default.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),P=(0,h.default)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>(0,g.default)(e)&&"markActive"!==e,overridesResolver:(e,t)=>{let{markActive:n}=e;return[t.mark,n&&t.markActive]}})(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]})),C=(0,h.default)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>(0,g.default)(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})(({theme:e})=>(0,i.default)({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]})),A=e=>{let{disabled:t,dragging:n,marked:i,orientation:o,track:a,classes:l,color:u,size:c}=e,d={root:["root",t&&"disabled",n&&"dragging",i&&"marked","vertical"===o&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse",u&&`color${(0,v.default)(u)}`,c&&`size${(0,v.default)(c)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",c&&`thumbSize${(0,v.default)(c)}`,u&&`thumbColor${(0,v.default)(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,s.default)(d,b.getSliderUtilityClass,l)},R=({children:e})=>e;var k=/*#__PURE__*/o.forwardRef(function(e,t){var s,l,h,g,v,y,b,k,D,N,M,L,j,F,B,z,U,W,H,V,G,$,q,X;let Y=(0,f.useDefaultProps)({props:e,name:"MuiSlider"}),K=(0,u.useRtl)(),{"aria-label":Z,"aria-valuetext":J,"aria-labelledby":Q,component:ee="span",components:et={},componentsProps:er={},color:en="primary",classes:ei,className:eo,disableSwap:ea=!1,disabled:es=!1,getAriaLabel:el,getAriaValueText:eu,marks:ec=!1,max:ed=100,min:ep=0,orientation:eh="horizontal",shiftStep:ef=10,size:eg="medium",step:em=1,scale:ev=S,slotProps:ey,slots:eb,track:ew="normal",valueLabelDisplay:ex="off",valueLabelFormat:eS=S}=Y,e_=(0,n.default)(Y,x),eE=(0,i.default)({},Y,{isRtl:K,max:ed,min:ep,classes:ei,disabled:es,disableSwap:ea,orientation:eh,marks:ec,color:en,size:eg,step:em,shiftStep:ef,scale:ev,track:ew,valueLabelDisplay:ex,valueLabelFormat:eS}),{axisProps:eT,getRootProps:eO,getHiddenInputProps:eI,getThumbProps:eP,open:eC,active:eA,axis:eR,focusedThumbIndex:ek,range:eD,dragging:eN,marks:eM,values:eL,trackOffset:ej,trackLeap:eF,getThumbStyle:eB}=(0,p.useSlider)((0,i.default)({},eE,{rootRef:t}));eE.marked=eM.length>0&&eM.some(e=>e.label),eE.dragging=eN,eE.focusedThumbIndex=ek;let ez=A(eE),eU=null!=(s=null!=(l=null==eb?void 0:eb.root)?l:et.Root)?s:_,eW=null!=(h=null!=(g=null==eb?void 0:eb.rail)?g:et.Rail)?h:E,eH=null!=(v=null!=(y=null==eb?void 0:eb.track)?y:et.Track)?v:T,eV=null!=(b=null!=(k=null==eb?void 0:eb.thumb)?k:et.Thumb)?b:O,eG=null!=(D=null!=(N=null==eb?void 0:eb.valueLabel)?N:et.ValueLabel)?D:I,e$=null!=(M=null!=(L=null==eb?void 0:eb.mark)?L:et.Mark)?M:P,eq=null!=(j=null!=(F=null==eb?void 0:eb.markLabel)?F:et.MarkLabel)?j:C,eX=null!=(B=null!=(z=null==eb?void 0:eb.input)?z:et.Input)?B:"input",eY=null!=(U=null==ey?void 0:ey.root)?U:er.root,eK=null!=(W=null==ey?void 0:ey.rail)?W:er.rail,eZ=null!=(H=null==ey?void 0:ey.track)?H:er.track,eJ=null!=(V=null==ey?void 0:ey.thumb)?V:er.thumb,eQ=null!=(G=null==ey?void 0:ey.valueLabel)?G:er.valueLabel,e0=null!=($=null==ey?void 0:ey.mark)?$:er.mark,e1=null!=(q=null==ey?void 0:ey.markLabel)?q:er.markLabel,e2=null!=(X=null==ey?void 0:ey.input)?X:er.input,e3=(0,c.default)({elementType:eU,getSlotProps:eO,externalSlotProps:eY,externalForwardedProps:e_,additionalProps:(0,i.default)({},(0,m.default)(eU)&&{as:ee}),ownerState:(0,i.default)({},eE,null==eY?void 0:eY.ownerState),className:[ez.root,eo]}),e5=(0,c.default)({elementType:eW,externalSlotProps:eK,ownerState:eE,className:ez.rail}),e4=(0,c.default)({elementType:eH,externalSlotProps:eZ,additionalProps:{style:(0,i.default)({},eT[eR].offset(ej),eT[eR].leap(eF))},ownerState:(0,i.default)({},eE,null==eZ?void 0:eZ.ownerState),className:ez.track}),e6=(0,c.default)({elementType:eV,getSlotProps:eP,externalSlotProps:eJ,ownerState:(0,i.default)({},eE,null==eJ?void 0:eJ.ownerState),className:ez.thumb}),e8=(0,c.default)({elementType:eG,externalSlotProps:eQ,ownerState:(0,i.default)({},eE,null==eQ?void 0:eQ.ownerState),className:ez.valueLabel}),e9=(0,c.default)({elementType:e$,externalSlotProps:e0,ownerState:eE,className:ez.mark}),e7=(0,c.default)({elementType:eq,externalSlotProps:e1,ownerState:eE,className:ez.markLabel}),te=(0,c.default)({elementType:eX,getSlotProps:eI,externalSlotProps:e2,ownerState:eE});return/*#__PURE__*/(0,w.jsxs)(eU,(0,i.default)({},e3,{children:[/*#__PURE__*/(0,w.jsx)(eW,(0,i.default)({},e5)),/*#__PURE__*/(0,w.jsx)(eH,(0,i.default)({},e4)),eM.filter(e=>e.value>=ep&&e.value<=ed).map((e,t)=>{let n;let s=(0,p.valueToPercent)(e.value,ep,ed),l=eT[eR].offset(s);return n=!1===ew?-1!==eL.indexOf(e.value):"normal"===ew&&(eD?e.value>=eL[0]&&e.value<=eL[eL.length-1]:e.value<=eL[0])||"inverted"===ew&&(eD?e.value<=eL[0]||e.value>=eL[eL.length-1]:e.value>=eL[0]),/*#__PURE__*/(0,w.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,w.jsx)(e$,(0,i.default)({"data-index":t},e9,!(0,d.default)(e$)&&{markActive:n},{style:(0,i.default)({},l,e9.style),className:(0,a.default)(e9.className,n&&ez.markActive)})),null!=e.label?/*#__PURE__*/(0,w.jsx)(eq,(0,i.default)({"aria-hidden":!0,"data-index":t},e7,!(0,d.default)(eq)&&{markLabelActive:n},{style:(0,i.default)({},l,e7.style),className:(0,a.default)(ez.markLabel,e7.className,n&&ez.markLabelActive),children:e.label})):null]},t)}),eL.map((e,t)=>{let n=(0,p.valueToPercent)(e,ep,ed),o=eT[eR].offset(n),s="off"===ex?R:eG;return/*#__PURE__*/(0,w.jsx)(s,(0,i.default)({},!(0,d.default)(s)&&{valueLabelFormat:eS,valueLabelDisplay:ex,value:"function"==typeof eS?eS(ev(e),t):eS,index:t,open:eC===t||eA===t||"on"===ex,disabled:es},e8,{children:/*#__PURE__*/(0,w.jsx)(eV,(0,i.default)({"data-index":t},e6,{className:(0,a.default)(ez.thumb,e6.className,eA===t&&ez.active,ek===t&&ez.focusVisible),style:(0,i.default)({},o,eB(t),e6.style),children:/*#__PURE__*/(0,w.jsx)(eX,(0,i.default)({"data-index":t,"aria-label":el?el(t):Z,"aria-valuenow":ev(e),"aria-labelledby":Q,"aria-valuetext":eu?eu(ev(e),t):J,value:eL[t]},te))}))}),t)})]}))})}),et("kOok0",function(e,t){let n;q(e.exports,"valueToPercent",()=>b),q(e.exports,"useSlider",()=>O);var i=ee("5XyNA"),o=ee("dm060"),a=ee("fDl5e"),s=ee("lauWI"),l=ee("bKnTm"),u=ee("evlvx"),c=ee("bOBP7"),d=ee("duXim"),p=ee("6qGTI"),h=ee("bODp9"),f=ee("9fH15"),g=ee("5PCyg");function m(e,t){return e-t}function v(e,t){var n;let{index:i}=null!=(n=e.reduce((e,n,i)=>{let o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:i}:e},null))?n:{};return i}function y(e,t){if(void 0!==t.current&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){let i=e.changedTouches[n];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function b(e,t,n){return(e-t)*100/(n-t)}function w({values:e,newValue:t,index:n}){let i=e.slice();return i[n]=t,i.sort(m)}function x({sliderRef:e,activeIndex:t,setActive:n}){var i,o,a;let l=(0,s.default)(e.current);null!=(i=e.current)&&i.contains(l.activeElement)&&Number(null==l||null==(o=l.activeElement)?void 0:o.getAttribute("data-index"))===t||null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus(),n&&n(t)}function S(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&(0,g.default)(e,t)}let _={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},E=e=>e;function T(){return void 0===n&&("undefined"!=typeof CSS&&"function"==typeof CSS.supports?n=CSS.supports("touch-action","none"):n=!0),n}function O(e){let{"aria-labelledby":t,defaultValue:n,disabled:g=!1,disableSwap:O=!1,isRtl:I=!1,marks:P=!1,max:C=100,min:A=0,name:R,onChange:k,onChangeCommitted:D,orientation:N="horizontal",rootRef:M,scale:L=E,step:j=1,shiftStep:F=10,tabIndex:B,value:z}=e,U=o.useRef(),[W,H]=o.useState(-1),[V,G]=o.useState(-1),[$,q]=o.useState(!1),X=o.useRef(0),[Y,K]=(0,l.default)({controlled:z,default:null!=n?n:A,name:"Slider"}),Z=k&&((e,t,n)=>{let i=e.nativeEvent||e,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:R}}),k(o,t,n)}),J=Array.isArray(Y),Q=J?Y.slice().sort(m):[Y];Q=Q.map(e=>null==e?A:(0,a.default)(e,A,C));let ee=!0===P&&null!==j?[...Array(Math.floor((C-A)/j)+1)].map((e,t)=>({value:A+j*t})):P||[],et=ee.map(e=>e.value),{isFocusVisibleRef:er,onBlur:en,onFocus:ei,ref:eo}=(0,p.default)(),[ea,es]=o.useState(-1),el=o.useRef(),eu=(0,d.default)(eo,el),ec=(0,d.default)(M,eu),ed=e=>t=>{var n;let i=Number(t.currentTarget.getAttribute("data-index"));ei(t),!0===er.current&&es(i),G(i),null==e||null==(n=e.onFocus)||n.call(e,t)},ep=e=>t=>{var n;en(t),!1===er.current&&es(-1),G(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},eh=(e,t)=>{let n=Number(e.currentTarget.getAttribute("data-index")),i=Q[n],o=et.indexOf(i),s=t;if(ee&&null==j){let e=et[et.length-1];s=s>e?e:s<et[0]?et[0]:s<i?et[o-1]:et[o+1]}if(s=(0,a.default)(s,A,C),J){O&&(s=(0,a.default)(s,Q[n-1]||-1/0,Q[n+1]||1/0));let e=s;s=w({values:Q,newValue:s,index:n});let t=n;O||(t=s.indexOf(e)),x({sliderRef:el,activeIndex:t})}K(s),es(n),Z&&!S(s,Y)&&Z(e,s,n),D&&D(e,s)},ef=e=>t=>{var n;if(null!==j){let e=Q[Number(t.currentTarget.getAttribute("data-index"))],n=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?n=Math.max(e-F,A):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(n=Math.min(e+F,C)),null!==n&&(eh(t,n),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};(0,u.default)(()=>{if(g&&el.current.contains(document.activeElement)){var e;null==(e=document.activeElement)||e.blur()}},[g]),g&&-1!==W&&H(-1),g&&-1!==ea&&es(-1);let eg=e=>t=>{var n;null==(n=e.onChange)||n.call(e,t),eh(t,t.target.valueAsNumber)},em=o.useRef(),ev=N;I&&"horizontal"===N&&(ev+="-reverse");let ey=({finger:e,move:t=!1})=>{let n,i;let{current:o}=el,{width:s,height:l,bottom:u,left:c}=o.getBoundingClientRect();if(n=0===ev.indexOf("vertical")?(u-e.y)/l:(e.x-c)/s,-1!==ev.indexOf("-reverse")&&(n=1-n),i=(C-A)*n+A,j)i=Number((Math.round((i-A)/j)*j+A).toFixed(function(e){if(1>Math.abs(e)){let t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}let t=e.toString().split(".")[1];return t?t.length:0}(j)));else{let e=v(et,i);i=et[e]}i=(0,a.default)(i,A,C);let d=0;if(J){d=t?em.current:v(Q,i),O&&(i=(0,a.default)(i,Q[d-1]||-1/0,Q[d+1]||1/0));let e=i;i=w({values:Q,newValue:i,index:d}),O&&t||(d=i.indexOf(e),em.current=d)}return{newValue:i,activeIndex:d}},eb=(0,c.default)(e=>{let t=y(e,U);if(!t)return;if(X.current+=1,"mousemove"===e.type&&0===e.buttons){ew(e);return}let{newValue:n,activeIndex:i}=ey({finger:t,move:!0});x({sliderRef:el,activeIndex:i,setActive:H}),K(n),!$&&X.current>2&&q(!0),Z&&!S(n,Y)&&Z(e,n,i)}),ew=(0,c.default)(e=>{let t=y(e,U);if(q(!1),!t)return;let{newValue:n}=ey({finger:t,move:!0});H(-1),"touchend"===e.type&&G(-1),D&&D(e,n),U.current=void 0,eS()}),ex=(0,c.default)(e=>{if(g)return;T()||e.preventDefault();let t=e.changedTouches[0];null!=t&&(U.current=t.identifier);let n=y(e,U);if(!1!==n){let{newValue:t,activeIndex:i}=ey({finger:n});x({sliderRef:el,activeIndex:i,setActive:H}),K(t),Z&&!S(t,Y)&&Z(e,t,i)}X.current=0;let i=(0,s.default)(el.current);i.addEventListener("touchmove",eb,{passive:!0}),i.addEventListener("touchend",ew,{passive:!0})}),eS=o.useCallback(()=>{let e=(0,s.default)(el.current);e.removeEventListener("mousemove",eb),e.removeEventListener("mouseup",ew),e.removeEventListener("touchmove",eb),e.removeEventListener("touchend",ew)},[ew,eb]);o.useEffect(()=>{let{current:e}=el;return e.addEventListener("touchstart",ex,{passive:T()}),()=>{e.removeEventListener("touchstart",ex),eS()}},[eS,ex]),o.useEffect(()=>{g&&eS()},[g,eS]);let e_=e=>t=>{var n;if(null==(n=e.onMouseDown)||n.call(e,t),g||t.defaultPrevented||0!==t.button)return;t.preventDefault();let i=y(t,U);if(!1!==i){let{newValue:e,activeIndex:n}=ey({finger:i});x({sliderRef:el,activeIndex:n,setActive:H}),K(e),Z&&!S(e,Y)&&Z(t,e,n)}X.current=0;let o=(0,s.default)(el.current);o.addEventListener("mousemove",eb,{passive:!0}),o.addEventListener("mouseup",ew)},eE=b(J?Q[0]:A,A,C),eT=b(Q[Q.length-1],A,C)-eE,eO=e=>t=>{var n;null==(n=e.onMouseOver)||n.call(e,t),G(Number(t.currentTarget.getAttribute("data-index")))},eI=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),G(-1)};return{active:W,axis:ev,axisProps:_,dragging:$,focusedThumbIndex:ea,getHiddenInputProps:(n={})=>{var o;let a=(0,f.default)(n),s={onChange:eg(a||{}),onFocus:ed(a||{}),onBlur:ep(a||{}),onKeyDown:ef(a||{})},l=(0,i.default)({},a,s);return(0,i.default)({tabIndex:B,"aria-labelledby":t,"aria-orientation":N,"aria-valuemax":L(C),"aria-valuemin":L(A),name:R,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(o=e.step)?o:void 0,disabled:g},n,l,{style:(0,i.default)({},h.default,{direction:I?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{let t=(0,f.default)(e),n={onMouseDown:e_(t||{})},o=(0,i.default)({},t,n);return(0,i.default)({},e,{ref:ec},o)},getThumbProps:(e={})=>{let t=(0,f.default)(e),n={onMouseOver:eO(t||{}),onMouseLeave:eI(t||{})};return(0,i.default)({},e,t,n)},marks:ee,open:V,range:J,rootRef:ec,trackLeap:eT,trackOffset:eE,values:Q,getThumbStyle:e=>({pointerEvents:-1!==W&&W!==e?"none":void 0})}}}),et("bODp9",function(e,t){q(e.exports,"default",()=>n);var n={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}}),et("5PCyg",function(e,t){q(e.exports,"default",()=>n);var n=function(e,t,n=(e,t)=>e===t){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}}),et("9nv6r",function(e,t){q(e.exports,"default",()=>i);var n=ee("3oDsv"),i=e=>!e||!(0,n.default)(e)}),et("BnvMm",function(e,t){q(e.exports,"default",()=>l);var n=ee("dm060"),i=ee("auY7r"),o=ee("vl922"),a=ee("9L45J");let s=e=>{let{open:t}=e;return{offset:(0,i.default)(t&&o.default.valueLabelOpen),circle:o.default.valueLabelCircle,label:o.default.valueLabelLabel}};function l(e){let{children:t,className:o,value:l}=e,u=s(e);return t?/*#__PURE__*/n.cloneElement(t,{className:(0,i.default)(t.props.className)},/*#__PURE__*/(0,a.jsxs)(n.Fragment,{children:[t.props.children,/*#__PURE__*/(0,a.jsx)("span",{className:(0,i.default)(u.offset,o),"aria-hidden":!0,children:/*#__PURE__*/(0,a.jsx)("span",{className:u.circle,children:/*#__PURE__*/(0,a.jsx)("span",{className:u.label,children:l})})})]})):null}}),et("vl922",function(e,t){q(e.exports,"getSliderUtilityClass",()=>o),q(e.exports,"default",()=>a);var n=ee("auOVn"),i=ee("hH6Po");function o(e){return(0,i.default)("MuiSlider",e)}var a=(0,n.default)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"])}),et("dZavd",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandleSharp")}),et("ZgeA8",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M8 11h3v10h2V11h3l-4-4zM4 3v2h16V3z"}),"VerticalAlignTopSharp")}),et("5X2Hj",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"M17.66 8 12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8M6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14z"}),"OpacitySharp")}),et("7VUhX",function(e,t){q(e.exports,"DragDropContext",()=>nF),q(e.exports,"Draggable",()=>n1),q(e.exports,"Droppable",()=>iO);var n=ee("dm060"),i=ee("lfr5Y"),o=ee("1l9KS"),a=ee("bEWqL"),s=ee("988Ez"),l=ee("dfVCd"),u=ee("5ZHRY"),c=ee("4vLSu"),d=ee("5XyNA");let p=/[ \t]{2,}/g,h=/^[ \t]*/gm,f=e=>e.replace(p," ").replace(h,"").trim();function g(e,t){}function m(){}function v(e,t,n){let i=t.map(t=>{var i;let o=(i=t.options,{...n,...i});return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}});return function(){i.forEach(e=>{e()})}}g.bind(null,"warn"),g.bind(null,"error");class y extends Error{}function b(e,t){throw new y("Invariant failed")}y.prototype.toString=function(){return this.message};class w extends /*@__PURE__*/Y(n).Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=m,this.onWindowError=e=>{let t=this.getCallbacks();t.isDragging()&&t.tryAbort(),e.error instanceof y&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=v(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof y){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}let x=e=>e+1,S=(e,t)=>{let n=e.droppableId===t.droppableId,i=x(e.index),o=x(t.index);return n?`
      You have moved the item from position ${i}
      to position ${o}
    `:`
    You have moved the item from position ${i}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${o}
  `},_=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,E=e=>`
  The item has returned to its starting position
  of ${x(e.index)}
`,T={dragHandleUsageInstructions:`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,onDragStart:e=>`
  You have lifted an item in position ${x(e.source.index)}
`,onDragUpdate:e=>{let t=e.destination;if(t)return S(e.source,t);let n=e.combine;return n?_(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`
      Movement cancelled.
      ${E(e.source)}
    `;let t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${S(e.source,t)}
    `:n?`
      You have dropped the item.
      ${_(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${E(e.source)}
  `}},O={x:0,y:0},I=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),P=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),C=(e,t)=>e.x===t.x&&e.y===t.y,A=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),R=(e,t,n=0)=>"x"===e?{x:t,y:n}:{x:n,y:t},k=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),D=(e,t)=>Math.min(...t.map(t=>k(e,t))),N=e=>t=>({x:e(t.x),y:e(t.y)});var M=(e,t)=>{let n=(0,l.getRect)({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};let L=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),j=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],F=(e,t)=>t?L(e,t.scroll.diff.displacement):e,B=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,z=(e,t)=>t&&t.shouldClipSubject?M(t.pageMarginBox,e):(0,l.getRect)(e);var U=({page:e,withPlaceholder:t,axis:n,frame:i})=>{let o=z(B(F(e.marginBox,i),n,t),i);return{page:e,withPlaceholder:t,active:o}},W=(e,t)=>{e.frame||b();let n=e.frame,i=P(t,n.scroll.initial),o=A(i),a={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:i,displacement:o},max:n.scroll.max}},s=U({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:a});return{...e,frame:a,subject:s}};let H=(0,u.default)(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),V=(0,u.default)(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),G=(0,u.default)(e=>Object.values(e)),$=(0,u.default)(e=>Object.values(e));var X=(0,u.default)((e,t)=>$(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index));function K(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Z(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var J=(0,u.default)((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),Q=({isMovingForward:e,draggable:t,destination:n,insideDestination:i,previousImpact:o})=>{if(!n.isCombineEnabled||!K(o))return null;function a(e){let t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return{...o,at:t}}let s=o.displaced.all,l=s.length?s[0]:null;if(e)return l?a(l):null;let u=J(t,i);if(!l)return u.length?a(u[u.length-1].descriptor.id):null;let c=u.findIndex(e=>e.descriptor.id===l);-1!==c||b();let d=c-1;return d<0?null:a(u[d].descriptor.id)},et=(e,t)=>e.descriptor.droppableId===t.descriptor.id;let er={point:O,value:0},en={invisible:{},visible:{},all:[]},ei={displaced:en,displacedBy:er,at:null};var eo=(e,t)=>n=>e<=n&&n<=t,ea=e=>{let t=eo(e.top,e.bottom),n=eo(e.left,e.right);return i=>{if(t(i.top)&&t(i.bottom)&&n(i.left)&&n(i.right))return!0;let o=t(i.top)||t(i.bottom),a=n(i.left)||n(i.right);if(o&&a)return!0;let s=i.top<e.top&&i.bottom>e.bottom,l=i.left<e.left&&i.right>e.right;return!!s&&!!l||s&&a||l&&o}},es=e=>{let t=eo(e.top,e.bottom),n=eo(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)};let el={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},eu={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var ec=e=>t=>{let n=eo(t.top,t.bottom),i=eo(t.left,t.right);return t=>e===el?n(t.top)&&n(t.bottom):i(t.left)&&i(t.right)};let ed=(e,t)=>L(e,t.frame?t.frame.scroll.diff.displacement:O),ep=(e,t,n)=>!!t.subject.active&&n(t.subject.active)(e),eh=(e,t,n)=>n(t)(e),ef=({target:e,destination:t,viewport:n,withDroppableDisplacement:i,isVisibleThroughFrameFn:o})=>{let a=i?ed(e,t):e;return ep(a,t,o)&&eh(a,n,o)},eg=e=>ef({...e,isVisibleThroughFrameFn:ea}),em=e=>ef({...e,isVisibleThroughFrameFn:es}),ev=e=>ef({...e,isVisibleThroughFrameFn:ec(e.destination.axis)}),ey=(e,t,n)=>{if("boolean"==typeof n)return n;if(!t)return!0;let{invisible:i,visible:o}=t;if(i[e])return!1;let a=o[e];return!a||a.shouldAnimate};function eb({afterDragging:e,destination:t,displacedBy:n,viewport:i,forceShouldAnimate:o,last:a}){return e.reduce(function(e,s){let u=function(e,t){let n=e.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return(0,l.getRect)((0,l.expand)(n,i))}(s,n),c=s.descriptor.id;if(e.all.push(c),!eg({target:u,destination:t,viewport:i,withDroppableDisplacement:!0}))return e.invisible[s.descriptor.id]=!0,e;let d=ey(c,a,o);return e.visible[c]={draggableId:c,shouldAnimate:d},e},{all:[],visible:{},invisible:{}})}function ew({insideDestination:e,inHomeList:t,displacedBy:n,destination:i}){let o=function(e,t){if(!e.length)return 0;let n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(e,{inHomeList:t});return{displaced:en,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function ex({draggable:e,insideDestination:t,destination:n,viewport:i,displacedBy:o,last:a,index:s,forceShouldAnimate:l}){let u=et(e,n);if(null==s)return ew({insideDestination:t,inHomeList:u,displacedBy:o,destination:n});let c=t.find(e=>e.descriptor.index===s);if(!c)return ew({insideDestination:t,inHomeList:u,displacedBy:o,destination:n});let d=J(e,t),p=t.indexOf(c);return{displaced:eb({afterDragging:d.slice(p),destination:n,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function eS(e,t){return!!t.effected[e]}var e_=({isMovingForward:e,destination:t,draggables:n,combine:i,afterCritical:o})=>{if(!t.isCombineEnabled)return null;let a=i.draggableId,s=n[a].descriptor.index;return eS(a,o)?e?s:s-1:e?s+1:s},eE=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:i})=>{if(!n.length)return null;let o=i.index,a=e?o+1:o-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(t?l:l+1)?null:a},eT=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:i,destination:o,insideDestination:a,previousImpact:s,viewport:l,afterCritical:u})=>{let c=s.at;if(c||b(),"REORDER"===c.type){let i=eE({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:a});return null==i?null:ex({draggable:n,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:i})}let d=e_({isMovingForward:e,destination:o,displaced:s.displaced,draggables:i,combine:c.combine,afterCritical:u});return null==d?null:ex({draggable:n,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})},eO=({displaced:e,afterCritical:t,combineWith:n,displacedBy:i})=>{let o=!!(e.visible[n]||e.invisible[n]);return eS(n,t)?o?O:A(i.point):o?i.point:O},eI=({afterCritical:e,impact:t,draggables:n})=>{let i=Z(t);i||b();let o=i.draggableId;return I(n[o].page.borderBox.center,eO({displaced:t.displaced,afterCritical:e,combineWith:o,displacedBy:t.displacedBy}))};let eP=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,eC=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,eA=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,eR=({axis:e,moveRelativeTo:t,isMoving:n})=>R(e.line,t.marginBox[e.end]+eP(e,n),eA(e,t.marginBox,n)),ek=({axis:e,moveRelativeTo:t,isMoving:n})=>R(e.line,t.marginBox[e.start]-eC(e,n),eA(e,t.marginBox,n)),eD=({axis:e,moveInto:t,isMoving:n})=>R(e.line,t.contentBox[e.start]+eP(e,n),eA(e,t.contentBox,n));var eN=({impact:e,draggable:t,draggables:n,droppable:i,afterCritical:o})=>{let a=X(i.descriptor.id,n),s=t.page,u=i.axis;if(!a.length)return eD({axis:u,moveInto:i.page,isMoving:s});let{displaced:c,displacedBy:d}=e,p=c.all[0];if(p){let e=n[p];return eS(p,o)?ek({axis:u,moveRelativeTo:e.page,isMoving:s}):ek({axis:u,moveRelativeTo:(0,l.offset)(e.page,d.point),isMoving:s})}let h=a[a.length-1];return h.descriptor.id===t.descriptor.id?s.borderBox.center:eS(h.descriptor.id,o)?eR({axis:u,moveRelativeTo:(0,l.offset)(h.page,A(o.displacedBy.point)),isMoving:s}):eR({axis:u,moveRelativeTo:h.page,isMoving:s})},eM=(e,t)=>{let n=e.frame;return n?I(t,n.scroll.diff.displacement):t};let eL=({impact:e,draggable:t,droppable:n,draggables:i,afterCritical:o})=>{let a=t.page.borderBox.center,s=e.at;return n&&s?"REORDER"===s.type?eN({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:o}):eI({impact:e,draggables:i,afterCritical:o}):a};var ej=e=>{let t=eL(e),n=e.droppable;return n?eM(n,t):t},eF=(e,t)=>{let n=P(t,e.scroll.initial),i=A(n);return{frame:(0,l.getRect)({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:i}}}};function eB(e,t){return e.map(e=>t[e])}var ez=({impact:e,viewport:t,destination:n,draggables:i,maxScrollChange:o})=>{let a=eF(t,I(t.scroll.current,o)),s=n.frame?W(n,I(n.frame.scroll.current,o)):n,l=e.displaced,u=eb({afterDragging:eB(l.all,i),destination:n,displacedBy:e.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),c=eb({afterDragging:eB(l.all,i),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:l,forceShouldAnimate:!1}),d={},p={},h=[l,u,c];return l.all.forEach(e=>{let t=function(e,t){for(let n=0;n<t.length;n++){let i=t[n].visible[e];if(i)return i}return null}(e,h);if(t){p[e]=t;return}d[e]=!0}),{...e,displaced:{all:l.all,invisible:d,visible:p}}},eU=(e,t)=>I(e.scroll.diff.displacement,t),eW=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{let i=P(eU(n,e),t.page.borderBox.center);return I(t.client.borderBox.center,i)},eH=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:a=!1})=>{let s=P(n,e.page.borderBox.center),l={target:L(e.page.borderBox,s),destination:t,withDroppableDisplacement:o,viewport:i};return a?ev(l):em(l)},eV=({isMovingForward:e,draggable:t,destination:n,draggables:i,previousImpact:o,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:l,afterCritical:u})=>{if(!n.isEnabled)return null;let c=X(n.descriptor.id,i),d=et(t,n),p=Q({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:o})||eT({isMovingForward:e,isInHomeList:d,draggable:t,draggables:i,destination:n,insideDestination:c,previousImpact:o,viewport:a,afterCritical:u});if(!p)return null;let h=ej({impact:p,draggable:t,droppable:n,draggables:i,afterCritical:u});if(eH({draggable:t,destination:n,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:eW({pageBorderBoxCenter:h,draggable:t,viewport:a}),impact:p,scrollJumpRequest:null};let f=P(h,s);return{clientSelection:l,impact:ez({impact:p,viewport:a,destination:n,draggables:i,maxScrollChange:f}),scrollJumpRequest:f}};let eG=e=>{let t=e.subject.active;return t||b(),t};var e$=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:o})=>{let a=n.subject.active;if(!a)return null;let s=n.axis,l=eo(a[s.start],a[s.end]),u=G(i).filter(e=>e!==n).filter(e=>e.isEnabled).filter(e=>!!e.subject.active).filter(e=>ea(o.frame)(eG(e))).filter(t=>{let n=eG(t);return e?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]}).filter(e=>{let t=eG(e),n=eo(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])}).sort((t,n)=>{let i=eG(t)[s.crossAxisStart],o=eG(n)[s.crossAxisStart];return e?i-o:o-i}).filter((e,t,n)=>eG(e)[s.crossAxisStart]===eG(n[0])[s.crossAxisStart]);if(!u.length)return null;if(1===u.length)return u[0];let c=u.filter(e=>eo(eG(e)[s.start],eG(e)[s.end])(t[s.line]));return 1===c.length?c[0]:c.length>1?c.sort((e,t)=>eG(e)[s.start]-eG(t)[s.start])[0]:u.sort((e,n)=>{let i=D(t,j(eG(e))),o=D(t,j(eG(n)));return i!==o?i-o:eG(e)[s.start]-eG(n)[s.start]})[0]};let eq=(e,t)=>{let n=e.page.borderBox.center;return eS(e.descriptor.id,t)?P(n,t.displacedBy.point):n},eX=(e,t)=>{let n=e.page.borderBox;return eS(e.descriptor.id,t)?L(n,A(t.displacedBy.point)):n};var eY=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:i,afterCritical:o})=>i.filter(e=>em({target:eX(e,o),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((t,i)=>{let a=k(e,eM(n,eq(t,o))),s=k(e,eM(n,eq(i,o)));return a<s?-1:s<a?1:t.descriptor.index-i.descriptor.index})[0]||null,eK=(0,u.default)(function(e,t){let n=t[e.line];return{value:n,point:R(e.line,n)}});let eZ=(e,t,n)=>{let i=e.axis;if("virtual"===e.descriptor.mode)return R(i.line,t[i.line]);let o=e.subject.page.contentBox[i.size],a=X(e.descriptor.id,n).reduce((e,t)=>e+t.client.marginBox[i.size],0)+t[i.line]-o;return a<=0?null:R(i.line,a)},eJ=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),eQ=(e,t,n)=>{let i=e.frame;et(t,e)&&b(),e.subject.withPlaceholder&&b();let o=eK(e.axis,t.displaceBy).point,a=eZ(e,o,n),s={placeholderSize:o,increasedBy:a,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){let t=U({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:t}}let l=a?I(i.scroll.max,a):i.scroll.max,u=eJ(i,l),c=U({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:u});return{...e,subject:c,frame:u}},e0=e=>{let t=e.subject.withPlaceholder;t||b();let n=e.frame;if(!n){let t=U({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}let i=t.oldFrameMaxScroll;i||b();let o=eJ(n,i),a=U({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return{...e,subject:a,frame:o}};var e1=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:i,draggables:o,destination:a,viewport:s,afterCritical:l})=>{if(!t){if(n.length)return null;let e={displaced:en,displacedBy:er,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},t=ej({impact:e,draggable:i,droppable:a,draggables:o,afterCritical:l}),u=et(i,a)?a:eQ(a,i,o);return eH({draggable:i,destination:u,newPageBorderBoxCenter:t,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}let u=e[a.axis.line]<=t.page.borderBox.center[a.axis.line],c=(()=>{let e=t.descriptor.index;return t.descriptor.id===i.descriptor.id||u?e:e+1})(),d=eK(a.axis,i.displaceBy);return ex({draggable:i,insideDestination:n,destination:a,viewport:s,displacedBy:d,last:en,index:c})},e2=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:i,draggables:o,droppables:a,viewport:s,afterCritical:l})=>{let u=e$({isMovingForward:e,pageBorderBoxCenter:t,source:i,droppables:a,viewport:s});if(!u)return null;let c=X(u.descriptor.id,o),d=eY({pageBorderBoxCenter:t,viewport:s,destination:u,insideDestination:c,afterCritical:l}),p=e1({previousPageBorderBoxCenter:t,destination:u,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:l});return p?{clientSelection:eW({pageBorderBoxCenter:ej({impact:p,draggable:n,droppable:u,draggables:o,afterCritical:l}),draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}:null},e3=e=>{let t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};let e5=(e,t)=>{let n=e3(e);return n?t[n]:null};var e4=({state:e,type:t})=>{let n=e5(e.impact,e.dimensions.droppables),i=!!n,o=e.dimensions.droppables[e.critical.droppable.id],a=n||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===s&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(l&&!i)return null;let u="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:p,droppables:h}=e.dimensions;return l?eV({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:a,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):e2({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:a,draggables:p,droppables:h,viewport:e.viewport,afterCritical:e.afterCritical})};function e6(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function e8(e){let t=eo(e.top,e.bottom),n=eo(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}let e9=(e,t)=>(0,l.getRect)(L(e,t));var e7=(e,t)=>{let n=e.frame;return n?e9(t,n.scroll.diff.value):t};function te({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}var tt=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:i,last:o,viewport:a,afterCritical:s})=>{let l=n.axis,u=eK(n.axis,t.displaceBy),c=u.value,d=e[l.start],p=e[l.end],h=J(t,i).find(e=>{let t=e.descriptor.id,n=e.page.borderBox.center[l.line],i=eS(t,s),a=te({displaced:o,id:t});return i?a?p<=n:d<n-c:a?p<=n+c:d<n})||null,f=function({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:h,inHomeList:et(t,n)});return ex({draggable:t,insideDestination:i,destination:n,viewport:a,last:o,displacedBy:u,index:f})},tr=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:i,insideDestination:o,afterCritical:a})=>{if(!i.isCombineEnabled)return null;let s=i.axis,l=eK(i.axis,e.displaceBy),u=l.value,c=t[s.start],d=t[s.end],p=J(e,o).find(e=>{let t=e.descriptor.id,i=e.page.borderBox,o=i[s.size]/4,l=eS(t,a),p=te({displaced:n.displaced,id:t});return l?p?d>i[s.start]+o&&d<i[s.end]-o:c>i[s.start]-u+o&&c<i[s.end]-u-o:p?d>i[s.start]+u+o&&d<i[s.end]+u-o:c>i[s.start]+o&&c<i[s.end]-o});return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}}:null},tn=({pageOffset:e,draggable:t,draggables:n,droppables:i,previousImpact:o,viewport:a,afterCritical:s})=>{let l=e9(t.page.borderBox,e),u=function({pageBorderBox:e,draggable:t,droppables:n}){let i=G(n).filter(t=>{if(!t.isEnabled)return!1;let n=t.subject.active;if(!n||!(e.left<n.right)||!(e.right>n.left)||!(e.top<n.bottom)||!(e.bottom>n.top))return!1;if(e8(n)(e.center))return!0;let i=t.axis,o=n.center[i.crossAxisLine],a=e[i.crossAxisStart],s=e[i.crossAxisEnd],l=eo(n[i.crossAxisStart],n[i.crossAxisEnd]),u=l(a),c=l(s);return!u&&!c||(u?a<o:s>o)});return i.length?1===i.length?i[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:n}){let i=t.page.borderBox.center,o=n.map(t=>{let n=t.axis,o=R(t.axis.line,e.center[n.line],t.page.borderBox.center[n.crossAxisLine]);return{id:t.descriptor.id,distance:k(i,o)}}).sort((e,t)=>t.distance-e.distance);return o[0]?o[0].id:null}({pageBorderBox:e,draggable:t,candidates:i}):null}({pageBorderBox:l,draggable:t,droppables:i});if(!u)return ei;let c=i[u],d=X(c.descriptor.id,n),p=e7(c,l);return tr({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:o,destination:c,insideDestination:d,afterCritical:s})||tt({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:c,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},ti=(e,t)=>({...e,[t.descriptor.id]:t});let to=({previousImpact:e,impact:t,droppables:n})=>{let i=e3(e),o=e3(t);if(!i||i===o)return n;let a=n[i];return a.subject.withPlaceholder?ti(n,e0(a)):n};var ta=({draggable:e,draggables:t,droppables:n,previousImpact:i,impact:o})=>{let a=to({previousImpact:i,impact:o,droppables:n}),s=e3(o);if(!s)return a;let l=n[s];return et(e,l)||l.subject.withPlaceholder?a:ti(a,eQ(l,e,t))},ts=({state:e,clientSelection:t,dimensions:n,viewport:i,impact:o,scrollJumpRequest:a})=>{let s=i||e.viewport,l=n||e.dimensions,u=t||e.current.client.selection,c=P(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:I(e.initial.client.borderBoxCenter,c)},p={selection:I(d.selection,s.scroll.current),borderBoxCenter:I(d.borderBoxCenter,s.scroll.current),offset:I(d.offset,s.scroll.diff.value)},h={client:d,page:p};if("COLLECTING"===e.phase)return{...e,dimensions:l,viewport:s,current:h};let f=l.draggables[e.critical.draggable.id],g=o||tn({pageOffset:p.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),m=ta({draggable:f,impact:g,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables});return{...e,current:h,dimensions:{draggables:l.draggables,droppables:m},impact:g,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}},tl=({impact:e,viewport:t,draggables:n,destination:i,forceShouldAnimate:o})=>{let a=e.displaced,s=eb({afterDragging:a.all.map(e=>n[e]),destination:i,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:o,last:a});return{...e,displaced:s}},tu=({impact:e,draggable:t,droppable:n,draggables:i,viewport:o,afterCritical:a})=>eW({pageBorderBoxCenter:ej({impact:e,draggable:t,draggables:i,droppable:n,afterCritical:a}),draggable:t,viewport:o}),tc=({state:e,dimensions:t,viewport:n})=>{"SNAP"!==e.movementMode&&b();let i=e.impact,o=n||e.viewport,a=t||e.dimensions,{draggables:s,droppables:l}=a,u=s[e.critical.draggable.id],c=e3(i);c||b();let d=l[c],p=tl({impact:i,viewport:o,destination:d,draggables:s}),h=tu({impact:p,draggable:u,droppable:d,draggables:s,viewport:o,afterCritical:e.afterCritical});return ts({impact:p,clientSelection:h,state:e,dimensions:a,viewport:o})},td=e=>({index:e.index,droppableId:e.droppableId}),tp=({draggable:e,home:t,draggables:n,viewport:i})=>{let o=eK(t.axis,e.displaceBy),a=X(t.descriptor.id,n),s=a.indexOf(e);-1!==s||b();let l=a.slice(s+1),u=l.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:eb({afterDragging:l,destination:t,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:td(e.descriptor)}},afterCritical:c}},th=(e,t)=>({draggables:e.draggables,droppables:ti(e.droppables,t)});let tf=e=>{},tg=e=>{};var tm=({draggable:e,offset:t,initialWindowScroll:n})=>{let i=(0,l.offset)(e.client,t),o=(0,l.withScroll)(i,n);return{...e,placeholder:{...e.placeholder,client:i},client:i,page:o}},tv=e=>{let t=e.frame;return t||b(),t},ty=({additions:e,updatedDroppables:t,viewport:n})=>{let i=n.scroll.diff.value;return e.map(e=>{let o=I(i,tv(t[e.descriptor.droppableId]).scroll.diff.value);return tm({draggable:e,offset:o,initialWindowScroll:n.scroll.initial})})},tb=({state:e,published:t})=>{tf();let n=t.modified.map(t=>W(e.dimensions.droppables[t.droppableId],t.scroll)),i={...e.dimensions.droppables,...H(n)},o=V(ty({additions:t.additions,updatedDroppables:i,viewport:e.viewport})),a={...e.dimensions.draggables,...o};t.removals.forEach(e=>{delete a[e]});let s={droppables:i,draggables:a},l=e3(e.impact),u=l?s.droppables[l]:null,{impact:c,afterCritical:d}=tp({draggable:s.draggables[e.critical.draggable.id],home:s.droppables[e.critical.droppable.id],draggables:a,viewport:e.viewport}),p=u&&u.isCombineEnabled?e.impact:c,h=tn({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:p,viewport:e.viewport,afterCritical:d});tg("Processing dynamic changes");let f={...e,phase:"DRAGGING",impact:h,onLiftImpact:c,dimensions:s,afterCritical:d,forceShouldAnimate:!1};return"COLLECTING"===e.phase?f:{...f,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};let tw=e=>"SNAP"===e.movementMode,tx=(e,t,n)=>{let i=th(e.dimensions,t);return!tw(e)||n?ts({state:e,dimensions:i}):tc({state:e,dimensions:i})};function tS(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}let t_={phase:"IDLE",completed:null,shouldFlush:!1};var tE=(e=t_,t)=>{if("FLUSH"===t.type)return{...t_,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&b();let{critical:n,clientSelection:i,viewport:o,dimensions:a,movementMode:s}=t.payload,l=a.draggables[n.draggable.id],u=a.droppables[n.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:O},d={client:c,page:{selection:I(c.selection,o.scroll.initial),borderBoxCenter:I(c.selection,o.scroll.initial),offset:I(c.selection,o.scroll.diff.value)}},p=G(a.droppables).every(e=>!e.isFixedOnPage),{impact:h,afterCritical:f}=tp({draggable:l,home:u,draggables:a.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&b(),{...e,phase:"COLLECTING"});if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase||b(),tb({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;e6(e)||b();let{client:n}=t.payload;return C(n,e.current.client.selection)?e:ts({state:e,clientSelection:n,impact:tw(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"COLLECTING"===e.phase)return tS(e);e6(e)||b();let{id:n,newScroll:i}=t.payload,o=e.dimensions.droppables[n];return o?tx(e,W(o,i),!1):e}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;e6(e)||b();let{id:n,isEnabled:i}=t.payload,o=e.dimensions.droppables[n];return o||b(),o.isEnabled!==i||b(),tx(e,{...o,isEnabled:i},!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;e6(e)||b();let{id:n,isCombineEnabled:i}=t.payload,o=e.dimensions.droppables[n];return o||b(),o.isCombineEnabled!==i||b(),tx(e,{...o,isCombineEnabled:i},!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;e6(e)||b(),e.isWindowScrollAllowed||b();let n=t.payload.newScroll;if(C(e.viewport.scroll.current,n))return tS(e);let i=eF(e.viewport,n);return tw(e)?tc({state:e,viewport:i}):ts({state:e,viewport:i})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!e6(e))return e;let n=t.payload.maxScroll;if(C(n,e.viewport.scroll.max))return e;let i={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:i}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&b();let n=e4({state:e,type:t.type});return n?ts({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){let n=t.payload.reason;return"COLLECTING"!==e.phase&&b(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if("DROP_ANIMATE"===t.type){let{completed:n,dropDuration:i,newHomeClientOffset:o}=t.payload;return"DRAGGING"===e.phase||"DROP_PENDING"===e.phase||b(),{phase:"DROP_ANIMATING",completed:n,dropDuration:i,newHomeClientOffset:o,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){let{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function tT(e,t){return e instanceof Object&&"type"in e&&e.type===t}let tO=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),tI=e=>({type:"LIFT",payload:e}),tP=e=>({type:"INITIAL_PUBLISH",payload:e}),tC=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),tA=()=>({type:"COLLECTION_STARTING",payload:null}),tR=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),tk=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),tD=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),tN=e=>({type:"MOVE",payload:e}),tM=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),tL=()=>({type:"MOVE_UP",payload:null}),tj=()=>({type:"MOVE_DOWN",payload:null}),tF=()=>({type:"MOVE_RIGHT",payload:null}),tB=()=>({type:"MOVE_LEFT",payload:null}),tz=()=>({type:"FLUSH",payload:null}),tU=e=>({type:"DROP_ANIMATE",payload:e}),tW=e=>({type:"DROP_COMPLETE",payload:e}),tH=e=>({type:"DROP",payload:e}),tV=e=>({type:"DROP_PENDING",payload:e}),tG=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var t$=e=>({getState:t,dispatch:n})=>i=>o=>{if(!tT(o,"LIFT")){i(o);return}let{id:a,clientSelection:s,movementMode:l}=o.payload,u=t();"DROP_ANIMATING"===u.phase&&n(tW({completed:u.completed})),"IDLE"!==t().phase&&b(),n(tz()),n(tO({draggableId:a,movementMode:l}));let{critical:c,dimensions:d,viewport:p}=e.startPublishing({draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}});n(tP({critical:c,dimensions:d,clientSelection:s,movementMode:l,viewport:p}))},tq=e=>()=>t=>n=>{tT(n,"INITIAL_PUBLISH")&&e.dragging(),tT(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(tT(n,"FLUSH")||tT(n,"DROP_COMPLETE"))&&e.resting(),t(n)};let tX={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},tY={opacity:{drop:0,combining:.7},scale:{drop:.75}},tK={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},tZ=`${tK.outOfTheWay}s ${tX.outOfTheWay}`,tJ={fluid:`opacity ${tZ}`,snap:`transform ${tZ}, opacity ${tZ}`,drop:e=>{let t=`${e}s ${tX.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${tZ}`,placeholder:`height ${tZ}, width ${tZ}, margin ${tZ}`},tQ=e=>C(e,O)?void 0:`translate(${e.x}px, ${e.y}px)`,t0={moveTo:tQ,drop:(e,t)=>{let n=tQ(e);if(n)return t?`${n} scale(${tY.scale.drop})`:n}},{minDropTime:t1,maxDropTime:t2}=tK,t3=t2-t1;var t5=({current:e,destination:t,reason:n})=>{let i=k(e,t);if(i<=0)return t1;if(i>=1500)return t2;let o=t1+i/1500*t3;return Number(("CANCEL"===n?.6*o:o).toFixed(2))},t4=({impact:e,draggable:t,dimensions:n,viewport:i,afterCritical:o})=>{let{draggables:a,droppables:s}=n,l=e3(e),u=l?s[l]:null,c=s[t.descriptor.droppableId];return P(tu({impact:e,draggable:t,draggables:a,afterCritical:o,droppable:u||c,viewport:i}),t.client.borderBox.center)},t6=({draggables:e,reason:t,lastImpact:n,home:i,viewport:o,onLiftImpact:a})=>n.at&&"DROP"===t?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:en},didDropInsideDroppable:!0}:{impact:tl({draggables:e,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1};let t8=({getState:e,dispatch:t})=>n=>i=>{if(!tT(i,"DROP")){n(i);return}let o=e(),a=i.payload.reason;if("COLLECTING"===o.phase){t(tV({reason:a}));return}if("IDLE"===o.phase)return;"DROP_PENDING"===o.phase&&o.isWaiting&&b(),"DRAGGING"===o.phase||"DROP_PENDING"===o.phase||b();let s=o.critical,l=o.dimensions,u=l.draggables[o.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=t6({reason:a,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=d?K(c):null,h=d?Z(c):null,f={index:s.draggable.index,droppableId:s.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:f,reason:a,mode:o.movementMode,destination:p,combine:h},m=t4({impact:c,draggable:u,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:c};if(!(!C(o.current.client.offset,m)||g.combine)){t(tW({completed:v}));return}let y=t5({current:o.current.client.offset,destination:m,reason:a});t(tU({newHomeClientOffset:m,dropDuration:y,completed:v}))};var t9=()=>({x:window.pageXOffset,y:window.pageYOffset});let t7=e=>tT(e,"DROP_COMPLETE")||tT(e,"DROP_ANIMATE")||tT(e,"FLUSH"),re=e=>{let t=function({onWindowScroll:e}){let t=(0,c.default)(function(){e(t9())}),n={eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{(e.target===window||e.target===window.document)&&t()}},i=m;function o(){return i!==m}return{start:function(){o()&&b(),i=v(window,[n])},stop:function(){o()||b(),t.cancel(),i(),i=m},isActive:o}}({onWindowScroll:t=>{e.dispatch(tM({newScroll:t}))}});return e=>n=>{!t.isActive()&&tT(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&t7(n)&&t.stop(),e(n)}};var rt=e=>{let t=!1,n=!1,i=setTimeout(()=>{n=!0}),o=o=>{!t&&(n||(t=!0,e(o),clearTimeout(i)))};return o.wasCalled=()=>t,o},rr=()=>{let e=[],t=t=>{let n=e.findIndex(e=>e.timerId===t);-1!==n||b();let[i]=e.splice(n,1);i.callback()};return{add:n=>{let i=setTimeout(()=>t(i));e.push({timerId:i,callback:n})},flush:()=>{if(!e.length)return;let t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};let rn=(e,t)=>null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index,ri=(e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId,ro=(e,t)=>{if(e===t)return!0;let n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,i=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&i},ra=(e,t)=>{tf(),t(),tg()},rs=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function rl(e,t,n,i){if(!e){n(i(t));return}let o=rt(n);e(t,{announce:o}),o.wasCalled()||n(i(t))}var ru=(e,t)=>{let n=rr(),i=null,o=n=>{i||b(),i=null,ra("onDragEnd",()=>rl(e().onDragEnd,n,t,T.onDragEnd))};return{beforeCapture:(t,n)=>{i&&b(),ra("onBeforeCapture",()=>{let i=e().onBeforeCapture;i&&i({draggableId:t,mode:n})})},beforeStart:(t,n)=>{i&&b(),ra("onBeforeDragStart",()=>{let i=e().onBeforeDragStart;i&&i(rs(t,n))})},start:(o,a)=>{i&&b();let s=rs(o,a);i={mode:a,lastCritical:o,lastLocation:s.source,lastCombine:null},n.add(()=>{ra("onDragStart",()=>rl(e().onDragStart,s,t,T.onDragStart))})},update:(o,a)=>{let s=K(a),l=Z(a);i||b();let u=!ro(o,i.lastCritical);u&&(i.lastCritical=o);let c=!rn(i.lastLocation,s);c&&(i.lastLocation=s);let d=!ri(i.lastCombine,l);if(d&&(i.lastCombine=l),!u&&!c&&!d)return;let p={...rs(o,i.mode),combine:l,destination:s};n.add(()=>{ra("onDragUpdate",()=>rl(e().onDragUpdate,p,t,T.onDragUpdate))})},flush:()=>{i||b(),n.flush()},drop:o,abort:()=>{i&&o({...rs(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"})}}},rc=(e,t)=>{let n=ru(e,t);return e=>t=>i=>{if(tT(i,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(tT(i,"INITIAL_PUBLISH")){let e=i.payload.critical;n.beforeStart(e,i.payload.movementMode),t(i),n.start(e,i.payload.movementMode);return}if(tT(i,"DROP_COMPLETE")){let e=i.payload.completed.result;n.flush(),t(i),n.drop(e);return}if(t(i),tT(i,"FLUSH")){n.abort();return}let o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}};let rd=e=>t=>n=>{if(!tT(n,"DROP_ANIMATION_FINISHED")){t(n);return}let i=e.getState();"DROP_ANIMATING"!==i.phase&&b(),e.dispatch(tW({completed:i.completed}))},rp=e=>{let t=null,n=null;return i=>o=>{if((tT(o,"FLUSH")||tT(o,"DROP_COMPLETE")||tT(o,"DROP_ANIMATION_FINISHED"))&&(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),i(o),!tT(o,"DROP_ANIMATE"))return;let a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch(tG())}};n=requestAnimationFrame(()=>{n=null,t=v(window,[a])})}};var rh=e=>()=>t=>n=>{(tT(n,"DROP_COMPLETE")||tT(n,"FLUSH")||tT(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},rf=e=>{let t=!1;return()=>n=>i=>{if(tT(i,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(i.payload.critical.draggable.id),n(i),e.tryRestoreFocusRecorded();return}if(n(i),t){if(tT(i,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(tT(i,"DROP_COMPLETE")){t=!1;let n=i.payload.completed.result;n.combine&&e.tryShiftRecord(n.draggableId,n.combine.draggableId),e.tryRestoreFocusRecorded()}}}};let rg=e=>tT(e,"DROP_COMPLETE")||tT(e,"DROP_ANIMATE")||tT(e,"FLUSH");var rm=e=>t=>n=>i=>{if(rg(i)){e.stop(),n(i);return}if(tT(i,"INITIAL_PUBLISH")){n(i);let o=t.getState();"DRAGGING"!==o.phase&&b(),e.start(o);return}n(i),e.scroll(t.getState())};let rv=e=>t=>n=>{if(t(n),!tT(n,"PUBLISH_WHILE_DRAGGING"))return;let i=e.getState();"DROP_PENDING"===i.phase&&(i.isWaiting||e.dispatch(tH({reason:i.reason})))},ry=o.compose;var rb=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:i,announce:a,autoScroller:s})=>(0,o.createStore)(tE,ry((0,o.applyMiddleware)(tq(n),rh(e),t$(e),t8,rd,rp,rv,rm(s),re,rf(t),rc(i,a))));let rw=()=>({additions:{},removals:{},modified:{}});var rx=({scrollHeight:e,scrollWidth:t,height:n,width:i})=>{let o=P({x:t,y:e},{x:i,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},rS=()=>{let e=document.documentElement;return e||b(),e},r_=()=>{let e=rS();return rx({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},rE=()=>{let e=t9(),t=r_(),n=e.y,i=e.x,o=rS(),a=o.clientWidth,s=o.clientHeight;return{frame:(0,l.getRect)({top:n,left:i,right:i+a,bottom:n+s}),scroll:{initial:e,current:e,max:t,diff:{value:O,displacement:O}}}},rT=({critical:e,scrollOptions:t,registry:n})=>{tf();let i=rE(),o=i.scroll.current,a=e.droppable,s=n.droppable.getAllByType(a.type).map(e=>e.callbacks.getDimensionAndWatchScroll(o,t)),l={draggables:V(n.draggable.getAllByType(e.draggable.type).map(e=>e.getDimension(o))),droppables:H(s)};return tg(),{dimensions:l,critical:e,viewport:i}};function rO(e,t,n){return n.descriptor.id!==t.id&&n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode}var rI=(e,t)=>{let n=null,i=function({registry:e,callbacks:t}){let n=rw(),i=null,o=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null,tf();let{additions:o,removals:a,modified:s}=n,l=Object.keys(o).map(t=>e.draggable.getById(t).getDimension(O)).sort((e,t)=>e.descriptor.index-t.descriptor.index),u=Object.keys(s).map(t=>{let n=e.droppable.getById(t).callbacks.getScrollWhileDragging();return{droppableId:t,scroll:n}}),c={additions:l,removals:Object.keys(a),modified:u};n=rw(),tg(),t.publish(c)}))};return{add:e=>{let t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],o()},remove:e=>{let t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,n=rw())}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=t=>{n||b();let o=n.critical.draggable;"ADDITION"===t.type&&rO(e,o,t.value)&&i.add(t.value),"REMOVAL"===t.type&&rO(e,o,t.value)&&i.remove(t.value)};return{updateDroppableIsEnabled:(i,o)=>{e.droppable.exists(i)||b(),n&&t.updateDroppableIsEnabled({id:i,isEnabled:o})},updateDroppableIsCombineEnabled:(i,o)=>{n&&(e.droppable.exists(i)||b(),t.updateDroppableIsCombineEnabled({id:i,isCombineEnabled:o}))},scrollDroppable:(t,i)=>{n&&e.droppable.getById(t).callbacks.scroll(i)},updateDroppableScroll:(i,o)=>{n&&(e.droppable.exists(i)||b(),t.updateDroppableScroll({id:i,newScroll:o}))},startPublishing:t=>{n&&b();let i=e.draggable.getById(t.draggableId),a=e.droppable.getById(i.descriptor.droppableId),s={draggable:i.descriptor,droppable:a.descriptor};return n={critical:s,unsubscribe:e.subscribe(o)},rT({critical:s,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!n)return;i.stop();let t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),n.unsubscribe(),n=null}}},rP=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason,rC=e=>{window.scrollBy(e.x,e.y)};let rA=(0,u.default)(e=>G(e).filter(e=>!!e.isEnabled&&!!e.frame)),rR=(e,t)=>rA(t).find(t=>(t.frame||b(),e8(t.frame.pageMarginBox)(e)))||null;var rk=({center:e,destination:t,droppables:n})=>{if(t){let e=n[t];return e.frame?e:null}return rR(e,n)};let rD={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rN=(e,t,n=()=>rD)=>{let i=n();return{startScrollingFrom:e[t.size]*i.startFromPercentage,maxScrollValueAt:e[t.size]*i.maxScrollAtPercentage}},rM=({startOfRange:e,endOfRange:t,current:n})=>{let i=t-e;return 0===i?0:(n-e)/i},rL=(e,t,n=()=>rD)=>{let i=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return i.maxPixelScroll;if(e===t.startScrollingFrom)return 1;let o=rM({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e});return Math.ceil(i.maxPixelScroll*i.ease(1-o))},rj=(e,t,n)=>{let i=n(),o=i.durationDampening.accelerateAt,a=i.durationDampening.stopDampeningAt,s=Date.now()-t;if(s>=a)return e;if(s<o)return 1;let l=rM({startOfRange:o,endOfRange:a,current:s});return Math.ceil(e*i.ease(l))},rF=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{let a=rL(e,t,o);return 0===a?0:i?Math.max(rj(a,n,o),1):a},rB=({container:e,distanceToEdges:t,dragStartTime:n,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{let s=rN(e,i,a);return t[i.end]<t[i.start]?rF({distanceToEdge:t[i.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a}):-1*rF({distanceToEdge:t[i.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a})},rz=({container:e,subject:t,proposedScroll:n})=>{let i=t.height>e.height,o=t.width>e.width;return o||i?o&&i?null:{x:o?0:n.x,y:i?0:n.y}:n};let rU=N(e=>0===e?0:e);var rW=({dragStartTime:e,container:t,subject:n,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{let s={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},l=rB({container:t,distanceToEdges:s,dragStartTime:e,axis:el,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),u=rU({x:rB({container:t,distanceToEdges:s,dragStartTime:e,axis:eu,shouldUseTimeDampening:o,getAutoScrollerOptions:a}),y:l});if(C(u,O))return null;let c=rz({container:t,subject:n,proposedScroll:u});return c?C(c,O)?null:c:null};let rH=N(e=>0===e?0:e>0?1:-1),rV=(()=>{let e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:n,change:i})=>{let o=I(t,i),a={x:e(o.x,n.x),y:e(o.y,n.y)};return C(a,O)?null:a}})(),rG=({max:e,current:t,change:n})=>{let i={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},o=rH(n),a=rV({max:i,current:t,change:o});return!a||0!==o.x&&0===a.x||0!==o.y&&0===a.y},r$=(e,t)=>rG({current:e.scroll.current,max:e.scroll.max,change:t}),rq=(e,t)=>{if(!r$(e,t))return null;let n=e.scroll.max;return rV({current:e.scroll.current,max:n,change:t})},rX=(e,t)=>{let n=e.frame;return!!n&&rG({current:n.scroll.current,max:n.scroll.max,change:t})},rY=(e,t)=>{let n=e.frame;return n&&rX(e,t)?rV({current:n.scroll.current,max:n.scroll.max,change:t}):null};var rK=({viewport:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{let s=rW({dragStartTime:i,container:e.frame,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return s&&r$(e,s)?s:null},rZ=({droppable:e,subject:t,center:n,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:a})=>{let s=e.frame;if(!s)return null;let l=rW({dragStartTime:i,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:a});return l&&rX(e,l)?l:null},rJ=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:a})=>{let s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){let o=rK({dragStartTime:t,viewport:e.viewport,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});if(o){i(o);return}}let u=rk({center:s,destination:e3(e.impact),droppables:e.dimensions.droppables});if(!u)return;let c=rZ({dragStartTime:t,droppable:u,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:a});c&&o(u.descriptor.id,c)},rQ=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>rD})=>{let i=(0,c.default)(e),o=(0,c.default)(t),a=null,s=e=>{a||b();let{shouldUseTimeDampening:t,dragStartTime:s}=a;rJ({state:e,scrollWindow:i,scrollDroppable:o,dragStartTime:s,shouldUseTimeDampening:t,getAutoScrollerOptions:n})};return{start:e=>{tf(),a&&b();let t=Date.now(),i=!1,o=()=>{i=!0};rJ({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:o,scrollDroppable:o,getAutoScrollerOptions:n}),a={dragStartTime:t,shouldUseTimeDampening:i},tg(),i&&s(e)},stop:()=>{a&&(i.cancel(),o.cancel(),a=null)},scroll:s}},r0=({move:e,scrollDroppable:t,scrollWindow:n})=>{let i=(t,n)=>{e({client:I(t.current.client.selection,n)})},o=(e,n)=>{if(!rX(e,n))return n;let i=rY(e,n);if(!i)return t(e.descriptor.id,n),null;let o=P(n,i);return t(e.descriptor.id,o),P(n,o)},a=(e,t,i)=>{if(!e||!r$(t,i))return i;let o=rq(t,i);if(!o)return n(i),null;let a=P(i,o);return n(a),P(i,a)};return e=>{let t=e.scrollJumpRequest;if(!t)return;let n=e3(e.impact);n||b();let s=o(e.dimensions.droppables[n],t);if(!s)return;let l=e.viewport,u=a(e.isWindowScrollAllowed,l,s);u&&i(e,u)}},r1=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:i})=>{let o=rQ({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:i}),a=r0({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{if(!i().disabled&&"DRAGGING"===e.phase){if("FLUID"===e.movementMode){o.scroll(e);return}e.scrollJumpRequest&&a(e)}},start:o.start,stop:o.stop}};let r2="data-rfd",r3=(()=>{let e=`${r2}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),r5=(()=>{let e=`${r2}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),r4=(()=>{let e=`${r2}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),r6={contextId:`${r2}-scroll-container-context-id`},r8=e=>t=>`[${t}="${e}"]`,r9=(e,t)=>e.map(e=>{let n=e.styles[t];return n?`${e.selector} { ${n} }`:""}).join(" ");var r7=e=>{let t=r8(e),n=(()=>{let e=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(r3.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),i=[(()=>{let e=`
      transition: ${tJ.outOfTheWay};
    `;return{selector:t(r5.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),n,{selector:t(r4.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:r9(i,"always"),resting:r9(i,"resting"),dragging:r9(i,"dragging"),dropAnimating:r9(i,"dropAnimating"),userCancel:r9(i,"userCancel")}};let ne="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect,nt=()=>{let e=document.querySelector("head");return e||b(),e},nr=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function nn(e,t){return Array.from(e.querySelectorAll(t))}var ni=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function no(e){return e instanceof ni(e).HTMLElement}function na(e,t){let n=nn(document,`[${r3.contextId}="${e}"]`);if(!n.length)return null;let i=n.find(e=>e.getAttribute(r3.draggableId)===t);return i&&no(i)?i:null}function ns(){let e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach(t=>t(e))}function i(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:t=>{e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:(t,n)=>{let i=e.draggables[n.descriptor.id];i&&i.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{let o=t.descriptor.id,a=i(o);a&&t.uniqueId===a.uniqueId&&(delete e.draggables[o],e.droppables[t.descriptor.droppableId]&&n({type:"REMOVAL",value:t}))},getById:function(e){let t=i(e);return t||b(),t},findById:i,exists:e=>!!i(e),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)},droppable:{register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{let n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){let t=o(e);return t||b(),t},findById:o,exists:e=>!!o(e),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)},subscribe:function(e){return t.push(e),function(){let n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var nl=/*@__PURE__*/Y(n).createContext(null),nu=()=>{let e=document.body;return e||b(),e};let nc={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},nd=e=>`rfd-announcement-${e}`,np={separator:"::"};function nh(e,t=np){let i=/*@__PURE__*/Y(n).useId();return(0,s.useMemo)(()=>`${e}${t.separator}${i}`,[t.separator,e,i])}var nf=/*@__PURE__*/Y(n).createContext(null);let ng=/(\d+)\.(\d+)\.(\d+)/,nm=e=>{let t=ng.exec(e);return null!=t||b(),{major:Number(t[1]),minor:Number(t[2]),patch:Number(t[3]),raw:e}},nv=(e,t)=>t.major>e.major||!(t.major<e.major)&&(t.minor>e.minor||!(t.minor<e.minor)&&t.patch>=e.patch);function ny(e){let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e}),t}function nb(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}let nw={13:!0,9:!0};var nx=e=>{nw[e.keyCode]&&e.preventDefault()};let nS=(()=>{let e="visibilitychange";return"undefined"==typeof document?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(e=>`on${e}`in document)||e})(),n_={type:"IDLE"};function nE(){}let nT={34:!0,33:!0,36:!0,35:!0},nO={type:"IDLE"},nI=["input","button","textarea","select","option","optgroup","video","audio"];var nP=e=>(0,l.getRect)(e.getBoundingClientRect()).center;let nC=(()=>{let e="matches";return"undefined"==typeof document?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function nA(e){e.preventDefault()}function nR({expected:e,phase:t,isLockActive:n,shouldWarn:i}){return!!n()&&e===t}function nk({lockAPI:e,store:t,registry:n,draggableId:i}){if(e.isClaimed())return!1;let o=n.draggable.findById(i);return!!(o&&o.options.isEnabled&&rP(t.getState(),i))}let nD=[function(e){let t=(0,n.useRef)(n_),i=(0,n.useRef)(m),o=(0,s.useMemo)(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented||0!==t.button||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;let n=e.findClosestDraggableId(t);if(!n)return;let o=e.tryGetLock(n,u,{sourceEvent:t});if(!o)return;t.preventDefault();let a={x:t.clientX,y:t.clientY};i.current(),p(o,a)}}),[e]),a=(0,s.useMemo)(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;let n=e.findClosestDraggableId(t);if(!n)return;let i=e.findOptionsForDraggable(n);i&&!i.shouldRespectForcePress&&e.canGetLock(n)&&t.preventDefault()}}),[e]),l=(0,s.useCallback)(function(){i.current=v(window,[a,o],{passive:!1,capture:!0})},[a,o]),u=(0,s.useCallback)(()=>{"IDLE"!==t.current.type&&(t.current=n_,i.current(),l())},[l]),c=(0,s.useCallback)(()=>{let e=t.current;u(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[u]),d=(0,s.useCallback)(function(){let e=function({cancel:e,completed:t,getPhase:n,setPhase:i}){return[{eventName:"mousemove",fn:e=>{var t;let{button:o,clientX:a,clientY:s}=e;if(0!==o)return;let l={x:a,y:s},u=n();if("DRAGGING"===u.type){e.preventDefault(),u.actions.move(l);return}"PENDING"!==u.type&&b(),t=u.point,(Math.abs(l.x-t.x)>=5||Math.abs(l.y-t.y)>=5)&&(e.preventDefault(),i({type:"DRAGGING",actions:u.actions.fluidLift(l)}))}},{eventName:"mouseup",fn:i=>{let o=n();if("DRAGGING"!==o.type){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===n().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"===n().type){e();return}if(27===t.keyCode){t.preventDefault(),e();return}nx(t)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===n().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{let i=n();if("IDLE"!==i.type||b(),i.actions.shouldRespectForcePress()){e();return}t.preventDefault()}},{eventName:nS,fn:e}]}({cancel:c,completed:u,getPhase:()=>t.current,setPhase:e=>{t.current=e}});i.current=v(window,e,{capture:!0,passive:!1})},[c,u]),p=(0,s.useCallback)(function(e,n){"IDLE"!==t.current.type&&b(),t.current={type:"PENDING",point:n,actions:e},d()},[d]);ne(function(){return l(),function(){i.current()}},[l])},function(e){let t=(0,n.useRef)(nE),i=(0,s.useMemo)(()=>({eventName:"keydown",fn:function(n){if(n.defaultPrevented||32!==n.keyCode)return;let i=e.findClosestDraggableId(n);if(!i)return;let a=e.tryGetLock(i,u,{sourceEvent:n});if(!a)return;n.preventDefault();let s=!0,l=a.snapLift();function u(){s||b(),s=!1,t.current(),o()}t.current(),t.current=v(window,function(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:i=>{if(27===i.keyCode){i.preventDefault(),n();return}if(32===i.keyCode){i.preventDefault(),t(),e.drop();return}if(40===i.keyCode){i.preventDefault(),e.moveDown();return}if(38===i.keyCode){i.preventDefault(),e.moveUp();return}if(39===i.keyCode){i.preventDefault(),e.moveRight();return}if(37===i.keyCode){i.preventDefault(),e.moveLeft();return}if(nT[i.keyCode]){i.preventDefault();return}nx(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:nS,fn:n}]}(l,u),{capture:!0,passive:!1})}}),[e]),o=(0,s.useCallback)(function(){t.current=v(window,[i],{passive:!1,capture:!0})},[i]);ne(function(){return o(),function(){t.current()}},[o])},function(e){let t=(0,n.useRef)(nO),i=(0,n.useRef)(m),o=(0,s.useCallback)(function(){return t.current},[]),a=(0,s.useCallback)(function(e){t.current=e},[]),l=(0,s.useMemo)(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;let n=e.findClosestDraggableId(t);if(!n)return;let o=e.tryGetLock(n,c,{sourceEvent:t});if(!o)return;let{clientX:a,clientY:s}=t.touches[0];i.current(),f(o,{x:a,y:s})}}),[e]),u=(0,s.useCallback)(function(){i.current=v(window,[l],{capture:!0,passive:!1})},[l]),c=(0,s.useCallback)(()=>{let e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(nO),i.current(),u())},[u,a]),d=(0,s.useCallback)(()=>{let e=t.current;c(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[c]),p=(0,s.useCallback)(function(){let e={capture:!0,passive:!1},t={cancel:d,completed:c,getPhase:o},n=v(window,function({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{let i=n();if("DRAGGING"!==i.type){e();return}i.hasMoved=!0;let{clientX:o,clientY:a}=t.touches[0];t.preventDefault(),i.actions.move({x:o,y:a})}},{eventName:"touchend",fn:i=>{let o=n();if("DRAGGING"!==o.type){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:t=>{if("DRAGGING"!==n().type){e();return}t.preventDefault(),e()}},{eventName:"touchforcechange",fn:t=>{let i=n();"IDLE"!==i.type||b();let o=t.touches[0];if(!o||!(o.force>=.15))return;let a=i.actions.shouldRespectForcePress();if("PENDING"===i.type){a&&e();return}if(a){if(i.hasMoved){t.preventDefault();return}e();return}t.preventDefault()}},{eventName:nS,fn:e}]}(t),e),a=v(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:n=>{if("DRAGGING"!==t().type){e();return}27===n.keyCode&&n.preventDefault(),e()}},{eventName:nS,fn:e}]}(t),e);i.current=function(){n(),a()}},[d,o,c]),h=(0,s.useCallback)(function(){let e=o();"PENDING"!==e.type&&b(),a({type:"DRAGGING",actions:e.actions.fluidLift(e.point),hasMoved:!1})},[o,a]),f=(0,s.useCallback)(function(e,t){"IDLE"!==o().type&&b(),a({type:"PENDING",point:t,actions:e,longPressTimerId:setTimeout(h,120)}),p()},[p,o,a,h]);ne(function(){return u(),function(){i.current();let e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(nO))}},[o,u,a]),ne(function(){return v(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}],nN=e=>({onBeforeCapture:t=>{(0,i.flushSync)(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),nM=e=>({...rD,...e.autoScrollerOptions,durationDampening:{...rD.durationDampening,...e.autoScrollerOptions}});function nL(e){return e.current||b(),e.current}function nj(e){let{contextId:t,setCallbacks:i,sensors:l,nonce:p,dragHandleUsageInstructions:h}=e,f=(0,n.useRef)(null),g=ny(e),y=(0,s.useCallback)(()=>nN(g.current),[g]),w=(0,s.useCallback)(()=>nM(g.current),[g]),x=function(e){let t=(0,s.useMemo)(()=>nd(e),[e]),i=(0,n.useRef)(null);return(0,n.useEffect)(function(){let e=document.createElement("div");return i.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,d.default)(e.style,nc),nu().appendChild(e),function(){setTimeout(function(){let t=nu();t.contains(e)&&t.removeChild(e),e===i.current&&(i.current=null)})}},[t]),(0,s.useCallback)(e=>{let t=i.current;if(t){t.textContent=e;return}},[])}(t),S=function({contextId:e,text:t}){let i=nh("hidden-text",{separator:"-"}),o=(0,s.useMemo)(()=>(function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`})({contextId:e,uniqueId:i}),[i,e]);return(0,n.useEffect)(function(){let e=document.createElement("div");return e.id=o,e.textContent=t,e.style.display="none",nu().appendChild(e),function(){let t=nu();t.contains(e)&&t.removeChild(e)}},[o,t]),o}({contextId:t,text:h}),_=function(e,t){let i=(0,s.useMemo)(()=>r7(e),[e]),o=(0,n.useRef)(null),a=(0,n.useRef)(null),l=(0,s.useCallback)((0,u.default)(e=>{let t=a.current;t||b(),t.textContent=e}),[]),c=(0,s.useCallback)(e=>{let t=o.current;t||b(),t.textContent=e},[]);ne(()=>{(o.current||a.current)&&b();let n=nr(t),s=nr(t);return o.current=n,a.current=s,n.setAttribute(`${r2}-always`,e),s.setAttribute(`${r2}-dynamic`,e),nt().appendChild(n),nt().appendChild(s),c(i.always),l(i.resting),()=>{let e=e=>{let t=e.current;t||b(),nt().removeChild(t),e.current=null};e(o),e(a)}},[t,c,l,i.always,i.resting,e]);let d=(0,s.useCallback)(()=>l(i.dragging),[l,i.dragging]),p=(0,s.useCallback)(e=>{if("DROP"===e){l(i.dropAnimating);return}l(i.userCancel)},[l,i.dropAnimating,i.userCancel]),h=(0,s.useCallback)(()=>{a.current&&l(i.resting)},[l,i.resting]);return(0,s.useMemo)(()=>({dragging:d,dropping:p,resting:h}),[d,p,h])}(t,p),E=(0,s.useCallback)(e=>{nL(f).dispatch(e)},[]),T=(0,s.useMemo)(()=>(0,o.bindActionCreators)({publishWhileDragging:tC,updateDroppableScroll:tR,updateDroppableIsEnabled:tk,updateDroppableIsCombineEnabled:tD,collectionStarting:tA},E),[E]),O=function(){let e=(0,s.useMemo)(ns,[]);return(0,n.useEffect)(()=>function(){e.clean()},[e]),e}(),I=(0,s.useMemo)(()=>rI(O,T),[O,T]),P=(0,s.useMemo)(()=>r1({scrollWindow:rC,scrollDroppable:I.scrollDroppable,getAutoScrollerOptions:w,...(0,o.bindActionCreators)({move:tN},E)}),[I.scrollDroppable,E,w]),C=function(e){let t=(0,n.useRef)({}),i=(0,n.useRef)(null),o=(0,n.useRef)(null),a=(0,n.useRef)(!1),l=(0,s.useCallback)(function(e,n){let i={id:e,focus:n};return t.current[e]=i,function(){let n=t.current;n[e]!==i&&delete n[e]}},[]),u=(0,s.useCallback)(function(t){let n=na(e,t);n&&n!==document.activeElement&&n.focus()},[e]),c=(0,s.useCallback)(function(e,t){i.current===e&&(i.current=t)},[]),d=(0,s.useCallback)(function(){!o.current&&a.current&&(o.current=requestAnimationFrame(()=>{o.current=null;let e=i.current;e&&u(e)}))},[u]),p=(0,s.useCallback)(function(e){i.current=null;let t=document.activeElement;t&&t.getAttribute(r3.draggableId)===e&&(i.current=e)},[]);return ne(()=>(a.current=!0,function(){a.current=!1;let e=o.current;e&&cancelAnimationFrame(e)}),[]),(0,s.useMemo)(()=>({register:l,tryRecordFocus:p,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[l,p,d,c])}(t),A=(0,s.useMemo)(()=>rb({announce:x,autoScroller:P,dimensionMarshal:I,focusMarshal:C,getResponders:y,styleMarshal:_}),[x,P,I,C,y,_]);f.current=A;let R=(0,s.useCallback)(()=>{let e=nL(f);"IDLE"!==e.getState().phase&&e.dispatch(tz())},[]),k=(0,s.useCallback)(()=>{let e=nL(f).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);i((0,s.useMemo)(()=>({isDragging:k,tryAbort:R}),[k,R]));let D=(0,s.useCallback)(e=>rP(nL(f).getState(),e),[]),N=(0,s.useCallback)(()=>e6(nL(f).getState()),[]),M=(0,s.useMemo)(()=>({marshal:I,focus:C,contextId:t,canLift:D,isMovementAllowed:N,dragHandleUsageInstructionsId:S,registry:O}),[t,I,S,C,D,N,O]);return function({contextId:e,store:t,registry:i,customSensors:o,enableDefaultSensors:a}){let l=[...a?nD:[],...o||[]],u=(0,n.useState)(()=>(function(){let e=null;function t(){e||b(),e=null}return{isClaimed:function(){return!!e},isActive:function(t){return t===e},claim:function(t){e&&b();let n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}})())[0],d=(0,s.useCallback)(function(e,t){nb(e)&&!nb(t)&&u.tryAbandon()},[u]);ne(function(){let e=t.getState();return t.subscribe(()=>{let n=t.getState();d(e,n),e=n})},[u,t,d]),ne(()=>u.tryAbandon,[u.tryAbandon]);let p=(0,s.useCallback)(e=>nk({lockAPI:u,registry:i,store:t,draggableId:e}),[u,i,t]),h=(0,s.useCallback)((n,o,a)=>(function({lockAPI:e,contextId:t,store:n,registry:i,draggableId:o,forceSensorStop:a,sourceEvent:s}){if(!nk({lockAPI:e,store:n,registry:i,draggableId:o}))return null;let l=i.draggable.getById(o),u=function(e,t){let n=nn(document,`[${r5.contextId}="${e}"]`).find(e=>e.getAttribute(r5.id)===t);return n&&no(n)?n:null}(t,l.descriptor.id);if(!u||s&&!l.options.canDragInteractiveElements&&function(e,t){let n=t.target;return!!no(n)&&function e(t,n){if(null==n)return!1;if(nI.includes(n.tagName.toLowerCase()))return!0;let i=n.getAttribute("contenteditable");return"true"===i||""===i||n!==t&&e(t,n.parentElement)}(e,n)}(u,s))return null;let d=e.claim(a||m),p="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function f(){return e.isActive(d)}let g=(function(e,t){nR({expected:e,phase:p,isLockActive:f,shouldWarn:!0})&&n.dispatch(t())}).bind(null,"DRAGGING");function y(t){function i(){e.release(),p="COMPLETED"}function o(e,a={shouldBlockNextClick:!1}){t.cleanup(),a.shouldBlockNextClick&&setTimeout(v(window,[{eventName:"click",fn:nA,options:{once:!0,passive:!1,capture:!0}}])),i(),n.dispatch(tH({reason:e}))}return"PRE_DRAG"!==p&&(i(),b()),n.dispatch(tI(t.liftActionArgs)),p="DRAGGING",{isActive:()=>nR({expected:"DRAGGING",phase:p,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,drop:e=>o("DROP",e),cancel:e=>o("CANCEL",e),...t.actions}}return{isActive:()=>nR({expected:"PRE_DRAG",phase:p,isLockActive:f,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:function(e){let t=(0,c.default)(e=>{g(()=>tN({client:e}))});return{...y({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){return y({liftActionArgs:{id:o,clientSelection:nP(u),movementMode:"SNAP"},cleanup:m,actions:{moveUp:()=>g(tL),moveRight:()=>g(tF),moveDown:()=>g(tj),moveLeft:()=>g(tB)}})},abort:function(){nR({expected:"PRE_DRAG",phase:p,isLockActive:f,shouldWarn:!0})&&e.release()}}})({lockAPI:u,registry:i,contextId:e,store:t,draggableId:n,forceSensorStop:o||null,sourceEvent:a&&a.sourceEvent?a.sourceEvent:null}),[e,u,i,t]),f=(0,s.useCallback)(t=>(function(e,t){let n=function(e,t){let n=t.target;if(!(n instanceof ni(n).Element))return null;let i=`[${r3.contextId}="${e}"]`,o=n.closest?n.closest(i):function e(t,n){return null==t?null:t[nC](n)?t:e(t.parentElement,n)}(n,i);return o&&no(o)?o:null}(e,t);return n?n.getAttribute(r3.draggableId):null})(e,t),[e]),g=(0,s.useCallback)(e=>{let t=i.draggable.findById(e);return t?t.options:null},[i.draggable]),y=(0,s.useCallback)(function(){u.isClaimed()&&(u.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch(tz()))},[u,t]),w=(0,s.useCallback)(()=>u.isClaimed(),[u]),x=(0,s.useMemo)(()=>({canGetLock:p,tryGetLock:h,findClosestDraggableId:f,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:w}),[p,h,f,g,y,w]);for(let e=0;e<l.length;e++)l[e](x)}({contextId:t,store:A,registry:O,customSensors:l||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,n.useEffect)(()=>R,[R]),/*@__PURE__*/Y(n).createElement(nf.Provider,{value:M},/*@__PURE__*/Y(n).createElement(a.Provider,{context:nl,store:A},e.children))}function nF(e){let t=/*@__PURE__*/Y(n).useId(),i=e.dragHandleUsageInstructions||T.dragHandleUsageInstructions;return /*@__PURE__*/Y(n).createElement(w,null,o=>/*@__PURE__*/Y(n).createElement(nj,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:i,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}let nB={dragging:5e3,dropAnimating:4500},nz=(e,t)=>t?tJ.drop(t.duration):e?tJ.snap:tJ.fluid,nU=(e,t)=>{if(e)return t?tY.opacity.drop:tY.opacity.combining},nW=e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode;var nH=/*@__PURE__*/Y(n).createContext(null);function nV(e){e&&no(e)||b()}function nG(e){let t=(0,n.useContext)(e);return t||b(),t}function n$(e){e.preventDefault()}var nq=(e,t)=>e===t,nX=e=>{let{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};let nY=e=>e.combine?e.combine.draggableId:null,nK=e=>e.at&&"COMBINE"===e.at.type?e.at.combine.draggableId:null;function nZ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}let nJ={mapped:{type:"SECONDARY",offset:O,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:nZ(null)}},nQ=(0,a.connect)(()=>{let e=function(){let e=(0,u.default)((e,t)=>({x:e,y:t})),t=(0,u.default)((e,t,n=null,i=null,o=null)=>({isDragging:!0,isClone:t,isDropAnimating:!!o,dropAnimation:o,mode:e,draggingOver:n,combineWith:i,combineTargetFor:null})),n=(0,u.default)((e,n,i,o,a=null,s=null,l=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:a,combineWith:s,mode:n,offset:e,dimension:i,forceShouldAnimate:l,snapshot:t(n,o,a,s,null)}}));return(i,o)=>{if(nb(i)){if(i.critical.draggable.id!==o.draggableId)return null;let t=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],s=e3(i.impact),l=nK(i.impact),u=i.forceShouldAnimate;return n(e(t.x,t.y),i.movementMode,a,o.isClone,s,l,u)}if("DROP_ANIMATING"===i.phase){let e=i.completed;if(e.result.draggableId!==o.draggableId)return null;let n=o.isClone,a=i.dimensions.draggables[o.draggableId],s=e.result,l=s.mode,u=nX(s),c=nY(s),d={duration:i.dropDuration,curve:tX.drop,moveTo:i.newHomeClientOffset,opacity:c?tY.opacity.drop:null,scale:c?tY.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:a,dropping:d,draggingOver:u,combineWith:c,mode:l,forceShouldAnimate:null,snapshot:t(l,n,u,c,d)}}}return null}}(),t=function(){let e=(0,u.default)((e,t)=>({x:e,y:t})),t=(0,u.default)(nZ),n=(0,u.default)((e,n=null,i)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:i,snapshot:t(n)}})),i=e=>e?n(O,e,!0):null,o=(t,o,a,s)=>{let l=a.displaced.visible[t],u=!!(s.inVirtualList&&s.effected[t]),c=Z(a),d=c&&c.draggableId===t?o:null;if(!l){if(!u)return i(d);if(a.displaced.invisible[t])return null;let o=A(s.displacedBy.point);return n(e(o.x,o.y),d,!0)}if(u)return i(d);let p=a.displacedBy.point;return n(e(p.x,p.y),d,l.shouldAnimate)};return(e,t)=>{if(nb(e))return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){let n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return(n,i)=>e(n,i)||t(n,i)||nJ},{dropAnimationFinished:tG},null,{context:nl,areStatePropsEqual:nq})(e=>{let t=(0,n.useRef)(null),o=(0,s.useCallback)((e=null)=>{t.current=e},[]),a=(0,s.useCallback)(()=>t.current,[]),{contextId:u,dragHandleUsageInstructionsId:c,registry:d}=nG(nf),{type:p,droppableId:h}=nG(nH),f=(0,s.useMemo)(()=>({id:e.draggableId,index:e.index,type:p,droppableId:h}),[e.draggableId,e.index,p,h]),{children:g,draggableId:m,isEnabled:v,shouldRespectForcePress:y,canDragInteractiveElements:w,isClone:x,mapped:S,dropAnimationFinished:_}=e;()=>{let t=e.draggableId;t||b(!1),"string"!=typeof t&&b(!1),Number.isInteger(e.index)||b(!1),"DRAGGING"!==e.mapped.type&&(nV(a()),e.isEnabled&&(na(u,t)||b(!1)))},x||function(e){let t=nh("draggable"),{descriptor:i,registry:o,getDraggableRef:a,canDragInteractiveElements:u,shouldRespectForcePress:c,isEnabled:d}=e,p=(0,s.useMemo)(()=>({canDragInteractiveElements:u,shouldRespectForcePress:c,isEnabled:d}),[u,d,c]),h=(0,s.useCallback)(e=>{let t=a();return t||b(),function(e,t,n=O){let i=window.getComputedStyle(t),o=t.getBoundingClientRect(),a=(0,l.calculateBox)(o,i),s=(0,l.withScroll)(a,n);return{descriptor:e,placeholder:{client:a,tagName:t.tagName.toLowerCase(),display:i.display},displaceBy:{x:a.marginBox.width,y:a.marginBox.height},client:a,page:s}}(i,t,e)},[i,a]),f=(0,s.useMemo)(()=>({uniqueId:t,descriptor:i,options:p,getDimension:h}),[i,h,p,t]),g=(0,n.useRef)(f),m=(0,n.useRef)(!0);ne(()=>(o.draggable.register(g.current),()=>o.draggable.unregister(g.current)),[o.draggable]),ne(()=>{if(m.current){m.current=!1;return}let e=g.current;g.current=f,o.draggable.update(f,e)},[f,o.draggable])}((0,s.useMemo)(()=>({descriptor:f,registry:d,getDraggableRef:a,canDragInteractiveElements:w,shouldRespectForcePress:y,isEnabled:v}),[f,d,a,w,y,v]));let E=(0,s.useMemo)(()=>v?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:n$}:null,[u,c,m,v]),T=(0,s.useCallback)(e=>{"DRAGGING"===S.type&&S.dropping&&"transform"===e.propertyName&&(0,i.flushSync)(_)},[_,S]),I=(0,s.useMemo)(()=>({innerRef:o,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":m,style:"DRAGGING"===S.type?function(e){let t=e.dimension.client,{offset:n,combineWith:i,dropping:o}=e,a=!!i,s=nW(e),l=!!o,u=l?t0.drop(n,a):t0.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:nz(s,o),transform:u,opacity:nU(a,l),zIndex:l?nB.dropAnimating:nB.dragging,pointerEvents:"none"}}(S):{transform:t0.moveTo(S.offset),transition:S.shouldAnimateDisplacement?void 0:"none"},onTransitionEnd:"DRAGGING"===S.type&&S.dropping?T:void 0},dragHandleProps:E}),[u,E,m,S,T,o]),P=(0,s.useMemo)(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return /*@__PURE__*/Y(n).createElement(/*@__PURE__*/Y(n).Fragment,null,g(I,S.snapshot,P))});function n0(e){return nG(nH).isUsingCloneFor!==e.draggableId||e.isClone?/*@__PURE__*/Y(n).createElement(nQ,e):null}function n1(e){let t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,i=!!e.disableInteractiveElementBlocking,o=!!e.shouldRespectForcePress;return /*@__PURE__*/Y(n).createElement(n0,(0,d.default)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:i,shouldRespectForcePress:o}))}let n2=e=>t=>e===t,n3=n2("scroll"),n5=n2("auto");n2("visible");let n4=(e,t)=>t(e.overflowX)||t(e.overflowY),n6=e=>{let t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return n4(n,n3)||n4(n,n5)},n8=()=>!1,n9=e=>null==e?null:e===document.body?n8()?e:null:e===document.documentElement?null:n6(e)?e:n9(e.parentElement);var n7=e=>({x:e.scrollLeft,y:e.scrollTop});let ie=e=>!!e&&("fixed"===window.getComputedStyle(e).position||ie(e.parentElement));var it=e=>({closestScrollable:n9(e),isFixedOnPage:ie(e)}),ir=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:i,direction:o,client:a,page:s,closest:l})=>{let u=(()=>{if(!l)return null;let{scrollSize:e,client:t}=l,n=rx({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:O,displacement:O}}}})(),c="vertical"===o?el:eu,d=U({page:s,withPlaceholder:null,axis:c,frame:u});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:i,axis:c,isEnabled:t,client:a,page:s,frame:u,subject:d}};let ii=(e,t)=>{let n=(0,l.getBox)(e);if(!t||e!==t)return n;let i=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,a=i+t.scrollHeight,s=o+t.scrollWidth,u=(0,l.expand)({top:i,right:s,bottom:a,left:o},n.border);return(0,l.createBox)({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var io=({ref:e,descriptor:t,env:n,windowScroll:i,direction:o,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:u})=>{let c=n.closestScrollable,d=ii(e,c),p=(0,l.withScroll)(d,i),h=(()=>{if(!c)return null;let e=(0,l.getBox)(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:(0,l.withScroll)(e,i),scroll:n7(c),scrollSize:t,shouldClipSubject:u}})();return ir({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:o,client:d,page:p,closest:h})};let ia={passive:!1},is={passive:!0};var il=e=>e.shouldPublishImmediately?ia:is;let iu=e=>e&&e.env.closestScrollable||null;function ic(){}let id={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ip=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||"close"===n?id:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},ih=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{let i=ip({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?tJ.placeholder:null}};var ig=/*@__PURE__*/Y(n).memo(e=>{let t=(0,n.useRef)(null),i=(0,s.useCallback)(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:o,onTransitionEnd:a,onClose:l,contextId:u}=e,[c,d]=(0,n.useState)("open"===e.animate);(0,n.useEffect)(()=>c?"open"!==o?(i(),d(!1),ic):t.current?ic:(t.current=setTimeout(()=>{t.current=null,d(!1)}),i):ic,[o,c,i]);let p=(0,s.useCallback)(e=>{"height"===e.propertyName&&(a(),"close"===o&&l())},[o,l,a]),h=ih({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return /*@__PURE__*/Y(n).createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":u,onTransitionEnd:p,ref:e.innerRef})});function im(e){return"boolean"==typeof e}function iv(e,t){t.forEach(t=>t(e))}let iy=[function({props:e}){e.droppableId||b(),"string"!=typeof e.droppableId&&b()},function({props:e}){im(e.isDropDisabled)||b(),im(e.isCombineEnabled)||b(),im(e.ignoreContainerClipping)||b()},function({getDroppableRef:e}){nV(e())}],ib=[function({props:e,getPlaceholderRef:t}){if(!e.placeholder||t())return}],iw=[function({props:e}){e.renderClone||b()},function({getPlaceholderRef:e}){e()&&b()}];class ix extends /*@__PURE__*/Y(n).PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;let e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}let iS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||b(),document.body}},i_=e=>{let t,n={...e};for(t in iS)void 0===e[t]&&(n={...n,[t]:iS[t]});return n},iE=(e,t)=>e===t.droppable.type,iT=(e,t)=>t.draggables[e.draggable.id];var iO=(0,a.connect)(()=>{let e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=(0,u.default)(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),i=(0,u.default)((i,o,a,s,l,u)=>{let c=l.descriptor.id;if(l.descriptor.droppableId===i){let e=u?{render:u,dragging:n(l.descriptor)}:null;return{placeholder:l.placeholder,shouldAnimatePlaceholder:!1,snapshot:{isDraggingOver:a,draggingOverWith:a?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0},useClone:e}}return o?s?{placeholder:l.placeholder,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:a,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0},useClone:null}:e:t});return(n,o)=>{let a=i_(o),s=a.droppableId,l=a.type,u=!a.isDropDisabled,c=a.renderClone;if(nb(n)){let e=n.critical;if(!iE(l,e))return t;let o=iT(e,n.dimensions),a=e3(n.impact)===s;return i(s,u,a,a,o,c)}if("DROP_ANIMATING"===n.phase){let e=n.completed;if(!iE(l,e.critical))return t;let o=iT(e.critical,n.dimensions);return i(s,u,nX(e.result)===s,e3(e.impact)===s,o,c)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){let i=n.completed;if(!iE(l,i.critical))return t;let o=e3(i.impact)===s,a=!!(i.impact.at&&"COMBINE"===i.impact.at.type),u=i.critical.droppable.id===s;if(o)return a?e:t;if(u)return e}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,n)=>({...i_(n),...e,...t}),{context:nl,areStatePropsEqual:nq})(e=>{var t;let o=(0,n.useContext)(nf);o||b();let{contextId:a,isMovementAllowed:l}=o,d=(0,n.useRef)(null),p=(0,n.useRef)(null),{children:h,droppableId:f,type:g,mode:m,direction:v,ignoreContainerClipping:y,isDropDisabled:w,isCombineEnabled:x,snapshot:S,useClone:_,updateViewportMaxScroll:E,getContainerForClone:T}=e,I=(0,s.useCallback)(()=>d.current,[]),P=(0,s.useCallback)((e=null)=>{d.current=e},[]),C=(0,s.useCallback)(()=>p.current,[]),A=(0,s.useCallback)((e=null)=>{p.current=e},[]);t={props:e,getDroppableRef:I,getPlaceholderRef:C},()=>{iv(t,iy),"standard"===t.props.mode&&iv(t,ib),"virtual"===t.props.mode&&iv(t,iw)};let R=(0,s.useCallback)(()=>{l()&&E({maxScroll:r_()})},[l,E]);!function(e){let t=(0,n.useRef)(null),i=nG(nf),o=nh("droppable"),{registry:a,marshal:l}=i,d=ny(e),p=(0,s.useMemo)(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),h=(0,n.useRef)(p),f=(0,s.useMemo)(()=>(0,u.default)((e,n)=>{t.current||b(),l.updateDroppableScroll(p.id,{x:e,y:n})}),[p.id,l]),g=(0,s.useCallback)(()=>{let e=t.current;return e&&e.env.closestScrollable?n7(e.env.closestScrollable):O},[]),m=(0,s.useCallback)(()=>{let e=g();f(e.x,e.y)},[g,f]),v=(0,s.useMemo)(()=>(0,c.default)(m),[m]),y=(0,s.useCallback)(()=>{let e=t.current,n=iu(e);if(e&&n||b(),e.scrollOptions.shouldPublishImmediately){m();return}v()},[v,m]),w=(0,s.useCallback)((e,n)=>{t.current&&b();let o=d.current,a=o.getDroppableRef();a||b();let s=it(a),l={ref:a,descriptor:p,env:s,scrollOptions:n};t.current=l;let u=io({ref:a,descriptor:p,env:s,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),c=s.closestScrollable;return c&&(c.setAttribute(r6.contextId,i.contextId),c.addEventListener("scroll",y,il(l.scrollOptions))),u},[i.contextId,p,y,d]),x=(0,s.useCallback)(()=>{let e=t.current,n=iu(e);return e&&n||b(),n7(n)},[]),S=(0,s.useCallback)(()=>{let e=t.current;e||b();let n=iu(e);t.current=null,n&&(v.cancel(),n.removeAttribute(r6.contextId),n.removeEventListener("scroll",y,il(e.scrollOptions)))},[y,v]),_=(0,s.useCallback)(e=>{let n=t.current;n||b();let i=iu(n);i||b(),i.scrollTop+=e.y,i.scrollLeft+=e.x},[]),E=(0,s.useMemo)(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:x,dragStopped:S,scroll:_}),[S,w,x,_]),T=(0,s.useMemo)(()=>({uniqueId:o,descriptor:p,callbacks:E}),[E,p,o]);ne(()=>(h.current=T.descriptor,a.droppable.register(T),()=>{t.current&&S(),a.droppable.unregister(T)}),[E,p,S,T,l,a.droppable]),ne(()=>{t.current&&l.updateDroppableIsEnabled(h.current.id,!e.isDropDisabled)},[e.isDropDisabled,l]),ne(()=>{t.current&&l.updateDroppableIsCombineEnabled(h.current.id,e.isCombineEnabled)},[e.isCombineEnabled,l])}({droppableId:f,type:g,mode:m,direction:v,isDropDisabled:w,isCombineEnabled:x,ignoreContainerClipping:y,getDroppableRef:I});let k=(0,s.useMemo)(()=>/*@__PURE__*/Y(n).createElement(ix,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:e,data:t,animate:i})=>/*@__PURE__*/Y(n).createElement(ig,{placeholder:t,onClose:e,innerRef:A,animate:i,contextId:a,onTransitionEnd:R})),[a,R,e.placeholder,e.shouldAnimatePlaceholder,A]),D=(0,s.useMemo)(()=>({innerRef:P,placeholder:k,droppableProps:{"data-rfd-droppable-id":f,"data-rfd-droppable-context-id":a}}),[a,f,k,P]),N=_?_.dragging.draggableId:null,M=(0,s.useMemo)(()=>({droppableId:f,type:g,isUsingCloneFor:N}),[f,N,g]);return /*@__PURE__*/Y(n).createElement(nH.Provider,{value:M},h(D,S),function(){if(!_)return null;let{dragging:e,render:t}=_,o=/*@__PURE__*/Y(n).createElement(n0,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(n,i)=>t(n,i,e));return /*@__PURE__*/Y(i).createPortal(o,T())}())})}),et("988Ez",function(e,t){q(e.exports,"useMemo",()=>o),q(e.exports,"useCallback",()=>a);var n=ee("dm060");function i(e,t){var i=(0,n.useState)(function(){return{inputs:t,result:e()}})[0],o=(0,n.useRef)(!0),a=(0,n.useRef)(i),s=o.current||t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs)?a.current:{inputs:t,result:e()};return(0,n.useEffect)(function(){o.current=!1,a.current=s},[s]),s.result}var o=i,a=function(e,t){return i(function(){return e},t)}}),et("dfVCd",function(e,t){q(e.exports,"getRect",()=>i),q(e.exports,"expand",()=>o),q(e.exports,"createBox",()=>l),q(e.exports,"offset",()=>c),q(e.exports,"withScroll",()=>d),q(e.exports,"calculateBox",()=>p),q(e.exports,"getBox",()=>h);var n=ee("bMexu"),i=function(e){var t=e.top,n=e.right,i=e.bottom,o=e.left;return{top:t,right:n,bottom:i,left:o,width:n-o,height:i-t,x:o,y:t,center:{x:(n+o)/2,y:(i+t)/2}}},o=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},a=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},s={top:0,right:0,bottom:0,left:0},l=function(e){var t=e.borderBox,n=e.margin,l=void 0===n?s:n,u=e.border,c=void 0===u?s:u,d=e.padding,p=void 0===d?s:d,h=i(o(t,l)),f=i(a(t,c)),g=i(a(f,p));return{marginBox:h,borderBox:i(t),paddingBox:f,contentBox:g,margin:l,border:c,padding:p}},u=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var i=Number(t);return isNaN(i)&&(0,n.default)(!1),i},c=function(e,t){var n=e.borderBox,i=e.border,o=e.margin,a=e.padding;return l({borderBox:{top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x},border:i,margin:o,padding:a})},d=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),c(e,t)},p=function(e,t){return l({borderBox:e,margin:{top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)},padding:{top:u(t.paddingTop),right:u(t.paddingRight),bottom:u(t.paddingBottom),left:u(t.paddingLeft)},border:{top:u(t.borderTopWidth),right:u(t.borderRightWidth),bottom:u(t.borderBottomWidth),left:u(t.borderLeftWidth)}})},h=function(e){return p(e.getBoundingClientRect(),window.getComputedStyle(e))}}),et("bMexu",function(e,t){q(e.exports,"default",()=>n);function n(e,t){if(!e)throw Error("Invariant failed")}}),et("5ZHRY",function(e,t){q(e.exports,"default",()=>o);var n=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var i,o,a=0;a<e.length;a++)if(!((i=e[a])===(o=t[a])||n(i)&&n(o)))return!1;return!0}function o(e,t){void 0===t&&(t=i);var n=null;function o(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return o.clear=function(){n=null},o}}),et("4vLSu",function(e,t){q(e.exports,"default",()=>n);var n=function(e){var t=[],n=null,i=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return i.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},i}}),et("43TQa",function(e,t){q(e.exports,"default",()=>l);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("6dsyS"),l=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){return t.id,t.windowId,{}}),(0,a.withPlugins)("CustomPanel"))(s.CustomPanel)}),et("6dsyS",function(e,t){q(e.exports,"CustomPanel",()=>u);var n=ee("dm060"),i=ee("d6cg7"),o=ee("9L45J");function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u=/*#__PURE__*/function(e){var t;function n(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=n,t=arguments,e=s(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,a()?Reflect.construct(e,t||[],s(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,a=e.t,s=e.title,l=e.windowId;return/*#__PURE__*/(0,o.jsx)(i.default,{title:a(s),id:t,windowId:l,children:n})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(n.Component);u.defaultProps={children:null}}),et("cv3r0",function(e,t){q(e.exports,"default",()=>h);var n=ee("1l9KS"),i=ee("bEWqL");ee("2IInF");var o=ee("9xAYM"),a=ee("lqD1Z"),s=ee("g60ed"),l=ee("cOFmZ"),u=ee("02l6u"),c=ee("cEqnD"),d=ee("8pjuL"),p=ee("aT33q"),h=(0,n.compose)((0,o.withTranslation)(),(0,i.connect)(function(e,t){var n=t.id,i=t.windowId,o=(0,c.getWindow)(e,{windowId:i}),a=(0,l.getCompanionWindow)(e,{companionWindowId:n}),s=a.collectionPath||o.collectionPath,p=s&&s[s.length-1],h=s&&s[s.length-2],f=p&&(0,c.getManifest)(e,{manifestId:p}),g=h&&(0,c.getManifest)(e,{manifestId:h}),m=(0,c.getManifest)(e,{windowId:i});return{canvasNavigation:e.config.canvasNavigation,collection:f&&(0,d.getManifestoInstance)(e,{manifestId:f.id}),collectionId:p,collectionPath:s,error:f&&f.error,isFetching:f&&f.isFetching,manifestId:m&&m.id,parentCollection:g&&(0,d.getManifestoInstance)(e,{manifestId:g.id}),ready:f&&!!f.json,variant:a.variant||(0,u.getDefaultSidebarVariant)(e,{windowId:i})}},function(e,t){var n=t.id,i=t.windowId;return{updateCompanionWindow:function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];return e(s.updateCompanionWindow.apply(s,[i,n].concat(o)))},updateWindow:function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e(s.updateWindow.apply(s,[i].concat(n)))}}}),(0,a.withPlugins)("WindowSideBarCollectionPanel"))(p.WindowSideBarCollectionPanel)}),et("aT33q",function(e,t){q(e.exports,"WindowSideBarCollectionPanel",()=>O);var n=ee("dm060"),i=ee("6h89a"),o=ee("5YsFA"),a=ee("3WaRx"),s=ee("8Ninj"),l=ee("gHgwx"),u=ee("kypKg"),c=ee("d822V"),d=ee("8yfls"),p=ee("i9Wdr"),h=ee("d6cg7"),f=ee("aG6hj"),g=ee("9L45J"),m=["manifest","canvasNavigation","variant"];function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,E(i.key),i)}}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=E(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function T(e){var t=e.manifest,n=e.canvasNavigation,i=e.variant,o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,m);return/*#__PURE__*/(0,g.jsxs)(u.default,_(_({alignItems:"flex-start",button:!0,divider:!0,component:"li",variant:"multiline",sx:{paddingRight:1}},o),{},{children:["thumbnail"===i&&/*#__PURE__*/(0,g.jsx)(a.default,{children:/*#__PURE__*/(0,g.jsx)(f.default,{resource:t,maxHeight:n.height,maxWidth:n.width})}),/*#__PURE__*/(0,g.jsx)(s.default,{children:O.getUseableLabel(t)})]}))}var O=/*#__PURE__*/function(e){var t,n;function f(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,f),e=f,t=arguments,e=w(e),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,b()?Reflect.construct(e,t||[],w(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(f,e),t=[{key:"isMultipart",value:function(){var e=this.props.collection;if(!e)return!1;var t=e.getProperty("behavior");return Array.isArray(t)?t.includes("multi-part"):"multi-part"===t}},{key:"render",value:function(){var e=this.props,t=e.canvasNavigation,n=e.collectionPath,m=e.collection,y=e.id,b=e.isFetching,w=e.manifestId,x=e.parentCollection,S=e.updateCompanionWindow,_=e.updateWindow,E=e.t,O=e.variant,I=e.windowId;return/*#__PURE__*/(0,g.jsx)(h.default,{title:E(this.isMultipart()?"multipartCollection":"collection"),windowId:I,id:y,titleControls:/*#__PURE__*/(0,g.jsxs)(g.Fragment,{children:[x&&/*#__PURE__*/(0,g.jsx)(i.default,{children:/*#__PURE__*/(0,g.jsxs)(o.default,{button:!0,onClick:function(){return S({collectionPath:n.slice(0,-1)})},children:[/*#__PURE__*/(0,g.jsx)(a.default,{children:/*#__PURE__*/(0,g.jsx)(/*@__PURE__*/Y(p),{})}),/*#__PURE__*/(0,g.jsx)(s.default,{primaryTypographyProps:{variant:"body1"},children:f.getUseableLabel(x)})]})}),/*#__PURE__*/(0,g.jsxs)(c.default,{variant:"h6",children:[m&&f.getUseableLabel(m),b&&/*#__PURE__*/(0,g.jsx)(d.default,{variant:"text"})]})]}),children:/*#__PURE__*/(0,g.jsxs)(l.default,{children:[b&&/*#__PURE__*/(0,g.jsx)(u.default,{children:/*#__PURE__*/(0,g.jsxs)(s.default,{children:[/*#__PURE__*/(0,g.jsx)(d.default,{variant:"text"}),/*#__PURE__*/(0,g.jsx)(d.default,{variant:"text"}),/*#__PURE__*/(0,g.jsx)(d.default,{variant:"text"})]})}),m&&m.getCollections().map(function(e){return/*#__PURE__*/(0,g.jsx)(T,{onClick:function(){S({collectionPath:[].concat(function(e){if(Array.isArray(e))return v(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,void 0):void 0}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.id])})},canvasNavigation:t,manifest:e,variant:O,selected:w===e.id},e.id)}),m&&m.getManifests().map(function(e){return/*#__PURE__*/(0,g.jsx)(T,{onClick:function(){_({canvasId:null,collectionPath:n,manifestId:e.id}),S({multipart:!1})},canvasNavigation:t,manifest:e,variant:O,selected:w===e.id},e.id)})]})})}}],n=[{key:"getUseableLabel",value:function(e,t){return e&&e.getLabel&&e.getLabel().length>0?e.getLabel().getValue():e.id}}],t&&y(f.prototype,t),n&&y(f,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(n.Component);O.defaultProps={collection:null,collectionPath:[],isFetching:!1,parentCollection:null,t:function(e){return e},variant:null}}),et("3WaRx",function(e,t){q(e.exports,"default",()=>m);var n=ee("u6U9p"),i=ee("5XyNA"),o=ee("dm060"),a=ee("auY7r"),s=ee("kbtjl"),l=ee("37zHU"),u=ee("91wvo"),c=ee("I7ctL"),d=ee("lV3sb"),p=ee("9L45J");let h=["className"],f=e=>{let{alignItems:t,classes:n}=e;return(0,s.default)({root:["root","flex-start"===t&&"alignItemsFlexStart"]},c.getListItemIconUtilityClass,n)},g=(0,l.default)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(({theme:e,ownerState:t})=>(0,i.default)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8}));var m=/*#__PURE__*/o.forwardRef(function(e,t){let s=(0,u.useDefaultProps)({props:e,name:"MuiListItemIcon"}),{className:l}=s,c=(0,n.default)(s,h),m=o.useContext(d.default),v=(0,i.default)({},s,{alignItems:m.alignItems}),y=f(v);return/*#__PURE__*/(0,p.jsx)(g,(0,i.default)({className:(0,a.default)(y.root,l),ownerState:v,ref:t},c))})}),et("i9Wdr",function(e,t){var n=ee("khCzK");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var i=n(ee("37hG9")),o=ee("9L45J");e.exports.default=(0,i.default)(/*#__PURE__*/(0,o.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpwardSharp")}),et("eYHQE",function(e,t){q(e.exports,"DndContext",()=>n);let n=(0,ee("dm060").createContext)({dragDropManager:void 0})}),et("gbFVC",function(e,t){q(e.exports,"DndProvider",()=>u);var n=ee("9L45J"),i=ee("6lVwP"),o=ee("dm060"),a=ee("eYHQE");let s=0,l=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var u=/*#__PURE__*/(0,o.memo)(function(e){var t,{children:u}=e;let[d,p]="manager"in(t=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]))?[{dragDropManager:t.manager},!1]:[function(e,t=c(),n,o){return t[l]||(t[l]={dragDropManager:(0,i.createDragDropManager)(e,t,n,o)}),t[l]}(t.backend,t.context,t.options,t.debugMode),!t.context];return(0,o.useEffect)(()=>{if(p){let e=c();return++s,()=>{0==--s&&(e[l]=null)}}},[]),/*#__PURE__*/(0,n.jsx)(a.DndContext.Provider,{value:d,children:u})});function c(){return void 0!==X?X:window}}),et("6lVwP",function(e,t){q(e.exports,"createDragDropManager",()=>l);var n=ee("7IZeQ"),i=ee("2zK2R"),o=ee("dWE4o"),a=ee("b9PWI"),s=ee("jf2Jd");function l(e,t,u={},c=!1){let d=function(e){let t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,n.createStore)(s.reduce,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(c),p=new o.DragDropMonitorImpl(d,new a.HandlerRegistryImpl(d)),h=new i.DragDropManagerImpl(d,p),f=e(h,t,u);return h.receiveBackend(f),h}}),et("7IZeQ",function(e,t){function n(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}q(e.exports,"createStore",()=>s),ee("8Ayiz");var i="function"==typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function s(e,t,o){if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw Error(n(0));if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw Error(n(1));return o(s)(e,t)}if("function"!=typeof e)throw Error(n(2));var l,u=e,c=t,d=[],p=d,h=!1;function f(){p===d&&(p=d.slice())}function g(){if(h)throw Error(n(3));return c}function m(e){if("function"!=typeof e)throw Error(n(4));if(h)throw Error(n(5));var t=!0;return f(),p.push(e),function(){if(t){if(h)throw Error(n(6));t=!1,f();var i=p.indexOf(e);p.splice(i,1),d=null}}}function v(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(n(7));if(void 0===e.type)throw Error(n(8));if(h)throw Error(n(9));try{h=!0,c=u(c,e)}finally{h=!1}for(var t=d=p,i=0;i<t.length;i++)(0,t[i])();return e}return v({type:a.INIT}),(l={dispatch:v,subscribe:m,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw Error(n(10));u=e,v({type:a.REPLACE})}})[i]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(n(11));function t(){e.next&&e.next(g())}return t(),{unsubscribe:m(t)}}})[i]=function(){return this},e},l}}),et("8Ayiz",function(e,t){q(e.exports,"default",()=>o);var n=ee("foE5y");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){(0,n.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}}),et("foE5y",function(e,t){q(e.exports,"default",()=>i);var n=ee("4uXzC");function i(e,t,i){return(t=(0,n.default)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}}),et("4uXzC",function(e,t){q(e.exports,"default",()=>o);var n=ee("gasuM"),i=ee("lvxnA");function o(e){var t=(0,i.default)(e,"string");return"symbol"==(0,n.default)(t)?t:t+""}}),et("gasuM",function(e,t){q(e.exports,"default",()=>n);function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}),et("lvxnA",function(e,t){q(e.exports,"default",()=>i);var n=ee("gasuM");function i(e,t){if("object"!=(0,n.default)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=(0,n.default)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}}),et("2zK2R",function(e,t){q(e.exports,"DragDropManagerImpl",()=>i);var n=ee("5fl2O");class i{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){let e=this,{dispatch:t}=this.store,i=(0,n.createDragDropActions)(this);return Object.keys(i).reduce((n,o)=>{let a=i[o];return n[o]=(...n)=>{let i=a.apply(e,n);void 0!==i&&t(i)},n},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}}),et("5fl2O",function(e,t){q(e.exports,"BEGIN_DRAG",()=>ee("9a6tD").BEGIN_DRAG),q(e.exports,"DROP",()=>ee("9a6tD").DROP),q(e.exports,"END_DRAG",()=>ee("9a6tD").END_DRAG),q(e.exports,"HOVER",()=>ee("9a6tD").HOVER),q(e.exports,"INIT_COORDS",()=>ee("9a6tD").INIT_COORDS),q(e.exports,"PUBLISH_DRAG_SOURCE",()=>ee("9a6tD").PUBLISH_DRAG_SOURCE),q(e.exports,"createDragDropActions",()=>l);var n=ee("160jr"),i=ee("glXzP"),o=ee("ggy37"),a=ee("2oy0r"),s=ee("4Ihta");function l(e){return{beginDrag:(0,n.createBeginDrag)(e),publishDragSource:(0,s.createPublishDragSource)(e),hover:(0,a.createHover)(e),drop:(0,i.createDrop)(e),endDrag:(0,o.createEndDrag)(e)}}ee("9a6tD")}),et("160jr",function(e,t){q(e.exports,"createBeginDrag",()=>l);var n=ee("8hcSx"),i=ee("7VQ0r"),o=ee("5Vsx4"),a=ee("9a6tD");let s={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};function l(e){return function(t=[],l={publishSource:!0}){let{publishSource:u=!0,clientOffset:c,getSourceClientOffset:d}=l,p=e.getMonitor(),h=e.getRegistry();e.dispatch((0,o.setClientOffset)(c)),(0,n.invariant)(!p.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,n.invariant)(h.getSource(e),"Expected sourceIds to be registered.")});let f=function(e,t){let n=null;for(let i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){n=e[i];break}return n}(t,p);if(null==f){e.dispatch(s);return}let g=null;if(c){if(!d)throw Error("getSourceClientOffset must be defined");(0,n.invariant)("function"==typeof d,"When clientOffset is provided, getSourceClientOffset must be a function."),g=d(f)}e.dispatch((0,o.setClientOffset)(c,g));let m=h.getSource(f).beginDrag(p,f);if(null==m)return;(0,n.invariant)((0,i.isObject)(m),"Item must be an object."),h.pinSource(f);let v=h.getSourceType(f);return{type:a.BEGIN_DRAG,payload:{itemType:v,item:m,sourceId:f,clientOffset:c||null,sourceClientOffset:g||null,isSourcePublic:!!u}}}}}),et("8hcSx",function(e,t){q(e.exports,"invariant",()=>i);var n=ee("hPtJY");function i(e,t,...o){if(void 0!==n&&void 0===t)throw Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;(e=Error(t.replace(/%s/g,function(){return o[n++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}}),et("hPtJY",function(e,t){var n,i,o,a=e.exports={};function s(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:l}catch(e){i=l}}();var c=[],d=!1,p=-1;function h(){d&&o&&(d=!1,o.length?c=o.concat(c):p=-1,c.length&&f())}function f(){if(!d){var e=u(h);d=!0;for(var t=c.length;t;){for(o=c,c=[];++p<t;)o&&o[p].run();p=-1,t=c.length}o=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1!==c.length||d||u(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}),et("7VQ0r",function(e,t){function n(e,t,n){return t.split(".").reduce((e,t)=>e&&e[t]?e[t]:n||null,e)}function i(e,t){return e.filter(e=>e!==t)}function o(e){return"object"==typeof e}function a(e,t){let n=new Map,i=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(i),t.forEach(i);let o=[];return n.forEach((e,t)=>{1===e&&o.push(t)}),o}function s(e,t){return e.filter(e=>t.indexOf(e)>-1)}q(e.exports,"get",()=>n),q(e.exports,"without",()=>i),q(e.exports,"isObject",()=>o),q(e.exports,"xor",()=>a),q(e.exports,"intersection",()=>s)}),et("5Vsx4",function(e,t){q(e.exports,"setClientOffset",()=>i);var n=ee("9a6tD");function i(e,t){return{type:n.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}}),et("9a6tD",function(e,t){q(e.exports,"INIT_COORDS",()=>n),q(e.exports,"BEGIN_DRAG",()=>i),q(e.exports,"PUBLISH_DRAG_SOURCE",()=>o),q(e.exports,"HOVER",()=>a),q(e.exports,"DROP",()=>s),q(e.exports,"END_DRAG",()=>l);let n="dnd-core/INIT_COORDS",i="dnd-core/BEGIN_DRAG",o="dnd-core/PUBLISH_DRAG_SOURCE",a="dnd-core/HOVER",s="dnd-core/DROP",l="dnd-core/END_DRAG"}),et("glXzP",function(e,t){q(e.exports,"createDrop",()=>a);var n=ee("8hcSx"),i=ee("7VQ0r"),o=ee("9a6tD");function a(e){return function(t={}){let a=e.getMonitor(),s=e.getRegistry();(0,n.invariant)(a.isDragging(),"Cannot call drop while not dragging."),(0,n.invariant)(!a.didDrop(),"Cannot call drop twice during one drag operation."),(function(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t})(a).forEach((l,u)=>{let c=function(e,t,o,a){var s;let l=o.getTarget(e),u=l?l.drop(a,e):void 0;return s=u,(0,n.invariant)(void 0===s||(0,i.isObject)(s),"Drop result must either be an object or undefined."),void 0===u&&(u=0===t?{}:a.getDropResult()),u}(l,u,s,a),d={type:o.DROP,payload:{dropResult:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},t,c)}};e.dispatch(d)})}}}),et("ggy37",function(e,t){q(e.exports,"createEndDrag",()=>o);var n=ee("8hcSx"),i=ee("9a6tD");function o(e){return function(){let t=e.getMonitor(),o=e.getRegistry();(0,n.invariant)(t.isDragging(),"Cannot call endDrag while not dragging.");let a=t.getSourceId();return null!=a&&(o.getSource(a,!0).endDrag(t,a),o.unpinSource()),{type:i.END_DRAG}}}}),et("2oy0r",function(e,t){q(e.exports,"createHover",()=>a);var n=ee("8hcSx"),i=ee("lRqMZ"),o=ee("9a6tD");function a(e){return function(t,{clientOffset:a}={}){(0,n.invariant)(Array.isArray(t),"Expected targetIds to be an array.");let s=t.slice(0),l=e.getMonitor(),u=e.getRegistry();return function(e,t,n){for(let o=e.length-1;o>=0;o--){let a=e[o],s=t.getTargetType(a);(0,i.matchesType)(s,n)||e.splice(o,1)}}(s,u,l.getItemType()),function(e,t,i){(0,n.invariant)(t.isDragging(),"Cannot call hover while not dragging."),(0,n.invariant)(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let o=e[t];(0,n.invariant)(e.lastIndexOf(o)===t,"Expected targetIds to be unique in the passed array.");let a=i.getTarget(o);(0,n.invariant)(a,"Expected targetIds to be registered.")}}(s,l,u),function(e,t,n){e.forEach(function(e){n.getTarget(e).hover(t,e)})}(s,l,u),{type:o.HOVER,payload:{targetIds:s,clientOffset:a||null}}}}}),et("lRqMZ",function(e,t){q(e.exports,"matchesType",()=>n);function n(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}}),et("4Ihta",function(e,t){q(e.exports,"createPublishDragSource",()=>i);var n=ee("9a6tD");function i(e){return function(){if(e.getMonitor().isDragging())return{type:n.PUBLISH_DRAG_SOURCE}}}}),et("dWE4o",function(e,t){q(e.exports,"DragDropMonitorImpl",()=>s);var n=ee("8hcSx"),i=ee("1fq17"),o=ee("9meCS"),a=ee("lRqMZ");class s{subscribeToStateChange(e,t={}){let{handlerIds:i}=t;(0,n.invariant)("function"==typeof e,"listener must be a function."),(0,n.invariant)(void 0===i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;return this.store.subscribe(()=>{let t=this.store.getState(),n=t.stateId;try{n!==a&&(n!==a+1||(0,o.areDirty)(t.dirtyHandlerIds,i))&&e()}finally{a=n}})}subscribeToOffsetChange(e){(0,n.invariant)("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe(()=>{let n=this.store.getState().dragOffset;n!==t&&(t=n,e())})}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return(0,n.invariant)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);if((0,n.invariant)(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;let i=this.registry.getTargetType(e),o=this.getItemType();return(0,a.matchesType)(i,o)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);return(0,n.invariant)(t,`Expected to find a valid source. sourceId=${e}`),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;let{shallow:n}=t;if(!this.isDragging())return!1;let i=this.registry.getTargetType(e),o=this.getItemType();if(o&&!(0,a.matchesType)(i,o))return!1;let s=this.getTargetIds();if(!s.length)return!1;let l=s.indexOf(e);return n?l===s.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(0,i.getSourceClientOffset)(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(0,i.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}}),et("1fq17",function(e,t){function n(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e){let{clientOffset:t,initialClientOffset:i,initialSourceClientOffset:o}=e;return t&&i&&o?n({x:t.x+o.x,y:t.y+o.y},i):null}function o(e){let{clientOffset:t,initialClientOffset:i}=e;return t&&i?n(t,i):null}q(e.exports,"getSourceClientOffset",()=>i),q(e.exports,"getDifferenceFromInitialOffset",()=>o)}),et("9meCS",function(e,t){q(e.exports,"NONE",()=>i),q(e.exports,"ALL",()=>o),q(e.exports,"areDirty",()=>a);var n=ee("7VQ0r");let i=[],o=[];function a(e,t){return e!==i&&(e===o||void 0===t||(0,n.intersection)(t,e).length>0)}i.__IS_NONE__=!0,o.__IS_ALL__=!0}),et("b9PWI",function(e,t){q(e.exports,"HandlerRegistryImpl",()=>d),ee("6I2dp");var n=ee("frjV4"),i=ee("8hcSx"),o=ee("6rUH2"),a=ee("e8NIj"),s=ee("hswQq"),l=ee("fjKfE");function u(e){switch(e[0]){case"S":return s.HandlerRole.SOURCE;case"T":return s.HandlerRole.TARGET;default:throw Error(`Cannot parse handler ID: ${e}`)}}function c(e,t){let n=e.entries(),i=!1;do{let{done:e,value:[,o]}=n.next();if(o===t)return!0;i=!!e}while(!i)return!1}class d{addSource(e,t){(0,a.validateType)(e),(0,a.validateSourceContract)(t);let n=this.addHandler(s.HandlerRole.SOURCE,e,t);return this.store.dispatch((0,o.addSource)(n)),n}addTarget(e,t){(0,a.validateType)(e,!0),(0,a.validateTargetContract)(t);let n=this.addHandler(s.HandlerRole.TARGET,e,t);return this.store.dispatch((0,o.addTarget)(n)),n}containsHandler(e){return c(this.dragSources,e)||c(this.dropTargets,e)}getSource(e,t=!1){return(0,i.invariant)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return(0,i.invariant)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return(0,i.invariant)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return(0,i.invariant)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return u(e)===s.HandlerRole.SOURCE}isTargetId(e){return u(e)===s.HandlerRole.TARGET}removeSource(e){(0,i.invariant)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,o.removeSource)(e)),(0,n.asap)(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){(0,i.invariant)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,o.removeTarget)(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let t=this.getSource(e);(0,i.invariant)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){(0,i.invariant)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){let i=function(e){let t=(0,l.getNextUniqueId)().toString();switch(e){case s.HandlerRole.SOURCE:return`S${t}`;case s.HandlerRole.TARGET:return`T${t}`;default:throw Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(i,t),e===s.HandlerRole.SOURCE?this.dragSources.set(i,n):e===s.HandlerRole.TARGET&&this.dropTargets.set(i,n),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}}),et("6I2dp",function(e,t){q(e.exports,"asap",()=>ee("frjV4").asap),ee("frjV4"),ee("kBTRJ"),ee("5OkF0"),ee("2wojH")}),et("frjV4",function(e,t){q(e.exports,"asap",()=>s);var n=ee("kBTRJ"),i=ee("5OkF0");let o=new n.AsapQueue,a=new i.TaskFactory(o.registerPendingError);function s(e){o.enqueueTask(a.create(e))}}),et("kBTRJ",function(e,t){q(e.exports,"AsapQueue",()=>i);var n=ee("6VpCk");class i{enqueueTask(e){let{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=(0,n.makeRequestCall)(this.flush),this.requestErrorThrow=(0,n.makeRequestCallFromTimer)(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}}),et("6VpCk",function(e,t){q(e.exports,"makeRequestCallFromTimer",()=>o),q(e.exports,"makeRequestCall",()=>a);let n=void 0!==X?X:self,i=n.MutationObserver||n.WebKitMutationObserver;function o(e){return function(){let t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}let a="function"==typeof i?function(e){let t=1,n=new i(e),o=document.createTextNode("");return n.observe(o,{characterData:!0}),function(){t=-t,o.data=t}}:o}),et("5OkF0",function(e,t){q(e.exports,"TaskFactory",()=>i);var n=ee("aCO0j");class i{create(e){let t=this.freeTasks,i=t.length?t.pop():new n.RawTask(this.onError,e=>t[t.length]=e);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}}),et("aCO0j",function(e,t){q(e.exports,"RawTask",()=>n);class n{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}}),et("2wojH",function(e,t){}),et("6rUH2",function(e,t){q(e.exports,"ADD_SOURCE",()=>n),q(e.exports,"ADD_TARGET",()=>i),q(e.exports,"REMOVE_SOURCE",()=>o),q(e.exports,"REMOVE_TARGET",()=>a),q(e.exports,"addSource",()=>s),q(e.exports,"addTarget",()=>l),q(e.exports,"removeSource",()=>u),q(e.exports,"removeTarget",()=>c);let n="dnd-core/ADD_SOURCE",i="dnd-core/ADD_TARGET",o="dnd-core/REMOVE_SOURCE",a="dnd-core/REMOVE_TARGET";function s(e){return{type:n,payload:{sourceId:e}}}function l(e){return{type:i,payload:{targetId:e}}}function u(e){return{type:o,payload:{sourceId:e}}}function c(e){return{type:a,payload:{targetId:e}}}}),et("e8NIj",function(e,t){q(e.exports,"validateSourceContract",()=>i),q(e.exports,"validateTargetContract",()=>o),q(e.exports,"validateType",()=>function e(t,i){if(i&&Array.isArray(t)){t.forEach(t=>e(t,!1));return}(0,n.invariant)("string"==typeof t||"symbol"==typeof t,i?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")});var n=ee("8hcSx");function i(e){(0,n.invariant)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,n.invariant)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,n.invariant)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function o(e){(0,n.invariant)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,n.invariant)("function"==typeof e.hover,"Expected hover to be a function."),(0,n.invariant)("function"==typeof e.drop,"Expected beginDrag to be a function.")}}),et("hswQq",function(e,t){var n,i;q(e.exports,"HandlerRole",()=>n),(i=n||(n={})).SOURCE="SOURCE",i.TARGET="TARGET"}),et("fjKfE",function(e,t){q(e.exports,"getNextUniqueId",()=>i);let n=0;function i(){return n++}}),et("jf2Jd",function(e,t){q(e.exports,"reduce",()=>u);var n=ee("7VQ0r"),i=ee("gEtMO"),o=ee("6WgZD"),a=ee("W436i"),s=ee("1KOU0"),l=ee("ai55T");function u(e={},t){return{dirtyHandlerIds:(0,i.reduce)(e.dirtyHandlerIds,{type:t.type,payload:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},t.payload,{prevTargetIds:(0,n.get)(e,"dragOperation.targetIds",[])})}),dragOffset:(0,o.reduce)(e.dragOffset,t),refCount:(0,s.reduce)(e.refCount,t),dragOperation:(0,a.reduce)(e.dragOperation,t),stateId:(0,l.reduce)(e.stateId)}}}),et("gEtMO",function(e,t){q(e.exports,"reduce",()=>l);var n=ee("9a6tD"),i=ee("6rUH2"),o=ee("9meCS"),a=ee("iWkQS"),s=ee("7VQ0r");function l(e=o.NONE,t){switch(t.type){case n.HOVER:break;case i.ADD_SOURCE:case i.ADD_TARGET:case i.REMOVE_TARGET:case i.REMOVE_SOURCE:return o.NONE;case n.BEGIN_DRAG:case n.PUBLISH_DRAG_SOURCE:case n.END_DRAG:case n.DROP:default:return o.ALL}let{targetIds:u=[],prevTargetIds:c=[]}=t.payload,d=(0,s.xor)(u,c);if(!(d.length>0||!(0,a.areArraysEqual)(u,c)))return o.NONE;let p=c[c.length-1],h=u[u.length-1];return p!==h&&(p&&d.push(p),h&&d.push(h)),d}}),et("iWkQS",function(e,t){q(e.exports,"areCoordsEqual",()=>i),q(e.exports,"areArraysEqual",()=>o);let n=(e,t)=>e===t;function i(e,t){return!e&&!t||!!e&&!!t&&e.x===t.x&&e.y===t.y}function o(e,t,i=n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!i(e[n],t[n]))return!1;return!0}}),et("6WgZD",function(e,t){q(e.exports,"reduce",()=>a);var n=ee("9a6tD"),i=ee("iWkQS");let o={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function a(e=o,t){let{payload:s}=t;switch(t.type){case n.INIT_COORDS:case n.BEGIN_DRAG:return{initialSourceClientOffset:s.sourceClientOffset,initialClientOffset:s.clientOffset,clientOffset:s.clientOffset};case n.HOVER:if((0,i.areCoordsEqual)(e.clientOffset,s.clientOffset))return e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}({},e,{clientOffset:s.clientOffset});case n.END_DRAG:case n.DROP:return o;default:return e}}}),et("W436i",function(e,t){q(e.exports,"reduce",()=>l);var n=ee("9a6tD"),i=ee("6rUH2"),o=ee("7VQ0r");function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}let s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function l(e=s,t){let{payload:u}=t;switch(t.type){case n.BEGIN_DRAG:return a({},e,{itemType:u.itemType,item:u.item,sourceId:u.sourceId,isSourcePublic:u.isSourcePublic,dropResult:null,didDrop:!1});case n.PUBLISH_DRAG_SOURCE:return a({},e,{isSourcePublic:!0});case n.HOVER:return a({},e,{targetIds:u.targetIds});case i.REMOVE_TARGET:if(-1===e.targetIds.indexOf(u.targetId))return e;return a({},e,{targetIds:(0,o.without)(e.targetIds,u.targetId)});case n.DROP:return a({},e,{dropResult:u.dropResult,didDrop:!0,targetIds:[]});case n.END_DRAG:return a({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}}),et("1KOU0",function(e,t){q(e.exports,"reduce",()=>i);var n=ee("6rUH2");function i(e=0,t){switch(t.type){case n.ADD_SOURCE:case n.ADD_TARGET:return e+1;case n.REMOVE_SOURCE:case n.REMOVE_TARGET:return e-1;default:return e}}}),et("ai55T",function(e,t){q(e.exports,"reduce",()=>n);function n(e=0){return e+1}}),et("9Ceg5",function(e,t){q(e.exports,"MultiBackend",()=>x),q(e.exports,"TouchTransition",()=>_),q(e.exports,"PointerTransition",()=>E);var n,i=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},o=(e,t,n)=>(i(e,t,"read from private field"),n?n.call(e):t.get(e)),a=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},s=(e,t,n,o)=>(i(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),l=class{constructor(){a(this,n,void 0),this.register=e=>{o(this,n).push(e)},this.unregister=e=>{let t;for(;-1!==(t=o(this,n).indexOf(e));)o(this,n).splice(t,1)},this.backendChanged=e=>{for(let t of o(this,n))t.backendChanged(e)},s(this,n,[])}};n=new WeakMap;var u,c,d,p,h,f,g,m,v,y,b,w=class e{constructor(t,n,i){if(a(this,u,void 0),a(this,c,void 0),a(this,d,void 0),a(this,p,void 0),a(this,h,void 0),a(this,f,(e,t,n)=>{if(!n.backend)throw Error(`You must specify a 'backend' property in your Backend entry: ${JSON.stringify(n)}`);let i=n.backend(e,t,n.options),a=n.id,s=!n.id&&i&&i.constructor;if(s&&(a=i.constructor.name),a)s&&console.warn(`Deprecation notice: You are using a pipeline which doesn't include backends' 'id'.
        This might be unsupported in the future, please specify 'id' explicitely for every backend.`);else throw Error(`You must specify an 'id' property in your Backend entry: ${JSON.stringify(n)}
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-5xx`);if(o(this,d)[a])throw Error(`You must specify a unique 'id' property in your Backend entry:
        ${JSON.stringify(n)} (conflicts with: ${JSON.stringify(o(this,d)[a])})`);return{id:a,instance:i,preview:n.preview??!1,transition:n.transition,skipDispatchOnTransition:n.skipDispatchOnTransition??!1}}),this.setup=()=>{if(!(typeof window>"u")){if(e.isSetUp)throw Error("Cannot have two MultiBackends at the same time.");e.isSetUp=!0,o(this,g).call(this,window),o(this,d)[o(this,u)].instance.setup()}},this.teardown=()=>{typeof window>"u"||(e.isSetUp=!1,o(this,m).call(this,window),o(this,d)[o(this,u)].instance.teardown())},this.connectDragSource=(e,t,n)=>o(this,b).call(this,"connectDragSource",e,t,n),this.connectDragPreview=(e,t,n)=>o(this,b).call(this,"connectDragPreview",e,t,n),this.connectDropTarget=(e,t,n)=>o(this,b).call(this,"connectDropTarget",e,t,n),this.profile=()=>o(this,d)[o(this,u)].instance.profile(),this.previewEnabled=()=>o(this,d)[o(this,u)].preview,this.previewsList=()=>o(this,c),this.backendsList=()=>o(this,p),a(this,g,e=>{o(this,p).forEach(t=>{t.transition&&e.addEventListener(t.transition.event,o(this,v))})}),a(this,m,e=>{o(this,p).forEach(t=>{t.transition&&e.removeEventListener(t.transition.event,o(this,v))})}),a(this,v,e=>{let t=o(this,u);if(o(this,p).some(t=>!!(t.id!==o(this,u)&&t.transition&&t.transition.check(e))&&(s(this,u,t.id),!0)),o(this,u)!==t){o(this,d)[t].instance.teardown(),Object.keys(o(this,h)).forEach(e=>{let t=o(this,h)[e];t.unsubscribe(),t.unsubscribe=o(this,y).call(this,t.func,...t.args)}),o(this,c).backendChanged(this);let n=o(this,d)[o(this,u)];if(n.instance.setup(),n.skipDispatchOnTransition)return;let i=new e.constructor(e.type,e);e.target?.dispatchEvent(i)}}),a(this,y,(e,t,n,i)=>o(this,d)[o(this,u)].instance[e](t,n,i)),a(this,b,(e,t,n,i)=>{let a=`${e}_${t}`,s=o(this,y).call(this,e,t,n,i);return o(this,h)[a]={func:e,args:[t,n,i],unsubscribe:s},()=>{o(this,h)[a].unsubscribe(),delete o(this,h)[a]}}),!i||!i.backends||i.backends.length<1)throw Error(`You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)
        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx`);s(this,c,new l),s(this,d,{}),s(this,p,[]),i.backends.forEach(e=>{let i=o(this,f).call(this,t,n,e);o(this,d)[i.id]=i,o(this,p).push(i)}),s(this,u,o(this,p)[0].id),s(this,h,{})}};u=new WeakMap,c=new WeakMap,d=new WeakMap,p=new WeakMap,h=new WeakMap,f=new WeakMap,g=new WeakMap,m=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w.isSetUp=!1;var x=(e,t,n)=>new w(e,t,n),S=(e,t)=>({event:e,check:t}),_=S("touchstart",e=>null!==e.touches&&void 0!==e.touches),E=(S("dragstart",e=>-1!==e.type.indexOf("drag")||-1!==e.type.indexOf("drop")),S("mousedown",e=>-1===e.type.indexOf("touch")&&-1!==e.type.indexOf("mouse")),S("pointerdown",e=>"mouse"==e.pointerType))}),et("kHjEE",function(e,t){q(e.exports,"HTML5toTouch",()=>a);var n=ee("6Qj4s"),i=ee("b7Gkc"),o=ee("9Ceg5"),a={backends:[{id:"html5",backend:n.HTML5Backend,transition:o.PointerTransition},{id:"touch",backend:i.TouchBackend,options:{enableMouseEvents:!0},preview:!0,transition:o.TouchTransition}]}}),et("6Qj4s",function(e,t){q(e.exports,"HTML5Backend",()=>i);var n=ee("91sRb");ee("9jCqf");let i=function(e,t,i){return new n.HTML5BackendImpl(e,t,i)}}),et("91sRb",function(e,t){q(e.exports,"HTML5BackendImpl",()=>u);var n=ee("l3y4M"),i=ee("5tRGQ"),o=ee("9jCqf"),a=ee("h4Dx8"),s=ee("rtUeg");function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return e}class u{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);let i=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){let n=t=>this.handleDragEnter(t,e),i=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",i),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return l({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId();return l({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(o).some(t=>o[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=(0,i.createNativeDragSource)(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,o){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&(0,a.getNodeClientOffset)(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>!!(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{let e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;let{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;let n=(0,a.getEventClientOffset)(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});let{dataTransfer:o}=e,s=(0,i.matchNativeItemType)(o);if(this.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){let e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){let{anchorX:e,anchorY:s,offsetX:l,offsetY:u}=this.getCurrentSourcePreviewNodeOptions(),c=(0,a.getDragPreviewOffset)(t,i,n,{anchorX:e,anchorY:s},{offsetX:l,offsetY:u});o.setDragImage(i,c.x,c.y)}}try{null==o||o.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);let{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(s)this.beginDragNativeItem(s);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;let{dataTransfer:n}=e,o=(0,i.matchNativeItemType)(n);o&&this.beginDragNativeItem(o,n)},this.handleTopDragEnter=e=>{let{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:(0,a.getEventClientOffset)(e)}),t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var t;null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}},this.handleTopDragOver=e=>{let{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}this.altKeyPressed=e.altKey,this.lastClientOffset=(0,a.getEventClientOffset)(e),this.scheduleHover(t),(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else(0,i.matchNativeItemType)(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{let{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,a.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{let t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new s.OptionsReader(t,o),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new n.EnterLeaveCounter(this.isNodeInDocument)}}}),et("l3y4M",function(e,t){q(e.exports,"EnterLeaveCounter",()=>i);var n=ee("bHHzz");class i{enter(e){let t=this.entered.length;return this.entered=(0,n.union)(this.entered.filter(t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e))),[e]),0===t&&this.entered.length>0}leave(e){let t=this.entered.length;return this.entered=(0,n.without)(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}}),et("bHHzz",function(e,t){function n(e){let t=null;return()=>(null==t&&(t=e()),t)}function i(e,t){return e.filter(e=>e!==t)}function o(e,t){let n=new Set,i=e=>n.add(e);e.forEach(i),t.forEach(i);let o=[];return n.forEach(e=>o.push(e)),o}q(e.exports,"memoize",()=>n),q(e.exports,"without",()=>i),q(e.exports,"union",()=>o)}),et("5tRGQ",function(e,t){q(e.exports,"createNativeDragSource",()=>o),q(e.exports,"matchNativeItemType",()=>a);var n=ee("5S49N"),i=ee("d4VKq");function o(e,t){let o=i.nativeTypesConfig[e];if(!o)throw Error(`native type ${e} has no configuration`);let a=new n.NativeDragSource(o);return a.loadDataTransfer(t),a}function a(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(i.nativeTypesConfig).filter(e=>{let n=i.nativeTypesConfig[e];return null!=n&&!!n.matchesTypes&&n.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}}),et("5S49N",function(e,t){q(e.exports,"NativeDragSource",()=>n);class n{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(n=>{let i=this.config.exposeProperties[n];null!=i&&(t[n]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}}),et("d4VKq",function(e,t){q(e.exports,"nativeTypesConfig",()=>o);var n=ee("9jCqf"),i=ee("fxA6G");let o={[n.FILE]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[n.HTML]:{exposeProperties:{html:(e,t)=>(0,i.getDataFromDataTransfer)(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[n.URL]:{exposeProperties:{urls:(e,t)=>(0,i.getDataFromDataTransfer)(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[n.TEXT]:{exposeProperties:{text:(e,t)=>(0,i.getDataFromDataTransfer)(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}}}),et("9jCqf",function(e,t){q(e.exports,"FILE",()=>n),q(e.exports,"URL",()=>i),q(e.exports,"TEXT",()=>o),q(e.exports,"HTML",()=>a);let n="__NATIVE_FILE__",i="__NATIVE_URL__",o="__NATIVE_TEXT__",a="__NATIVE_HTML__"}),et("fxA6G",function(e,t){q(e.exports,"getDataFromDataTransfer",()=>n);function n(e,t,n){let i=t.reduce((t,n)=>t||e.getData(n),"");return null!=i?i:n}}),et("h4Dx8",function(e,t){q(e.exports,"getNodeClientOffset",()=>o),q(e.exports,"getEventClientOffset",()=>a),q(e.exports,"getDragPreviewOffset",()=>s);var n=ee("iSb1M"),i=ee("7KXjh");function o(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:n,left:i}=t.getBoundingClientRect();return{x:i,y:n}}function a(e){return{x:e.clientX,y:e.clientY}}function s(e,t,a,s,l){var u;let c,d,p;let h="IMG"===t.nodeName&&((0,n.isFirefox)()||!(null===(u=document.documentElement)||void 0===u?void 0:u.contains(t))),f=o(h?e:t),g={x:a.x-f.x,y:a.y-f.y},{offsetWidth:m,offsetHeight:v}=e,{anchorX:y,anchorY:b}=s,{dragPreviewWidth:w,dragPreviewHeight:x}=(c=h?t.width:m,d=h?t.height:v,(0,n.isSafari)()&&h&&(d/=window.devicePixelRatio,c/=window.devicePixelRatio),{dragPreviewWidth:c,dragPreviewHeight:d}),{offsetX:S,offsetY:_}=l;return{x:0===S||S?S:new i.MonotonicInterpolant([0,.5,1],[g.x,g.x/m*w,g.x+w-m]).interpolate(y),y:0===_||_?_:(p=new i.MonotonicInterpolant([0,.5,1],[g.y,g.y/v*x,g.y+x-v]).interpolate(b),(0,n.isSafari)()&&h&&(p+=(window.devicePixelRatio-1)*x),p)}}}),et("iSb1M",function(e,t){q(e.exports,"isFirefox",()=>i),q(e.exports,"isSafari",()=>o);var n=ee("bHHzz");let i=(0,n.memoize)(()=>/firefox/i.test(navigator.userAgent)),o=(0,n.memoize)(()=>!!window.safari)}),et("7KXjh",function(e,t){q(e.exports,"MonotonicInterpolant",()=>n);class n{interpolate(e){let t;let{xs:n,ys:i,c1s:o,c2s:a,c3s:s}=this,l=n.length-1;if(e===n[l])return i[l];let u=0,c=s.length-1;for(;u<=c;){let o=n[t=Math.floor(.5*(u+c))];if(o<e)u=t+1;else{if(!(o>e))return i[t];c=t-1}}let d=e-n[l=Math.max(0,c)],p=d*d;return i[l]+o[l]*d+a[l]*p+s[l]*d*p}constructor(e,t){let n,i,o;let{length:a}=e,s=[];for(let e=0;e<a;e++)s.push(e);s.sort((t,n)=>e[t]<e[n]?-1:1);let l=[],u=[],c=[];for(let o=0;o<a-1;o++)n=e[o+1]-e[o],i=t[o+1]-t[o],u.push(n),l.push(i),c.push(i/n);let d=[c[0]];for(let e=0;e<u.length-1;e++){let t=c[e],i=c[e+1];if(t*i<=0)d.push(0);else{n=u[e];let o=u[e+1],a=n+o;d.push(3*a/((a+o)/t+(a+n)/i))}}d.push(c[c.length-1]);let p=[],h=[];for(let e=0;e<d.length-1;e++){o=c[e];let t=d[e],n=1/u[e],i=t+d[e+1]-o-o;p.push((o-t-i)*n),h.push(i*n*n)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=p,this.c3s=h}}}),et("rtUeg",function(e,t){q(e.exports,"OptionsReader",()=>n);class n{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}}),et("b7Gkc",function(e,t){q(e.exports,"TouchBackend",()=>i);var n=ee("b0aRm");let i=function(e,t={},i={}){return new n.TouchBackendImpl(e,t,i)}}),et("b0aRm",function(e,t){q(e.exports,"TouchBackendImpl",()=>d);var n=ee("8hcSx"),i=ee("g3vBo"),o=ee("2OdUm"),a=ee("8B5DK"),s=ee("5f9ie"),l=ee("2O85v"),u=ee("gVMFS");let c={[i.ListenerType.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[i.ListenerType.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[i.ListenerType.keyboard]:{keydown:"keydown"}};class d{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}get document(){return this.options.document}setup(){let e=this.options.rootElement;e&&((0,n.invariant)(!d.isSetUp,"Cannot have two Touch backends at the same time."),d.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){let e=this.options.rootElement;e&&(d.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,n,i=!1){let o=u.supportsPassive?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(i){let a=c[i][t];a&&e.addEventListener(a,n,o)})}removeEventListener(e,t,n,i=!1){let o=u.supportsPassive?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(i){let a=c[i][t];a&&e.removeEventListener(a,n,o)})}connectDragSource(e,t){let n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",n),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",n)}}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){let n=this.options.rootElement;if(!this.document||!n)return()=>{};let i=i=>{let o;if(!this.document||!n||!this.monitor.isDragging())return;switch(i.type){case c.mouse.move:o={x:i.clientX,y:i.clientY};break;case c.touch.move:var a,s;o={x:(null===(a=i.touches[0])||void 0===a?void 0:a.clientX)||0,y:(null===(s=i.touches[0])||void 0===s?void 0:s.clientY)||0}}let l=null!=o?this.document.elementFromPoint(o.x,o.y):void 0,u=l&&t.contains(l);if(l===t||u)return this.handleMove(i,e)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,n){this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&(0,s.getNodeClientOffset)(t)},this.handleTopMoveStartCapture=e=>{(0,l.eventShouldStartDrag)(e)&&(this.moveStartSourceIds=[])},this.handleMoveStart=e=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=e=>{if(!(0,l.eventShouldStartDrag)(e))return;let t=(0,s.getEventClientOffset)(e);t&&((0,l.isTouchEvent)(e)&&(this.lastTargetTouchFallback=e.targetTouches[0]),this._mouseClientOffset=t),this.waitingForDelay=!1},this.handleTopMoveStartDelay=e=>{if(!(0,l.eventShouldStartDrag)(e))return;let t=e.type===c.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,e),t),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(e,t)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(t)},this.handleTopMove=e=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;let{moveStartSourceIds:t,dragOverTargetIds:n}=this,i=this.options.enableHoverOutsideTarget,o=(0,s.getEventClientOffset)(e,this.lastTargetTouchFallback);if(!o)return;if(this._isScrolling||!this.monitor.isDragging()&&(0,a.inAngleRanges)(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&t&&(0,a.distance)(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(t,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;let l=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(l),this.actions.publishDragSource(),e.cancelable&&e.preventDefault();let u=(n||[]).map(e=>this.targetNodes.get(e)).filter(e=>!!e),c=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(o.x,o.y,u):this.document.elementsFromPoint(o.x,o.y),d=[];for(let e in c){if(!c.hasOwnProperty(e))continue;let t=c[e];for(null!=t&&d.push(t);t;)(t=t.parentElement)&&-1===d.indexOf(t)&&d.push(t)}let p=d.filter(e=>u.indexOf(e)>-1).map(e=>this._getDropTargetId(e)).filter(e=>!!e).filter((e,t,n)=>n.indexOf(e)===t);if(i)for(let e in this.targetNodes){let t=this.targetNodes.get(e);if(l&&t&&t.contains(l)&&-1===p.indexOf(e)){p.unshift(e);break}}p.reverse(),this.actions.hover(p,{clientOffset:o})},this._getDropTargetId=e=>{let t=this.targetNodes.keys(),n=t.next();for(;!1===n.done;){let i=n.value;if(e===this.targetNodes.get(i))return i;n=t.next()}},this.handleTopMoveEndCapture=e=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,(0,l.eventShouldEndDrag)(e)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}e.cancelable&&e.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=e=>{"Escape"===e.key&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new o.OptionsReader(n,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(i.ListenerType.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(i.ListenerType.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(i.ListenerType.keyboard)}}}),et("g3vBo",function(e,t){var n,i;q(e.exports,"ListenerType",()=>n),(i=n||(n={})).mouse="mouse",i.touch="touch",i.keyboard="keyboard"}),et("2OdUm",function(e,t){q(e.exports,"OptionsReader",()=>n);class n{get delay(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}get enableHoverOutsideTarget(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}get enableKeyboardEvents(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}get enableMouseEvents(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}get enableTouchEvents(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,n,i;return null!==(i=null!==(n=null===(e=this.args)||void 0===e?void 0:e.delayTouchStart)&&void 0!==n?n:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==i?i:0}get delayMouseStart(){var e,t,n,i;return null!==(i=null!==(n=null===(e=this.args)||void 0===e?void 0:e.delayMouseStart)&&void 0!==n?n:null===(t=this.args)||void 0===t?void 0:t.delay)&&void 0!==i?i:0}get window(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.context)||void 0===e?void 0:e.document)?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}}),et("8B5DK",function(e,t){function n(e,t,n,i){return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(i-t),2))}function i(e,t,n,i,o){if(!o)return!1;let a=180*Math.atan2(i-t,n-e)/Math.PI+180;for(let e=0;e<o.length;++e){let t=o[e];if(t&&(null==t.start||a>=t.start)&&(null==t.end||a<=t.end))return!0}return!1}q(e.exports,"distance",()=>n),q(e.exports,"inAngleRanges",()=>i)}),et("5f9ie",function(e,t){q(e.exports,"getNodeClientOffset",()=>i),q(e.exports,"getEventClientOffset",()=>function e(t,i){return(0,n.isTouchEvent)(t)?1===t.targetTouches.length?e(t.targetTouches[0]):i&&1===t.touches.length&&t.touches[0].target===i.target?e(t.touches[0]):void 0:{x:t.clientX,y:t.clientY}});var n=ee("2O85v");function i(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return;let{top:n,left:i}=t.getBoundingClientRect();return{x:i,y:n}}}),et("2O85v",function(e,t){q(e.exports,"eventShouldStartDrag",()=>o),q(e.exports,"eventShouldEndDrag",()=>a),q(e.exports,"isTouchEvent",()=>s);let n={Left:1},i={Left:0};function o(e){return void 0===e.button||e.button===i.Left}function a(e){return void 0===e.buttons||(e.buttons&n.Left)==0}function s(e){return!!e.targetTouches}}),et("gVMFS",function(e,t){q(e.exports,"supportsPassive",()=>n);let n=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get:()=>(e=!0,!0)}))}catch(e){}return e})()}),et("lciyA",function(e,t){q(e.exports,"default",()=>n);var n=/*#__PURE__*/(0,ee("dm060").createContext)()}),et("behWO",function(e,t){var n=ee("Gr8vk");e.exports=n("9mtvM").then(()=>ee("9VdvB"))}),et("Gr8vk",function(e,t){e.exports=function(e){return import(ee("27Lyk").resolve(e))}}),et("7T0C4",function(e,t){e.exports=function(e){return void 0===e}}),et("fwdPY",function(e,t){var n=ee("2hDUx"),i=ee("3GYFY");e.exports=function(e){return null==e?[]:n(e,i(e))}}),et("2hDUx",function(e,t){var n=ee("aVHp4");e.exports=function(e,t){return n(t,function(t){return e[t]})}}),et("94XG7",function(e,t){var n=ee("gxqh8"),i=ee("3GYFY");e.exports=function(e,t){return e&&n(t,i(t),e)}}),et("gxqh8",function(e,t){var n=ee("5qJ2F"),i=ee("5yn3z");e.exports=function(e,t,o,a){var s=!o;o||(o={});for(var l=-1,u=t.length;++l<u;){var c=t[l],d=a?a(o[c],e[c],c,o,e):void 0;void 0===d&&(d=e[c]),s?i(o,c,d):n(o,c,d)}return o}}),et("5jIZB",function(e,t){var n=ee("azsR2"),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}),et("bvDry",function(e,t){var n=ee("9PniA"),i=ee("70aNO"),o=ee("9VMKv");e.exports=function(e){return n(e,o,i)}}),et("70aNO",function(e,t){var n=ee("6YWRH"),i=ee("3dMon"),o=ee("bZQ6Q"),a=ee("7p11p"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,o(e)),e=i(e);return t}:a;e.exports=s}),et("3dMon",function(e,t){var n=ee("gPDSe")(Object.getPrototypeOf,Object);e.exports=n}),et("9VMKv",function(e,t){var n=ee("1KOpP"),i=ee("9rviI"),o=ee("kSosd");e.exports=function(e){return o(e)?n(e,!0):i(e)}}),et("9rviI",function(e,t){var n=ee("iGPgj"),i=ee("bCJWv"),o=ee("bx1q8"),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=i(e),s=[];for(var l in e)"constructor"==l&&(t||!a.call(e,l))||s.push(l);return s}}),et("bx1q8",function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}}),et("kuzVa",function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}}),et("kb53D",function(e,t){e.exports=function(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++i<o;)a[i]=e[i+t];return a}}),et("4tIku",function(e,t){e.exports={}}),et("lWG3z",function(e,t){var n=ee("6iN9N");e.exports=function(e,t,i){return t=i?void 0:t,t=e&&null==t?e.length:t,n(e,128,void 0,void 0,void 0,void 0,t)}}),et("cwSPa",function(e,t){var n=ee("dYx27");e.exports=function(e){return n(e,4)}}),et("dYx27",function(e,t){var n=ee("02Bbm"),i=ee("4eWWZ"),o=ee("5qJ2F"),a=ee("94XG7"),s=ee("aUsCu"),l=ee("5jIZB"),u=ee("dInwC"),c=ee("8PGiB"),d=ee("lf52e"),p=ee("a3P0Y"),h=ee("bvDry"),f=ee("lh9s1"),g=ee("lt518"),m=ee("7uDhI"),v=ee("eA0D8"),y=ee("1mNSP"),b=ee("kSGkO"),w=ee("dgVaT"),x=ee("iGPgj"),S=ee("e0FXP"),_=ee("3GYFY"),E=ee("9VMKv"),T="[object Arguments]",O="[object Function]",I="[object Object]",P={};P[T]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[O]=P["[object WeakMap]"]=!1,e.exports=function e(t,C,A,R,k,D){var N,M=1&C,L=2&C,j=4&C;if(A&&(N=k?A(t,R,k,D):A(t)),void 0!==N)return N;if(!x(t))return t;var F=y(t);if(F){if(N=g(t),!M)return u(t,N)}else{var B=f(t),z=B==O||"[object GeneratorFunction]"==B;if(b(t))return l(t,M);if(B==I||B==T||z&&!k){if(N=L||z?{}:v(t),!M)return L?d(t,s(N,t)):c(t,a(N,t))}else{if(!P[B])return k?t:{};N=m(t,B,M)}}D||(D=new n);var U=D.get(t);if(U)return U;D.set(t,N),S(t)?t.forEach(function(n){N.add(e(n,C,A,n,t,D))}):w(t)&&t.forEach(function(n,i){N.set(i,e(n,C,A,i,t,D))});var W=j?L?h:p:L?E:_,H=F?void 0:W(t);return i(H||t,function(n,i){H&&(n=t[i=n]),o(N,i,e(n,C,A,i,t,D))}),N}}),et("aUsCu",function(e,t){var n=ee("gxqh8"),i=ee("9VMKv");e.exports=function(e,t){return e&&n(t,i(t),e)}}),et("8PGiB",function(e,t){var n=ee("gxqh8"),i=ee("bZQ6Q");e.exports=function(e,t){return n(e,i(e),t)}}),et("lf52e",function(e,t){var n=ee("gxqh8"),i=ee("70aNO");e.exports=function(e,t){return n(e,i(e),t)}}),et("lt518",function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}}),et("7uDhI",function(e,t){var n=ee("dtq88"),i=ee("1zWZ0"),o=ee("3d3PN"),a=ee("4aAla"),s=ee("9LNRF");e.exports=function(e,t,l){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,l);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,l);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}}),et("dtq88",function(e,t){var n=ee("9NMLA");e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}}),et("1zWZ0",function(e,t){var n=ee("dtq88");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}}),et("3d3PN",function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}}),et("4aAla",function(e,t){var n=ee("653sB"),i=n?n.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}}),et("9LNRF",function(e,t){var n=ee("dtq88");e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}}),et("eA0D8",function(e,t){var n=ee("6nSJO"),i=ee("3dMon"),o=ee("bCJWv");e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(i(e))}}),et("dgVaT",function(e,t){var n=ee("995bq"),i=ee("2grBP"),o=ee("faScu"),a=o&&o.isMap,s=a?i(a):n;e.exports=s}),et("995bq",function(e,t){var n=ee("lh9s1"),i=ee("fpZyM");e.exports=function(e){return i(e)&&"[object Map]"==n(e)}}),et("e0FXP",function(e,t){var n=ee("9qemL"),i=ee("2grBP"),o=ee("faScu"),a=o&&o.isSet,s=a?i(a):n;e.exports=s}),et("9qemL",function(e,t){var n=ee("lh9s1"),i=ee("fpZyM");e.exports=function(e){return i(e)&&"[object Set]"==n(e)}}),et("d7xay",function(e,t){var n=ee("hmGiX"),i=ee("fpZyM"),o=ee("cqF7M");e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}}),et("cqF7M",function(e,t){var n=ee("hmGiX"),i=ee("3dMon"),o=ee("fpZyM"),a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,u=s.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var a=l.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==u}}),et("bSE29",function(e,t){var n=ee("lh9s1"),i=ee("fpZyM");e.exports=function(e){return i(e)&&"[object WeakMap]"==n(e)}}),et("jwwMI",function(e,t){var n=ee("dYx27"),i=ee("fntae");e.exports=function(e){return i("function"==typeof e?e:n(e,1))}}),et("PwAvu",function(e,t){var n=ee("6iN9N"),i=ee("f7yR9")(function(e,t){return n(e,256,void 0,void 0,void 0,t)});e.exports=i}),et("f7yR9",function(e,t){var n=ee("dPHLq"),i=ee("5Zpfe"),o=ee("702vK");e.exports=function(e){return o(i(e,void 0,n),e+"")}}),et("EJFAr",function(e,t){var n=ee("aVHp4"),i=ee("dInwC"),o=ee("1mNSP"),a=ee("bS7h5"),s=ee("8uXPx"),l=ee("1N7wp"),u=ee("j40El");e.exports=function(e){return o(e)?n(e,l):a(e)?[e]:i(s(u(e)))}}),et("67n9I",function(e,t){var n=ee("ecuCb");e.exports=function(e,t,i){return null==e?e:n(e,t,i)}}),et("ihY0c",function(e,t){q(e.exports,"getAuthProfiles",()=>f),q(e.exports,"getAccessTokens",()=>g),q(e.exports,"getAuth",()=>m),q(e.exports,"selectCurrentAuthServices",()=>v);var n=ee("9Fw2L"),i=ee("cyP9O"),o=ee("dPHLq"),a=ee("3h31Z"),s=ee("5h5fP"),l=ee("8uJ99"),u=ee("hJg9G");function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,n.createSelector)([l.getConfig],function(e){var t=e.auth,n=(void 0===t?{}:t).serviceProfiles;return void 0===n?[]:n}),g=function(e){return(0,s.miradorSlice)(e).accessTokens||{}},m=function(e){return(0,s.miradorSlice)(e).auth||{}},v=(0,n.createSelector)([u.getVisibleCanvases,u.selectInfoResponses,f,m,function(e,t){return t.iiifResources}],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=l;return(!u&&e&&(u=/*@__PURE__*/Y(o)(e.map(function(e){return new a.default(e).iiifImageResources.map(function(e){var n=e.getServices()[0],i=t[n.id];return i&&i.json?h(h({},i.json),{},{options:{}}):n})}))),u&&0!==u.length)?Object.values(u.map(function(e){var t,o,a,l=(0,i.Utils).getServices(e),u=c(n);try{for(u.s();!(a=u.n()).done;)if(t=function(){var e,t=a.value,n=l.filter(function(e){return t.profile===e.getProfile()}),i=c(n);try{for(i.s();!(e=i.n()).done;){var u=e.value;if(o=u,!s[u.id]||s[u.id].isFetching||s[u.id].ok)return{v:u}}}catch(e){i.e(e)}finally{i.f()}}())return t.v}catch(e){u.e(e)}finally{u.f()}return o}).reduce(function(e,t){return t&&!e[t.id]&&(e[t.id]=t),e},{})):[]})}),et("1b2ls",function(e,t){q(e.exports,"Fragment",()=>n,e=>n=e),q(e.exports,"jsx",()=>i,e=>i=e),q(e.exports,"jsxs",()=>o,e=>o=e);var n,i,o,a=ee("acw62"),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,n){var i,o={},a=null,l=null;for(i in void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,i)&&!d.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:s,type:e,key:a,ref:l,props:o,_owner:c.current}}n=l,i=p,o=p}),et("acw62",function(e,t){e.exports=ee("2pUnB")}),et("2pUnB",function(e,t){q(e.exports,"Children",()=>n,e=>n=e),q(e.exports,"Component",()=>i,e=>i=e),q(e.exports,"Fragment",()=>o,e=>o=e),q(e.exports,"Profiler",()=>a,e=>a=e),q(e.exports,"PureComponent",()=>s,e=>s=e),q(e.exports,"StrictMode",()=>l,e=>l=e),q(e.exports,"Suspense",()=>u,e=>u=e),q(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),q(e.exports,"act",()=>d,e=>d=e),q(e.exports,"cloneElement",()=>p,e=>p=e),q(e.exports,"createContext",()=>h,e=>h=e),q(e.exports,"createElement",()=>f,e=>f=e),q(e.exports,"createFactory",()=>g,e=>g=e),q(e.exports,"createRef",()=>m,e=>m=e),q(e.exports,"forwardRef",()=>v,e=>v=e),q(e.exports,"isValidElement",()=>y,e=>y=e),q(e.exports,"lazy",()=>b,e=>b=e),q(e.exports,"memo",()=>w,e=>w=e),q(e.exports,"startTransition",()=>x,e=>x=e),q(e.exports,"unstable_act",()=>S,e=>S=e),q(e.exports,"useCallback",()=>_,e=>_=e),q(e.exports,"useContext",()=>E,e=>E=e),q(e.exports,"useDebugValue",()=>T,e=>T=e),q(e.exports,"useDeferredValue",()=>O,e=>O=e),q(e.exports,"useEffect",()=>I,e=>I=e),q(e.exports,"useId",()=>P,e=>P=e),q(e.exports,"useImperativeHandle",()=>C,e=>C=e),q(e.exports,"useInsertionEffect",()=>A,e=>A=e),q(e.exports,"useLayoutEffect",()=>R,e=>R=e),q(e.exports,"useMemo",()=>k,e=>k=e),q(e.exports,"useReducer",()=>D,e=>D=e),q(e.exports,"useRef",()=>N,e=>N=e),q(e.exports,"useState",()=>M,e=>M=e),q(e.exports,"useSyncExternalStore",()=>L,e=>L=e),q(e.exports,"useTransition",()=>j,e=>j=e),q(e.exports,"version",()=>F,e=>F=e);var n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R,k,D,N,M,L,j,F,B=Symbol.for("react.element"),z=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.iterator,J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,ee={};function et(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}function er(){}function en(e,t,n){this.props=e,this.context=t,this.refs=ee,this.updater=n||J}et.prototype.isReactComponent={},et.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},et.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},er.prototype=et.prototype;var ei=en.prototype=new er;ei.constructor=en,Q(ei,et.prototype),ei.isPureReactComponent=!0;var eo=Array.isArray,ea=Object.prototype.hasOwnProperty,es={current:null},el={key:!0,ref:!0,__self:!0,__source:!0};function eu(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)ea.call(t,i)&&!el.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:B,type:e,key:a,ref:s,props:o,_owner:es.current}}function ec(e){return"object"==typeof e&&null!==e&&e.$$typeof===B}var ed=/\/+/g;function ep(e,t){var n,i;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,i={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return i[e]})):t.toString(36)}function eh(e,t,n){if(null==e)return e;var i=[],o=0;return function e(t,n,i,o,a){var s,l,u,c=typeof t;("undefined"===c||"boolean"===c)&&(t=null);var d=!1;if(null===t)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case B:case z:d=!0}}if(d)return a=a(d=t),t=""===o?"."+ep(d,0):o,eo(a)?(i="",null!=t&&(i=t.replace(ed,"$&/")+"/"),e(a,n,i,"",function(e){return e})):null!=a&&(ec(a)&&(s=a,l=i+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(ed,"$&/")+"/")+t,a={$$typeof:B,type:s.type,key:l,ref:s.ref,props:s.props,_owner:s._owner}),n.push(a)),1;if(d=0,o=""===o?".":o+":",eo(t))for(var p=0;p<t.length;p++){var h=o+ep(c=t[p],p);d+=e(c,n,i,h,a)}else if("function"==typeof(h=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=Z&&u[Z]||u["@@iterator"])?u:null))for(t=h.call(t),p=0;!(c=t.next()).done;)h=o+ep(c=c.value,p++),d+=e(c,n,i,h,a);else if("object"===c)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return d}(e,i,"","",function(e){return t.call(n,e,o++)}),i}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var eg={current:null},em={transition:null};function ev(){throw Error("act(...) is not supported in production builds of React.")}n={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(e){return e})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},i=et,o=U,a=H,s=en,l=W,u=X,c={ReactCurrentDispatcher:eg,ReactCurrentBatchConfig:em,ReactCurrentOwner:es},d=ev,p=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Q({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=es.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)ea.call(t,u)&&!el.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:B,type:e.type,key:o,ref:a,props:i,_owner:s}},h=function(e){return(e={$$typeof:G,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:V,_context:e},e.Consumer=e},f=eu,g=function(e){var t=eu.bind(null,e);return t.type=e,t},m=function(){return{current:null}},v=function(e){return{$$typeof:$,render:e}},y=ec,b=function(e){return{$$typeof:K,_payload:{_status:-1,_result:e},_init:ef}},w=function(e,t){return{$$typeof:Y,type:e,compare:void 0===t?null:t}},x=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},S=ev,_=function(e,t){return eg.current.useCallback(e,t)},E=function(e){return eg.current.useContext(e)},T=function(){},O=function(e){return eg.current.useDeferredValue(e)},I=function(e,t){return eg.current.useEffect(e,t)},P=function(){return eg.current.useId()},C=function(e,t,n){return eg.current.useImperativeHandle(e,t,n)},A=function(e,t){return eg.current.useInsertionEffect(e,t)},R=function(e,t){return eg.current.useLayoutEffect(e,t)},k=function(e,t){return eg.current.useMemo(e,t)},D=function(e,t,n){return eg.current.useReducer(e,t,n)},N=function(e){return eg.current.useRef(e)},M=function(e){return eg.current.useState(e)},L=function(e,t,n){return eg.current.useSyncExternalStore(e,t,n)},j=function(){return eg.current.useTransition()},F="18.3.1"});var er=ee("lfr5Y");uA=er.createRoot,er.hydrateRoot;var en=ee("bEWqL"),ei=(ee("dm060"),ee("dm060")),eo=ee("2yw8u"),ea=ee("4H1G7"),en=ee("bEWqL"),es=ee("fTOjY");function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ec(e){return function(e){if(Array.isArray(e))return ed(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ed(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ep=ee("9L45J");function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function ef(e){var t,n=e.plugins,i=void 0===n?[]:n,o=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,ei.useState)({}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{for(a=(n=n.call(e)).next;!(u=(i=a.call(n)).done)&&(l.push(i.value),2!==l.length);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eh(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=a[0],l=a[1];return(0,ei.useEffect)(function(){var e=i.map(function(e){return eu(eu({},e),{},{component:e.mapStateToProps||e.mapDispatchToProps?(0,en.connect).apply(void 0,[e.mapStateToProps,e.mapDispatchToProps].concat(ec(e.connectOptions||[])))(e.component):e.component})});e.filter(function(e){return e.companionWindowKey}).forEach(function(e){es.default[e.companionWindowKey]=e.component}),es.default,l(e.reduce(function(e,t){return /*@__PURE__*/Y(ea)(e,[t.target,t.mode],function(e){return[].concat(ec(e||[]),[t])})},{}))},[i]),/*#__PURE__*/(0,ep.jsx)(eo.default.Provider,{value:s,children:void 0===o?null:o})}var eg=ee("1l9KS"),en=ee("bEWqL"),em=ee("lqD1Z"),ev=ee("8uJ99"),ei=(ee("dm060"),ee("dm060")),ey={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},eb=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],ew=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],ex=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],eS="undefined"!=typeof window&&void 0!==window.document?window.document:{},e_="fullscreenEnabled"in eS&&Object.keys(ey)||eb[0]in eS&&eb||ew[0]in eS&&ew||ex[0]in eS&&ex||[],eE={requestFullscreen:function(e){return e[e_[ey.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[e_[ey.requestFullscreen]]},get exitFullscreen(){return eS[e_[ey.exitFullscreen]].bind(eS)},get fullscreenPseudoClass(){return":"+e_[ey.fullscreen]},addEventListener:function(e,t,n){return eS.addEventListener(e_[ey[e]],t,n)},removeEventListener:function(e,t,n){return eS.removeEventListener(e_[ey[e]],t,n)},get fullscreenEnabled(){return!!eS[e_[ey.fullscreenEnabled]]},set fullscreenEnabled(val){},get fullscreenElement(){return eS[e_[ey.fullscreenElement]]},set fullscreenElement(val){},get onfullscreenchange(){return eS[("on"+e_[ey.fullscreenchange]).toLowerCase()]},set onfullscreenchange(handler){return eS[("on"+e_[ey.fullscreenchange]).toLowerCase()]=handler},get onfullscreenerror(){return eS[("on"+e_[ey.fullscreenerror]).toLowerCase()]},set onfullscreenerror(handler){return eS[("on"+e_[ey.fullscreenerror]).toLowerCase()]=handler}},eT=function(e){var t=e.handle,n=e.onChange,i=e.children,o=e.className,a=[];return o&&a.push(o),a.push("fullscreen"),t.active&&a.push("fullscreen-enabled"),(0,ei.useEffect)(function(){n&&n(t.active,t)},[t.active]),/*@__PURE__*/Y(ei).createElement("div",{className:a.join(" "),ref:t.node,style:t.active?{height:"100%",width:"100%"}:void 0},i)};ee("2IInF");var eO=ee("i8poc"),eI=ee("jyNCQ"),eP=ee("27cHL"),eC=ee("5XyNA"),eA=ee("u6U9p");ee("dm060");var eC=ee("5XyNA"),ei=ee("dm060"),eC=ee("5XyNA"),ei=(ee("dm060"),ee("dm060"));const eR=/*#__PURE__*/ei.createContext(null);var ei=ee("dm060");function ek(){return ei.useContext(eR)}var eD="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",ep=ee("9L45J"),eN=function(e){let{children:t,theme:n}=e,i=ek(),o=ei.useMemo(()=>{let e=null===i?n:"function"==typeof n?n(i):(0,eC.default)({},i,n);return null!=e&&(e[eD]=null!==i),e},[n,i]);return/*#__PURE__*/(0,ep.jsx)(eR.Provider,{value:o,children:t})};ee("1yKl8");var eM=ee("a2BaF"),eL=ee("fHrWv"),ej=ee("aBKyn"),eF=ee("ketzr"),ep=ee("9L45J");const eB={};function ez(e,t,n,i=!1){return ei.useMemo(()=>{let o=e&&t[e]||t;if("function"==typeof n){let a=n(o),s=e?(0,eC.default)({},t,{[e]:a}):a;return i?()=>s:s}return e?(0,eC.default)({},t,{[e]:n}):(0,eC.default)({},t,n)},[e,t,n,i])}var eU=function(e){let{children:t,theme:n,themeId:i}=e,o=(0,eL.default)(eB),a=ek()||eB,s=ez(i,o,n),l=ez(i,a,n,!0),u="rtl"===s.direction;return/*#__PURE__*/(0,ep.jsx)(eN,{theme:l,children:/*#__PURE__*/(0,ep.jsx)(eM.T.Provider,{value:s,children:/*#__PURE__*/(0,ep.jsx)(ej.default,{value:u,children:/*#__PURE__*/(0,ep.jsx)(eF.default,{value:null==s?void 0:s.components,children:t})})})})},eW=ee("5MpsY"),ep=ee("9L45J");const eH=["theme"];function eV(e){let{theme:t}=e,n=(0,eA.default)(e,eH),i=t[eW.default];return/*#__PURE__*/(0,ep.jsx)(eU,(0,eC.default)({},n,{themeId:i?eW.default:void 0,theme:i||t}))}var eG=ee("eYHQE"),e$=ee("gbFVC"),eq=ee("9Ceg5"),eX=ee("kHjEE"),eY={};function eK(e,t){var n=[],i=0;function o(e){return n.push(e),t}function a(){return n[i++]}return{tokenize:function(t){return t.replace(e,o)},detokenize:function(e){return e.replace(RegExp("("+t+")","g"),a)}}}uR=new function(){var e="`TMP`",t="`COMMENT`",n="[^\\u0020-\\u007e]",i="(?:[0-9]*\\.[0-9]+|[0-9]+)",o="(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)",a="direction\\s*:\\s*",s="['\"]?\\s*",l="(^|[^a-zA-Z])",u="\\/\\*\\!?\\s*@noflip\\s*\\*\\/",c="(?:(?:(?:\\\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",d="(?:[_a-z0-9-]|"+n+"|"+c+")",p=i+"(?:\\s*"+o+"|"+("-?(?:[_a-z]|"+n+"|"+c)+")"+d+"*)?",h="((?:-?"+p+")|(?:inherit|auto))",f="((?:-?"+p+")|(?:inherit|auto)|"+("(?:calc\\((?:"+("(?:(?:\\(|\\)|\\t| )|(?:-?"+i+"(?:\\s*")+o)+")?)|(?:\\+|\\-|\\*|\\/)){3,})\\)))",g="(#?"+d+"+|(?:rgba?|hsla?)\\([ \\d.,%-]+\\))",m="(?:[!#$%&*-~]|"+n+"|"+c+")*?",v="(?![a-zA-Z])",y="(?!("+d+"|\\r?\\n|\\s|#|\\:|\\.|\\,|\\+|>|~|\\(|\\)|\\[|\\]|=|\\*=|~=|\\^=|'[^']*'|\"[^\"]*\"|"+t+")*?{)",b="(?!"+m+s+"\\))",w="(?="+m+s+"\\))",x="(\\s*(?:!important\\s*)?[;}])",S=/`TMP`/g,_=/`TMPLTR`/g,E=/`TMPRTL`/g,T=RegExp("\\/\\*[^*]*\\*+([^\\/*][^*]*\\*+)*\\/","gi"),O=RegExp("("+u+y+"[^;}]+;?)","gi"),I=RegExp("("+u+"[^\\}]*?})","gi"),P=RegExp("("+a+")ltr","gi"),C=RegExp("("+a+")rtl","gi"),A=RegExp(l+"(left)"+v+b+y,"gi"),R=RegExp(l+"(right)"+v+b+y,"gi"),k=RegExp(l+"(left)"+w,"gi"),D=RegExp(l+"(right)"+w,"gi"),N=/(:dir\( *)ltr( *\))/g,M=/(:dir\( *)rtl( *\))/g,L=RegExp(l+"(ltr)"+w,"gi"),j=RegExp(l+"(rtl)"+w,"gi"),F=RegExp(l+"([ns]?)e-resize","gi"),B=RegExp(l+"([ns]?)w-resize","gi"),z=RegExp("((?:margin|padding|border-width)\\s*:\\s*)"+f+"(\\s+)"+f+"(\\s+)"+f+"(\\s+)"+f+x,"gi"),U=RegExp("((?:-color|border-style)\\s*:\\s*)"+g+"(\\s+)"+g+"(\\s+)"+g+"(\\s+)"+g+x,"gi"),W=RegExp("(background(?:-position)?\\s*:\\s*(?:[^:;}\\s]+\\s+)*?)("+p+")","gi"),H=RegExp("(background-position-x\\s*:\\s*)(-?"+i+"%)","gi"),V=RegExp("(border-radius\\s*:\\s*)"+h+"(?:(?:\\s+"+h+")(?:\\s+"+h+")?(?:\\s+"+h+")?)?(?:(?:(?:\\s*\\/\\s*)"+h+")(?:\\s+"+h+")?(?:\\s+"+h+")?(?:\\s+"+h+")?)?"+x,"gi"),G=RegExp("(box-shadow\\s*:\\s*(?:inset\\s*)?)"+h,"gi"),$=RegExp("(text-shadow\\s*:\\s*)"+h+"(\\s*)"+g,"gi"),q=RegExp("(text-shadow\\s*:\\s*)"+g+"(\\s*)"+h,"gi"),X=RegExp("(text-shadow\\s*:\\s*)"+h,"gi"),Y=RegExp("(transform\\s*:[^;}]*)(translateX\\s*\\(\\s*)"+h+"(\\s*\\))","gi"),K=RegExp("(transform\\s*:[^;}]*)(translate\\s*\\(\\s*)"+h+"((?:\\s*,\\s*"+h+"){0,2}\\s*\\))","gi");function Z(e,t,n){var i,o;return"%"===n.slice(-1)&&(-1!==(i=n.indexOf("."))?(o=n.length-i-2,n=(n=100-parseFloat(n)).toFixed(o)+"%"):n=100-parseFloat(n)+"%"),t+n}function J(e){switch(e.length){case 4:e=[e[1],e[0],e[3],e[2]];break;case 3:e=[e[1],e[0],e[1],e[2]];break;case 2:e=[e[1],e[0]];break;case 1:e=[e[0]]}return e.join(" ")}function Q(e,t){var n=[].slice.call(arguments),i=n.slice(2,6).filter(function(e){return e}),o=n.slice(6,10).filter(function(e){return e}),a=n[10]||"";return t+(o.length?J(i)+" / "+J(o):J(i))+a}function ee(e){return 0===parseFloat(e)?e:"-"===e[0]?e.slice(1):"-"+e}function et(e,t,n){return t+ee(n)}function er(e,t,n,i,o){return t+n+ee(i)+o}function en(e,t,n,i,o){return t+n+i+ee(o)}return{transform:function(n,i){var o=new eK(O,"`NOFLIP_SINGLE`"),a=new eK(I,"`NOFLIP_CLASS`"),s=new eK(T,t);return n=s.tokenize(a.tokenize(o.tokenize(n.replace("`","%60")))),i.transformDirInUrl&&(n=n.replace(N,"$1`TMPLTR`$2").replace(M,"$1`TMPRTL`$2").replace(L,"$1"+e).replace(j,"$1ltr").replace(S,"rtl").replace(_,"ltr").replace(E,"rtl")),i.transformEdgeInUrl&&(n=n.replace(k,"$1"+e).replace(D,"$1left").replace(S,"right")),n=n.replace(P,"$1"+e).replace(C,"$1ltr").replace(S,"rtl").replace(A,"$1"+e).replace(R,"$1left").replace(S,"right").replace(F,"$1$2"+e).replace(B,"$1$2e-resize").replace(S,"w-resize").replace(V,Q).replace(G,et).replace($,en).replace(q,en).replace(X,et).replace(Y,er).replace(K,er).replace(z,"$1$2$3$8$5$6$7$4$9").replace(U,"$1$2$3$8$5$6$7$4$9").replace(W,Z).replace(H,Z),n=o.detokenize(a.detokenize(s.detokenize(n)))}}},eY?eY.transform=function(e,t,n){var i;return"object"==typeof t?i=t:(i={},"boolean"==typeof t&&(i.transformDirInUrl=t),"boolean"==typeof n&&(i.transformEdgeInUrl=n)),uR.transform(e,i)}:"undefined"!=typeof window&&(window.cssjanus=uR);var eZ="-ms-",eJ="-moz-",eQ="-webkit-",e0="comm",e1="rule",e2="decl",e3="@keyframes",e5=Math.abs,e4=String.fromCharCode,e6=Object.assign;function e8(e,t){return(e=t.exec(e))?e[0]:e}function e9(e,t,n){return e.replace(t,n)}function e7(e,t,n){return e.indexOf(t,n)}function te(e,t){return 0|e.charCodeAt(t)}function tt(e,t,n){return e.slice(t,n)}function tr(e){return e.length}function tn(e,t){return t.push(e),e}function ti(e,t){return e.filter(function(e){return!e8(e,t)})}var to=1,ta=1,ts=0,tl=0,tu=0,tc="";function td(e,t,n,i,o,a,s,l){return{value:e,root:t,parent:n,type:i,props:o,children:a,line:to,column:ta,length:s,return:"",siblings:l}}function tp(e,t){return e6(td("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function th(e){for(;e.root;)e=tp(e.root,{children:[e]});tn(e,e.siblings)}function tf(){return tu=tl<ts?te(tc,tl++):0,ta++,10===tu&&(ta=1,to++),tu}function tg(){return te(tc,tl)}function tm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tv(e){var t,n;return(t=tl-1,n=function e(t){for(;tf();)switch(tu){case t:return tl;case 34:case 39:34!==t&&39!==t&&e(tu);break;case 40:41===t&&e(t);break;case 92:tf()}return tl}(91===e?e+2:40===e?e+1:e),tt(tc,t,n)).trim()}function ty(e,t,n,i,o,a,s,l,u,c,d,p){for(var h=o-1,f=0===o?a:[""],g=f.length,m=0,v=0,y=0;m<i;++m)for(var b=0,w=tt(e,h+1,h=e5(v=s[m])),x=e;b<g;++b)(x=(v>0?f[b]+" "+w:e9(w,/&\f/g,f[b])).trim())&&(u[y++]=x);return td(e,t,n,0===o?e1:l,u,c,d,p)}function tb(e,t,n,i,o){return td(e,t,n,e2,tt(e,0,i),tt(e,i+1,-1),i,o)}function tw(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function tx(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case e2:e.return=function e(t,n,i){var o;switch(o=n,45^te(t,0)?(((o<<2^te(t,0))<<2^te(t,1))<<2^te(t,2))<<2^te(t,3):0){case 5103:return eQ+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return eQ+t+t;case 4855:return eQ+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return eJ+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return eQ+t+eJ+t+eZ+t+t;case 5936:switch(te(t,n+11)){case 114:return eQ+t+eZ+e9(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return eQ+t+eZ+e9(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return eQ+t+eZ+e9(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return eQ+t+eZ+t+t;case 6165:return eQ+t+eZ+"flex-"+t+t;case 5187:return eQ+t+e9(t,/(\w+).+(:[^]+)/,eQ+"box-$1$2"+eZ+"flex-$1$2")+t;case 5443:return eQ+t+eZ+"flex-item-"+e9(t,/flex-|-self/g,"")+(e8(t,/flex-|baseline/)?"":eZ+"grid-row-"+e9(t,/flex-|-self/g,""))+t;case 4675:return eQ+t+eZ+"flex-line-pack"+e9(t,/align-content|flex-|-self/g,"")+t;case 5548:return eQ+t+eZ+e9(t,"shrink","negative")+t;case 5292:return eQ+t+eZ+e9(t,"basis","preferred-size")+t;case 6060:return eQ+"box-"+e9(t,"-grow","")+eQ+t+eZ+e9(t,"grow","positive")+t;case 4554:return eQ+e9(t,/([^-])(transform)/g,"$1"+eQ+"$2")+t;case 6187:return e9(e9(e9(t,/(zoom-|grab)/,eQ+"$1"),/(image-set)/,eQ+"$1"),t,"")+t;case 5495:case 3959:return e9(t,/(image-set\([^]*)/,eQ+"$1$`$1");case 4968:return e9(e9(t,/(.+:)(flex-)?(.*)/,eQ+"box-pack:$3"+eZ+"flex-pack:$3"),/space-between/,"justify")+eQ+t+t;case 4200:if(!e8(t,/flex-|baseline/))return eZ+"grid-column-align"+tt(t,n)+t;break;case 2592:case 3360:return eZ+e9(t,"template-","")+t;case 4384:case 3616:if(i&&i.some(function(e,t){return n=t,e8(e.props,/grid-\w+-end/)}))return~e7(t+(i=i[n].value),"span",0)?t:eZ+e9(t,"-start","")+t+eZ+"grid-row-span:"+(~e7(i,"span",0)?e8(i,/\d+/):+e8(i,/\d+/)-+e8(t,/\d+/))+";";return eZ+e9(t,"-start","")+t;case 4896:case 4128:return i&&i.some(function(e){return e8(e.props,/grid-\w+-start/)})?t:eZ+e9(e9(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return e9(t,/(.+)-inline(.+)/,eQ+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(tr(t)-1-n>6)switch(te(t,n+1)){case 109:if(45!==te(t,n+4))break;case 102:return e9(t,/(.+:)(.+)-([^]+)/,"$1"+eQ+"$2-$3$1"+eJ+(108==te(t,n+3)?"$3":"$2-$3"))+t;case 115:return~e7(t,"stretch",0)?e(e9(t,"stretch","fill-available"),n,i)+t:t}break;case 5152:case 5920:return e9(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,n,i,o,a,s,l){return eZ+n+":"+i+l+(o?eZ+n+"-span:"+(a?s:+s-+i)+l:"")+t});case 4949:if(121===te(t,n+6))return e9(t,":",":"+eQ)+t;break;case 6444:switch(te(t,45===te(t,14)?18:11)){case 120:return e9(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+eQ+(45===te(t,14)?"inline-":"")+"box$3$1"+eQ+"$2$3$1"+eZ+"$2box$3")+t;case 100:return e9(t,":",":"+eZ)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return e9(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,n);return;case e3:return tw([tp(e,{value:e9(e.value,"@","@"+eQ)})],i);case e1:if(e.length){var o,a;return o=n=e.props,a=function(t){switch(e8(t,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":th(tp(e,{props:[e9(t,/:(read-\w+)/,":"+eJ+"$1")]})),th(tp(e,{props:[t]})),e6(e,{props:ti(n,i)});break;case"::placeholder":th(tp(e,{props:[e9(t,/:(plac\w+)/,":"+eQ+"input-$1")]})),th(tp(e,{props:[e9(t,/:(plac\w+)/,":"+eJ+"$1")]})),th(tp(e,{props:[e9(t,/:(plac\w+)/,eZ+"input-$1")]})),th(tp(e,{props:[t]})),e6(e,{props:ti(n,i)})}return""},o.map(a).join("")}}}function tS(e,t,n,i){if(e.type===e3||"@supports"===e.type||e.type===e1&&(!e.parent||"@media"===e.parent.type||e.parent.type===e1)){var o,a,s,l=/*@__PURE__*/Y(eY).transform(function e(t,n,i){switch(t.type){case"@import":case e2:case e0:return t.return=t.return||t.value;case e1:t.value=Array.isArray(t.props)?t.props.join(","):t.props,Array.isArray(t.children)&&t.children.forEach(function(e){e.type===e0&&(e.children=e.value)})}var o=tw(Array.prototype.concat(t.children),e);return tr(o)?t.return=t.value+"{"+o+"}":""}(e,t,n));e.children=l?(s=function e(t,n,i,o,a,s,l,u,c){for(var d,p=0,h=0,f=l,g=0,m=0,v=0,y=1,b=1,w=1,x=0,S="",_=a,E=s,T=o,O=S;b;)switch(v=x,x=tf()){case 40:if(108!=v&&58==te(O,f-1)){-1!=e7(O+=e9(tv(x),"&","&\f"),"&\f",e5(p?u[p-1]:0))&&(w=-1);break}case 34:case 39:case 91:O+=tv(x);break;case 9:case 10:case 13:case 32:O+=function(e){for(;tu=tg();)if(tu<33)tf();else break;return tm(e)>2||tm(tu)>3?"":" "}(v);break;case 92:O+=function(e,t){for(var n;--t&&tf()&&!(tu<48)&&!(tu>102)&&(!(tu>57)||!(tu<65))&&(!(tu>70)||!(tu<97)););return n=tl+(t<6&&32==tg()&&32==tf()),tt(tc,e,n)}(tl-1,7);continue;case 47:switch(tg()){case 42:case 47:tn(td(d=function(e,t){for(;tf();)if(e+tu===57)break;else if(e+tu===84&&47===tg())break;return"/*"+tt(tc,t,tl-1)+"*"+e4(47===e?e:tf())}(tf(),tl),n,i,e0,e4(tu),tt(d,2,-2),0,c),c),(5==tm(v||1)||5==tm(tg()||1))&&tr(O)&&" "!==tt(O,-1,void 0)&&(O+=" ");break;default:O+="/"}break;case 123*y:u[p++]=tr(O)*w;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+h:-1==w&&(O=e9(O,/\f/g,"")),m>0&&(tr(O)-f||0===y&&47===v)&&tn(m>32?tb(O+";",o,i,f-1,c):tb(e9(O," ","")+";",o,i,f-2,c),c);break;case 59:O+=";";default:if(tn(T=ty(O,n,i,p,h,a,u,S,_=[],E=[],f,s),s),123===x){if(0===h)e(O,n,T,T,_,s,f,u,E);else switch(99===g&&110===te(O,3)?100:g){case 100:case 108:case 109:case 115:e(t,T,T,o&&tn(ty(t,T,T,0,0,a,u,S,a,_=[],f,E),E),a,E,f,u,o?_:E);break;default:e(O,T,T,T,[""],E,0,u,E)}}}p=h=m=0,y=w=1,S=O="",f=l;break;case 58:f=1+tr(O),m=v;default:if(y<1){if(123==x)--y;else if(125==x&&0==y++&&125==(tu=tl>0?te(tc,--tl):0,ta--,10===tu&&(ta=1,to--),tu))continue}switch(O+=e4(x),x*y){case 38:w=h>0?1:(O+="\f",-1);break;case 44:u[p++]=(tr(O)-1)*w,w=1;break;case 64:45===tg()&&(O+=tv(tf())),g=tg(),h=f=tr(S=O+=function(e){for(;!tm(tg());)tf();return tt(tc,e,tl)}(tl)),x++;break;case 45:45===v&&2==tr(O)&&(y=0)}}return s}("",null,null,null,[""],(a=o=l,to=ta=1,ts=tr(tc=a),tl=0,o=[]),0,[0],o),tc="",s)[0].children:[],e.return=""}}Object.defineProperty(tS,"name",{value:"stylisRTLPlugin"});var eM=ee("a2BaF"),t_=ee("eiYdf");const tE=e=>"string"==typeof e,tT=()=>{let e,t;let n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},tO=e=>null==e?"":""+e,tI=(e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})},tP=/###/g,tC=e=>e&&e.indexOf("###")>-1?e.replace(tP,"."):e,tA=e=>!e||tE(e),tR=(e,t,n)=>{let i=tE(t)?t.split("."):t,o=0;for(;o<i.length-1;){if(tA(e))return{};let t=tC(i[o]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return tA(e)?{}:{obj:e,k:tC(i[o])}},tk=(e,t,n)=>{let{obj:i,k:o}=tR(e,t,Object);if(void 0!==i||1===t.length){i[o]=n;return}let a=t[t.length-1],s=t.slice(0,t.length-1),l=tR(e,s,Object);for(;void 0===l.obj&&s.length;)a=`${s[s.length-1]}.${a}`,(l=tR(e,s=s.slice(0,s.length-1),Object))&&l.obj&&void 0!==l.obj[`${l.k}.${a}`]&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=n},tD=(e,t,n,i)=>{let{obj:o,k:a}=tR(e,t,Object);o[a]=o[a]||[],o[a].push(n)},tN=(e,t)=>{let{obj:n,k:i}=tR(e,t);if(n)return n[i]},tM=(e,t,n)=>{let i=tN(e,n);return void 0!==i?i:tN(t,n)},tL=(e,t,n)=>{for(let i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?tE(e[i])||e[i]instanceof String||tE(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):tL(e[i],t[i],n):e[i]=t[i]);return e},tj=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tF={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const tB=e=>tE(e)?e.replace(/[&<>"'\/]/g,e=>tF[e]):e,tz=[" ",",","?","!",";"],tU=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),tW=(e,t,n)=>{t=t||"",n=n||"";let i=tz.filter(e=>0>t.indexOf(e)&&0>n.indexOf(e));if(0===i.length)return!0;let o=tU.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`),a=!o.test(e);if(!a){let t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(a=!0)}return a},tH=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let i=t.split(n),o=e;for(let e=0;e<i.length;){let t;if(!o||"object"!=typeof o)return;let a="";for(let s=e;s<i.length;++s)if(s!==e&&(a+=n),a+=i[s],void 0!==(t=o[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&s<i.length-1)continue;e+=s-e+1;break}o=t}return o},tV=e=>e&&e.replace("_","-"),tG={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class t${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||tG,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(tE(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new t$(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t$(this.logger,e)}}var tq=new t$;class tX{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let e=0;e<i;e++)t(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[i,o]=t;for(let t=0;t<o;t++)i.apply(i,[e,...n])})}}class tY extends tX{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,s=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],n&&(Array.isArray(n)?i.push(...n):tE(n)&&a?i.push(...n.split(a)):i.push(n)));let l=tN(this.data,i);return(!l&&!t&&!n&&e.indexOf(".")>-1&&(e=i[0],t=i[1],n=i.slice(2).join(".")),!l&&s&&tE(n))?tH(this.data&&this.data[e]&&this.data[e][t],n,a):l}addResource(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),tk(this.data,s,i),o.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let i in n)(tE(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=t,t=s[1]),this.addNamespaces(t);let l=tN(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?tL(l,n,o):l={...l,...n},tk(this.data,s,l),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var tK={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,o){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,o))}),t}};const tZ={};class tJ extends tX{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),tI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=tq.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");let i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!tW(e,n,i);if(a&&!s){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};let a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),e=a.join(i)}return tE(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),l=s[s.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}let d=this.resolve(e,t),p=d&&d.res,h=d&&d.usedKey||a,f=d&&d.exactUsedKey||a,g=Object.prototype.toString.apply(p),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=!tE(p)&&"boolean"!=typeof p&&"number"!=typeof p;if(v&&p&&y&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(g)&&!(tE(m)&&Array.isArray(p))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,p,{...t,ns:s}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(o){let e=Array.isArray(p),n=e?[]:{},i=e?f:h;for(let e in p)if(Object.prototype.hasOwnProperty.call(p,e)){let a=`${i}${o}${e}`;n[e]=this.translate(a,{...t,joinArrays:!1,ns:s}),n[e]===a&&(n[e]=p[e])}p=n}}else if(v&&tE(m)&&Array.isArray(p))(p=p.join(m))&&(p=this.extendTranslation(p,e,t,n));else{let i=!1,s=!1,c=void 0!==t.count&&!tE(t.count),h=tJ.hasDefaultValue(t),f=c?this.pluralResolver.getSuffix(u,t.count,t):"",g=t.ordinal&&c?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),v=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${f}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(p)&&h&&(i=!0,p=v),this.isValidLookup(p)||(s=!0,p=a);let y=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:p,b=h&&v!==p&&this.options.updateMissing;if(s||i||b){if(this.logger.log(b?"updateKey":"missingKey",u,l,a,b?v:p),o){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let i=(e,n,i)=>{let o=h&&i!==p?i:y;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,n,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,l,n,o,b,t),this.emit("missingKey",e,l,n,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let n=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>n.indexOf(`${this.options.pluralSeparator}zero`)&&n.push(`${this.options.pluralSeparator}zero`),n.forEach(n=>{i([e],a+n,t[`defaultValue${n}`]||v)})}):i(e,a,v))}p=this.extendTranslation(p,e,t,d,n),s&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${l}:${a}`),(s||i)&&this.options.parseMissingKeyHandler&&(p="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,i?p:void 0):this.options.parseMissingKeyHandler(p))}return i?(d.res=p,d.usedParams=this.getUsedParamsDetails(t),d):p}extendTranslation(e,t,n,i,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){let s;n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});let l=tE(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let u=n.replace&&!tE(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,n.lng||this.language||i.usedLng,n),l){let t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return o&&o[0]===i[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${i[0]} in key: ${t[0]}`),null):a.translate(...i,t)},n)),n.interpolation&&this.interpolator.reset()}let s=n.postProcess||this.options.postProcess,l=tE(s)?[s]:s;return null!=e&&l&&l.length&&!1!==n.applyPostProcessor&&(e=tK.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tE(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,s),u=l.key;n=u;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let d=void 0!==s.count&&!tE(s.count),p=d&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&(tE(s.context)||"number"==typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!tZ[`${f[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(tZ[`${f[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${f.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(n=>{let a;if(this.isValidLookup(t))return;o=n;let l=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,u,n,e,s);else{let e;d&&(e=this.pluralResolver.getSuffix(n,s.count,s));let t=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(l.push(u+e),s.ordinal&&0===e.indexOf(i)&&l.push(u+e.replace(i,this.options.pluralSeparator)),p&&l.push(u+t)),h){let n=`${u}${this.options.contextSeparator}${s.context}`;l.push(n),d&&(l.push(n+e),s.ordinal&&0===e.indexOf(i)&&l.push(n+e.replace(i,this.options.pluralSeparator)),p&&l.push(n+t))}}for(;a=l.pop();)this.isValidLookup(t)||(i=a,t=this.getResource(n,e,a,s))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:o,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!tE(e.replace),n=t?e.replace:e;if(t&&void 0!==e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!t)for(let e of(n={...n},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete n[e];return n}static hasDefaultValue(e){let t="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}const tQ=e=>e.charAt(0).toUpperCase()+e.slice(1);class t0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tq.create("languageUtils")}getScriptPartFromCode(e){if(!(e=tV(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=tV(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(tE(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=tQ(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=tQ(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=tQ(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let n=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>{if(e===n||!(0>e.indexOf("-")&&0>n.indexOf("-"))&&(e.indexOf("-")>0&&0>n.indexOf("-")&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),tE(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return tE(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):tE(e)&&o(this.formatLanguageCode(e)),n.forEach(e=>{0>i.indexOf(e)&&o(this.formatLanguageCode(e))}),i}}let t1=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],t2={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const t3=["v1","v2","v3"],t5=["v4"],t4={zero:0,one:1,two:2,few:3,many:4,other:5},t6=()=>{let e={};return t1.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:t2[t.fc]}})}),e};class t8{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=tq.create("pluralResolver"),(!this.options.compatibilityJSON||t5.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=t6(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=tV("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[o]=a,a}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>t4[e]-t4[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));let o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?`_plural_${i.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!t3.includes(this.options.compatibilityJSON)}}const t9=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=tM(e,t,n);return!a&&o&&tE(n)&&void 0===(a=tH(e,n,i))&&(a=tH(t,n,i)),a},t7=e=>e.replace(/\$/g,"$$$$");class re{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=tq.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:a,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:f,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:v,alwaysFormat:y}=e.interpolation;this.escape=void 0!==t?t:tB,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=o?tj(o):a||"{{",this.suffix=s?tj(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=p?tj(p):h||tj("$t("),this.nestingSuffix=f?tj(f):g||tj(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=v||1e3,this.alwaysFormat=void 0!==y&&y,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let o,a,s;let l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=e=>{if(0>e.indexOf(this.formatSeparator)){let o=t9(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...i,...t,interpolationkey:e}):o}let o=e.split(this.formatSeparator),a=o.shift().trim(),s=o.join(this.formatSeparator).trim();return this.format(t9(t,l,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...i,...t,interpolationkey:a})};this.resetRegExp();let c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>t7(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?t7(this.escape(e)):t7(e)}].forEach(t=>{for(s=0;o=t.regex.exec(e);){let n=o[1].trim();if(void 0===(a=u(n))){if("function"==typeof c){let t=c(e,o,i);a=tE(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))a="";else if(d){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else tE(a)||this.useRawValueToEscape||(a=tO(a));let l=t.safeValue(a);if(e=e.replace(o[0],l),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,++s>=this.maxReplaces)break}}),e}nest(e,t){let n,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(e,t)=>{let n=this.nestingOptionsSeparator;if(0>e.indexOf(n))return e;let i=e.split(RegExp(`${n}[ ]*{`)),a=`{${i[1]}`;e=i[0];let s=(a=this.interpolate(a,o)).match(/'/g),l=a.match(/"/g);(s&&s.length%2==0&&!l||l.length%2!=0)&&(a=a.replace(/'/g,'"'));try{o=JSON.parse(a),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${a}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let l=[];(o=(o={...a}).replace&&!tE(o.replace)?o.replace:o).applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){let e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),l=e,u=!0}if((i=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&!tE(i))return i;tE(i)||(i=tO(i)),i||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((e,t)=>this.format(e,t,a.lng,{...a,interpolationkey:n[1].trim()}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const rt=e=>{let t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){let i=e.split("(");t=i[0].toLowerCase().trim();let o=i[1].substring(0,i[1].length-1);"currency"===t&&0>o.indexOf(":")?n.currency||(n.currency=o.trim()):"relativetime"===t&&0>o.indexOf(":")?n.range||(n.range=o.trim()):o.split(";").forEach(e=>{if(e){let[t,...i]=e.split(":"),o=i.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();n[a]||(n[a]=o),"false"===o&&(n[a]=!1),"true"===o&&(n[a]=!0),isNaN(o)||(n[a]=parseInt(o,10))}})}return{formatName:t,formatOptions:n}},rr=e=>{let t={};return(n,i,o)=>{let a=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(a={...a,[o.interpolationkey]:void 0});let s=i+JSON.stringify(a),l=t[s];return l||(l=e(tV(i),o),t[s]=l),l(n)}};class rn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=tq.create("formatter"),this.options=e,this.formats={number:rr((e,t)=>{let n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:rr((e,t)=>{let n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:rr((e,t)=>{let n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:rr((e,t)=>{let n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:rr((e,t)=>{let n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=rr(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&0>o[0].indexOf(")")&&o.find(e=>e.indexOf(")")>-1)){let e=o.findIndex(e=>e.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,e)].join(this.formatSeparator)}return o.reduce((e,t)=>{let{formatName:o,formatOptions:a}=rt(t);if(this.formats[o]){let t=e;try{let s=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=s.locale||s.lng||i.locale||i.lng||n;t=this.formats[o](e,l,{...a,...i,...s})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e},e)}}const ri=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class ro extends tX{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=tq.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){let o={},a={},s={},l={};return e.forEach(e=>{let i=!0;t.forEach(t=>{let s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,i=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===l[t]&&(l[t]=!0)))}),i||(s[e]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){let i=e.split("|"),o=i[0],a=i[1];t&&this.emit("failedLoading",o,a,t),!t&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);let s={};this.queue.forEach(n=>{tD(n.loaded,[o],a),ri(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});let t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a});return}this.readingCalls++;let s=(s,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(s&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*o,a)},o);return}a(s,l)},l=this.backend[n].bind(this.backend);if(2===l.length){try{let n=l(e,t);n&&"function"==typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(e){s(e)}return}return l(e,t,s)}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();tE(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tE(t)&&(t=[t]);let o=this.queueLoad(e,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,n),!n&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(e,n,a)})}saveMissing(e,t,n,i,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=n&&""!==n){if(this.backend&&this.backend.create){let l={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let o;(o=5===u.length?u(e,t,n,i,l):u(e,t,n,i))&&"function"==typeof o.then?o.then(e=>s(null,e)).catch(s):s(null,o)}catch(e){s(e)}else u(e,t,n,i,s,l)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}const ra=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),tE(e[1])&&(t.defaultValue=e[1]),tE(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),rs=e=>(tE(e.ns)&&(e.ns=[e.ns]),tE(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),tE(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),rl=()=>{},ru=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class rc extends tX{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=rs(e),this.services={},this.logger=tq,this.modules={external:[]},ru(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(tE(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let i=ra();this.options={...i,...this.options,...rs(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let o=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?tq.init(o(this.modules.logger),this.options):tq.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=rn);let n=new t0(this.options);this.store=new tY(this.options.resources,this.options);let a=this.services;a.logger=tq,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new t8(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(a.formatter=o(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new re(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new ro(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)}),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new tJ(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=rl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let a=tT(),s=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rl,n=t,i=tE(e)?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return n();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};i?t(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),n(e)})}else n(null)}reloadResources(e,t,n){let i=tT();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=rl),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&tK.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;let i=tT();this.emit("languageChanging",e);let o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(o(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);let n=tE(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;let o=function(e,t){let a,s;if("object"!=typeof t){for(var l=arguments.length,u=Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([e,t].concat(u))}else a={...t};a.lng=a.lng||o.lng,a.lngs=a.lngs||o.lngs,a.ns=a.ns||o.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||n||o.keyPrefix);let d=i.options.keySeparator||".";return s=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${d}${e}`):a.keyPrefix?`${a.keyPrefix}${d}${e}`:e,i.t(s,a)};return tE(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;let a=(e,t)=>{let n=this.services.backendConnector.state[`${e}|${t}`];return -1===n||0===n||2===n};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(o,e)))}loadNamespaces(e,t){let n=tT();return this.options.ns?(tE(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){let n=tT();tE(e)&&(e=[e]);let i=this.options.preload||[],o=e.filter(e=>0>i.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return o.length?(this.options.preload=i.concat(o),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new t0(ra())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new rc(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rl,n=e.forkResourceStore;n&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},o=new rc(i);return(void 0!==e.debug||void 0!==e.prefix)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(e=>{o[e]=this[e]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new tY(this.store.data,i),o.services.resourceStore=o.store),o.translator=new tJ(o.services,i),o.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit(e,...n)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const rd=rc.createInstance();rd.createInstance=rc.createInstance,rd.createInstance,rd.dir,rd.init,rd.loadResources,rd.reloadResources,rd.use,rd.changeLanguage,rd.getFixedT,rd.t,rd.exists,rd.setDefaultNamespace,rd.hasLoadedNamespace,rd.loadNamespaces,rd.loadLanguages,ee("2IInF");var rp=ee("bhY44"),rh={};rh=JSON.parse('{"translation":{"aboutThisItem":"  ","addedFromUrl":"(   )","addManifestUrl":" ","addManifestUrlHelp":"  IIIF ","addResource":" ","annotationCanvasLabel_1/1":": [{{}}]","annotationCanvasLabel_1/2":": [{{ }}]","annotationCanvasLabel_2/2":": [{{}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"  ","authenticationRequired":"     ","backToResults":"  ","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"  ","clearSearch":"","closeAddResourceForm":" ","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":"  {{section}}","collapseSidePanel":"  ","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","dismiss":"","downloadExport":"  ","downloadExportWorkspace":"  ","elastic":"","elasticDescription":"          .      .","emptyResourceList":"    .","errorDialogConfirm":"","errorDialogTitle":"  ","exitFullScreen":"   ","expandSection":"  {{section}}","expandSidePanel":"  ","fetchManifest":"","fullScreen":" ","gallery":"","hideZoomControls":"  ","highlightAllAnnotations":" ","iiif_homepage":"  ","iiif_manifest":"IIIF  ","iiif_renderings":" ","iiif_seeAlso":" ","import":" ","importWorkspace":"  ","importWorkspaceHint":"   Mirador 3  ","item":": {{label}}","itemList":" ","language":"","layer_hide":" ","layer_move":" ","layer_moveToTop":"   ","layer_opacity":" ","layer_show":" ","layers":"","light":" ","links":"","listAllOpenWindows":"  ","login":" ","logout":" ","manifestError":"   :","maximizeWindow":"    ","minimizeWindow":"    ","mirador":"Mirador","miradorResources":" Mirador ","miradorViewer":" Mirador","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"         .","moveCompanionWindowToBottom":" ","moveCompanionWindowToRight":" ","nextCanvas":" ","numItems_one":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"   ","openWindows":"  ","pagination":"{{current}}  {{total}}","position":"","previewWindowTitle":"","previousCanvas":" ","related":" ","resource":"","retry":"  ","right":"","rights":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"    ","searchPreviousResult":" ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"   ","showingNumAnnotations_one":" {{number}} ","showZoomControls":"     ","sidebarPanelsNavigation":"   ","single":"","startHere":" ","suggestSearch":"      \\"{{ query }}\\"","tableOfContentsList":" ","theme":"","thumbnailList":"  ","thumbnailNavigation":" ","thumbnails":" ","toggleWindowSideBar":"  ","tryAgain":"  ","untitled":"[ ]","view":"","welcome":"   Mirador","window":":  {{label}}","windowMenu":"    ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":" ","workspaceFullScreen":" ","workspaceMenu":"  ","workspaceOptions":"   ","workspaceSelectionTitle":"   ","zoomIn":" ","zoomOut":" ","zoomReset":"   "}}');var rf={};rf=JSON.parse('{"translation":{"aboutMirador":"ber Mirador","aboutThisItem":"ber dieses Element","addedFromUrl":"(Via URL hinzugefgt)","addManifestUrl":"Ort der Ressource","addManifestUrlHelp":"Die URL einer IIIF-Ressource","addResource":"Ressource hinzufgen","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]","annotations":"Annotationen","attribution":"Zuschreibung","attributionTitle":"Rechte","authenticationFailed":"Authentifizierung fehlgeschlagen","authenticationRequired":"Fr vollen Zugriff ist eine Authentifizierung ntig.","backToResults":"Zurck zur Trefferansicht","book":"Buch","bottom":"Unten","cancel":"Abbrechen","canvasIndex":"Index","changeTheme":"Farbschema ndern","clearSearch":"zurcksetzen","close":"Schlieen","closeAddResourceForm":"Formular schlieen","closeAddResourceMenu":"Ressourcenliste schlieen","closeCompanionWindow":"Hilfsfenster schlieen","closeWindow":"Fenster schlieen","collapseSection":"Bereich \\"{{section}}\\" zuklappen","collapseSidePanel":"Seitenleiste zuklappen","collection":"Sammlung","continue":"Fortfahren","copy":"Kopieren","currentItem":"Aktuelles Objekt","currentItem_1/1":"Aktuelles Objekt","currentItem_1/2":"Links","currentItem_2/2":"Rechts","dark":"Dunkel","digitizedView":"Digitalisat-Ansicht","dismiss":"Verwerfen","displayNoAnnotations":"Keine hervorheben","downloadExport":"Arbeitsflche exportieren","downloadExportWorkspace":"Arbeitsflche exportieren","elastic":"Elastisch","elasticDescription":"Fenster knnen frei und unbegrenzt innerhalb der Arbeitsflche bewegt werden und sich berlappen","emptyResourceList":"Ihre Ressourcenliste ist leer","error":"Fehler","errorDialogConfirm":"OK","errorDialogTitle":"Es ist ein Fehler aufgetreten","exitFullScreen":"Vollbildmodus verlassen","expandSection":"Bereich \\"{{section}}\\" aufklappen","expandSidePanel":"Seitenleiste aufklappen","exportCopied":"Die Konfiguration der Arbeitsflche wurde in die Zwischenablage kopiert.","fetchManifest":"Hinzufgen","fullScreen":"Vollbild","gallery":"Galerie","hideZoomControls":"Zoomsteuerung verbergen","highlightAllAnnotations":"Alle hervorheben","iiif_homepage":"ber diese Ressource","iiif_manifest":"IIIF-Manifest","iiif_related":"Verwandtes","iiif_renderings":"Alternative Formate","iiif_seeAlso":"Siehe auch","import":"Importieren","importWorkspace":"Arbeitsflche importieren","importWorkspaceHint":"Fgen Sie eine Mirador-3-Konfiguration ein, die importiert werden soll.","item":"Objekt: {{label}}","itemList":"Kompaktliste","jsError":"Technische Details","jsStack":"{{ stack }}","language":"Sprache","layer_hide":"Ebene verbergen","layer_move":"Ebene verschieben","layer_moveToTop":"Ebene ganz nach vorn bringen","layer_opacity":"Ebenendeckkraft","layer_show":"Ebene anzeigen","layers":"Ebenen","light":"Hell","links":"Links","listAllOpenWindows":"Zu Fenster springen","login":"Anmelden","logout":"Abmelden","manifestError":"Die Ressource konnte nicht hinzugefgt werden:","maximizeWindow":"Fenster maximieren","minimizeWindow":"Fenster minimieren","mirador":"Mirador","miradorResources":"Mirador-Ressourcen","miradorViewer":"Mirador","more":"mehr...","moreResults":"Mehr Treffer","mosaic":"Mosaik","mosaicDescription":"Fenster knnen innerhalb der Arbeitsflche in Relation zueinander verschoben und ihrer Gre verndert werden.","moveCompanionWindowToBottom":"Unten anordnen","moveCompanionWindowToRight":"Rechts anordnen","multipartCollection":"Mehrteilige Sammlung","nextCanvas":"Nchstes Objekt","noItemSelected":"Kein Objekt ausgewhlt","numItems_one":"{{number}} Elemente","numItems_other":"{{number}} Elemente","off":"Keine","openCompanionWindow_annotations":"Annotationen","openCompanionWindow_attribution":"Rechte","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informationen","openCompanionWindow_layers":"Ebenen","openCompanionWindow_search":"Suche","openInCompanionWindow":"In Hilfsfenster ffnen","openWindows":"Aktuell offene Fenster","pagination":"{{current}} von {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Vorheriges Objekt","related":"Verwandtes","resource":"Ressource","retry":"Erneut versuchen","right":"Rechts","rights":"Lizenz","scroll":"Kontinuierlich","searchInputLabel":"Suchbegriffe","searchNextResult":"Nchster Treffer","searchNoResults":"Keine Treffer","searchPreviousResult":"Vorheriger Treffer","searchResultsRemaining":"{{numLeft}} weitere","searchSubmitAria":"Suchen","searchTitle":"Suche","selectWorkspaceMenu":"Whlen Sie einen Arbeitsflchentyp","showCollection":"Zeige Sammlung","showingNumAnnotations_one":"{{number}} Annotation wird angezeigt","showingNumAnnotations_other":"{{number}} Annotationen werden angezeigt","showZoomControls":"Zoomsteuerung anzeigen","sidebarPanelsNavigation":"Hilfsfensternavigation","single":"Einzeln","startHere":"Hier starten","suggestSearch":"Dieses Dokument durchsuchen nach \\"{{ query }}\\"","tableOfContentsList":"Inhaltsverzeichnis","theme":"Farbschema","thumbnailList":"Miniaturansicht","thumbnailNavigation":"Miniaturansicht","thumbnails":"Miniaturansicht","toggleWindowSideBar":"Seitenleiste umschalten","totalCollections_one":"{{count}} Sammlung","totalCollections_other":"{{count}} Sammlungen","totalManifests_one":"{{count}} Manifest","totalManifests_other":"{{count}} Manifeste","tryAgain":"Wiederholen","untitled":"[Unbenannt]","view":"Ansicht","viewWorkspaceConfiguration":"Zeige Konfiguration der Arbeitsflche","welcome":"Willkommen bei Mirador","window":"Fenster: {{label}}","windowMenu":"Fenstermen und Miniaturansicht","windowNavigation":"Fensternavigation","windowPluginButtons":"Optionen","windowPluginMenu":"Fensteroptionen","workspace":"Arbeitsflche","workspaceFullScreen":"Vollbild","workspaceMenu":"Arbeitsflchenmen","workspaceNavigation":"Arbeitsflchensteuerung","workspaceOptions":"Arbeitsflchenoptionen","workspaceSelectionTitle":"Bitte whlen Sie einen Arbeitsflchentyp","zoomIn":"Vergrern","zoomOut":"Verkleinern","zoomReset":"Ansicht zurcksetzen"}}');var rg={};rg=JSON.parse('{"translation":{"aboutMirador":"About Project Mirador","aboutThisItem":"About this item","addedFromUrl":"(Added from URL)","addManifestUrl":"Resource location","addManifestUrlHelp":"The URL of a IIIF resource","addResource":"Add resource","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Left: [{{label}}]","annotationCanvasLabel_2/2":"Right: [{{label}}]","annotations":"Annotations","attribution":"Attribution","attributionTitle":"Rights","authenticationFailed":"Authentication failed.","authenticationRequired":"Authentication required for full access","backToResults":"Back to results","book":"Book","bottom":"Bottom","cancel":"Cancel","canvasIndex":"Index","changeTheme":"Change theme","clearSearch":"clear","close":"Close","closeAddResourceForm":"Close form","closeAddResourceMenu":"Close resource list","closeCompanionWindow":"Close panel","closeWindow":"Close window","collapseSection":"Collapse \\"{{section}}\\" section","collapseSidePanel":"Collapse sidebar","collection":"Collection","continue":"Continue","copy":"Copy","currentItem":"Current item","currentItem_1/1":"Current item","currentItem_1/2":"Left","currentItem_2/2":"Right","dark":"Dark theme","digitizedView":"Digitized view","dismiss":"Dismiss","displayNoAnnotations":"Highlight none","downloadExport":"Export workspace","downloadExportWorkspace":"Export workspace","elastic":"Elastic","elasticDescription":"Move and size windows freely in an unlimited workspace. Windows can overlap.","emptyResourceList":"Your resource list is empty","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"An error occurred","exitFullScreen":"Exit full screen","expandSection":"Expand \\"{{section}}\\" section","expandSidePanel":"Expand sidebar","exportCopied":"The workspace configuration was copied to your clipboard","fetchManifest":"Add","fullScreen":"Full Screen","gallery":"Gallery","hideZoomControls":"Hide zoom controls","highlightAllAnnotations":"Highlight all","iiif_homepage":"About this resource","iiif_manifest":"IIIF manifest","iiif_related":"Related","iiif_renderings":"Alternate formats","iiif_seeAlso":"See also","import":"Import","importWorkspace":"Import workspace","importWorkspaceHint":"Paste a Mirador 3 configuration to be imported","item":"Item: {{label}}","itemList":"Item list","jsError":"Technical details","jsStack":"{{ stack }}","language":"Language","layer_hide":"Hide layer","layer_move":"Move layer","layer_moveToTop":"Move layer to top","layer_opacity":"Layer opacity","layer_show":"Show layer","layers":"Layers","light":"Light theme","links":"Links","listAllOpenWindows":"Jump to window","login":"Log in","logout":"Log out","manifestError":"The resource cannot be added:","maximizeWindow":"Maximize window","minimizeWindow":"Minimize window","mirador":"Mirador","miradorResources":"Mirador resources","miradorViewer":"Mirador viewer","more":"more...","moreResults":"More results","mosaic":"Mosaic","mosaicDescription":"Move and size windows in relation to each other, within the visible frame.","moveCompanionWindowToBottom":"Move to bottom","moveCompanionWindowToRight":"Move to right","multipartCollection":"Multipart Collection","nextCanvas":"Next item","noItemSelected":"No item selected","numItems_one":"{{number}} item","numItems_other":"{{number}} items","off":"Off","openCompanionWindow_annotations":"Annotations","openCompanionWindow_attribution":"Rights","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Information","openCompanionWindow_layers":"Layers","openCompanionWindow_search":"Search","openInCompanionWindow":"Open in separate panel","openWindows":"Current open windows","pagination":"{{current}} of {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Previous item","related":"Related","resource":"Resource","retry":"Retry","right":"Right","rights":"License","scroll":"Scroll","searchInputLabel":"search terms","searchNextResult":"Next result","searchNoResults":"No results found","searchPreviousResult":"Previous result","searchResultsRemaining":"{{numLeft}} remaining","searchSubmitAria":"Submit search","searchTitle":"Search","selectWorkspaceMenu":"Select workspace type","showCollection":"Show collection","showingNumAnnotations_one":"Showing {{number}} annotation","showingNumAnnotations_other":"Showing {{number}} annotations","showZoomControls":"Show zoom controls","sidebarPanelsNavigation":"Sidebar panels navigation","single":"Single","startHere":"Start Here","suggestSearch":"Search this document for \\"{{ query }}\\"","tableOfContentsList":"Table of contents","theme":"Theme","thumbnailList":"Thumbnail list","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Toggle sidebar","totalCollections_one":"{{count}} collection","totalCollections_other":"{{count}} collections","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifests","tryAgain":"Try again","untitled":"[Untitled]","view":"View","viewWorkspaceConfiguration":"View workspace configuration","welcome":"Welcome to Mirador","window":"Window: {{label}}","windowMenu":"Window views & thumbnail display","windowNavigation":"Window navigation","windowPluginButtons":"Options","windowPluginMenu":"Window options","workspace":"Workspace","workspaceFullScreen":"Full screen","workspaceMenu":"Workspace settings","workspaceNavigation":"Workspace navigation","workspaceOptions":"Workspace options","workspaceSelectionTitle":"Select a workspace type","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reset zoom"}}');var rm={};rm=JSON.parse('{"translation":{"aboutMirador":"Projekti Mirador kohta","aboutThisItem":"Teave teose kohta","addedFromUrl":"(Lisatud URL-ist)","addManifestUrl":"Teose asukoht","addManifestUrlHelp":"IIIF manifesti URL","addResource":"Lisa teos","annotationCanvasLabel_1/1":"Teos: [{{label}}]","annotationCanvasLabel_1/2":"Vasak: [{{label}}]","annotationCanvasLabel_2/2":"Parem: [{{label}}]","annotations":"Annotatsioonid","attribution":"Omistus","attributionTitle":"Kasutusigused","authenticationFailed":"Autentimine ebannestus","authenticationRequired":"Juurdepsu saamiseks on vajalik autentimine.","backToResults":"Tagasi tulemustele","book":"Raamat","bottom":"All","cancel":"Katkesta","canvasIndex":"Indeks","changeTheme":"Muuda teema","clearSearch":"Puhasta","close":"Sulge","closeAddResourceForm":"Sulge vorm","closeAddResourceMenu":"Sulge teoste loend","closeCompanionWindow":"Sulge paneel","closeWindow":"Sulge aken","collapseSection":"Sulge \\"{{section}}\\"","collapseSidePanel":"Sulge klgpaneel","collection":"Kollektsioon","continue":"Jtka","copy":"Kopeeri","currentItem":"Kuvatav luend","currentItem_1/1":"Pealkiri","currentItem_1/2":"Vasak","currentItem_2/2":"Parem","dark":"Tume teema","digitizedView":"Digiteeritud vaade","dismiss":"Vabasta","displayNoAnnotations":"ra kuva annotatsioone","downloadExport":"Ekspordi truum","downloadExportWorkspace":"Ekspordi truum","elastic":"Paindlik vaade","elasticDescription":"Saad akende suurust muuta ja neid vabalt truumis ringi liigutada.","emptyResourceList":"Teoste loend on thi","error":"Viga","errorDialogConfirm":"OK","errorDialogTitle":"Esines viga","exitFullScreen":"Lhtesta","expandSection":"Ava \\"{{section}}\\"","expandSidePanel":"Ava klgpaneel","exportCopied":"Truumi seadustused kopeeriti likepuhvrisse.","fetchManifest":"Lisa","fullScreen":"Tisekraan","gallery":"Galerii","hideZoomControls":"Peida suurendamisnupud","highlightAllAnnotations":"Kuva kik annotatsioonid","iiif_homepage":"Teave teose kohta","iiif_manifest":"IIIF manifest","iiif_related":"Seotud","iiif_renderings":"Alternatiivsed vormingud","iiif_seeAlso":"Vaata ka","import":"Impordi","importWorkspace":"Impordi truum","importWorkspaceHint":"Kleebi imporditava truumi seadistused.","item":"Luend: {{label}}","itemList":"Luendite loetelu","jsError":"Tehnilised ksikasjad","jsStack":"{{ stack }}","language":"Keel","layer_hide":"Peida kiht","layer_move":"Liiguta kihti","layer_moveToTop":"Tsta kiht esile","layer_opacity":"Kihi lbipaistvus","layer_show":"Nita kihti","layers":"Kihid","light":"Hele teema","links":"Lingid","listAllOpenWindows":"Vali aken","login":"Logi sisse","logout":"Logi vlja","manifestError":"Ei ole vimalik lisada soovitud teost:","maximizeWindow":"Suurenda akent","minimizeWindow":"Vhenda akent","mirador":"Mirador","miradorResources":"Miradori teoste loetelu","miradorViewer":"Miradori vaatur","more":"rohkem...","moreResults":"Veel tulemusi","mosaic":"Mosaiik","mosaicDescription":"Muuda tlaua akende suurust ja liiguta neid ksteise suhtes.","moveCompanionWindowToBottom":"Liiguta alla","moveCompanionWindowToRight":"Liiguta paremale","multipartCollection":"Mitmeosaline kollektsioon","nextCanvas":"Jrgmine luend","noItemSelected":"htegi luendit pole valitud.","numItems_one":"{{number}} luend","numItems_other":"{{number}} luendit","off":"Vljas","openCompanionWindow_annotations":"Annotatsioonid","openCompanionWindow_attribution":"Kasutusigused","openCompanionWindow_canvas":"Struktuur","openCompanionWindow_info":"Teave","openCompanionWindow_layers":"Kihid","openCompanionWindow_search":"Otsing","openInCompanionWindow":"Ava eraldi paneelis","openWindows":"Hetkel avatud aknad","pagination":"{{current}} / {{total}}","position":"Asukoht","previewWindowTitle":"{{title}}","previousCanvas":"Eelmine luend","related":"Seotud","resource":"Teos","retry":"Proovi uuesti","right":"Parem","rights":"Kasutuslitsents","scroll":"Keri","searchInputLabel":"otsinguterminid","searchNextResult":"Jrgmine tulemus","searchNoResults":"Tulemusi ei leitud","searchPreviousResult":"Eelmine tulemus","searchResultsRemaining":"{{numLeft}} alles","searchSubmitAria":"Otsi","searchTitle":"Otsi","selectWorkspaceMenu":"Vali truumi tp","showCollection":"Nita kollektsiooni","showingNumAnnotations_one":"Nitan {{number}} annotatsiooni","showingNumAnnotations_other":"Nitan {{number}} annotatsiooni","showZoomControls":"Nita suurendamisnuppe","sidebarPanelsNavigation":"Klgpaneelide navigeerimine","single":"ksik","startHere":"Alusta siit","suggestSearch":"Otsi sellest dokumendist \\"{{ query }}\\"","tableOfContentsList":"Sisukord","theme":"Teema","thumbnailList":"Pisipiltide loend","thumbnailNavigation":"Pisipildid","thumbnails":"Pisipildid","toggleWindowSideBar":"klgpaneel","totalCollections_one":"{{count}} kollektsioon","totalCollections_other":"{{count}} kollektsiooni","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifesti","tryAgain":"Proovi uuesti","untitled":"[Pealkiri puudub]","view":"Vaade","viewWorkspaceConfiguration":"Vaata truumi seadistusi","welcome":"Tere tulemast Miradori","window":"Aken: {{label}}","windowMenu":"Akna vaated ja pisipiltide kuvamine","windowNavigation":"Akna navigeerimine","windowPluginButtons":"Suvandid","windowPluginMenu":"Akna suvandid","workspace":"Truum","workspaceFullScreen":"Tisekraan","workspaceMenu":"Truumi stted","workspaceNavigation":"Truumi navigeerimine","workspaceOptions":"Truumi valikud","workspaceSelectionTitle":"Vali truumi tp","zoomIn":"Suurenda sisse","zoomOut":"Suurenda vlja","zoomReset":"Lhtesta suurendus"}}');var rv={};rv=JSON.parse('{"translation":{"aboutMirador":"   Mirador","aboutThisItem":"   ","addedFromUrl":"(    )","addManifestUrl":" ","addManifestUrlHelp":"   IIIF ","addResource":"   ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"  ","attribution":" ","attributionTitle":"","authenticationFailed":"   .","authenticationRequired":"      ","backToResults":"  ","book":"","bottom":"","cancel":"","canvasIndex":" ","changeTheme":" ","clearSearch":" ","close":"","closeAddResourceForm":"  ","closeAddResourceMenu":"   ","closeCompanionWindow":"  ","closeWindow":"  ","collapseSection":" \\"{{section}}\\"   ","collapseSidePanel":"    ","collection":"","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":"  ","dismiss":" ","displayNoAnnotations":"    ","downloadExport":"  ","downloadExportWorkspace":"  ","elastic":"","elasticDescription":"             .       .","emptyResourceList":"    ","error":"","errorDialogConfirm":"OK","errorDialogTitle":"  ","exitFullScreen":"   ","expandSection":" \\"{{section}}\\"   ","expandSidePanel":"    ","exportCopied":"        ","fetchManifest":" ","fullScreen":" ","gallery":" ","hideZoomControls":"     ","highlightAllAnnotations":"   ","iiif_homepage":"    ","iiif_manifest":"  IIIF","iiif_related":"","iiif_renderings":"  ","iiif_seeAlso":" ","import":" ","importWorkspace":"    ","importWorkspaceHint":" Mirador 3      ","item":": {{label}}","itemList":" ","jsError":" ","jsStack":"{{ stack }}","language":"","layer_hide":"   ","layer_move":"   ","layer_moveToTop":"     ","layer_opacity":" ","layer_show":" ","layers":" ","light":" ","links":"","listAllOpenWindows":"  ","login":"  ","logout":"  ","manifestError":"   :","maximizeWindow":"    ","minimizeWindow":"    ","mirador":"Mirador","miradorResources":" Mirador","miradorViewer":" Mirador","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"           .","moveCompanionWindowToBottom":"   ","moveCompanionWindowToRight":"   ","multipartCollection":"  ","nextCanvas":" ","noItemSelected":"    ","numItems_one":"{{number}} ","numItems_other":"{{number}} ","off":"","openCompanionWindow_annotations":"  ","openCompanionWindow_attribution":"","openCompanionWindow_canvas":" ","openCompanionWindow_info":"","openCompanionWindow_layers":" ","openCompanionWindow_search":"","openInCompanionWindow":"    ","openWindows":"  ","pagination":"{{total}}  {{current}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":" ","related":"","resource":"","retry":" ","right":"","rights":"","scroll":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"   ","searchPreviousResult":" ","searchResultsRemaining":"{{numLeft}}  ","searchSubmitAria":" ","searchTitle":"","selectWorkspaceMenu":"     ","showCollection":" ","showingNumAnnotations_one":" {{number}}  ","showingNumAnnotations_other":" {{number}}  ","showZoomControls":"   ","sidebarPanelsNavigation":"    ","single":"","startHere":"   ","suggestSearch":"    \\"{{ query }}\\"  ","tableOfContentsList":" ","theme":"","thumbnailList":"  ","thumbnailNavigation":" ","thumbnails":" ","toggleWindowSideBar":"    ","totalCollections_one":"{{count}} ","totalCollections_other":"{{count}} ","totalManifests_one":"{{count}} ","totalManifests_other":"{{count}}  ","tryAgain":"  ","untitled":"[ ]","view":"","viewWorkspaceConfiguration":"   ","welcome":" Mirador  ","window":": {{label}}","windowMenu":"     ","windowNavigation":"  ","windowPluginButtons":" ","windowPluginMenu":"  ","workspace":" ","workspaceFullScreen":" ","workspaceMenu":"  ","workspaceNavigation":"   ","workspaceOptions":"   ","workspaceSelectionTitle":"     ","zoomIn":"","zoomOut":" ","zoomReset":"  "}}');var ry={};ry=JSON.parse('{"translation":{"aboutMirador":"Mirador","aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"","addManifestUrlHelp":"IIIFURL","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"","authenticationRequired":"","backToResults":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}}","collapseSidePanel":"","collection":"","continue":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","digitizedView":"","dismiss":"","displayNoAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","error":"","errorDialogConfirm":"","errorDialogTitle":"","exitFullScreen":"","expandSection":"{{section}}","expandSidePanel":"","exportCopied":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"","highlightAllAnnotations":"","iiif_homepage":"","iiif_manifest":"IIIF","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador 3","item":": {{label}}","itemList":"","jsError":"","jsStack":"{{ stack }}","language":"","layer_hide":"","layer_move":"","layer_moveToTop":"","layer_opacity":"","layer_show":"","layers":"","light":"","links":"","listAllOpenWindows":"","login":"","logout":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","more":"...","moreResults":"","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","multipartCollection":"","nextCanvas":"","noItemSelected":"","numItems_one":"{{number}} ","numItems_other":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} / {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":"","searchNextResult":"","searchNoResults":"","searchPreviousResult":"","searchResultsRemaining":"{{numLeft}}","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"","showCollection":"","showingNumAnnotations_one":" {{number}} ","showingNumAnnotations_other":" {{number}} ","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","suggestSearch":"\\"{{ query }}\\"","tableOfContentsList":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections_one":"{{count}} ","totalCollections_other":"{{count}} ","totalManifests_one":"{{count}} ","totalManifests_other":"{{count}} ","tryAgain":"","untitled":"[]","view":"","viewWorkspaceConfiguration":"","welcome":"Mirador","window":": {{label}}","windowMenu":" & ","windowNavigation":"","windowPluginButtons":"","windowPluginMenu":"","workspace":"","workspaceFullScreen":"","workspaceMenu":"","workspaceNavigation":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}');var rb={};rb=JSON.parse('{"translation":{"aboutMirador":"Mirador","aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"","addManifestUrlHelp":"IIIFURL","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"","authenticationRequired":"","backToResults":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}}","collapseSidePanel":"","collection":"","continue":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","digitizedView":"","dismiss":"","displayNoAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","error":"","errorDialogConfirm":"","errorDialogTitle":"","exitFullScreen":"","expandSection":"{{section}}","expandSidePanel":"","exportCopied":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"","highlightAllAnnotations":"","iiif_homepage":"","iiif_manifest":"IIIF","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador 3","item":": {{label}}","itemList":"","jsError":"","jsStack":"{{ stack }}","language":"","layer_hide":"","layer_move":"","layer_moveToTop":"","layer_opacity":"","layer_show":"","layers":"","light":"","links":"","listAllOpenWindows":"","login":"","logout":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","more":"...","moreResults":"","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","multipartCollection":"","nextCanvas":"","noItemSelected":"","numItems_one":"{{number}} ","numItems_other":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} / {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":"","searchNextResult":"","searchNoResults":"","searchPreviousResult":"","searchResultsRemaining":"{{numLeft}}","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"","showCollection":"","showingNumAnnotations_one":" {{number}} ","showingNumAnnotations_other":" {{number}} ","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","suggestSearch":"\\"{{ query }}\\"","tableOfContentsList":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections_one":"{{count}} ","totalCollections_other":"{{count}} ","totalManifests_one":"{{count}} ","totalManifests_other":"{{count}} ","tryAgain":"","untitled":"[]","view":"","viewWorkspaceConfiguration":"","welcome":"Mirador","window":": {{label}}","windowMenu":" & ","windowNavigation":"","windowPluginButtons":"","windowPluginMenu":"","workspace":"","workspaceFullScreen":"","workspaceMenu":"","workspaceNavigation":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}');var rw={};rw=JSON.parse('{"translation":{"aboutMirador":"A propos du projet Mirador","aboutThisItem":"Informations","addedFromUrl":"(Ajout depuis une URL)","addManifestUrl":"Emplacement de la ressource","addManifestUrlHelp":"Coller ici l\'URL de la ressource IIIF","addResource":"Ajouter une ressource","annotationCanvasLabel_1/1":"Item : [{{label}}]","annotationCanvasLabel_1/2":"Gauche : [{{label}}]","annotationCanvasLabel_2/2":"Droite : [{{label}}]","annotations":"Annotations","attribution":"Attribution","attributionTitle":"Droits","authenticationFailed":"L\'authentification a chou.","authenticationRequired":"Authentification requise pour un accs complet","backToResults":"Retour aux rsultats","book":"Livre","bottom":"Bas","cancel":"Annuler","canvasIndex":"Index","changeTheme":"Changer le thme","clearSearch":"effacer","closeAddResourceForm":"Fermer le panneau","closeAddResourceMenu":"Fermer la liste des ressources","closeCompanionWindow":"Fermer le panneau","closeWindow":"Fermer cette fentre","collapseSection":"Replier la section \\"{{section}}\\"","collapseSidePanel":"Replier le panneau","continue":"Continuer","copy":"Copier","currentItem":"Image courante","currentItem_1/1":"Image courante","currentItem_1/2":"Gauche","currentItem_2/2":"Droite","dark":"Thme sombre","digitizedView":"Vue de l\'objet numrique","dismiss":"Rejeter","displayNoAnnotations":"Masquer tout","downloadExport":"Exporter l\'espace de travail","downloadExportWorkspace":"Exporter l\'espace de travail","elastic":"Elastique","elasticDescription":"Dplacer et redimensionner librement les fentres dans un espace de travail non limit par l\'cran. Les fentres peuvent tre superposes.","emptyResourceList":"Votre liste de ressource est vide","error":"Erreur","errorDialogConfirm":"OK","errorDialogTitle":"Une erreur est survenue","exitFullScreen":"Quitter le plein cran","expandSection":"Dplier la section \\"{{section}}\\"","expandSidePanel":"Dplier le panneau","exportCopied":"La configuration de l\'espace de travail a t copie dans votre presse-papier","fetchManifest":"Ajouter","fullScreen":"Plein cran","gallery":"Galerie","hideZoomControls":"Dsactiver les commandes de zoom","highlightAllAnnotations":"Afficher tout","iiif_homepage":"A propos de cette ressource","iiif_manifest":"Manifeste IIIF","iiif_renderings":"Formats alternatifs","iiif_seeAlso":"Voir aussi","import":"Importer","importWorkspace":"Importer un espace de travail","importWorkspaceHint":"Insrer une configuration Mirador 3  importer","item":"Item : {{label}}","itemList":"Liste compacte","jsError":"Dtails techniques","jsStack":"{{ stack }}","language":"Langue","layer_hide":"Masquer le calque","layer_move":"Dplacer le calque","layer_moveToTop":"Dplacer le calque en haut","layer_opacity":"Opacit du calque","layer_show":"Afficher le calque","layers":"Calques","light":"Thme clair","links":"Liens","listAllOpenWindows":"Lister les fentres","login":"Se connecter","logout":"Se dconnecter","manifestError":"Cette ressource ne peut pas tre ajoute :","maximizeWindow":"Agrandir cette fentre","minimizeWindow":"Rduire cette fentre","mirador":"Mirador","miradorResources":"Ressources Mirador","miradorViewer":"Visualiseur Mirador","more":"plus...","moreResults":"Plus de rsultats","mosaic":"Mosaque","mosaicDescription":"Dplacer et redimensionner les fentres les unes par rapport aux autres dans l\'espace disponible sur l\'cran","moveCompanionWindowToBottom":"Dplacer en bas","moveCompanionWindowToRight":"Dplacer  droite","nextCanvas":"Suivant","noItemSelected":"Aucun lment slectionn","numItems_one":"{{number}} image","numItems_other":"{{number}} images","off":"aucun","openCompanionWindow_annotations":"Annotations","openCompanionWindow_attribution":"Droits","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informations","openCompanionWindow_layers":"Calques","openCompanionWindow_search":"Rechercher","openInCompanionWindow":"Ouvrir dans un panneau spar","openWindows":"Fentres ouvertes","pagination":"{{current}} sur {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Prcdent","related":"En relation","resource":"Ressource","retry":"Ressayer","right":"Droite","rights":"Licence","scroll":"Dfilement horizontal","searchInputLabel":"Chercher un mot","searchNextResult":"Rsultat suivant","searchNoResults":"Aucun rsultat trouv","searchPreviousResult":"Rsultat prcdent","searchSubmitAria":"Lancer la recherche","searchTitle":"Rechercher","selectWorkspaceMenu":"Changer de type d\'espace de travail","showCollection":"Voir la collection","showingNumAnnotations_one":"{{number}} annotation affiche","showingNumAnnotations_other":"{{number}} annotations affiches","showZoomControls":"Activer les commandes de zoom","sidebarPanelsNavigation":"Navigation dans les panneaux latraux","single":"Simple","startHere":"Commencer ici","suggestSearch":"Rechercher \\"{{ query }}\\" dans ce document","tableOfContentsList":"Sommaire","theme":"Thme","thumbnailList":"Liste des vignettes","thumbnailNavigation":"Vignettes","thumbnails":"Afficher les vignettes","toggleWindowSideBar":"Afficher le menu latral","totalCollections_one":"{{count}} collection","totalCollections_other":"{{count}} collections","totalManifests_one":"{{count}} manifeste","totalManifests_other":"{{count}} manifestes","tryAgain":"Essayer  nouveau","untitled":"[Sans titre]","view":"Voir les images en mode","welcome":"Bienvenue dans Mirador","window":"Fentre : {{label}}","windowMenu":"Options de fentre","windowNavigation":"Navigation dans les fentres","windowPluginButtons":"Options","windowPluginMenu":"Autres options et outils","workspace":"Espace de travail","workspaceFullScreen":"Plein cran","workspaceMenu":"Rglages de l\'espace de travail","workspaceNavigation":"Menu de l\'espace de travail","workspaceOptions":"Options de l\'espace de travail","workspaceSelectionTitle":"Slectionner un type d\'espace de travail","zoomIn":"Zoom avant","zoomOut":"Zoom arrire","zoomReset":"Rinitialiser le zoom"}}');var rx={};rx=JSON.parse('{"translation":{"aboutMirador":"O Projektu Mirador","aboutThisItem":"O ovom zapisu","addedFromUrl":"(Dodano s URL-a)","addManifestUrl":"Lokacija resursa","addManifestUrlHelp":"URL IIIF resursa","addResource":"Dodaj resurs","annotationCanvasLabel_1/1":"Stavka: [{{label}}]","annotationCanvasLabel_1/2":"Lijevo: [{{label}}]","annotationCanvasLabel_2/2":"Desno: [{{label}}]","annotations":"Anotacije","attribution":"Pripisivanje","attributionTitle":"Prava","authenticationFailed":"Autentifikacija nije uspjela","authenticationRequired":"Potrebna je autentifikacija za potpuni pristup","backToResults":"Povratak na rezultate","book":"Knjiga","bottom":"Dno","cancel":"Otkai","canvasIndex":"Indeks","changeTheme":"Promijeni temu","clearSearch":"oisti","close":"Zatvori","closeAddResourceForm":"Zatvori obrazac","closeAddResourceMenu":"Zatvori popis resursa","closeCompanionWindow":"Zatvori plou","closeWindow":"Zatvori prozor","collapseSection":"Sami \\"{{section}}\\" odjeljak","collapseSidePanel":"Sklopi bonu traku","collection":"Kolekcija","continue":"Nastavi","copy":"Kopiraj","currentItem":"Trenutna stavka","currentItem_1/1":"Trenutna stavka","currentItem_1/2":"Lijevo","currentItem_2/2":"Desno","dark":"Tamna tema","digitizedView":"Digitalizirani prikaz","dismiss":"Odbaci","displayNoAnnotations":"Istaknite nita","downloadExport":"Izvezi radni prostor","downloadExportWorkspace":"Izvezi radni prostor","elastic":"Elastian","elasticDescription":"Premjetajte i mijenjajte veliinu prozora slobodno u neogranienom radnom prostoru. Prozori se mogu preklapati.","emptyResourceList":"Va popis resursa je prazan","error":"Greka","errorDialogConfirm":"U redu","errorDialogTitle":"Dolo je do greke","exitFullScreen":"Izai iz punog zaslona","expandSection":"Proiri odjeljak \\"{{section}}\\"","expandSidePanel":"Proiri bonu traku","exportCopied":"Konfiguracija radnog prostora kopirana je u va meuspremnik","fetchManifest":"Dodaj","fullScreen":"Cijeli ekran","gallery":"Galerija","hideZoomControls":"Sakrij kontrole zuma","highlightAllAnnotations":"Istakni sve","iiif_homepage":"O ovom resursu","iiif_manifest":"IIIF manifest","iiif_related":"Srodno","iiif_renderings":"Alternativni formati","iiif_seeAlso":"Vidi takoer","import":"Uvoz","importWorkspace":"Uvezi radni prostor","importWorkspaceHint":"Zalijepite konfiguraciju Mirador 3 koju treba uvesti","item":"Stavka: {{label}}","itemList":"Popis stavki","jsError":"Tehniki detalji","jsStack":"{{ stack }}","language":"Jezik","layer_hide":"Sakrij sloj","layer_move":"Premjesti sloj","layer_moveToTop":"Premjesti sloj na vrh","layer_opacity":"Prozirnost sloja","layer_show":"Prikai sloj","layers":"Slojevi","light":"Svijetla tema","links":"Poveznice","listAllOpenWindows":"Skoi do prozora","login":"Prijavi se","logout":"Odjavi se","manifestError":"Resurs se ne moe dodati","maximizeWindow":"Maksimiziraj prozor","minimizeWindow":"Minimiziraj prozor","mirador":"Mirador","miradorResources":"Mirador resursi","miradorViewer":"Preglednik Mirador","more":"jo...","moreResults":"Vie rezultata","mosaic":"Mozaik","mosaicDescription":"Pomiite i mijenjajte veliinu prozora u odnosu jedan prema drugom, unutar vidljivog okvira.","moveCompanionWindowToBottom":"Pomakni se na dno","moveCompanionWindowToRight":"Pomakni se udesno","multipartCollection":"Viedijelna zbirka","nextCanvas":"Sljedea stavka","noItemSelected":"Nijedna stavka nije odabrana","numItems_one":"{{number}} predmet","numItems_other":"{{number}} artikala","off":"Iskljueno","openCompanionWindow_annotations":"Biljeke","openCompanionWindow_attribution":"Prava","openCompanionWindow_canvas":"Indeks","openCompanionWindow_info":"Informacija","openCompanionWindow_layers":"Slojevi","openCompanionWindow_search":"Pretraivanje","openInCompanionWindow":"Otvori u zasebnom panelu","openWindows":"Trenutno otvoreni prozori","pagination":"{{current}} od {{total}}","position":"Pozicija","previewWindowTitle":"{{title}}","previousCanvas":"Prethodna stavka","related":"Srodno","resource":"Resurs","retry":"Pokuaj ponovno","right":"Desno","rights":"Licenca","scroll":"Pomakni","searchInputLabel":"pojmovima pretraivanja","searchNextResult":"Sljedei rezultat","searchNoResults":"Nema rezultata","searchPreviousResult":"Prethodni rezultat","searchResultsRemaining":"Preostalo je {{numLeft}}","searchSubmitAria":"Podnesi pretragu","searchTitle":"Pretraivanje","selectWorkspaceMenu":"Odaberite vrstu radnog prostora","showCollection":"Prikai kolekciju","showingNumAnnotations_one":"Prikazivanje {{number}} biljeke","showingNumAnnotations_other":"Prikazivanje {{number}} biljeki","showZoomControls":"Prikai kontrole zumiranja","sidebarPanelsNavigation":"Bone ploe navigacija","single":"Jedan","startHere":"Ponite ovdje","suggestSearch":"Pretrai ovaj dokument za \\"{{ query }}\\"","tableOfContentsList":"Sadraj","theme":"Tema","thumbnailList":"Popis sliica","thumbnailNavigation":"Sliice","thumbnails":"Sliice","toggleWindowSideBar":"Prebaci bonu traku","totalCollections_one":"{{count}} kolekcija","totalCollections_other":"{{count}} kolekcija","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifesta","tryAgain":"Pokuaj ponovno","untitled":"[Nenaslovljeno]","view":"Pogled","viewWorkspaceConfiguration":"Pogledaj konfiguraciju radnog prostora","welcome":"Dobrodoli u Mirador","window":"Prozor: {{label}}","windowMenu":"Prikazi prozora i prikaz sliica","windowNavigation":"Navigacija prozorom","windowPluginButtons":"Opcije","windowPluginMenu":"Opcije prozora","workspace":"Radni prostor","workspaceFullScreen":"Puni zaslon","workspaceMenu":"Postavke radnog prostora","workspaceNavigation":"Navigacija radnog prostora","workspaceOptions":"Opcije radnog prostora","workspaceSelectionTitle":"Odaberite vrstu radnog prostora","zoomIn":"Poveaj","zoomOut":"Umanji prikaz","zoomReset":"Poniti zumiranje"}}');var rS={};rS=JSON.parse('{"translation":{"aboutMirador":"Project Mirador","aboutThisItem":"","addedFromUrl":"(URL)","addManifestUrl":"IIIFURI","addManifestUrlHelp":"IIIFURI","addResource":"","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":"","authenticationRequired":"","backToResults":"","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"","closeCompanionWindow":"","closeWindow":"","collapseSection":"{{section}} ","collapseSidePanel":"","collection":"","continue":"","copy":"","currentItem":"","currentItem_1/1":"","currentItem_1/2":"","currentItem_2/2":"","dark":"","digitizedView":"","dismiss":"","displayNoAnnotations":"","downloadExport":"","downloadExportWorkspace":"","elastic":"","elasticDescription":"","emptyResourceList":"","error":"","errorDialogConfirm":"OK","errorDialogTitle":"","exitFullScreen":"","expandSection":" {{section}}","expandSidePanel":"","exportCopied":"","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"zoom","highlightAllAnnotations":"","iiif_homepage":"IIIF","iiif_manifest":"IIIF ","iiif_renderings":"","iiif_seeAlso":"","import":"","importWorkspace":"","importWorkspaceHint":"Mirador3","item":": {{label}}","itemList":"","jsError":"","jsStack":"{{ stack }}","language":"","layer_hide":"","layer_move":"","layer_moveToTop":"","layer_opacity":"","layer_show":"","layers":"","light":"","links":"","listAllOpenWindows":"","login":"","logout":"","manifestError":":","maximizeWindow":"","minimizeWindow":"","mirador":"Mirador","miradorResources":"Mirador","miradorViewer":"Mirador","more":"...","moreResults":"","mosaic":"","mosaicDescription":"","moveCompanionWindowToBottom":"","moveCompanionWindowToRight":"","nextCanvas":"","noItemSelected":"","numItems_one":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"","openWindows":"","pagination":"{{current}} of {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":"","searchNextResult":"","searchNoResults":"","searchPreviousResult":"","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"","showCollection":"","showingNumAnnotations_one":" {{number}} ","showZoomControls":"","sidebarPanelsNavigation":"","single":"","startHere":"","suggestSearch":" \\"{{ query }}\\" ","tableOfContentsList":"","theme":"","thumbnailList":"","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections_one":"{{count}} ","totalManifests_one":"{{count}} ","tryAgain":"","untitled":"[]","view":"","welcome":"Mirador","window":"{{label}} ","windowMenu":"","windowNavigation":"","windowPluginButtons":"","windowPluginMenu":"","workspace":"","workspaceFullScreen":"","workspaceMenu":"","workspaceNavigation":"","workspaceOptions":"","workspaceSelectionTitle":"","zoomIn":"","zoomOut":"","zoomReset":""}}');var r_={};r_=JSON.parse('{"translation":{"aboutMirador":"Mirador  ","aboutThisItem":"  ","addedFromUrl":"(URL )","addManifestUrl":" ","addManifestUrlHelp":"IIIF  URL","addResource":" ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":" .","authenticationRequired":"     .","backToResults":" ","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":" ","clearSearch":"","close":"","closeAddResourceForm":" ","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":"\\"{{section}}\\"  ","collapseSidePanel":" ","collection":"","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":" ","dismiss":"","displayNoAnnotations":" ","downloadExport":" ","downloadExportWorkspace":" ","elastic":"","elasticDescription":"     .     .","emptyResourceList":"  ","error":"","errorDialogConfirm":"","errorDialogTitle":" ","exitFullScreen":" ","expandSection":"\\"{{section}}\\"  ","expandSidePanel":" ","exportCopied":"   ","fetchManifest":"","fullScreen":"","gallery":"","hideZoomControls":"/  ","highlightAllAnnotations":" ","iiif_homepage":"  ","iiif_manifest":"IIIF ","iiif_renderings":" ","iiif_seeAlso":"","import":"","importWorkspace":" ","importWorkspaceHint":"Mirador 3   ","item":": {{label}}","itemList":" ","jsError":" ","jsStack":"{{ stack }}","language":"","layer_hide":" ","layer_move":" ","layer_moveToTop":"  ","layer_opacity":" ","layer_show":" ","layers":"","light":" ","links":"","listAllOpenWindows":" ","login":"","logout":"","manifestError":"   :","maximizeWindow":"  ","minimizeWindow":"  ","mirador":"Mirador","miradorResources":"Mirador ","miradorViewer":"Mirador ","more":" ...","moreResults":"  ","mosaic":"","mosaicDescription":"     .","moveCompanionWindowToBottom":" ","moveCompanionWindowToRight":" ","nextCanvas":" ","noItemSelected":"  ","numItems_one":"{{number}} ","numItems_other":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"  ","openWindows":"  ","pagination":"{{current}} of {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":" ","related":"","resource":"","retry":"","right":"","rights":"","scroll":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"  ","searchPreviousResult":" ","searchResultsRemaining":"{{numLeft}} ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"  ","showCollection":" ","showingNumAnnotations_one":"{{number}}  ","showingNumAnnotations_other":"{{number}}  ","showZoomControls":"/  ","sidebarPanelsNavigation":"  ","single":" ","startHere":"","suggestSearch":"  \\"{{ query }}\\" ","tableOfContentsList":"","theme":"","thumbnailList":" ","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":" ","totalCollections_one":"{{count}} ","totalCollections_other":"{{count}} ","totalManifests_one":"{{count}} ","totalManifests_other":"{{count}} ","tryAgain":" ","untitled":"[ ]","view":"","viewWorkspaceConfiguration":"  ","welcome":"Mirador   ","window":": {{label}}","windowMenu":"  &  ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":"","workspaceFullScreen":"","workspaceMenu":" ","workspaceNavigation":" ","workspaceOptions":" ","workspaceSelectionTitle":"  ","zoomIn":"","zoomOut":"","zoomReset":" "}}');var rE={};rE=JSON.parse('{"translation":{"aboutThisItem":"Over dit item","addedFromUrl":"(Toegevoegd via URL)","addManifestUrl":"Locatie bron","addManifestUrlHelp":"De URL van een IIIF-resource","addResource":"Voeg bron toe","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Links: [{{label}}]","annotationCanvasLabel_2/2":"Rechts: [{{label}}]","annotations":"Annotaties","attribution":"Naamsvermelding","attributionTitle":"Rechten","authenticationFailed":"Authenticatie gefaald.","authenticationRequired":"Authenticatie is vereist voor volledige toegang","backToResults":"Terug naar resultaten","book":"Boek","bottom":"Onderaan","cancel":"Annuleer","canvasIndex":"Index","changeTheme":"Wijzig thema","clearSearch":"clear","closeAddResourceForm":"Sluit formulier","closeAddResourceMenu":"Sluit lijst met bronnen","closeCompanionWindow":"Sluit paneel","closeWindow":"Sluit venster","collapseSection":"Klap \\"{{section}}\\" sectie in","collapseSidePanel":"Klap zijbalk in","continue":"Ga verder","copy":"Kopieer","currentItem":"Huidig item","currentItem_1/1":"Huidig item","currentItem_1/2":"Links","currentItem_2/2":"Rechts","dark":"Donker thema","dismiss":"Dismiss","downloadExport":"Exporteer workspace","downloadExportWorkspace":"Exporteer workspace","elastic":"Elastisch","elasticDescription":"Verplaats en rangschik vensters vrij in een onbeperkte workspace. Vensters kunnen elkaar overlappen.","emptyResourceList":"Je lijst met bronnen is leeg","errorDialogConfirm":"OK","errorDialogTitle":"Er is een fout opgetreden","exitFullScreen":"Verlaat volledig scherm","expandSection":"Klap \\"{{section}}\\" sectie uit","expandSidePanel":"Klap zijbalk uit","fetchManifest":"Voeg toe","fullScreen":"Volledig scherm","gallery":"Gallerij","hideZoomControls":"Verberg zoomknoppen","highlightAllAnnotations":"Markeer alles","iiif_homepage":"Over deze bron","iiif_manifest":"IIIF-manifest","iiif_renderings":"Alternatieve formaten","iiif_seeAlso":"Zie ook","import":"Importeer","importWorkspace":"Importeer workspace","importWorkspaceHint":"Plak een Mirador 3 configuratie die gemporteerd moet worden","item":"Item: {{label}}","itemList":"Compacte lijst","language":"Taal","light":"Licht thema","links":"Links","listAllOpenWindows":"Ga naar venster","login":"Log in","manifestError":"De bron kan niet worden toegevoegd:","maximizeWindow":"Maximaliseer venster","minimizeWindow":"Minimaliseer venster","mirador":"Mirador","miradorResources":"Mirador resources","miradorViewer":"Mirador viewer","more":"meer...","moreResults":"Meer resultaten","mosaic":"Mozaek","mosaicDescription":"Verplaats en rangschik vensters in verhouding tot elkaar binnen het zichtbare kader.","moveCompanionWindowToBottom":"Verplaats naar beneden","moveCompanionWindowToRight":"Verplaats naar rechts","nextCanvas":"Volgend item","numItems_one":"{{number}} item","numItems_other":"{{number}} items","off":"Uit","openCompanionWindow_annotations":"Annotaties","openCompanionWindow_attribution":"Rechten","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Informatie","openCompanionWindow_search":"Zoeken","openInCompanionWindow":"Open in een apart paneel","openWindows":"Geopende vensters","pagination":"{{current}} van {{total}}","position":"Positie","previewWindowTitle":"{{title}}","previousCanvas":"Vorig item","related":"Verwant","resource":"Bron","retry":"Probeer opnieuw","right":"Rechts","rights":"Licentie","searchInputLabel":"zoek termen","searchNextResult":"Volgend resultaat","searchNoResults":"Geen resultaten gevonden","searchPreviousResult":"Vorig resultaat","searchSubmitAria":"Zoeken","searchTitle":"Zoek","selectWorkspaceMenu":"Selecteer workspacetype","showingNumAnnotations_one":"{{number}} annotatie weergegeven","showingNumAnnotations_other":"{{number}} annotaties weergegeven","showZoomControls":"Toon zoomknoppen","sidebarPanelsNavigation":"Zijbalk panelen navigatie","single":"Enkel","startHere":"Begin Hier","suggestSearch":"Zoek in dit document naar \\"{{ query }}\\"","theme":"Thema","thumbnailList":"Lijst thumbnails","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Toon zijbalk","totalCollections_one":"{{count}} collectie","totalCollections_other":"{{count}} collecties","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifests","tryAgain":"Probeer opnieuw","untitled":"[Zonder titel]","view":"Weergave","welcome":"Welkom in Mirador","window":"Venster: {{label}}","windowMenu":"Vensters- en miniatuurweergave","windowNavigation":"Navigatie venster","windowPluginButtons":"Opties","windowPluginMenu":"Vensteropties","workspace":"Workspace","workspaceFullScreen":"Volledig scherm","workspaceMenu":"Workspace instellingen","workspaceOptions":"Workspace opties","workspaceSelectionTitle":"Selecteer een workspace type","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reset zoom"}}');var rT={};rT=JSON.parse('{"translation":{"aboutMirador":"O Projekcie Mirador","aboutThisItem":"O biecej pozycji","addedFromUrl":"(Dodano z URL)","addManifestUrl":"Lokalizacja zasobw","addManifestUrlHelp":"URL zasobw IIIF","addResource":"Dodaj zasoby","annotationCanvasLabel_1/1":"Pozycja: [{{label}}]","annotationCanvasLabel_1/2":"Lewo: [{{label}}]","annotationCanvasLabel_2/2":"Prawo: [{{label}}]","annotations":"Adnotacje","attribution":"Atrybucja","attributionTitle":"Prawa","authenticationFailed":"Uwierzytelnianie nie powiodo si.","authenticationRequired":"Do penego dostpu wymagane jest uwierzytelnienie","backToResults":"Powrt do wynikw","book":"Ksika","bottom":"D","cancel":"Anuluj","canvasIndex":"Indeks","changeTheme":"Zmie motyw","clearSearch":"wyczy","close":"Zamknij","closeAddResourceForm":"Zamknij formularz","closeAddResourceMenu":"Zamknij list zasobw","closeCompanionWindow":"Zamknij panel","closeWindow":"Zamknij okno","collapseSection":"Zwi sekcj \\"{{section}}\\"","collapseSidePanel":"Zwi panel boczny","collection":"Zbir","continue":"Kontynuuj","copy":"Kopiuj","currentItem":"Bieca pozycja","currentItem_1/1":"Bieca pozycja","currentItem_1/2":"Lewo","currentItem_2/2":"Prawo","dark":"Ciemny motyw","digitizedView":"Widok zdigitalizowany","dismiss":"Odrzu","displayNoAnnotations":"Nie podwietlaj","downloadExport":"Eksportuj obszar roboczy","downloadExportWorkspace":"Eksportuj obszar roboczy","elastic":"Elastyczny","elasticDescription":"Swobodnie przesuwaj i dopasowuj okna w nieograniczonej przestrzeni roboczej. Okna mog zachodzi na siebie.","emptyResourceList":"Twoja lista zasobw jest pusta","error":"Bd","errorDialogConfirm":"OK","errorDialogTitle":"Wystpi bd","exitFullScreen":"Wycz tryb penoekranowy","expandSection":"Rozwi sekcj \\"{{section}}\\"","expandSidePanel":"Rozwi panel boczny","exportCopied":"Konfiguracja obszaru roboczego zostaa skopiowana do schowka","fetchManifest":"Dodaj","fullScreen":"Peny ekran","gallery":"Galeria","hideZoomControls":"Ukryj kontrolki powikszenia","highlightAllAnnotations":"Podwietl wszystko","iiif_homepage":"O tym zasobie","iiif_manifest":"Manifest IIIF","iiif_renderings":"Alternatywne formaty","iiif_seeAlso":"Zobacz te","import":"Importuj","importWorkspace":"Importuj obszar roboczy","importWorkspaceHint":"Wklej konfiguracj Mirador 3 do zaimportowania","item":"Pozycja: {{label}}","itemList":"Lista pozycji","jsError":"Szczegy techniczne","jsStack":"{{ stack }}","language":"Jzyk","layer_hide":"Ukryj warstw","layer_move":"Przenie warstw","layer_moveToTop":"Przenie warstw na gr","layer_opacity":"Krycie warstwy","layer_show":"Poka warstw","layers":"Warstwy","light":"Jasny motyw","links":"Linki","listAllOpenWindows":"Przejd do okna","login":"Zaloguj","logout":"Wyloguj","manifestError":"Nastpujce zasoby nie mog by dodane:","maximizeWindow":"Maksymalizuj okno","minimizeWindow":"Minimalizuj okno","mirador":"Mirador","miradorResources":"Zasoby Mirador","miradorViewer":"Przegldarka Mirador","more":"wicej...","moreResults":"Wicej wynikw","mosaic":"Mozaika","mosaicDescription":"Przesuwaj i zmieniaj rozmiary okien wzgldem siebie, w widocznej ramce.","moveCompanionWindowToBottom":"Przesu na d","moveCompanionWindowToRight":"Przesu w prawo","nextCanvas":"Nastpna pozycja","noItemSelected":"Nie wybrano pozycji","numItems_one":"{{number}} pozycja","numItems_other":"{{number}} pozycje","off":"Wycz","openCompanionWindow_annotations":"Adnotacje","openCompanionWindow_attribution":"Prawa","openCompanionWindow_canvas":"Indeks","openCompanionWindow_info":"Informacje","openCompanionWindow_layers":"Warstwy","openCompanionWindow_search":"Szukaj","openInCompanionWindow":"Otwrz w oddzielnym panelu","openWindows":"Aktualnie otwarte okna","pagination":"{{current}} of {{total}}","position":"Pozycja","previewWindowTitle":"{{title}}","previousCanvas":"Poprzednia pozycja","related":"Powizane","resource":"Zasoby","retry":"Sprbuj ponownie","right":"Prawo","rights":"Licencja","scroll":"Przewi","searchInputLabel":"szukane sowa","searchNextResult":"Nastpny wynik","searchNoResults":"Nie znaleziono wynikw","searchPreviousResult":"Poprzedni wynik","searchResultsRemaining":"Pozostao {{numLeft}}","searchSubmitAria":"Wyszukaj","searchTitle":"Wyszukaj","selectWorkspaceMenu":"Wybierz typ obszaru roboczego","showCollection":"Poka zbir","showingNumAnnotations_one":"Wywietlanie {{number}} adnotacji","showingNumAnnotations_other":"Wywietlanie {{number}} adnotacji","showZoomControls":"Poka kontrolki powikszenia","sidebarPanelsNavigation":"Nawigacja paskw panelu bocznego","single":"Pojedynczy","startHere":"Zacznij tutaj","suggestSearch":"Przeszukaj ten dokument pod ktem \\"{{ query }}\\"","tableOfContentsList":"Spis treci","theme":"Motyw","thumbnailList":"Lista miniatur","thumbnailNavigation":"Miniatury","thumbnails":"Miniatury","toggleWindowSideBar":"Przecz panel boczny","totalCollections_one":"{{count}} zbir","totalCollections_other":"{{count}} zbiorw","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifestw","tryAgain":"Sprbuj ponownie","untitled":"[Bez nazwy]","view":"Widok","viewWorkspaceConfiguration":"Wywietl konfiguracj obszaru roboczego","welcome":"Witaj w Miradorze","window":"Okno: {{label}}","windowMenu":"Widoki okien i wywietlanie miniatur","windowNavigation":"Nawigacja okna","windowPluginButtons":"Opcje","windowPluginMenu":"Opcje okna","workspace":"Obszar roboczy","workspaceFullScreen":"Peny ekran","workspaceMenu":"Ustawienia obszaru roboczego","workspaceNavigation":"Nawigacja obszaru roboczego","workspaceOptions":"Opcje obszaru roboczego","workspaceSelectionTitle":"Wybierz typ obszaru roboczego","zoomIn":"Przybli","zoomOut":"Oddal","zoomReset":"Zresetuj powikszenie"}}');var rO={};rO=JSON.parse('{"translation":{"aboutThisItem":"Sobre esse item","addedFromUrl":"(Adicionado por URL)","addManifestUrl":"Localizao do manifesto","addManifestUrlHelp":"URL do manifesto IIIF","addResource":"Adicionar contedo","annotationCanvasLabel_1/1":"Item: [{{label}}]","annotationCanvasLabel_1/2":"Esquerda: [{{label}}]","annotationCanvasLabel_2/2":"Direita: [{{label}}]","annotations":"Anotaes","attribution":"Atribuies","attributionTitle":"Direitos","authenticationFailed":"Falha na autenticao.","authenticationRequired":"Autenticao necessria para acesso completo","backToResults":"Voltar aos resultados","book":"Livro","bottom":"Embaixo","cancel":"Cancelar","canvasIndex":"ndice","changeTheme":"Mudar tema","clearSearch":"limpar","closeAddResourceForm":"Fechar formulrio","closeAddResourceMenu":"Fechar lista de contedo","closeCompanionWindow":"Fechar painel","closeWindow":"Fechar janela","collapseSection":"Suprimir seo \\"{{section}}\\"","collapseSidePanel":"Suprimir barra lateral","continue":"Continuar","copy":"Copiar","currentItem":"Item atual","currentItem_1/1":"Item atual","currentItem_1/2":"Esquerda","currentItem_2/2":"Direita","dark":"Tema escuro","dismiss":"Cancelar","downloadExport":"Exportar rea de trabalho","downloadExportWorkspace":"Exportar rea de trabalho","elastic":"Elstico","elasticDescription":"Mova e redimensione janelas livremente numa rea de trabalho ilimitada. Janelas podem se sobrepor.","emptyResourceList":"Sua lista de contedos est vazia","errorDialogConfirm":"OK","errorDialogTitle":"Um erro ocorreu","exitFullScreen":"Sair do modo tela cheia","expandSection":"Expandir seo \\"{{section}}\\"","expandSidePanel":"Expandir barra lateral","fetchManifest":"Adicionar","fullScreen":"Tela cheia","gallery":"Galeria","hideZoomControls":"Ocultar controles de zoom","highlightAllAnnotations":"Exibir todas","iiif_homepage":"Sobre esse contedo","iiif_manifest":"Manifesto IIIF","iiif_renderings":"Outros formatos","iiif_seeAlso":"Veja tambm","import":"Importar","importWorkspace":"Importar rea de trabalho","importWorkspaceHint":"Cole uma configurao do Mirador 3 para importar","item":"Item: {{label}}","itemList":"Lista compacta","language":"Idioma","light":"Tema claro","links":"Links","listAllOpenWindows":"Pular para janela","login":"Login","manifestError":"O contedo no pode ser adicionado:","maximizeWindow":"Maximizar janela","minimizeWindow":"Minimizar janela","mirador":"Mirador","miradorResources":"contedo Mirador","miradorViewer":"visualizador Mirador","more":"mais...","moreResults":"Mais resultados","mosaic":"Mosico","mosaicDescription":"Mova e redimensione janelas em relao entre si, dentro de uma rea visvel (grid).","moveCompanionWindowToBottom":"Mover para baixo","moveCompanionWindowToRight":"Mover para direita","nextCanvas":"Prximo item","numItems_one":"{{number}} itens","off":"Desativado","openCompanionWindow_annotations":"Anotaes","openCompanionWindow_attribution":"Direitos","openCompanionWindow_canvas":"ndice","openCompanionWindow_info":"Informaes","openCompanionWindow_search":"Busca","openInCompanionWindow":"Abrir em janela separada","openWindows":"Janelas abertas","pagination":"{{current}} de {{total}}","position":"Posio","previewWindowTitle":"{{title}}","previousCanvas":"Item anterior","related":"Relacionado","resource":"Contedo","retry":"Tentar novamente","right":"Direita","rights":"Licenas","searchInputLabel":"termos de busca","searchNextResult":"Prximo resultado","searchNoResults":"Nenhum resultado encontrado","searchPreviousResult":"Resultado anterior","searchSubmitAria":"Realizar busca","searchTitle":"Busca","selectWorkspaceMenu":"Selecione um tipo de rea de trabalho","showingNumAnnotations_one":"Mostrando {{number}} anotaes","showZoomControls":"Mostrar controles de zoom","sidebarPanelsNavigation":"Navegao por paineis na barra lateral","single":"Individual","startHere":"Comece aqui","suggestSearch":"Procurar neste documento por \\"{{ query }}\\"","theme":"Tema","thumbnailList":"Lista de thumbnails","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Ver barra lateral","tryAgain":"Tente novamente","untitled":"[Sem ttulo]","view":"Visualizaes","welcome":"Bem-vindo ao Mirador","window":"Janela: {{label}}","windowMenu":"Opes de visualizao de janelas e thumbnails","windowNavigation":"Navegao de janelas","windowPluginButtons":"Opes","windowPluginMenu":"Opes de janela","workspace":"rea de trabalho","workspaceFullScreen":"Tela cheia","workspaceMenu":"Configuraes de rea de trabalho","workspaceOptions":"Opes de rea de trabalho","workspaceSelectionTitle":"Selecionar tipo de rea de trabalho","zoomIn":"Mais zoom","zoomOut":"Menos zoom","zoomReset":"Zerar zoom"}}');var rI={};rI=JSON.parse('{"translation":{"aboutMirador":"Informazioni su Mirador","aboutThisItem":"Informazioni sull\'oggetto","addedFromUrl":"(Aggiunto dall\'URL)","addManifestUrl":"URL della risorsa","addManifestUrlHelp":"L\'URL di una risorsa IIIF","addResource":"Aggiungi una risorsa","annotationCanvasLabel_1/1":"Oggetto: [{{label}}]","annotationCanvasLabel_1/2":"Sinistra: [{{label}}]","annotationCanvasLabel_2/2":"Destra: [{{label}}]","annotations":"Annotazioni","attribution":"Attribuzione","attributionTitle":"Diritti","authenticationFailed":"Autenticazione fallita.","authenticationRequired":"Autenticazione richiesta per l\'accesso completo","backToResults":"Torna ai risultati","book":"Libro","bottom":"Fondo","cancel":"Cancella","canvasIndex":"Indice","changeTheme":"Cambia tema","clearSearch":"pulisci","close":"Chiudi","closeAddResourceForm":"Chiudi il modulo","closeAddResourceMenu":"Chiudi la lista di risorse","closeCompanionWindow":"Chiudi il pannello","closeWindow":"Chiudi finestra","collapseSection":"Collassa la sezione \\"{{section}}\\"","collapseSidePanel":"Collassa la barra laterale","collection":"Collezione","continue":"Continua","copy":"Copia","currentItem":"Oggetto corrente","currentItem_1/1":"Oggetto corrente","currentItem_1/2":"Sinistra","currentItem_2/2":"Destra","dark":"Tema scuro","digitizedView":"Digitized view","dismiss":"Dismiss","displayNoAnnotations":"Nascondi evidenziazione","downloadExport":"Esporta il workspace","downloadExportWorkspace":"Esporta il workspace","elastic":"Elastico","elasticDescription":"Muovi e ridimensiona le finestre liberamente in un workspace illimitato. Le finestre possono sovrapporsi.","emptyResourceList":"La tua lista di risorse  vuota.","error":"Errore","errorDialogConfirm":"OK","errorDialogTitle":"Si  verificato un errore.","exitFullScreen":"Esci da schermo intero","expandSection":"Espandi la sezione \\"{{section}}\\"","expandSidePanel":"Espandi la barra laterale","exportCopied":"La configurazione del workspace  stata copiata nella tua clipboard","fetchManifest":"Aggiungi","fullScreen":"Schermo intero","gallery":"Galleria","hideZoomControls":"Nascondi i controlli di zoom","highlightAllAnnotations":"Evidenzia tutto","iiif_homepage":"Informazioni su questa risorsa","iiif_manifest":"IIIF manifest","iiif_renderings":"Formati alternativi","iiif_seeAlso":"Vedi anche","import":"Importa","importWorkspace":"Importa workspace","importWorkspaceHint":"Incolla una configurazione di Mirador 3 da importare","item":"Oggetto: {{label}}","itemList":"Lista compatta","jsError":"Dettagli tecnici","jsStack":"{{ stack }}","language":"Lingua","layer_hide":"Nascondi livello","layer_move":"Sposta livello","layer_moveToTop":"Sposta il livello in alto","layer_opacity":"Opacit del livello","layer_show":"Visualizza livello","layers":"Livelli","light":"Tema chiaro","links":"Link","listAllOpenWindows":"Vai alla finestra","login":"Entra","logout":"Esci","manifestError":"La risorsa non pu essere aggiunta:","maximizeWindow":"Massimizza la finestra","minimizeWindow":"Minimizza la finestra","mirador":"Mirador","miradorResources":"Risorse Mirador","miradorViewer":"Visualizzatore Mirador","more":"ancora...","moreResults":"Pi risultati","mosaic":"Mosaico","mosaicDescription":"Muovi e ridimensiona le finestre, tenendole all\'interno dell\'area visibile","moveCompanionWindowToBottom":"Sposta in fondo","moveCompanionWindowToRight":"Sposta a destra","nextCanvas":"Oggetto Successivo","noItemSelected":"Nessun oggetto selezionato","numItems_one":"{{number}} oggetti","numItems_other":"{{number}} oggetti","off":"Off","openCompanionWindow_annotations":"Annotazioni","openCompanionWindow_attribution":"Diritti","openCompanionWindow_canvas":"Indice","openCompanionWindow_info":"Informazioni","openCompanionWindow_layers":"Livelli","openCompanionWindow_search":"Cerca","openInCompanionWindow":"Apri in un pannello separato","openWindows":"Finestre aperte in questo momento","pagination":"{{current}} di {{total}}","position":"Posizione","previewWindowTitle":"{{title}}","previousCanvas":"Oggetto precedente","related":"Contenuti collegati","resource":"Risorsa","retry":"Riprova","right":"Right","rights":"Licenza","scroll":"Scorri","searchInputLabel":"termini di ricerca","searchNextResult":"Prossimo risultato","searchNoResults":"Nessun risultato","searchPreviousResult":"Risultato precedente","searchResultsRemaining":"{{numLeft}} rimanenti","searchSubmitAria":"Cerca","searchTitle":"Cerca","selectWorkspaceMenu":"Selezione il tipo di workspace","showCollection":"Visualizza la collezione","showingNumAnnotations_one":"Sto mostrando {{number}} annotazioni","showingNumAnnotations_other":"Visualizzando {{number}} annotazioni","showZoomControls":"Mostra i controlli di zoom","sidebarPanelsNavigation":"Navigazione dei pannelli della barra laterale","single":"Singolo","startHere":"Inizia qui","suggestSearch":"Cerca in questo documento: \\"{{ query }}\\"","tableOfContentsList":"Sommario","theme":"Tema","thumbnailList":"Lista thumbnail","thumbnailNavigation":"Thumbnails","thumbnails":"Thumbnails","toggleWindowSideBar":"Apri/Chiudi la barra","totalCollections_one":"{{count}} collezione","totalCollections_other":"{{count}} collezioni","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifests","tryAgain":"Riprova","untitled":"[senza titolo]","view":"Visualizza","viewWorkspaceConfiguration":"Visualizza la configurazione del workspace","welcome":"Benvenuto in Mirador","window":"Finestra: {{label}}","windowMenu":"Visualizzazioni finestra e display thumbnail","windowNavigation":"Navigazione finestra","windowPluginButtons":"Opzioni","windowPluginMenu":"Opzioni finestra","workspace":"Workspace","workspaceFullScreen":"Schermo intero","workspaceMenu":"Configurazioni Workspace","workspaceNavigation":"Navigazione del workspace","workspaceOptions":"Opzioni Workspace","workspaceSelectionTitle":"Seleziona il tipo di workspace","zoomIn":"Zoom in","zoomOut":"Zoom out","zoomReset":"Reimposta zoom"}}');var rP={};rP=JSON.parse('{"translation":{"aboutMirador":"  Mirador","aboutThisItem":"","addedFromUrl":"(  URL)","addManifestUrl":" ","addManifestUrlHelp":"URL IIIF ","addResource":" ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":" .","authenticationRequired":"     ","backToResults":"  ","book":"","bottom":" ","cancel":"","canvasIndex":"","changeTheme":" ","clearSearch":"","close":"","closeAddResourceForm":"","closeAddResourceMenu":"  ","closeCompanionWindow":" ","closeWindow":" ","collapseSection":" \\"{{section}}\\" ","collapseSidePanel":"","collection":"","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":"  ","dismiss":"","displayNoAnnotations":" ","downloadExport":"  ","downloadExportWorkspace":"  ","elastic":"","elasticDescription":"         .       .","emptyResourceList":"    ","error":"","errorDialogConfirm":"OK","errorDialogTitle":"   ","exitFullScreen":"     ","expandSection":" \\"{{section}}\\" ","expandSidePanel":"","exportCopied":"       ","fetchManifest":"","fullScreen":"   ","gallery":"","hideZoomControls":"  ","highlightAllAnnotations":" ","iiif_homepage":" ","iiif_manifest":"IIIF manifest","iiif_renderings":" ","iiif_seeAlso":" ","import":"","importWorkspace":"  ","importWorkspaceHint":"  Mirador 3      ","item":": {{label}}","itemList":" ","jsError":" ","jsStack":"{{ stack }}","language":" ","layer_hide":" ","layer_move":" ","layer_moveToTop":"   ","layer_opacity":" ","layer_show":" ","layers":"","light":" ","links":"","listAllOpenWindows":"  ","login":" ","logout":" ","manifestError":"    ","maximizeWindow":" ","minimizeWindow":" ","mirador":"Mirador","miradorResources":"Mirador ","miradorViewer":"Mirador ","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"         ,   .","moveCompanionWindowToBottom":"  ","moveCompanionWindowToRight":"   ","nextCanvas":"","noItemSelected":"  ","numItems_one":"{{number}} /","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"   ","openWindows":"  ","pagination":"{{current}}  {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":"","related":"","resource":"","retry":" ","right":"","rights":"","scroll":"","searchInputLabel":" ","searchNextResult":" ","searchNoResults":"   ","searchPreviousResult":" ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"   ","showCollection":" ","showingNumAnnotations_one":" {{number}} /","showZoomControls":"  ","sidebarPanelsNavigation":"  ","single":"","startHere":"","suggestSearch":"  \\"{{ query }}\\"   ","tableOfContentsList":"","theme":"","thumbnailList":" ","thumbnailNavigation":"","thumbnails":"","toggleWindowSideBar":"","totalCollections_one":"{{count}} /","totalManifests_one":"{{count}} ()","tryAgain":" ","untitled":"[ ]","view":"","welcome":"   Mirador","window":": {{label}}","windowMenu":"    ","windowNavigation":" ","windowPluginButtons":"","windowPluginMenu":" ","workspace":" ","workspaceFullScreen":"   ","workspaceMenu":"  ","workspaceOptions":"  ","workspaceSelectionTitle":"   ","zoomIn":"","zoomOut":"","zoomReset":" "}}');var rC={};rC=JSON.parse('{"translation":{"aboutMirador":"Om Projekt Mirador","aboutThisItem":"Om det hr objektet","addedFromUrl":"(Tillagd frn URL)","addManifestUrl":"Webbadress till samling eller manifest","addManifestUrlHelp":"URL till en IIIF-resurs","addResource":"Lgg till resurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Vnster: [{{label}}]","annotationCanvasLabel_2/2":"Hger: [{{label}}]","annotations":"Noteringar","attribution":"Tillskrivning","attributionTitle":"Rttigheter","authenticationFailed":"Autentisering misslyckades.","authenticationRequired":"Autentisering krvs fr full tkomst","backToResults":"Tillbaka till resultat","book":"Bok","bottom":"Nederkant","cancel":"Avbryt","canvasIndex":"Index","changeTheme":"ndra tema","clearSearch":"Ta bort skning","close":"Stng","closeAddResourceForm":"Stng formulr","closeAddResourceMenu":"Stng resurslista","closeCompanionWindow":"Stng panel","closeWindow":"Stng fnster","collapseSection":"Stng sektionen \\"{{section}}\\"","collapseSidePanel":"Stng sidoflt","collection":"Samling","continue":"Fortstt","copy":"Kopiera","currentItem":"Aktuellt objekt","currentItem_1/1":"Aktuellt objekt","currentItem_1/2":"Vnster","currentItem_2/2":"Hger","dark":"Mrkt tema","digitizedView":"Digitaliserad vy","dismiss":"Stng","displayNoAnnotations":"Avmarkera alla","downloadExport":"Exportera arbetsyta","downloadExportWorkspace":"Exportera arbetsyta","elastic":"Elastisk","elasticDescription":"Flytta och ndra storlek p fnster fritt i en obegrnsad arbetsyta. Fnster kan verlappa.","emptyResourceList":"Din resurslista r tom","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"Ett problem uppstod","exitFullScreen":"Lmna helskrmslge","expandSection":"Expandera sektionen \\"{{section}}\\"","expandSidePanel":"Expandera sidoflt","exportCopied":"Konfiguration av arbetsytan har kopierats till dina urklipp","fetchManifest":"Lgg till","fullScreen":"Helskrmslge","gallery":"Galleri","hideZoomControls":"Dlj zoomkontroller","highlightAllAnnotations":"Markera alla","iiif_homepage":"Om den hr resursen","iiif_manifest":"IIIF manifest","iiif_renderings":"Alternativa format","iiif_seeAlso":"Se ven","import":"Importera","importWorkspace":"Importera arbetsyta","importWorkspaceHint":"Klistra in en Mirador 3 konfiguration att importera","item":"Objekt: {{label}}","itemList":"Objektlista","jsError":"Tekniska detaljer","jsStack":"{{ stack }}","language":"Sprk","layer_hide":"Dlj lager","layer_move":"Flytta lager","layer_moveToTop":"Flytta lager till toppen","layer_opacity":"Lageropacitet","layer_show":"Visa lager","layers":"Lager","light":"Ljust tema","links":"Lnkar","listAllOpenWindows":"G till fnster","login":"Logga in","logout":"Logga ut","manifestError":"Resursen kan inte lggas till:","maximizeWindow":"Maximera fnster","minimizeWindow":"Minimera fnster","mirador":"Mirador","miradorResources":"Miradorresurser","miradorViewer":"Mirador bildvisare","more":"mer...","moreResults":"Fler resultat","mosaic":"Mosaik","mosaicDescription":"Flytta och ndra storlek p fnster i relation till varandra, innanfr den synliga ramen.","moveCompanionWindowToBottom":"Flytta till botten","moveCompanionWindowToRight":"Flytta till hger","nextCanvas":"Nsta objekt","noItemSelected":"Inga valda objekt","numItems_one":"{{number}} objekt","off":"Av","openCompanionWindow_annotations":"Noteringar","openCompanionWindow_attribution":"Rttigheter","openCompanionWindow_canvas":"Index","openCompanionWindow_info":"Information","openCompanionWindow_layers":"Lager","openCompanionWindow_search":"Sk","openInCompanionWindow":"ppna i separat panel","openWindows":"ppna fnster","pagination":"{{current}} av {{total}}","position":"Position","previewWindowTitle":"{{title}}","previousCanvas":"Fregende objekt","related":"Relaterat","resource":"Resurs","retry":"Frsk igen","right":"Till hger","rights":"Licens","scroll":"Scrolla","searchInputLabel":"Skord","searchNextResult":"Nsta resultat","searchNoResults":"Inga resultat hittades","searchPreviousResult":"Fregende resultat","searchResultsRemaining":"{{numLeft}} kvar","searchSubmitAria":"Sk","searchTitle":"Sk","selectWorkspaceMenu":"Vlj typ av arbetsyta","showCollection":"Visa samling","showingNumAnnotations_one":"Visar {{number}} noteringar","showZoomControls":"Visa zoomkontroller","sidebarPanelsNavigation":"Sidofltspaneler navigering","single":"En och en","startHere":"Brja hr","suggestSearch":"Sk i detta dokument efter \\"{{ query }}\\"","tableOfContentsList":"Innehllsfrteckning","theme":"Tema","thumbnailList":"Miniatyrlista","thumbnailNavigation":"Miniatyrer","thumbnails":"Miniatyrer","toggleWindowSideBar":"Visa/dlj sidoflt","totalCollections_one":"{{count}} samlingar","totalManifests_one":"{{count}} manifest","tryAgain":"Frsk igen","untitled":"[namnls]","view":"Vy","welcome":"Vlkommen till Mirador","window":"Fnster: {{label}}","windowMenu":"Fnstervyer & miniatyrdisplay","windowNavigation":"Fnsternavigation","windowPluginButtons":"Instllningar","windowPluginMenu":"Fnsterinstllningar","workspace":"Arbetsyta","workspaceFullScreen":"Helskrmslge","workspaceMenu":"Instllningar fr arbetsyta","workspaceNavigation":"Navigera i arbetsyta","workspaceOptions":"Fler val fr arbetsyta","workspaceSelectionTitle":"Vlj typ av arbetsyta","zoomIn":"Zooma in","zoomOut":"Zooma ut","zoomReset":"terstll zoom"}}');var rA={};rA=JSON.parse('{"translation":{"aboutMirador":"Apie Project Mirador","aboutThisItem":"Apie  ra","addedFromUrl":"(Pridta naudojant URL)","addManifestUrl":"altinio adresas","addManifestUrlHelp":"Nuoroda  IIIF altin","addResource":"Pridti altin","annotationCanvasLabel_1/1":"raas: [{{label}}]","annotationCanvasLabel_1/2":"Kair: [{{label}}]","annotationCanvasLabel_2/2":"Dein: [{{label}}]","annotations":"Anotacijos","attribution":"Priskyrimas","attributionTitle":"Teiss","authenticationFailed":"Autentifikavimo klaida.","authenticationRequired":"Pilnai prieigai btina autentifikacija","backToResults":"Grti  rezultatus","book":"Knyga","bottom":"Apaia","cancel":"Ataukti","canvasIndex":"Indeksas","changeTheme":"Keisti tem","clearSearch":"valyti","closeAddResourceForm":"Udaryti paraik","closeAddResourceMenu":"Udaryti altini sra","closeCompanionWindow":"Udaryti panel","closeWindow":"Udaryti lang","collapseSection":"Suskleisti \\"{{section}}\\" sekcij","collapseSidePanel":"Suskleisti onin juost","continue":"Tsti","copy":"Kopijuoti","currentItem":"Dabartinis raas","currentItem_1/1":"Dabartinis raas","currentItem_1/2":"Kair","currentItem_2/2":"Dein","dark":"Tamsi tema","digitizedView":"Skaitmenintas vaizdas","dismiss":"Atmesti","displayNoAnnotations":"Slpti visk","downloadExport":"Isaugoti darbalauk","downloadExportWorkspace":"Isaugoti darbalauk","elastic":"Lankstus","elasticDescription":"Lang dydis ir vieta gali bti laisvai valdomi. Langai gali persidengti.","emptyResourceList":"Js altini sraas yra tuias","error":"Klaida","errorDialogConfirm":"Gerai","errorDialogTitle":"vyko klaida","exitFullScreen":"Ijungti pilno ekrano reim","expandSection":"Iplsti \\"{{section}}\\" sekcij","expandSidePanel":"Iplsti onin juost","exportCopied":"Darbalaukio nustatymai nukopijuoti","fetchManifest":"Pridti","fullScreen":"Pilnas ekranas","gallery":"Galerija","hideZoomControls":"Slpti priartinimo valdym","highlightAllAnnotations":"Parykinti visk","iiif_homepage":"Apie  altin","iiif_manifest":"IIIF manifestas","iiif_renderings":"Kiti formatai","iiif_seeAlso":"Susij","import":"kelti","importWorkspace":"kelti darbalauk","importWorkspaceHint":"terpkite Mirador 3 nustatymus klimui","item":"raas: {{label}}","itemList":"ra sraas","jsError":"Technin informacija","jsStack":"{{ stack }}","language":"Kalba","layer_hide":"Slpti sluoksn","layer_move":"Perkelti sluoksn","layer_moveToTop":"Perkelti sluoksn  vir","layer_opacity":"Sluoksnio nepermatomumas","layer_show":"Rodyti sluoksn","layers":"Sluoksniai","light":"viesi tema","links":"Nuorodos","listAllOpenWindows":"Rodyti aktyvius langus","login":"Prisijungti","logout":"Atsijungti","manifestError":"altinis negali bti pridtas:","maximizeWindow":"Ididinti lang","minimizeWindow":"Sumainti lang","mirador":"Mirador","miradorResources":"Mirador altiniai","miradorViewer":"Mirador irykl","more":"daugiau...","moreResults":"Daugiau rezultat","mosaic":"Mosaic","mosaicDescription":"Lang dydio ir pozicijos keitimai apribojami ekrano erdvje.","moveCompanionWindowToBottom":"Perkelti  apai","moveCompanionWindowToRight":"Perkelti  dein","nextCanvas":"Kitas raas","numItems_one":"{{number}} raas (-ai)","off":"Ijungti","openCompanionWindow_annotations":"Anotacijos","openCompanionWindow_attribution":"Teiss","openCompanionWindow_canvas":"Indeksas","openCompanionWindow_info":"Informacija","openCompanionWindow_layers":"Sluoksniai","openCompanionWindow_search":"Paieka","openInCompanionWindow":"Atidaryti kaip nauj panel","openWindows":"Aktyvs langai","pagination":"{{current}} i {{total}}","position":"Pozicija","previewWindowTitle":"{{title}}","previousCanvas":"Buvs raas","related":"Susij","resource":"altinis","retry":"Pabandyti i naujo","right":"Dein","rights":"Teiss","scroll":"Paslinkti","searchInputLabel":"paiekos terminas","searchNextResult":"Kitas rezultatas","searchNoResults":"Nra rezultat","searchPreviousResult":"Buvs rezultatas","searchSubmitAria":"Pateikti paiekos uklaus","searchTitle":"Iekoti","selectWorkspaceMenu":"Pasirinkti darbalaukio tip","showCollection":"Rodyti kolekcij","showingNumAnnotations_one":"Rodoma {{number}} anotacija (-os)","showZoomControls":"Rodyti priartinimo valdym","sidebarPanelsNavigation":"onins juostos valdymas","single":"Atskiras","startHere":"Pradkite ia","suggestSearch":"Iekoti \\"{{ query }}\\" visame documente","tableOfContentsList":"Turinys","theme":"Tema","thumbnailList":"Miniatir sraas","thumbnailNavigation":"Miniatiros","thumbnails":"Miniatiros","toggleWindowSideBar":"Perjungti onin juost","totalCollections_one":"{{count}} kolekcija (-os)","totalManifests_one":"{{count}} altinis (-iai)","tryAgain":"Bandykite dar kart","untitled":"[Be pavadinimo]","view":"irti","welcome":"Sveiki atvyk  Mirador","window":"Langas: {{label}}","windowMenu":"Lang & miniatir atvaizdavimas","windowNavigation":"Lang valdymas","windowPluginButtons":"Pasirinkimai","windowPluginMenu":"Lang pasirinkimai","workspace":"Darbalaukis","workspaceFullScreen":"Pilnas ekranas","workspaceMenu":"Darbalaukio nustatymai","workspaceNavigation":"Darbalaukio valdymas","workspaceOptions":"Darbalaukio pasirinkimai","workspaceSelectionTitle":"Pasirinkite darbalaukio tip","zoomIn":"Priartinti","zoomOut":"Atitolinti","zoomReset":"Atstatyti priartinim"}}');var rR={};rR=JSON.parse('{"translation":{"aboutMirador":"V d n Mirador","aboutThisItem":"V khon mc ny","addedFromUrl":"(c thm t URL)","addManifestUrl":"V tr ti nguyn","addManifestUrlHelp":"URL ca ti nguyn IIIF","addResource":"B sung ti nguyn","annotationCanvasLabel_1/1":"Khon mc: [{{label}}]","annotationCanvasLabel_1/2":"Tri: [{{label}}]","annotationCanvasLabel_2/2":"Phi: [{{label}}]","annotations":"Ch gii","attribution":"Quyn hn","attributionTitle":"Quyn","authenticationFailed":"Xc thc tht bi.","authenticationRequired":"Xc thc c yu cu cho truy nhp y ","backToResults":"Tr li kt qu","book":"Sch","bottom":"y","cancel":"Hu b","canvasIndex":"Ch mc","changeTheme":"i ch ","clearSearch":"xo","close":"ng","closeAddResourceForm":"ng mu","closeAddResourceMenu":"ng danh sch ti nguyn","closeCompanionWindow":"ng panel","closeWindow":"ng ca s","collapseSection":"Co sp {{section}} mc","collapseSidePanel":"Co sp thanh bn","collection":"Tuyn tp","continue":"Tip tc","copy":"Sao","currentItem":"Khon mc hin thi","currentItem_1/1":"Khon mc hin thi","currentItem_1/2":"Tri","currentItem_2/2":"Phi","dark":"Ch  ti","digitizedView":"Ci nhn s ho","dismiss":"Bc b","displayNoAnnotations":"Khng lm ni bt","downloadExport":"Vng xut khu","downloadExportWorkspace":"Vng xut khu","elastic":"Co gin","elasticDescription":"Di chuyn v nh c ca s t do trong vng v gii hn. Ca s c th chn lp.","emptyResourceList":"Danh sch ti nguyn ca bn l trng","error":"Li","errorDialogConfirm":"OK","errorDialogTitle":"Li  xut hin","exitFullScreen":"Ra khi ton mn hnh","expandSection":"M rng {{section}} mc","expandSidePanel":"M rng thanh bn","exportCopied":"Cu hnh vng lm vic c sao vo bng m ca bn","fetchManifest":"Thm","fullScreen":"Ton mn hnh","gallery":"Phng tranh","hideZoomControls":"n iu khin thu phng","highlightAllAnnotations":"Lm ni bt tt","iiif_homepage":"V ti nguyn ny","iiif_manifest":"Bn k IIIF","iiif_renderings":"Dng thc lun phin","iiif_seeAlso":"Cng xem","import":"Nhp khu","importWorkspace":"Vng nhp khu","importWorkspaceHint":"Dn cu hnh Mirador 3  c nhp khu","item":"Khon mc: {{label}}","itemList":"Danh sch khon mc","jsError":"Chi tit k thut","jsStack":"{{ stack }}","language":"Ngn ng","layer_hide":"Giu tng","layer_move":"Chuyn tng","layer_moveToTop":"Chuyn tng ln nh","layer_opacity":"Lm m tng","layer_show":"Hin tng","layers":"Tng","light":"Ch  sng","links":"Mc ni","listAllOpenWindows":"Nhy ti ca s","login":"ng nhp","logout":"ng xut","manifestError":"Ti nguyn khng th c b sung:","maximizeWindow":"Cc i ca s","minimizeWindow":"Cc tiu ca s","mirador":"Mirador","miradorResources":"Ti nguyn Mirador","miradorViewer":"B xem Mirador","more":"thm...","moreResults":"Thm kt qu","mosaic":"Mosaic","mosaicDescription":"Di chuyn v nh c ca s trong quan h ln nhau, bn trong khung thy c.","moveCompanionWindowToBottom":"Chuyn ti y","moveCompanionWindowToRight":"Chuyn sang phi","nextCanvas":"Khon mc tip","noItemSelected":"Khng khon mc no c chn","numItems_one":"{{number}} khon mc","off":"Off","openCompanionWindow_annotations":"Ch gii","openCompanionWindow_attribution":"Quyn","openCompanionWindow_canvas":"Ch mc","openCompanionWindow_info":"Thng tin","openCompanionWindow_layers":"Tng","openCompanionWindow_search":"Tm","openInCompanionWindow":"M trong ngn tch ri","openWindows":"Ca s m hin thi","pagination":"{{current}} trong {{total}}","position":"V tr","previewWindowTitle":"{{title}}","previousCanvas":"Khon mc trc","related":"C lin quan","resource":"Ti nguyn","retry":"Th li","right":"Quyn","rights":"Cp php","scroll":"Cun","searchInputLabel":"T tm kim","searchNextResult":"Kt qu tip","searchNoResults":"Khng tm c kt qu no","searchPreviousResult":"Kt qu trc","searchSubmitAria":" trnh vic tm","searchTitle":"Tm","selectWorkspaceMenu":"Chn kiu vng lm vic","showCollection":"Hin b su tp","showingNumAnnotations_one":"Hin {{number}} ch gii","showZoomControls":"Hin kim sot thu phng","sidebarPanelsNavigation":"Dn li ngn thanh bn","single":"Ch mt","startHere":"Bt u  y","suggestSearch":"Tm ti liu ny cho \\"{{ query }}\\"","tableOfContentsList":"Mc lc","theme":"Ch ","thumbnailList":"Danh sch nh thu nh","thumbnailNavigation":"nh thu nh","thumbnails":"nh thu nh","toggleWindowSideBar":"cht thanh bn","totalCollections_one":"{{count}} b su tp","totalManifests_one":"{{count}} bn k","tryAgain":"Th li","untitled":"[Untitled]","view":"Xem","welcome":"Cho mng bn ti Mirador","window":"Ca s: {{label}}","windowMenu":"Xem ca s & hin th nh thu nh","windowNavigation":"Dn li ca s","windowPluginButtons":"Tu chn","windowPluginMenu":"Tu chn ca s","workspace":"Vng lm vic","workspaceFullScreen":"Ton mn hnh","workspaceMenu":"Thit t vng lm vic","workspaceNavigation":"Dn li vng lm vic","workspaceOptions":"Tu chn vng lm vic","workspaceSelectionTitle":"Chn kiu vng lm vic","zoomIn":"Thu nh","zoomOut":"Phng to","zoomReset":"t li thu phng"}}');var rk={};rk=JSON.parse('{"translation":{"aboutMirador":"  Mirador","aboutThisItem":"  ","addedFromUrl":"(  )","addManifestUrl":"  ","addManifestUrlHelp":"  IIIF ","addResource":"  ","annotationCanvasLabel_1/1":": [{{label}}]","annotationCanvasLabel_1/2":": [{{label}}]","annotationCanvasLabel_2/2":": [{{label}}]","annotations":"","attribution":"","attributionTitle":"","authenticationFailed":" .","authenticationRequired":"     ","backToResults":"  ","book":"","bottom":"","cancel":"","canvasIndex":"","changeTheme":"  ","clearSearch":"","close":"","closeAddResourceForm":"  ","closeAddResourceMenu":"    ","closeCompanionWindow":"  ","closeWindow":"  ","collapseSection":"   \\"{{section}}\\"","collapseSidePanel":"   ","collection":"","continue":"","copy":"","currentItem":" ","currentItem_1/1":" ","currentItem_1/2":"","currentItem_2/2":"","dark":" ","digitizedView":" ","dismiss":"","displayNoAnnotations":"  ","downloadExport":"   ","downloadExportWorkspace":"   ","elastic":"","elasticDescription":"        .     .","emptyResourceList":"    ","error":"","errorDialogConfirm":"OK","errorDialogTitle":" ","exitFullScreen":"   ","expandSection":"   \\"{{section}}\\"","expandSidePanel":"   ","exportCopied":"       ","fetchManifest":"","fullScreen":" ","gallery":"","hideZoomControls":"    ","highlightAllAnnotations":"  ","iiif_homepage":"  ","iiif_manifest":"IIIF ","iiif_related":"","iiif_renderings":" ","iiif_seeAlso":" ","import":"","importWorkspace":"   ","importWorkspaceHint":" Mirador 3   ","item":": {{label}}","itemList":"  ","jsError":" ","jsStack":"{{ stack }}","language":"","layer_hide":"  ","layer_move":"  ","layer_moveToTop":"   -","layer_opacity":"  ","layer_show":"  ","layers":"","light":" ","links":"","listAllOpenWindows":" ","login":"","logout":"","manifestError":"     :","maximizeWindow":"  ","minimizeWindow":"  ","mirador":"Mirador","miradorResources":"Mirador ","miradorViewer":"Mirador viewer","more":"...","moreResults":" ","mosaic":"","mosaicDescription":"          .","moveCompanionWindowToBottom":" ","moveCompanionWindowToRight":" ","multipartCollection":"   ","nextCanvas":" ","noItemSelected":"   ","numItems":"{{number}} ","numItems_plural":"{{number}} ","off":"","openCompanionWindow_annotations":"","openCompanionWindow_attribution":"","openCompanionWindow_canvas":"","openCompanionWindow_info":"","openCompanionWindow_layers":"","openCompanionWindow_search":"","openInCompanionWindow":"   ","openWindows":"  ","pagination":"{{current}}  {{total}}","position":"","previewWindowTitle":"{{title}}","previousCanvas":" ","related":"","resource":"","retry":" ","right":"","rights":"","scroll":"","searchInputLabel":"  ","searchNextResult":" ","searchNoResults":"   ","searchPreviousResult":" ","searchResultsRemaining":"{{numLeft}} ","searchSubmitAria":"","searchTitle":"","selectWorkspaceMenu":"   ","showCollection":"  ","showingNumAnnotations":"  {{number}} ","showingNumAnnotations_plural":"  {{number}} ","showZoomControls":"    ","sidebarPanelsNavigation":"   ","single":"","startHere":" ","suggestSearch":"     \\"{{ query }}\\"","tableOfContentsList":"","theme":"","thumbnailList":"   ","thumbnailNavigation":" ","thumbnails":" ","toggleWindowSideBar":"   ","totalCollections":"{{count}} ","totalCollections_plural":"{{count}} ","totalManifests":"{{count}} ","totalManifests_plural":"{{count}} ","tryAgain":" ","untitled":"[]","view":"","viewWorkspaceConfiguration":"     ","welcome":"   Mirador","window":": {{label}}","windowMenu":"     ","windowNavigation":"  ","windowPluginButtons":"","windowPluginMenu":"  ","workspace":" ","workspaceFullScreen":" ","workspaceMenu":"   ","workspaceNavigation":"   ","workspaceOptions":"   ","workspaceSelectionTitle":"    ","zoomIn":"","zoomOut":"","zoomReset":""}}');var rD={};rD=JSON.parse('{"translation":{"aboutMirador":"Om Projekt Mirador","aboutThisItem":"Om dette objektet","addedFromUrl":"(Lagt til fra URL)","addManifestUrl":"Nettadresse til samling eller manifest","addManifestUrlHelp":"URL til en IIIF-ressurs","addResource":"Legg til ressurs","annotationCanvasLabel_1/1":"Objekt: [{{label}}]","annotationCanvasLabel_1/2":"Venstre: [{{label}}]","annotationCanvasLabel_2/2":"Hyre: [{{label}}]","annotations":"Annoteringer","attribution":"Tilskrivelse","attributionTitle":"Rettigheter","authenticationFailed":"Autentiseringen feilet.","authenticationRequired":"Autentisering kreves for full tilgang","backToResults":"Tilbake til resultat","book":"Bok","bottom":"Nederst","cancel":"Avbryt","canvasIndex":"Index","changeTheme":"Skift tema","clearSearch":"Fjern sket","close":"Lukk","closeAddResourceForm":"Lukk skjemaet","closeAddResourceMenu":"Lukk ressurslisten","closeCompanionWindow":"Lukk panelet","closeWindow":"Lukk vinduet","collapseSection":"Lukk seksjonen \\"{{section}}\\"","collapseSidePanel":"Lukk sidemenyen","collection":"Samling","continue":"Fortsett","copy":"Kopiere","currentItem":"Valgt objekt","currentItem_1/1":"Valgt objekt","currentItem_1/2":"Venstre","currentItem_2/2":"Hyre","dark":"Mrkt tema","digitizedView":"Digitalisert visning","dismiss":"Lukk","displayNoAnnotations":"Avmarkr alle","downloadExport":"Eksportr arbeidsomrde","downloadExportWorkspace":"Eksportr arbeidsomrde","elastic":"Elastisk","elasticDescription":"Flytt og endre strrelsen p vinduet fritt i et ubegrenset arbeidsomrde. Vindu kan overlappe.","emptyResourceList":"Din resursliste er tom","error":"Error","errorDialogConfirm":"OK","errorDialogTitle":"Et problem oppstod","exitFullScreen":"Forlat fullskjermsvisning","expandSection":"Ekspandr seksjonen \\"{{section}}\\"","expandSidePanel":"Ekspandr sidemenyen","exportCopied":"Konfiguration av arbeidsomrdet ble kopiert til din utklippstavle","fetchManifest":"Legg til","fullScreen":"Fullskjermsvisning","gallery":"Galleri","hideZoomControls":"Skjul zoomkontroll","highlightAllAnnotations":"Markr alle","iiif_homepage":"Om denne ressursen","iiif_manifest":"IIIF manifest","iiif_renderings":"Alternativt format","iiif_seeAlso":"Se ogs","import":"Importr","importWorkspace":"Importr arbeidsomrde","importWorkspaceHint":"Lim inn en Mirador 3 konfigurasjon for import","item":"Objekt: {{label}}","itemList":"Objektliste","jsError":"Tekniske detaljer","jsStack":"{{ stack }}","language":"Sprk","layer_hide":"Skjul lag","layer_move":"Flytt lag","layer_moveToTop":"Flytt laget verst","layer_opacity":"Lag-gjennomsiktighet","layer_show":"Vis lag","layers":"Lag","light":"Lyst tema","links":"Lenker","listAllOpenWindows":"G til vindu","login":"Logg inn","logout":"Logg ut","manifestError":"Ressursen kan ikke legges til:","maximizeWindow":"Maksimr vinduet","minimizeWindow":"Minimr vinduet","mirador":"Mirador","miradorResources":"Miradorressurser","miradorViewer":"Mirador bildeviser","more":"mer...","moreResults":"Flere resultat","mosaic":"Mosaik","mosaicDescription":"Flytt og endre strrelse p vinduet i relasjon til hverandre, innenfor den synlige rammen.","moveCompanionWindowToBottom":"Flytt til bunnen","moveCompanionWindowToRight":"Flytt til hyre","nextCanvas":"Neste objekt","noItemSelected":"Ingen valgte objekt","numItems_one":"{{number}} objekt","numItems_other":"{{number}} objekter","off":"Av","openCompanionWindow_annotations":"Annoteringer","openCompanionWindow_attribution":"Rettigheter","openCompanionWindow_canvas":"Indeks","openCompanionWindow_info":"Informasjon","openCompanionWindow_layers":"Lag","openCompanionWindow_search":"Sk","openInCompanionWindow":"pne i eget panel","openWindows":"pne vindu","pagination":"{{current}} av {{total}}","position":"Posisjon","previewWindowTitle":"{{title}}","previousCanvas":"Forrige objekt","related":"Relatert","resource":"Ressurs","retry":"Forsk igjen","right":"Til hyre","rights":"Lisens","scroll":"Bla","searchInputLabel":"Skeord","searchNextResult":"Neste resultat","searchNoResults":"Ingen treff","searchPreviousResult":"Forrige resultat","searchResultsRemaining":"{{numLeft}} igjen","searchSubmitAria":"Sk","searchTitle":"Sk","selectWorkspaceMenu":"Velg arbeidsomrde-type","showCollection":"Vis samling","showingNumAnnotations_one":"Vis {{number}} annotasjon","showingNumAnnotations_other":"Vis {{number}} annotasjoner","showZoomControls":"Vis zoomkontroll","sidebarPanelsNavigation":"Sidemeny-panel navigering","single":"En og en","startHere":"Start her","suggestSearch":"Sk etter \\"{{ query }}\\" i dette dokument","tableOfContentsList":"Innholdsfortegnelse","theme":"Tema","thumbnailList":"Miniatyrliste","thumbnailNavigation":"Miniatyrer","thumbnails":"Miniatyrer","toggleWindowSideBar":"Vis/skjul sidemenyen","totalCollections_one":"{{count}} samling","totalCollections_other":"{{count}} samlinger","totalManifests_one":"{{count}} manifest","totalManifests_other":"{{count}} manifester","tryAgain":"Forsk igjen","untitled":"[uten tittel]","view":"Visning","viewWorkspaceConfiguration":"Vis konfigurasjon av arbeidsomrde.","welcome":"Velkommen til Mirador","window":"Vindu: {{label}}","windowMenu":"Vindusvisning & miniatyrvisning","windowNavigation":"Vindusnavigasjon","windowPluginButtons":"Innstillinger","windowPluginMenu":"Vindusinnstillinger","workspace":"Arbeidsomrde","workspaceFullScreen":"Fullskjermsvisning","workspaceMenu":"Innstillinger for arbeidsomrdet","workspaceNavigation":"Navigasjon i arbeidsomrdet","workspaceOptions":"Flere valg for arbeidsomrdet","workspaceSelectionTitle":"Velg arbeidsomrde-type","zoomIn":"Zoom inn","zoomOut":"Zoom ut","zoomReset":"Tilbakestill zoom"}}');var rN=function(){var e={ar:/*@__PURE__*/Y(rh),bg:/*@__PURE__*/Y(rk),de:/*@__PURE__*/Y(rf),en:/*@__PURE__*/Y(rg),et:/*@__PURE__*/Y(rm),fa:/*@__PURE__*/Y(rv),fr:/*@__PURE__*/Y(rw),hr:/*@__PURE__*/Y(rx),it:/*@__PURE__*/Y(rI),ja:/*@__PURE__*/Y(rS),kr:/*@__PURE__*/Y(r_),lt:/*@__PURE__*/Y(rA),"nb-NO":/*@__PURE__*/Y(rD),nl:/*@__PURE__*/Y(rE),pl:/*@__PURE__*/Y(rT),"pt-BR":/*@__PURE__*/Y(rO),sr:/*@__PURE__*/Y(rP),sv:/*@__PURE__*/Y(rC),vi:/*@__PURE__*/Y(rR),"zh-CN":/*@__PURE__*/Y(ry),"zh-TW":/*@__PURE__*/Y(rb)},t=rd.createInstance();return t.use(rp.initReactI18next).init({fallbackLng:"en",interpolation:{escapeValue:!1},lng:"en",resources:e}),t},rM=ee("lciyA"),ep=ee("9L45J");function rL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rL=function(){return!!e})()}function rj(e){return(rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rF(e,t){return(rF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var rB=function(e){var t=e.dndManager,n=e.children;return!1===t?n:void 0===t?/*#__PURE__*/(0,ep.jsx)(e$.DndProvider,{backend:eq.MultiBackend,options:eX.HTML5toTouch,children:n}):/*#__PURE__*/(0,ep.jsx)(eG.DndContext.Provider,{value:t,children:n})},rz=function(e){var t,n,i,o,a,s,l=e.children,u=(n=(t=(0,ei.useState)(!1))[0],i=t[1],o=(0,ei.useRef)(null),(0,ei.useEffect)(function(){var e=function(){i(eE.fullscreenElement===o.current)};return eE.addEventListener("fullscreenchange",e),function(){return eE.removeEventListener("fullscreenchange",e)}},[]),a=(0,ei.useCallback)(function(){return eE.fullscreenElement?eE.exitFullscreen().then(function(){return eE.requestFullscreen(o.current)}):o.current?eE.requestFullscreen(o.current):void 0},[]),s=(0,ei.useCallback)(function(){return eE.fullscreenElement===o.current?eE.exitFullscreen():Promise.resolve()},[]),(0,ei.useMemo)(function(){return{active:n,enter:a,exit:s,node:o}},[n,a,s]));return/*#__PURE__*/(0,ep.jsx)(eT,{handle:u,children:/*#__PURE__*/(0,ep.jsx)(rM.default.Provider,{value:u,children:l})})},rU=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=rj(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,rL()?Reflect.construct(i,o||[],rj(this).constructor):i.apply(this,o))).i18n=rN(),t.i18n.changeLanguage(e.language),t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rF(e,t)}(n,e),t=[{key:"componentDidUpdate",value:function(e){var t=this.props.language;e.language!==t&&this.i18n.changeLanguage(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.theme,o=t.translations,a=t.dndManager,s=(0,t_.default)({key:"muirtl",stylisPlugins:[tx,tS]}),l=(0,t_.default)({key:"mui"});return Object.keys(o).forEach(function(t){e.i18n.addResourceBundle(t,"translation",o[t],!0,!0)}),/*#__PURE__*/(0,ep.jsx)(rz,{children:/*#__PURE__*/(0,ep.jsx)(eO.I18nextProvider,{i18n:this.i18n,children:/*#__PURE__*/(0,ep.jsx)(eP.default,{injectFirst:!0,children:/*#__PURE__*/(0,ep.jsx)(eM.C,{value:"rtl"===i.direction?s:l,children:/*#__PURE__*/(0,ep.jsx)(eV,{theme:(0,eI.default)(i),children:/*#__PURE__*/(0,ep.jsx)(rB,{dndManager:a,children:n})})})})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(ei.Component);rU.defaultProps={children:null,dndManager:void 0};var rW=(0,eg.compose)((0,en.connect)(function(e){return{language:(0,ev.getConfig)(e).language,theme:(0,ev.getTheme)(e),translations:(0,ev.getConfig)(e).translations}}),(0,em.withPlugins)("AppProviders"))(rU),rH=ee("hK273"),ep=ee("9L45J");function rV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rV=function(){return!!e})()}function rG(e){return(rG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r$(e,t){return(r$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var rq=/*#__PURE__*/(0,ei.lazy)(function(){return ee("behWO")}),rX=/*#__PURE__*/function(e){var t;function n(e){var t,i,o;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),i=n,o=[e],i=rG(i),(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,rV()?Reflect.construct(i,o||[],rG(this).constructor):i.apply(this,o))).areaRef=/*#__PURE__*/(0,ei.createRef)(),t}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r$(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.dndManager,n=e.plugins;return/*#__PURE__*/(0,ep.jsx)(ef,{plugins:n,children:/*#__PURE__*/(0,ep.jsx)(rW,{dndManager:t,children:/*#__PURE__*/(0,ep.jsx)(rH.default.Provider,{value:this.areaRef,children:/*#__PURE__*/(0,ep.jsx)(ei.Suspense,{fallback:/*#__PURE__*/(0,ep.jsx)("div",{}),children:/*#__PURE__*/(0,ep.jsx)(rq,{areaRef:this.areaRef})})})})})}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(ei.Component);rX.defaultProps={dndManager:void 0,plugins:[]};var rY=ee("gaTnh"),rK={},rZ=ee("hmGiX"),rJ=ee("1mNSP"),rQ=ee("fpZyM");rK=function(e){return"string"==typeof e||!rJ(e)&&rQ(e)&&"[object String]"==rZ(e)};var r0=ee("7T0C4"),r1=ee("gMYkB"),r2=ee("iGPgj"),r3={};r3=function(e){return null===e};var r5=ee("fwdPY"),r4=function(e){return[r6,r8,r9,r7,ne,nt,nr].every(function(t){return t(e)})},r6=function(e){return /*@__PURE__*/Y(r2)(e)},r8=function(e){var t=e.name;return /*@__PURE__*/Y(r0)(t)||/*@__PURE__*/Y(rK)(t)},r9=function(e){var t=e.mode,n=e.target;return /*@__PURE__*/Y(r0)(t)?/*@__PURE__*/Y(r0)(n):/*@__PURE__*/Y(rK)(n)},r7=function(e){var t=e.mode;return /*@__PURE__*/Y(r0)(t)||["add","wrap"].some(function(e){return e===t})},ne=function(e){var t=e.mapStateToProps;return /*@__PURE__*/Y(r0)(t)||/*@__PURE__*/Y(r3)(t)||/*@__PURE__*/Y(r1)(t)},nt=function(e){var t=e.mapDispatchToProps;return /*@__PURE__*/Y(r0)(t)||/*@__PURE__*/Y(r3)(t)||/*@__PURE__*/Y(r1)(t)||/*@__PURE__*/Y(r2)(t)},nr=function(e){var t=e.reducers;return /*@__PURE__*/Y(r0)(t)||/*@__PURE__*/Y(r2)(t)&&/*@__PURE__*/Y(r5)(t).every(/*@__PURE__*/Y(r1))};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function no(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return na(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?na(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function ns(e){var t,n,i=(t=[],n=[],e.forEach(function(e){Array.isArray(e)?e.every(function(e){return r4(e)})?n.push.apply(n,no(e)):t.push.apply(t,no(e)):r4(e)?n.push(e):t.push(e)}),{invalidPlugins:t,validPlugins:n}),o=i.validPlugins;return function(e){e.forEach(function(e){return console.log("Mirador: Plugin ".concat(e.name," is not valid and was rejected."))})}(i.invalidPlugins),o}var rY=ee("gaTnh"),nl=({dispatch:e,getState:t})=>n=>i=>"function"==typeof i?i(e,t,void 0):n(i),nu=function(e){return"@@redux-saga/"+e},nc=/*#__PURE__*/nu("CANCEL_PROMISE"),nd=/*#__PURE__*/nu("CHANNEL_END"),np=/*#__PURE__*/nu("IO"),nh=/*#__PURE__*/nu("MATCH"),nf=/*#__PURE__*/nu("MULTICAST"),ng=/*#__PURE__*/nu("SAGA_ACTION"),nm=/*#__PURE__*/nu("SELF_CANCELLATION"),nv=/*#__PURE__*/nu("TASK"),ny=/*#__PURE__*/nu("TASK_CANCEL"),nb=/*#__PURE__*/nu("TERMINATE"),nw=/*#__PURE__*/nu("LOCATION"),eC=ee("5XyNA"),eA=ee("u6U9p"),nx=function(e){return null==e},nS=function(e){return null!=e},n_=function(e){return"function"==typeof e},nE=function(e){return"string"==typeof e},nT=Array.isArray,nO=function(e){return e&&n_(e.then)},nI=function(e){return e&&n_(e.next)&&n_(e.throw)},nP=function e(t){return t&&(nE(t)||nR(t)||n_(t)||nT(t)&&t.every(e))},nC=function(e){return e&&n_(e.take)&&n_(e.close)},nA=function(e){return n_(e)&&e.hasOwnProperty("toString")},nR=function(e){return!!e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},eC=ee("5XyNA"),nk=function(){return!0},nD=function(){},nN=function(e){return e},nM=function(e,t){(0,eC.default)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(n){e[n]=t[n]})},nL=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function nj(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var nF=function(e){throw e},nB=function(e){return{value:e,done:!0}};function nz(e,t,n){void 0===t&&(t=nF),void 0===n&&(n="iterator");var i={meta:{name:n},next:e,throw:t,return:nB,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function nU(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var nW=function(e){return Array.apply(null,Array(e))},nH=function(e){return e===nb},nV=function(e){return e===ny},nG=function(e){return nH(e)||nV(e)};function n$(e,t){var n,i=Object.keys(e),o=i.length,a=0,s=nT(e)?nW(o):{},l={};return i.forEach(function(e){var i=function(i,l){n||(l||nG(i)?(t.cancel(),t(i,l)):(s[e]=i,++a===o&&(n=!0,t(s))))};i.cancel=nD,l[e]=i}),t.cancel=function(){n||(n=!0,i.forEach(function(e){return l[e].cancel()}))},l}function nq(e){return{name:e.name||"anonymous",location:e[nw]}}function nX(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var nY="TAKE",nK="CALL",nZ="FORK",nJ="SELECT",nQ=function(e,t){var n;return(n={})[np]=!0,n.combinator=!1,n.type=e,n.payload=t,n};function n0(e,t){return nx(t)&&(t=e,e=void 0),nQ("PUT",{channel:e,action:t})}function n1(e){var t=nQ("ALL",e);return t.combinator=!0,t}function n2(e,t){var n,i=null;return n_(e)?n=e:(nT(e)?(i=e[0],n=e[1]):(i=e.context,n=e.fn),i&&nE(n)&&n_(i[n])&&(n=i[n])),{context:i,fn:n,args:t}}function n3(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return nQ(nK,n2(e,n))}function n5(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return nQ(nZ,n2(e,n))}function n4(e){void 0===e&&(e=nN);for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return nQ(nJ,{selector:e,args:n})}var n6=/*#__PURE__*/n3.bind(null,function(e,t){void 0===t&&(t=!0);var n,i=new Promise(function(i){n=setTimeout(i,Math.min(0x7fffffff,e),t)});return i[nc]=function(){clearTimeout(n)},i}),n8=function(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e},n9=[],n7=0;function ie(e){n9.push(e),n7||(n7++,ir())}function it(e){try{return n7++,e()}finally{ir()}}function ir(){var e;for(n7--;!n7&&void 0!==(e=n9.shift());)!function(e){try{n7++,e()}finally{n7--}}(e)}var ii=function(e){return function(t){return e.some(function(e){return iu(e)(t)})}},io=function(e){return function(t){return e(t)}},ia=function(e){return function(t){return t.type===String(e)}},is=function(e){return function(t){return t.type===e}},il=function(){return nk};function iu(e){var t="*"===e?il:nE(e)?ia:nT(e)?ii:nA(e)?ia:n_(e)?io:nR(e)?is:null;if(null===t)throw Error("invalid pattern: "+e);return t(e)}var ic={type:nd},id=function(e){return e&&e.type===nd};function ip(){var e,t,n,i,o,a,s=(t=!1,i=n=[],o=function(){i===n&&(i=n.slice())},a=function(){t=!0;var e=n=i;i=[],e.forEach(function(e){e(ic)})},(e={})[nf]=!0,e.put=function(e){if(!t){if(id(e)){a();return}for(var o=n=i,s=0,l=o.length;s<l;s++){var u=o[s];u[nh](e)&&(u.cancel(),u(e))}}},e.take=function(e,n){var a,s;if(void 0===n&&(n=il),t){e(ic);return}e[nh]=n,o(),i.push(e),e.cancel=(a=function(){o(),nj(i,e)},s=!1,function(){s||(s=!0,a())})},e.close=a,e),l=s.put;return s.put=function(e){if(e[ng]){l(e);return}ie(function(){l(e)})},s}function ih(e,t){var n=e[nc];n_(n)&&(t.cancel=n),e.then(t,function(e){t(e,!0)})}var ig=0,im=function(){return++ig};function iv(e){e.isRunning()&&e.cancel()}var iy=((uk={})[nY]=function(e,t,n){var i=t.channel,o=void 0===i?e.channel:i,a=t.pattern,s=t.maybe,l=function(e){if(e instanceof Error){n(e,!0);return}if(id(e)&&!s){n(nb);return}n(e)};try{o.take(l,nS(a)?iu(a):null)}catch(e){n(e,!0);return}n.cancel=l.cancel},uk.PUT=function(e,t,n){var i=t.channel,o=t.action,a=t.resolve;ie(function(){var t;try{t=(i?i.put:e.dispatch)(o)}catch(e){n(e,!0);return}a&&nO(t)?ih(t,n):n(t)})},uk.ALL=function(e,t,n,i){var o=i.digestEffect,a=ig,s=Object.keys(t);if(0===s.length){n(nT(t)?[]:{});return}var l=n$(t,n);s.forEach(function(e){o(t[e],a,l[e],e)})},uk.RACE=function(e,t,n,i){var o=i.digestEffect,a=ig,s=Object.keys(t),l=nT(t)?nW(s.length):{},u={},c=!1;s.forEach(function(e){var t=function(t,i){c||(i||nG(t)?(n.cancel(),n(t,i)):(n.cancel(),c=!0,l[e]=t,n(l)))};t.cancel=nD,u[e]=t}),n.cancel=function(){c||(c=!0,s.forEach(function(e){return u[e].cancel()}))},s.forEach(function(e){c||o(t[e],a,u[e],e)})},uk[nK]=function(e,t,n,i){var o=t.context,a=t.fn,s=t.args,l=i.task;try{var u=a.apply(o,s);if(nO(u)){ih(u,n);return}if(nI(u)){iO(e,u,l.context,ig,nq(a),!1,n);return}n(u)}catch(e){n(e,!0)}},uk.CPS=function(e,t,n){var i=t.context,o=t.fn,a=t.args;try{var s=function(e,t){nx(e)?n(t):n(e,!0)};o.apply(i,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(e){n(e,!0)}},uk[nZ]=function(e,t,n,i){var o=t.context,a=t.fn,s=t.args,l=t.detached,u=i.task,c=function(e){var t=e.context,n=e.fn,i=e.args;try{var o=n.apply(t,i);if(nI(o))return o;var a=!1;return nz(function(e){return a?{value:e,done:!0}:(a=!0,{value:o,done:!nO(o)})})}catch(e){return nz(function(){throw e})}}({context:o,fn:a,args:s}),d=c.isSagaIterator?{name:c.meta.name}:nq(a);it(function(){var t=iO(e,c,u.context,ig,d,l,void 0);l?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)})},uk.JOIN=function(e,t,n,i){var o=i.task,a=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&nj(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(nT(t)){if(0===t.length){n([]);return}var s=n$(t,n);t.forEach(function(e,t){a(e,s[t])})}else a(t,n)},uk.CANCEL=function(e,t,n,i){var o=i.task;t===nm?iv(o):nT(t)?t.forEach(iv):iv(t),n()},uk[nJ]=function(e,t,n){var i=t.selector,o=t.args;try{var a=i.apply(void 0,[e.getState()].concat(o));n(a)}catch(e){n(e,!0)}},uk.ACTION_CHANNEL=function(e,t,n){var i=t.pattern,o=function(e){if(void 0===e){var t,n,i,o,a,s,l,u;t=void 0,n=Array(t=10),i=0,o=0,a=0,s=function(e){n[o]=e,o=(o+1)%t,i++},l=function(){if(0!=i){var e=n[a];return n[a]=null,i--,a=(a+1)%t,e}},u=function(){for(var e=[];i;)e.push(l());return e},e={isEmpty:function(){return 0==i},put:function(e){if(i<t)s(e);else{var l;l=2*t,i=(n=u()).length,o=n.length,a=0,n.length=l,t=l,s(e)}},take:l,flush:u}}var c=!1,d=[];return{take:function(t){c&&e.isEmpty()?t(ic):e.isEmpty()?(d.push(t),t.cancel=function(){nj(d,t)}):t(e.take())},put:function(t){if(!c){if(0===d.length)return e.put(t);d.shift()(t)}},flush:function(t){if(c&&e.isEmpty()){t(ic);return}t(e.flush())},close:function(){if(!c){c=!0;var e=d;d=[];for(var t=0,n=e.length;t<n;t++)(0,e[t])(ic)}}}}(t.buffer),a=iu(i),s=function t(n){id(n)||e.channel.take(t,a),o.put(n)},l=o.close;o.close=function(){s.cancel(),l()},e.channel.take(s,a),n(o)},uk.CANCELLED=function(e,t,n,i){n(i.task.isCancelled())},uk.FLUSH=function(e,t,n){t.flush(n)},uk.GET_CONTEXT=function(e,t,n,i){n(i.task.context[t])},uk.SET_CONTEXT=function(e,t,n,i){nM(i.task.context,t),n()},uk);function ib(e){var t=e.name,n=e.location;return n?t+"  "+n.fileName+"?"+n.lineNumber:t}var iw=null,ix=[],iS=function(e){e.crashedEffect=iw,ix.push(e)},i_=function(){iw=null,ix.length=0},iE=function(e){iw=e},iT=function(){var e,t,n=ix[0],i=ix.slice(1),o=n.crashedEffect?(e=n.crashedEffect[nw])?e.code+"  "+e.fileName+"?"+e.lineNumber:"":null;return["The above error occurred in task "+ib(n.meta)+(o?" \n when executing effect "+o:"")].concat(i.map(function(e){return"    created by "+ib(e.meta)}),[(t=nL(function(e){return e.cancelledTasks},ix)).length?["Tasks cancelled due to error:"].concat(t).join("\n"):""]).join("\n")};function iO(e,t,n,i,o,a,s){var l=e.finalizeRunEffect(function(t,n,i){nO(t)?ih(t,i):nI(t)?iO(e,t,c.context,n,o,!1,i):t&&t[np]?(0,iy[t.type])(e,t.payload,i,d):i(t)});p.cancel=nD;var u={meta:o,cancel:function(){0===u.status&&(u.status=1,p(ny))},status:0},c=function(e,t,n,i,o,a,s){void 0===s&&(s=nD);var l,u,c,d=0,p=null,h=[],f=Object.create(n),g=function(e,t,n){var i,o=[],a=!1;function s(e){t(),u(),n(e,!0)}function l(t){o.push(t),t.cont=function(l,u){a||(nj(o,t),t.cont=nD,u?s(l):(t===e&&(i=l),o.length||(a=!0,n(i))))}}function u(){a||(a=!0,o.forEach(function(e){e.cont=nD,e.cancel()}),o=[])}return l(e),{addTask:l,cancelAll:u,abort:s,getTasks:function(){return o}}}(t,function(){h.push.apply(h,g.getTasks().map(function(e){return e.meta.name}))},m);function m(t,n){if(n){if(d=2,iS({meta:o,cancelledTasks:h}),v.isRoot){var i=iT();i_(),e.onError(t,{sagaStack:i})}c=t,p&&p.reject(t)}else t===ny?d=1:1!==d&&(d=3),u=t,p&&p.resolve(t);v.cont(t,n),v.joiners.forEach(function(e){e.cb(t,n)}),v.joiners=null}var v=((l={})[nv]=!0,l.id=i,l.meta=o,l.isRoot=a,l.context=f,l.joiners=[],l.queue=g,l.cancel=function(){0===d&&(d=1,g.cancelAll(),m(ny,!1))},l.cont=s,l.end=m,l.setContext=function(e){nM(f,e)},l.toPromise=function(){return p||(p=n8(),2===d?p.reject(c):0!==d&&p.resolve(u)),p.promise},l.isRunning=function(){return 0===d},l.isCancelled=function(){return 1===d||0===d&&1===t.status},l.isAborted=function(){return 2===d},l.result=function(){return u},l.error=function(){return c},l);return v}(e,u,n,i,o,a,s),d={task:c,digestEffect:h};return s&&(s.cancel=c.cancel),p(),c;function p(e,n){try{var o;n?(o=t.throw(e),i_()):nV(e)?(u.status=1,p.cancel(),o=n_(t.return)?t.return(ny):{done:!0,value:ny}):o=nH(e)?n_(t.return)?t.return():{done:!0}:t.next(e),o.done?(1!==u.status&&(u.status=3),u.cont(o.value)):h(o.value,i,p)}catch(e){if(1===u.status)throw e;u.status=2,u.cont(e,!0)}}function h(t,n,i,o){void 0===o&&(o="");var a,s=im();function u(n,o){a||(a=!0,i.cancel=nD,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(s,n):e.sagaMonitor.effectResolved(s,n)),o&&iE(t),i(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:s,parentEffectId:n,label:o,effect:t}),u.cancel=nD,i.cancel=function(){!a&&(a=!0,u.cancel(),u.cancel=nD,e.sagaMonitor&&e.sagaMonitor.effectCancelled(s))},l(t,s,u)}}function iI(e,t){for(var n,i=e.channel,o=void 0===i?ip():i,a=e.dispatch,s=e.getState,l=e.context,u=void 0===l?{}:l,c=e.sagaMonitor,d=e.effectMiddlewares,p=e.onError,h=arguments.length,f=Array(h>2?h-2:0),g=2;g<h;g++)f[g-2]=arguments[g];var m=t.apply(void 0,f),v=im();if(c&&(c.rootSagaStarted=c.rootSagaStarted||nD,c.effectTriggered=c.effectTriggered||nD,c.effectResolved=c.effectResolved||nD,c.effectRejected=c.effectRejected||nD,c.effectCancelled=c.effectCancelled||nD,c.actionDispatched=c.actionDispatched||nD,c.rootSagaStarted({effectId:v,saga:t,args:f})),d){var y=nX.apply(void 0,d);n=function(e){return function(t,n,i){return y(function(t){return e(t,n,i)})(t)}}}else n=nN;var b={channel:o,dispatch:function(e){return a(Object.defineProperty(e,ng,{value:!0}))},getState:s,sagaMonitor:c,onError:void 0===p?nU:p,finalizeRunEffect:n};return it(function(){var e=iO(b,m,u,v,nq(t),!0,void 0);return c&&c.effectResolved(v,e),e})}var iP=function(e){var t,n=void 0===e?{}:e,i=n.context,o=void 0===i?{}:i,a=n.channel,s=void 0===a?ip():a,l=n.sagaMonitor,u=(0,eA.default)(n,["context","channel","sagaMonitor"]);function c(e){var n=e.getState,i=e.dispatch;return t=iI.bind(null,(0,eC.default)({},u,{context:o,channel:s,dispatch:i,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return s.put(t),n}}}return c.run=function(){return t.apply(void 0,arguments)},c.setContext=function(e){nM(o,e)},c},eg=(ee("1l9KS"),ee("1l9KS"));const iC="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0!==t.length)return"object"==typeof t[0]?eg.compose:(0,eg.compose)(...t)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var eg=ee("1l9KS"),iA={},iR=ee("aVHp4"),ik=ee("dYx27"),iD={},iN=ee("1PK08"),iM=ee("kuzVa"),iL={},ij=ee("8r7u7"),iF=ee("kb53D");iL=function(e,t){return t.length<2?e:ij(e,iF(t,0,-1))};var iB=ee("1N7wp");iD=function(e,t){return t=iN(t,e),null==(e=iL(e,t))||delete e[iB(iM(t))]};var iN=ee("1PK08"),iz=ee("gxqh8"),iU={},iW=ee("cqF7M");iU=function(e){return iW(e)?void 0:e};var iH=ee("f7yR9"),iV=ee("bvDry");function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach(function(t){iq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iq(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.RESOLVE_AUTHENTICATION_REQUEST:return i$(i$({},e),{},iq({},t.tokenServiceId,{authId:t.id,id:t.tokenServiceId,isFetching:!0}));case iY.default.REQUEST_ACCESS_TOKEN:return i$(i$({},e),{},iq({},t.serviceId,{authId:t.authId,id:t.serviceId,isFetching:!0}));case iY.default.RECEIVE_ACCESS_TOKEN:return i$(i$({},e),{},iq({},t.serviceId,i$(i$({},e[t.serviceId]),{},{isFetching:!1,json:t.json})));case iY.default.RECEIVE_ACCESS_TOKEN_FAILURE:return i$(i$({},e),{},iq({},t.serviceId,i$(i$({},e[t.serviceId]),{},{error:t.error,isFetching:!1})));case iY.default.RESET_AUTHENTICATION_STATE:return /*@__PURE__*/Y(iA)(e,t.tokenServiceId);case iY.default.RECEIVE_INFO_RESPONSE:if(!t.tokenServiceId||e[t.tokenServiceId].success)return e;return i$(i$({},e),{},iq({},t.tokenServiceId,i$(i$({},e[t.tokenServiceId]),{},{success:!0})));default:return e}}iA=iH(function(e,t){var n={};if(null==e)return n;var i=!1;t=iR(t,function(t){return t=iN(t,e),i||(i=t.length>1),t}),iz(e,iV(e),n),i&&(n=ik(n,7,iU));for(var o=t.length;o--;)iD(n,t[o]);return n});var iY=(ee("8KIqz"),ee("8KIqz"));function iK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function iZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iK(Object(n),!0).forEach(function(t){iJ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iJ(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iQ=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.REQUEST_ANNOTATION:return iZ(iZ({},e),{},iJ({},t.targetId,iZ(iZ({},e[t.targetId]),{},iJ({},t.annotationId,{id:t.annotationId,isFetching:!0}))));case iY.default.RECEIVE_ANNOTATION:return iZ(iZ({},e),{},iJ({},t.targetId,iZ(iZ({},e[t.targetId]),{},iJ({},t.annotationId,{id:t.annotationId,isFetching:!1,json:t.annotationJson}))));case iY.default.RECEIVE_ANNOTATION_FAILURE:return iZ(iZ({},e),{},iJ({},t.targetId,iZ(iZ({},e[t.targetId]),{},iJ({},t.annotationId,{error:t.error,id:t.annotationId,isFetching:!1}))));case iY.default.IMPORT_MIRADOR_STATE:return{};default:return e}},iY=ee("8KIqz");function i0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i0(Object(n),!0).forEach(function(t){i2(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i2(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i3=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.ADD_AUTHENTICATION_REQUEST:return i1(i1({},e),{},i2({},t.id,{id:t.id,isFetching:!0,profile:t.profile,windowId:t.windowId}));case iY.default.RESOLVE_AUTHENTICATION_REQUEST:return i1(i1({},e),{},i2({},t.id,i1(i1({},e[t.id]),{},{isFetching:!1,ok:t.ok})));case iY.default.RECEIVE_ACCESS_TOKEN:if(!t.authId)return e;return i1(i1({},e),{},i2({},t.authId,i1(i1({},e[t.authId]),{},{ok:!0})));case iY.default.RESET_AUTHENTICATION_STATE:return /*@__PURE__*/Y(iA)(e,t.id);default:return e}},iY=ee("8KIqz");function i5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i4(e){return function(e){if(Array.isArray(e))return i6(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i6(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i6(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var i8=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.ADD_RESOURCE:if(e.some(function(e){return e.manifestId===t.manifestId}))return e;return[function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i5(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({manifestId:t.manifestId},t.payload)].concat(i4(e));case iY.default.ADD_WINDOW:if(e.some(function(e){return e.manifestId===t.window.manifestId}))return e;return[{manifestId:t.window.manifestId}].concat(i4(e));case iY.default.UPDATE_WINDOW:if(!t.payload.manifestId||e.some(function(e){return e.manifestId===t.payload.manifestId}))return e;return[{manifestId:t.payload.manifestId}].concat(i4(e));case iY.default.REMOVE_RESOURCE:return e.filter(function(e){return e.manifestId!==t.manifestId});case iY.default.IMPORT_CONFIG:return t.config.catalog||[];case iY.default.IMPORT_MIRADOR_STATE:return t.state.catalog||[];default:return e}},i9={},i7={},oe={};uD={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},uN={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},uM={2:[1,0],3:[2,0,1],4:[3,2,0,1]},uL={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},uj={mapKeys:[1],reduceRight:[1,0]},uF={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},uB={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},uz={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},uU=function(){var e=Object.prototype.hasOwnProperty,t={};for(var n in uD){var i=uD[n];e.call(t,i)?t[i].push(n):t[i]=[n]}return t}(),uW={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},uH={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},uV={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0};var ot=ee("4tIku"),or=Array.prototype.push;function on(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function oi(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function oo(e,t){return function(){var n=arguments.length;if(n){for(var i=Array(n);n--;)i[n]=arguments[n];var o=i[0]=t.apply(void 0,i);return e.apply(void 0,i),o}}}oe=function e(t,n,i,o){var a="function"==typeof n,s=n===Object(n);if(s&&(o=i,i=n,n=void 0),null==i)throw TypeError();o||(o={});var l={cap:!("cap"in o)||o.cap,curry:!("curry"in o)||o.curry,fixed:!("fixed"in o)||o.fixed,immutable:!("immutable"in o)||o.immutable,rearg:!("rearg"in o)||o.rearg},u=a?i:ot,c="curry"in o&&o.curry,d="fixed"in o&&o.fixed,p="rearg"in o&&o.rearg,h=a?i.runInContext():void 0,f=a?i:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},g=f.ary,m=f.assign,v=f.clone,y=f.curry,b=f.forEach,w=f.isArray,x=f.isError,S=f.isFunction,_=f.isWeakMap,E=f.keys,T=f.rearg,O=f.toInteger,I=f.toPath,P=E(uN),C={castArray:function(e){return function(){var t=arguments[0];return w(t)?e(oi(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],i=e(t,n),o=i.length;return l.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?i:on(i,n)):i}},mixin:function(e){return function(t){var n=this;if(!S(n))return e(n,Object(t));var i=[];return b(E(t),function(e){S(t[e])&&i.push([e,n.prototype[e]])}),e(n,Object(t)),b(i,function(e){var t=e[1];S(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:O(t)+1;return y(e(t),n)}},rearg:function(e){return function(t,n){var i=n?n.length:0;return y(e(t,n),i)}},runInContext:function(n){return function(i){return e(t,n(i),o)}}};function A(e,t,n){if(l.fixed&&(d||!uH[e])){var i=uB[e],o=i&&i.start;return void 0===o?g(t,n):function(){for(var e=arguments.length,n=e-1,i=Array(e);e--;)i[e]=arguments[e];var a=i[o],s=i.slice(0,o);return a&&or.apply(s,a),o!=n&&or.apply(s,i.slice(o+1)),t.apply(this,s)}}return t}function R(e,t,n){return l.rearg&&n>1&&(p||!uV[e])?T(t,uF[e]||uM[n]):t}function k(e,t){t=I(t);for(var n=-1,i=t.length,o=i-1,a=v(Object(e)),s=a;null!=s&&++n<i;){var l=t[n],u=s[l];null==u||S(u)||x(u)||_(u)||(s[l]=v(n==o?u:Object(u))),s=s[l]}return a}function D(t,n){var i=uD[t]||t,s=uW[i]||i,l=o;return function(t){return e(a?h:f,i,a?h[s]:n,m(m({},l),t))}}function N(e,t){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var o=l.rearg?0:n-1;return i[o]=t(i[o]),e.apply(void 0,i)}}function M(e,t,n){var i,o=uD[e]||e,s=t,u=C[o];return u?s=u(t):l.immutable&&(uz.array[o]?s=oo(t,oi):uz.object[o]?s=oo(t,function(e){return t({},e)}):uz.set[o]&&(s=oo(t,k))),b(P,function(e){return b(uN[e],function(t){if(o==t){var n,u=uB[o];return i=u&&u.afterRearg?A(o,R(o,s,e),e):R(o,A(o,s,e),e),n=i=function(e,t){if(l.cap){var n=uj[e];if(n)return N(t,function(e){var t,i=n.length;return t=T(on(e,i),n),2==i?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}});var i=!a&&uL[e];if(i)return N(t,function(e){return"function"==typeof e?on(e,i):e})}return t}(o,i),i=c||l.curry&&e>1?y(n,e):n,!1}}),!i}),i||(i=s),i==t&&(i=c?y(i,1):function(){return t.apply(this,arguments)}),i.convert=D(o,t),i.placeholder=t.placeholder=n,i}if(!s)return M(n,i,u);var L=i,j=[];return b(P,function(e){b(uN[e],function(e){var t=L[uW[e]||e];t&&j.push([e,M(e,t,L)])})}),b(E(L),function(e){var t=L[e];if("function"==typeof t){for(var n=j.length;n--;)if(j[n][0]==e)return;t.convert=D(e,t),j.push([e,t])}}),b(j,function(e){L[e[0]]=e[1]}),L.convert=function(e){return L.runInContext.convert(e)(void 0)},L.placeholder=L,b(E(L),function(e){b(uU[e]||[],function(t){L[t]=L[e]})}),L};var oa={};oa={ary:ee("lWG3z"),assign:ee("94XG7"),clone:ee("cwSPa"),curry:ee("9O2hs"),forEach:ee("4eWWZ"),isArray:ee("1mNSP"),isError:ee("d7xay"),isFunction:ee("gMYkB"),isWeakMap:ee("bSE29"),iteratee:ee("jwwMI"),keys:ee("ltj2s"),rearg:ee("PwAvu"),toInteger:ee("7uPRB"),toPath:ee("EJFAr")};var os=(i7=function(e,t,n){return oe(oa,e,t,n)})("set",ee("67n9I"));os.placeholder=ee("4tIku"),i9=os;var ol={},ou=i7("update",ee("4H1G7"));ou.placeholder=ee("4tIku"),ol=ou;var iY=ee("8KIqz");function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function op(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.ADD_COMPANION_WINDOW:return /*@__PURE__*/Y(i9)([t.id],t.payload,e);case iY.default.ADD_WINDOW:return od(od({},e),(t.companionWindows||[]).reduce(function(n,i){return n[i.id]=od(od(od({},e[i.id]),i),{},{windowId:t.id}),n},{}));case iY.default.REMOVE_WINDOW:return Object.keys(e).reduce(function(n,i){return e[i].windowId!==t.windowId&&(n[i]=e[i]),n},{});case iY.default.UPDATE_COMPANION_WINDOW:return /*@__PURE__*/Y(ol)([t.id],function(e){return od(od({},e||{}),t.payload)},e);case iY.default.REMOVE_COMPANION_WINDOW:return /*@__PURE__*/Y(iA)(e,t.id);case iY.default.IMPORT_MIRADOR_STATE:return t.state.companionWindows||[];case iY.default.TOGGLE_TOC_NODE:return /*@__PURE__*/Y(ol)([t.id,"tocNodes"],function(e){return od(od({},e||{}),t.payload)},e);default:return e}}var rY=ee("gaTnh"),oh=ee("lkQn4"),iY=ee("8KIqz");function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var og=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},oh.default),om=function(e,t,n){return t},ov=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:og,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.UPDATE_CONFIG:case iY.default.IMPORT_CONFIG:return /*@__PURE__*/Y(rY)(e,t.config,{arrayMerge:om});case iY.default.SET_CONFIG:return t.config;case iY.default.IMPORT_MIRADOR_STATE:return t.state.config||{};default:return e}},iY=ee("8KIqz");function oy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function ob(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(n),!0).forEach(function(t){ow(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ow(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ox=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.ADD_WINDOW:return ob(ob({},e),{},ow({},t.window.id,ob({windowId:t.window.id},t.elasticLayout)));case iY.default.UPDATE_ELASTIC_WINDOW_LAYOUT:return /*@__PURE__*/Y(ol)([t.windowId],function(e){return ob(ob({},e||{}),t.payload)},e);case iY.default.REMOVE_WINDOW:return /*@__PURE__*/Y(iA)(e,t.windowId);case iY.default.IMPORT_MIRADOR_STATE:return t.state.elasticLayout||{};default:return e}},oS=ee("7SWyp"),iY=ee("8KIqz");function o_(e){return function(e){if(Array.isArray(e))return oE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oE(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oE(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(t){oI(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oI(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oP={items:[]},oC=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oP,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case iY.default.ADD_ERROR:return oO(oO({},t),{},oI(oI({},n.id,{id:n.id,message:n.message}),"items",[].concat(o_(t.items),[n.id])));case iY.default.RECEIVE_INFO_RESPONSE_FAILURE:return oO(oO({},t),{},oI(oI({},n.infoId,{id:n.infoId,message:n.error}),"items",[].concat(o_(t.items),[n.infoId])));case iY.default.RECEIVE_SEARCH_FAILURE:return oO(oO({},t),{},oI(oI({},n.searchId,{id:n.searchId,message:n.error}),"items",[].concat(o_(t.items),[n.searchId])));case iY.default.REMOVE_ERROR:return(e=Object.keys(t).reduce(function(e,i){return i!==n.id&&(e[i]=t[i]),e},{})).items=/*@__PURE__*/Y(oS)(e.items,n.id),e;case iY.default.IMPORT_MIRADOR_STATE:return oP;default:return t}},iY=ee("8KIqz");function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(t){ok(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ok(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.REQUEST_INFO_RESPONSE:return oR(oR({},e),{},ok({},t.infoId,{id:t.infoId,isFetching:!0}));case iY.default.RECEIVE_INFO_RESPONSE:return oR(oR({},e),{},ok({},t.infoId,{degraded:!1,id:t.infoId,isFetching:!1,json:t.infoJson,tokenServiceId:t.tokenServiceId}));case iY.default.RECEIVE_DEGRADED_INFO_RESPONSE:return oR(oR({},e),{},ok({},t.infoId,{degraded:!0,id:t.infoId,isFetching:!1,json:t.infoJson,tokenServiceId:t.tokenServiceId}));case iY.default.RECEIVE_INFO_RESPONSE_FAILURE:return oR(oR({},e),{},ok({},t.infoId,{error:t.error,id:t.infoId,isFetching:!1,tokenServiceId:t.tokenServiceId}));case iY.default.REMOVE_INFO_RESPONSE:return Object.keys(e).reduce(function(n,i){return i!==t.infoId&&(n[i]=e[i]),n},{});case iY.default.IMPORT_MIRADOR_STATE:return{};default:return e}},rY=ee("gaTnh"),iY=ee("8KIqz");function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(t){oL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oL(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oj=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.UPDATE_LAYERS:return oM(oM({},e),{},oL({},t.windowId,oM(oM({},e[t.windowId]),{},oL({},t.canvasId,/*@__PURE__*/Y(rY)((e[t.windowId]||{})[t.canvasId]||{},t.payload)))));case iY.default.REMOVE_WINDOW:return /*@__PURE__*/Y(iA)(e,[t.windowId]);default:return e}},iY=ee("8KIqz");function oF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(n),!0).forEach(function(t){oz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oz(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.REQUEST_MANIFEST:return oB(oz({},t.manifestId,oB(oB(oB({},e[t.manifestId]),t.properties),{},{id:t.manifestId})),/*@__PURE__*/Y(iA)(e,t.manifestId));case iY.default.RECEIVE_MANIFEST:return oB(oB({},e),{},oz({},t.manifestId,oB(oB({},e[t.manifestId]),{},{error:null,id:t.manifestId,isFetching:!1,json:t.manifestJson})));case iY.default.RECEIVE_MANIFEST_FAILURE:return oB(oB({},e),{},oz({},t.manifestId,oB(oB({},e[t.manifestId]),{},{error:t.error,id:t.manifestId,isFetching:!1})));case iY.default.REMOVE_MANIFEST:return Object.keys(e).reduce(function(n,i){return i!==t.manifestId&&(n[i]=e[i]),n},{});case iY.default.IMPORT_MIRADOR_STATE:return t.state.manifests||{};default:return e}},oW=ee("dPHLq"),iY=ee("8KIqz");function oH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oH(Object(n),!0).forEach(function(t){oG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oG(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(e[t.windowId]||{})[t.companionWindowId]||{};switch(t.type){case iY.default.REQUEST_SEARCH:if(n.query!==t.query)return oV(oV({},e),{},oG({},t.windowId,oV(oV({},e[t.windowId]),{},oG({},t.companionWindowId,oV(oV({},n),{},{data:oG({},t.searchId,{isFetching:!0}),query:t.query,selectedContentSearchAnnotation:[]})))));return oV(oV({},e),{},oG({},t.windowId,oV(oV({},e[t.windowId]),{},oG({},t.companionWindowId,oV(oV({},n),{},{data:oV(oV({},n.data),{},oG({},t.searchId,{isFetching:!0}))})))));case iY.default.RECEIVE_SEARCH:return oV(oV({},e),{},oG({},t.windowId,oV(oV({},e[t.windowId]),{},oG({},t.companionWindowId,oV(oV({},n),{},{data:oV(oV({},n.data),{},oG({},t.searchId,{isFetching:!1,json:t.searchJson}))})))));case iY.default.RECEIVE_SEARCH_FAILURE:return oV(oV({},e),{},oG({},t.windowId,oV(oV({},e[t.windowId]),{},oG({},t.companionWindowId,oV(oV({},n),{},{data:oV(oV({},n.data),{},oG({},t.searchId,{error:t.error,isFetching:!1}))})))));case iY.default.REMOVE_SEARCH:return oV(oV({},e),{},oG({},t.windowId,Object.keys(e[t.windowId]).reduce(function(n,i){return i!==t.companionWindowId&&(n[i]=e[t.windowId][i]),n},{})));case iY.default.SET_CONTENT_SEARCH_CURRENT_ANNOTATIONS:return oV(oV({},e),{},oG({},t.windowId,oV(oV({},e[t.windowId]),{},oG({},t.companionWindowId,oV(oV({},n),{},{selectedContentSearchAnnotationIds:t.annotationIds})))));case iY.default.SELECT_ANNOTATION:if(!e[t.windowId])return e;return oV(oV({},e),{},oG({},t.windowId,Object.keys(e[t.windowId]).reduce(function(n,i){var o=e[t.windowId][i];return o.data&&Object.values(o.data).filter(function(e){return e.json&&e.json.resources}).some(function(e){return /*@__PURE__*/Y(oW)([e.json.resources]).some(function(e){return e["@id"]===t.annotationId})})?n[i]=oV(oV({},o),{},{selectedContentSearchAnnotationIds:[t.annotationId]}):n[i]=o,n},{})));case iY.default.IMPORT_MIRADOR_STATE:return{};case iY.default.REMOVE_WINDOW:return /*@__PURE__*/Y(iA)(e,t.windowId);case iY.default.REMOVE_COMPANION_WINDOW:if(!e[t.windowId])return e;return oV(oV({},e),{},oG({},t.windowId,oV({},/*@__PURE__*/Y(iA)(e[t.windowId],t.id))));default:return e}},iY=ee("8KIqz");function oq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oq(Object(n),!0).forEach(function(t){oY(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oY(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oK=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.UPDATE_VIEWPORT:return oX(oX({},e),{},oY({},t.windowId,oX(oX({},e[t.windowId]),t.payload)));case iY.default.REMOVE_WINDOW:return /*@__PURE__*/Y(iA)(e,t.windowId);case iY.default.SET_WINDOW_VIEW_TYPE:return /*@__PURE__*/Y(i9)([t.windowId],null,e);case iY.default.SET_CANVAS:if(!t.preserveViewport)return /*@__PURE__*/Y(i9)([t.windowId],null,e);return e;case iY.default.IMPORT_MIRADOR_STATE:return t.state.viewers||{};default:return e}},iY=ee("8KIqz");function oZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function oJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oZ(Object(n),!0).forEach(function(t){oQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oQ(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o0=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case iY.default.ADD_WINDOW:return oJ(oJ({},e),{},oQ({},t.window.id,t.window));case iY.default.MAXIMIZE_WINDOW:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{maximized:!0})));case iY.default.MINIMIZE_WINDOW:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{maximized:!1})));case iY.default.UPDATE_WINDOW:return /*@__PURE__*/Y(ol)([t.id],function(e){return oJ(oJ({},e||{}),t.payload)},e);case iY.default.REMOVE_WINDOW:return /*@__PURE__*/Y(iA)(e,[t.windowId]);case iY.default.TOGGLE_WINDOW_SIDE_BAR:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{sideBarOpen:!e[t.windowId].sideBarOpen})));case iY.default.SET_WINDOW_VIEW_TYPE:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{view:t.viewType})));case iY.default.UPDATE_WINDOW_POSITION:return oJ(oJ({},e),{},oQ({},t.payload.windowId,oJ(oJ({},e[t.payload.windowId]),{},{x:t.payload.position.x,y:t.payload.position.y})));case iY.default.SET_WINDOW_SIZE:return oJ(oJ({},e),{},oQ({},t.payload.windowId,oJ(oJ({},e[t.payload.windowId]),{},{height:t.payload.size.height,width:t.payload.size.width,x:t.payload.size.x,y:t.payload.size.y})));case iY.default.SET_CANVAS:if(!e[t.windowId])return e;return /*@__PURE__*/Y(ol)([t.windowId],function(e){return oJ(oJ({},e||{}),{},{canvasId:t.canvasId,visibleCanvases:t.visibleCanvases||[]})},e);case iY.default.ADD_COMPANION_WINDOW:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{companionWindowIds:e[t.windowId].companionWindowIds.concat([t.id])},"left"===t.payload.position?{companionAreaOpen:!0,sideBarPanel:t.payload.content}:{})));case iY.default.UPDATE_COMPANION_WINDOW:if("left"!==t.payload.position)return e;return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{companionAreaOpen:!0})));case iY.default.REMOVE_COMPANION_WINDOW:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{companionWindowIds:e[t.windowId].companionWindowIds.filter(function(e){return e!==t.id})})));case iY.default.SELECT_ANNOTATION:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{selectedAnnotationId:t.annotationId})));case iY.default.DESELECT_ANNOTATION:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{selectedAnnotationId:void 0})));case iY.default.HOVER_ANNOTATION:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{hoveredAnnotationIds:t.annotationIds})));case iY.default.TOGGLE_ANNOTATION_DISPLAY:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{highlightAllAnnotations:!e[t.windowId].highlightAllAnnotations})));case iY.default.IMPORT_MIRADOR_STATE:return t.state.windows||[];case iY.default.REQUEST_SEARCH:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{suggestedSearches:void 0})));case iY.default.SHOW_COLLECTION_DIALOG:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{collectionDialogOn:!0,collectionManifestId:t.manifestId,collectionPath:t.collectionPath})));case iY.default.HIDE_COLLECTION_DIALOG:return oJ(oJ({},e),{},oQ({},t.windowId,oJ(oJ({},e[t.windowId]),{},{collectionDialogOn:!1})));default:return e}},oh=ee("lkQn4"),iY=ee("8KIqz");function o1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function o2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o2(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var o5=function(){var e,t,n,i,o,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o3(o3({},oh.default.workspace),{},{windowIds:[]}),l=arguments.length>1?arguments[1]:void 0;switch(l.type){case iY.default.UPDATE_WORKSPACE:return o3(o3({},s),l.config);case iY.default.FOCUS_WINDOW:return o3(o3({},s),{},{focusedWindowId:l.windowId,viewportPosition:o3(o3({},s.viewportPosition),l.position)});case iY.default.ADD_WINDOW:return o3(o3({},s),{},{focusedWindowId:l.window.id,windowIds:[].concat(function(e){if(Array.isArray(e))return o1(e)}(e=s.windowIds||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o1(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o1(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[l.window.id])});case iY.default.REMOVE_WINDOW:return a=(s.windowIds||[]).filter(function(e){return e!==l.windowId}),o3(o3({},s),{},{focusedWindowId:l.windowId===s.focusedWindowId?a[a.length-1]:s.focusedWindowId,windowIds:a});case iY.default.SET_WORKSPACE_FULLSCREEN:return o3(o3({},s),{},{isFullscreenEnabled:l.isFullscreenEnabled});case iY.default.TOGGLE_ZOOM_CONTROLS:return o3(o3({},s),{},{showZoomControls:l.showZoomControls});case iY.default.UPDATE_WORKSPACE_MOSAIC_LAYOUT:return o3(o3({},s),{},{layout:l.layout});case iY.default.SET_WORKSPACE_ADD_VISIBILITY:return o3(o3({},s),{},{isWorkspaceAddVisible:l.isWorkspaceAddVisible});case iY.default.SET_WORKSPACE_VIEWPORT_POSITION:return i={},void 0===(t=o=o3(o3({},s.viewportPosition),l.payload.position)).x||void 0===t.y||void 0===t.width||void 0===t.height||(n={height:s.height,width:s.width,x:0,y:0},o.x-o.width/2>n.x-n.width/2&&o.y-o.height/2>n.y-n.height/2&&o.x+o.width/2<n.x+n.width/2&&o.y+o.height/2<n.y+n.height/2)||(i={height:2*s.height,width:2*s.width}),o3(o3(o3({},s),i),{},{viewportPosition:o});case iY.default.SET_CONFIG:case iY.default.IMPORT_CONFIG:case iY.default.UPDATE_CONFIG:return o3(o3({},s),l.config.workspace);case iY.default.IMPORT_MIRADOR_STATE:return l.state.workspace||{};case iY.default.TOGGLE_DRAGGING:return o3(o3({},s),{},{draggingEnabled:!s.draggingEnabled});default:return s}};function o4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}ee("5XyNA");var o6=function(e){return{done:!0,value:e}},o8={};function o9(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];var a,s,l,u,c={done:!1,value:(void 0===(a=e)&&(a="*"),nP(a))?(nS(void 0)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),nQ(nY,{pattern:a})):nC(l=a)&&l[nf]&&nS(void 0)&&nP(s)?nQ(nY,{channel:a,pattern:s}):nC(a)?(nS(s)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),nQ(nY,{channel:a})):void 0},d=function(e){return u=e};return function(e,t,n){var i,o,a,s="q1";function l(t,n){if(s===o8)return o6(t);if(n&&!o)throw s=o8,n;i&&i(t);var l=n?e[o](n):e[s]();return s=l.nextState,a=l.effect,i=l.stateUpdater,o=l.errorState,s===o8?o6(t):a}return nz(l,function(e){return l(null,e)},n)}({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){var e;return{nextState:"q1",effect:(e=u,{done:!1,value:n5.apply(void 0,[t].concat(i,[e]))})}}},0,"takeEvery("+(nC(e)?"channel":nA(e)?String(e):n_(e)?e.name:String(e))+", "+t.name+")")}function o7(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return n5.apply(void 0,[o9,e,t].concat(i))}var ae=ee("e7c9a"),at=ee("cyP9O"),ar=ee("7aIzy"),iY=ee("8KIqz"),an=ee("h7O51"),ai=ee("6olWy"),ao=ee("7fquy"),aa=ee("3Egnc"),as=ee("ihY0c"),al=ee("cEqnD"),ev=ee("8uJ99"),au=ee("hJg9G"),ac=/*#__PURE__*/ag().mark(aw),ad=/*#__PURE__*/ag().mark(aT),ap=/*#__PURE__*/ag().mark(aO);function ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ah(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ah(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ag(){ag=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function am(e,t,n){var i=n.success,o=n.degraded,a=n.failure;return fetch(e,t).then(function(e){return e.json().then(function(t){return 401===e.status?(o||i)({json:t,response:e}):e.ok?i({json:t,response:e}):a({error:e.statusText,json:t,response:e})}).catch(function(t){return a({error:t,response:e})})}).catch(function(e){return a({error:e})})}function av(e,t,n){var i=n.success,o=n.degraded,a=n.failure;return /*#__PURE__*/ag().mark(function n(){var s,l,u,c,d,p,h;return ag().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,n4(ev.getRequestsConfig);case 2:return u=void 0===(l=(s=n.sent).preprocessors)?[]:l,d=void 0===(c=s.postprocessors)?[]:c,n.prev=7,p=u.reduce(function(t,n){return n(e,t)||t},t),n.next=11,n3(am,e,p,{degraded:o,failure:a,success:i});case 11:return h=n.sent,h=d.reduce(function(t,n){return n(e,t)||t},h),n.abrupt("return",h);case 16:return n.prev=16,n.t0=n.catch(7),n.abrupt("return",a({error:n.t0}));case 19:case"end":return n.stop()}},n,null,[[7,16]])})()}function ay(e,t,n,i){var o=i.degraded,a=i.failure,s=i.success;return /*#__PURE__*/ag().mark(function i(){var l,u,c,d,p,h,f,g,m;return ag().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(l=af({},n),!t){i.next=7;break}return i.next=4,n3(aw,t);case 4:u=(c=i.sent)&&c.id,c&&c.json&&(l.headers=af({Authorization:"Bearer ".concat(c.json.accessToken)},n.headers));case 7:return i.next=9,n3(av,e,l,{failure:function(e){return e},success:function(e){return e}});case 9:if(p=(d=i.sent).error,h=d.json,f=d.response,!p){i.next=17;break}return i.next=16,n0(a({error:p,json:h,response:f,tokenServiceId:u}));case 16:case 22:case 28:case 35:return i.abrupt("return");case 17:if(g=h["@id"]||h.id,!f.ok){i.next=25;break}if(/*@__PURE__*/Y(ar)(g,{stripAuthentication:!1})!==/*@__PURE__*/Y(ar)(e.replace(/info\.json$/,""),{stripAuthentication:!1})){i.next=23;break}return i.next=22,n0(s({json:h,response:f,tokenServiceId:u}));case 23:i.next=29;break;case 25:if(!(401!==f.status)){i.next=29;break}return i.next=28,n0(a({error:p,json:h,response:f,tokenServiceId:u}));case 29:return i.next=31,n3(aw,h);case 31:if(!((m=i.sent)&&m.id!==u)){i.next=36;break}return i.next=35,n3(ay,e,h,n,{degraded:o,failure:a,success:s});case 36:return i.next=38,n0((o||s)({json:h,response:f,tokenServiceId:u}));case 38:case"end":return i.stop()}},i)})()}function ab(e){var t=e.manifestId;return /*#__PURE__*/ag().mark(function e(){var n,i;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={failure:function(e){var n=e.error;return e.json,e.response,(0,ao.receiveManifestFailure)(t,"object"==typeof n?String(n):n)},success:function(e){var n=e.json;return e.response,(0,ao.receiveManifest)(t,n)}},e.next=3,n3(av,t,{},n);case 3:return i=e.sent,e.next=6,n0(i);case 6:case"end":return e.stop()}},e)})()}function aw(e){var t,n,i,o,a,s,l;return ag().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e&&e.__jsonld?e:af(af({},e),{},{options:{}}),0!==(n=(0,at.Utils).getServices(t).filter(function(e){return e.getProfile().match(/http:\/\/iiif.io\/api\/auth\//)})).length){u.next=4;break}return u.abrupt("return",void 0);case 4:return u.next=6,n4(as.getAccessTokens);case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return",void 0);case 9:o=0;case 10:if(!(o<n.length)){u.next=19;break}if(a=n[o],!((l=(s=(0,at.Utils).getService(a,"http://iiif.io/api/auth/1/token")||(0,at.Utils).getService(a,"http://iiif.io/api/auth/0/token"))&&i[s.id])&&l.json)){u.next=16;break}return u.abrupt("return",l);case 16:o+=1,u.next=10;break;case 19:return u.abrupt("return",void 0);case 20:case"end":return u.stop()}},ac)}function ax(e){var t=e.imageResource,n=e.infoId,i=e.windowId;return /*#__PURE__*/ag().mark(function e(){var o,a;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t){e.next=5;break}return e.next=4,n4(au.selectInfoResponse,{infoId:n});case 4:o=e.sent;case 5:return a={degraded:function(e){var t=e.json,o=e.response,a=e.tokenServiceId;return(0,ai.receiveDegradedInfoResponse)(n,t,o.ok,a,i)},failure:function(e){var t=e.error,i=(e.json,e.response,e.tokenServiceId);return(0,ai.receiveInfoResponseFailure)(n,t,i)},success:function(e){var t=e.json,i=e.response,o=e.tokenServiceId;return(0,ai.receiveInfoResponse)(n,t,i.ok,o)}},e.next=8,n3(ay,"".concat(n.replace(/\/$/,""),"/info.json"),o,{},a);case 8:case"end":return e.stop()}},e)})()}function aS(e){var t=e.windowId,n=e.companionWindowId,i=(e.query,e.searchId);return /*#__PURE__*/ag().mark(function e(){var o,a;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={failure:function(e){var o=e.error;return e.json,e.response,(0,aa.receiveSearchFailure)(t,n,i,o)},success:function(e){var o=e.json;return e.response,(0,aa.receiveSearch)(t,n,i,o)}},e.next=3,n3(av,i,{},o);case 3:return a=e.sent,e.next=6,n0(a);case 6:case"end":return e.stop()}},e)})()}function a_(e){var t=e.targetId,n=e.annotationId;return /*#__PURE__*/ag().mark(function e(){var i,o;return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={failure:function(e){var i=e.error;return e.json,e.response,(0,an.receiveAnnotationFailure)(t,n,i)},success:function(e){var i=e.json;return e.response,(0,an.receiveAnnotation)(t,n,i)}},e.next=3,n3(av,n,{},i);case 3:return o=e.sent,e.next=6,n0(o);case 6:case"end":return e.stop()}},e)})()}function aE(e){var t=e.manifestId,n=e.manifestJson;return /*#__PURE__*/ag().mark(function e(){return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,n0((0,ao.receiveManifest)(t,n));case 3:return e.abrupt("return");case 4:if(t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n4(al.getManifests)||{};case 8:if(e.sent[t]){e.next=11;break}return e.delegateYield(ab({manifestId:t}),"t0",11);case 11:case"end":return e.stop()}},e)})()}function aT(){var e,t,n,i=arguments;return ag().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n4(al.getManifests);case 2:e=o.sent,t=0;case 4:if(!(t<i.length)){o.next=12;break}if(e[n=t<0||i.length<=t?void 0:i[t]]){o.next=9;break}return o.next=9,n3(ab,{manifestId:n});case 9:t+=1,o.next=4;break;case 12:case"end":return o.stop()}},ad)}function aO(){return ag().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1([o7(iY.default.REQUEST_MANIFEST,ab),o7(iY.default.REQUEST_INFO_RESPONSE,ax),o7(iY.default.REQUEST_SEARCH,aS),o7(iY.default.REQUEST_ANNOTATION,a_),o7(iY.default.ADD_RESOURCE,aE)]);case 2:case"end":return e.stop()}},ap)}var iY=ee("8KIqz"),aI=ee("kGkLa"),aP=ee("3h31Z"),ai=ee("6olWy"),aa=ee("3Egnc"),ao=ee("7fquy"),an=ee("h7O51"),aC=ee("5BWNH"),aA=ee("92W7F"),aR=ee("4gN6n"),au=ee("hJg9G"),ak=ee("lmpGm"),aD=ee("cOFmZ"),aN=ee("hCAcf"),aM=ee("8pjuL"),al=ee("cEqnD"),aL=ee("lPJ6l");function aj(){aj=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}var aF=/*#__PURE__*/aj().mark(aq),aB=/*#__PURE__*/aj().mark(aX),az=/*#__PURE__*/aj().mark(aK),aU=/*#__PURE__*/aj().mark(aZ),aW=/*#__PURE__*/aj().mark(aJ),aH=/*#__PURE__*/aj().mark(a6),aV=/*#__PURE__*/aj().mark(a8);function aG(e){return function(e){if(Array.isArray(e))return a$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a$(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a$(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function aq(e){var t,n,i,o;return aj().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=(t=e.payload||e.window).collectionPath,i=t.id,o=t.manifestId){a.next=3;break}return a.abrupt("return");case 3:if(!e.manifest){a.next=8;break}return a.next=6,n0((0,ao.receiveManifest)(o,e.manifest));case 6:a.next=10;break;case 8:return a.next=10,n3.apply(void 0,[aT,o].concat(aG(n||[])));case 10:return a.next=12,n3(aZ,e);case 12:return a.next=14,n3(aJ,e);case 14:if(n){a.next=17;break}return a.next=17,n3(aY,{manifestId:o,windowId:e.id||e.window.id});case 17:return a.next=19,n3(a6,o,i);case 19:case"end":return a.stop()}},aF)}function aX(e){var t,n,i;return aj().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.id,!(!e||!e.payload||!e.payload.sequenceId)){o.next=3;break}return o.abrupt("return");case 3:return o.next=5,n4(au.getCanvases,{windowId:t});case 5:if(!(!(n=o.sent)||!n[0]||!n[0].id)){o.next=8;break}return o.abrupt("return");case 8:return o.next=10,n3(aC.setCanvas,t,n[0].id);case 10:return i=o.sent,o.next=13,n0(i);case 13:case"end":return o.stop()}},aB)}function aY(e){var t=e.manifestId,n=e.windowId;return /*#__PURE__*/aj().mark(function e(){var i,o,a;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(aM.getManifestoInstance,{manifestId:t});case 2:if(!(i=e.sent)||!((a=Array.isArray(o=i.getProperty("partOf"))?o[0]:o)&&a.id)){e.next=9;break}return e.next=9,n0((0,aR.updateWindow)(n,{collectionPath:[a.id]}));case 9:case"end":return e.stop()}},e)})()}function aK(e){var t;return aj().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.payload.collectionPath){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,n3.apply(void 0,[aT].concat(aG(t)));case 5:case"end":return n.stop()}},az)}function aZ(e){var t,n,i,o,a,s,l,u,c,d;return aj().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n=(t=e.payload||e.window).canvasId,i=t.canvasIndex,o=t.manifestId,a=e.id||e.window.id,!n){p.next=10;break}return p.next=5,n3(aC.setCanvas,a,n,null,{preserveViewport:!!e.payload});case 5:return s=p.sent,p.next=8,n0(s);case 8:p.next=22;break;case 10:return p.next=12,n4(aM.getManifestoInstance,{manifestId:o});case 12:if(!(l=p.sent)||!(c=(u=new aI.default(l)).startCanvas||u.canvasAt(i||0)||u.canvasAt(0))){p.next=22;break}return p.next=19,n3(aC.setCanvas,a,c.id);case 19:return d=p.sent,p.next=22,n0(d);case 22:case"end":return p.stop()}},aU)}function aJ(e){var t,n,i,o,a,s;return aj().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(!e.window||!e.window.defaultSearchQuery)){l.next=2;break}return l.abrupt("return");case 2:return n=(t=e.window).id,i=t.defaultSearchQuery,l.next=5,n4(aM.getManifestSearchService,{windowId:n});case 5:return o=l.sent,l.next=8,n4(aD.getCompanionWindowIdsForPosition,{position:"left",windowId:n});case 8:if(a=l.sent[0],!(o&&a)){l.next=14;break}return s=o&&"".concat(o.id,"?q=").concat(i),l.next=14,n0((0,aa.fetchSearch)(n,a,s,i));case 14:case"end":return l.stop()}},aW)}function aQ(e,t){var n=t.canvasIds,i=t.companionWindowIds,o=t.windowId;return i.reduce(function(t,i){var a=(0,ak.getSearchAnnotationsForCompanionWindow)(e,{companionWindowId:i,windowId:o}).resources.find(function(e){return n.includes(e.targetId)});return a&&(t[i]=[a.id]),t},{})}function a0(e){e.annotationId;var t=e.windowId,n=e.visibleCanvases;return /*#__PURE__*/aj().mark(function e(){var i,o;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(ak.getSearchForWindow,{windowId:t});case 2:if(0!==(i=Object.keys(e.sent||{})).length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n4(aQ,{canvasIds:n,companionWindowIds:i,windowId:t});case 8:return o=e.sent,e.next=11,n1(Object.keys(o).map(function(e){return n0((0,aa.setContentSearchCurrentAnnotation)(t,e,o[e]))}));case 11:if(!(Object.values(o).length>0)){e.next=14;break}return e.next=14,n0((0,an.selectAnnotation)(t,Object.values(o)[0][0]));case 14:case"end":return e.stop()}},e)})()}function a1(e){var t=e.pan,n=e.windowId;return /*#__PURE__*/aj().mark(function e(){var i,o,a,s,l,u,c,d;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n4(aN.getElasticLayout);case 4:return o=(i=e.sent[n]||{}).x,a=i.y,s=i.width,l=i.height,e.next=8,n4(al.getWorkspace);case 8:return c=(u=e.sent.viewportPosition).width,d=u.height,e.next=14,n0((0,aA.setWorkspaceViewportPosition)({x:o+s/2-c/2,y:a+l/2-d/2}));case 14:case"end":return e.stop()}},e)})()}function a2(e){var t=e.windowId;return /*#__PURE__*/aj().mark(function e(){var n,i;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(al.getWindow,{windowId:t});case 2:return n=e.sent.canvasId,e.next=6,n4(au.getCanvasGrouping,{canvasId:n,windowId:t});case 6:return i=e.sent,e.next=9,n0((0,aR.updateWindow)(t,{visibleCanvases:(i||[]).map(function(e){return e.id})}));case 9:case"end":return e.stop()}},e)})()}function a3(e){var t=e.companionWindowId,n=e.windowId;return /*#__PURE__*/aj().mark(function e(){var i;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(aL.getWindowConfig,{windowId:n});case 2:if(e.sent.switchCanvasOnSearch){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n4(ak.getSelectedContentSearchAnnotationIds,{companionWindowId:t,windowId:n});case 8:if(!(0!==e.sent.length)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,n4(ak.getSortedSearchAnnotationsForCompanionWindow,{companionWindowId:t,windowId:n});case 13:if(!(!(i=e.sent)||0===i.length)){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,n0((0,an.selectAnnotation)(n,i[0].id));case 18:case"end":return e.stop()}},e)})()}function a5(e){var t=e.annotationId,n=e.windowId;return /*#__PURE__*/aj().mark(function e(){var i,o,a;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(au.getVisibleCanvasIds,{windowId:n});case 2:return i=e.sent,e.next=5,n4(ak.getCanvasForAnnotation,{annotationId:t,windowId:n});case 5:if(!(!(o=e.sent)||i.includes(o.id))){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,n3(aC.setCanvas,n,o.id);case 10:return a=e.sent,e.next=13,n0(a);case 13:case"end":return e.stop()}},e)})()}function a4(e){var t=e.visibleCanvases,n=e.windowId;return /*#__PURE__*/aj().mark(function e(){var i,o,a;return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(au.getCanvases,{windowId:n});case 2:return i=e.sent,e.next=5,n4(au.selectInfoResponses);case 5:return o=e.sent,a=(i||[]).filter(function(e){return t.includes(e.id)}),e.next=9,n1(a.map(function(e){return n1(new aP.default(e).iiifImageResources.map(function(e){return!o[e.getServices()[0].id]&&n0((0,ai.fetchInfoResponse)({imageResource:e,windowId:n}))}).filter(Boolean))}));case 9:case"end":return e.stop()}},e)})()}function a6(e,t){var n;return aj().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n4(aM.getManifestoInstance,{manifestId:e});case 2:if(!((n=i.sent)&&n.isCollection())){i.next=6;break}return i.next=6,n0((0,aR.showCollectionDialog)(e,[],t));case 6:case"end":return i.stop()}},aH)}function a8(){return aj().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1([o7(iY.default.ADD_WINDOW,aq),o7(iY.default.UPDATE_WINDOW,aq),o7(iY.default.UPDATE_WINDOW,aX),o7(iY.default.SET_CANVAS,a0),o7(iY.default.SET_CANVAS,a4),o7(iY.default.UPDATE_COMPANION_WINDOW,aK),o7(iY.default.SET_WINDOW_VIEW_TYPE,a2),o7(iY.default.RECEIVE_SEARCH,a3),o7(iY.default.SELECT_ANNOTATION,a5),o7(iY.default.FOCUS_WINDOW,a1)]);case 2:case"end":return e.stop()}},aV)}var aR=ee("4gN6n"),iY=ee("8KIqz");function a9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a7(){a7=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}var se=/*#__PURE__*/a7().mark(ss),st=/*#__PURE__*/a7().mark(su),sr=/*#__PURE__*/a7().mark(sc);function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,s,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,t)||so(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e){return function(e){if(Array.isArray(e))return sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||so(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(e,t){if(e){if("string"==typeof e)return sa(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sa(e,t):void 0}}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function ss(e){return a7().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n1([].concat(si(Object.entries(e.state.windows||{}).map(function(e){var t=sn(e,2),n=(t[0],t[1]);return n3(aq,{id:n.id,payload:n})})),si(Object.entries(e.state.manifests||{}).filter(function(e){var t=sn(e,2);return!(t[0],t[1]).json}).map(function(e){var t=sn(e,2);return n3(aT,(t[0],t[1]).id)}))));case 2:case"end":return t.stop()}},se)}function sl(e){var t=e.config,n=t.thumbnailNavigation,i=t.windows;return /*#__PURE__*/a7().mark(function e(){var t;return a7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!i||0===i.length)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n1(i.map(function(e){var t="window-".concat((0,ae.default)()),i=e.manifestId||e.loadedManifest;return n3(aR.addWindow,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a9(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:t,manifestId:i,thumbnailNavigationPosition:n&&n.defaultPosition},e))}));case 4:return t=e.sent,e.next=7,n1(t.map(function(e){return n0(e)}));case 7:case"end":return e.stop()}},e)})()}function su(e){var t,n;return a7().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.collectionPath,n=e.manifestId,i.next=3,n3.apply(void 0,[aT,n].concat(si(t)));case 3:case"end":return i.stop()}},st)}function sc(){return a7().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1([o7(iY.default.IMPORT_MIRADOR_STATE,ss),o7(iY.default.IMPORT_CONFIG,sl),o7(iY.default.SHOW_COLLECTION_DIALOG,su)]);case 2:case"end":return e.stop()}},sr)}var an=ee("h7O51"),sd=ee("bdEuo"),au=ee("hJg9G"),iY=ee("8KIqz"),aP=ee("3h31Z"),sp=/*#__PURE__*/sh().mark(sy);function sh(){sh=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function sf(e){return function(e){if(Array.isArray(e))return sg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sg(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sg(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function sm(e){var t=e.canvasId,n=e.windowId;return /*#__PURE__*/sh().mark(function e(){var i,o,a;return sh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(au.getCanvas,{canvasId:t,windowId:n});case 2:return i=e.sent,e.next=5,n4(sd.getAnnotations);case 5:return o=e.sent,a=new aP.default(i),e.next=9,n1([].concat(sf(a.annotationListUris.filter(function(e){return!(o[i.id]&&o[i.id][e])}).map(function(e){return n0((0,an.requestAnnotation)(i.id,e))})),sf(a.canvasAnnotationPages.filter(function(e){return!(o[i.id]&&o[i.id][e.id])}).map(function(e){return e.items?n0((0,an.receiveAnnotation)(i.id,e.id,e)):n0((0,an.requestAnnotation)(i.id,e.id))}))));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)})()}function sv(e){var t=e.visibleCanvases,n=void 0===t?[]:t,i=e.windowId;return /*#__PURE__*/sh().mark(function e(){return sh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1(n.map(function(e){return n0((0,an.requestCanvasAnnotations)(i,e))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})()}function sy(){return sh().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1([o7(iY.default.REQUEST_CANVAS_ANNOTATIONS,sm),o7(iY.default.SET_CANVAS,sv)]);case 2:case"end":return e.stop()}},sp)}var at=ee("cyP9O"),oW=ee("dPHLq"),iY=ee("8KIqz"),aP=ee("3h31Z"),sb=ee("8ElBJ"),as=ee("ihY0c"),ev=ee("8uJ99"),au=ee("hJg9G"),al=ee("cEqnD"),sw=/*#__PURE__*/sx().mark(sI);function sx(){sx=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}function sS(e){var t=e.tokenServiceId;return /*#__PURE__*/sx().mark(function e(){return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n6(2e3);case 2:return e.next=4,n3(s_,{serviceId:t});case 4:case"end":return e.stop()}},e)})()}function s_(e){var t=e.serviceId;return /*#__PURE__*/sx().mark(function e(){var n,i,o,a,s,l;return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(al.getWindows);case 2:return n=e.sent,e.next=5,n1(Object.keys(n).map(function(e){return n4(au.getVisibleCanvases,{windowId:e})}));case 5:return i=e.sent,o=/*@__PURE__*/Y(oW)(/*@__PURE__*/Y(oW)(i).map(function(e){return new aP.default(e).imageServiceIds})),e.next=9,n4(au.selectInfoResponses);case 9:return a=e.sent,s=function(e){return(0,at.Utils).getServices(e).some(function(e){var n=(0,at.Utils).getService(e,"http://iiif.io/api/auth/1/token")||(0,at.Utils).getService(e,"http://iiif.io/api/auth/0/token");return n&&n.id===t})},l=Object.values(a).filter(function(e){return e.json&&s(e.json)}),e.next=14,n1(l.map(function(e){var t=e.id;return o.includes(t)?n3(ax,{infoId:t}):n0({infoId:t,type:iY.default.REMOVE_INFO_RESPONSE})}));case 14:case"end":return e.stop()}},e)})()}function sE(e){var t=e.infoJson,n=e.windowId;return /*#__PURE__*/sx().mark(function e(){var i,o,a,s,l,u,c;return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(as.getAuth);case 2:return i=e.sent,e.next=5,n4(ev.getConfig);case 5:if(s=(void 0===(a=(void 0===(o=e.sent.auth)?{}:o).serviceProfiles)?[]:a).filter(function(e){return e.external||e.kiosk}),l=(0,at.Utils).getServices(t).filter(function(e){return!i[e.id]}).find(function(e){return s.some(function(t){return t.profile===e.getProfile()})})){e.next=14;break}return e.abrupt("return");case 14:if(!(u=s.find(function(e){return e.profile===l.getProfile()})).kiosk){e.next=20;break}return e.next=18,n0((0,sb.addAuthenticationRequest)(n,l.id,l.getProfile()));case 18:e.next=28;break;case 20:if(!u.external){e.next=28;break}if(c=(0,at.Utils).getService(l,"http://iiif.io/api/auth/1/token")||(0,at.Utils).getService(l,"http://iiif.io/api/auth/0/token")){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,n0((0,sb.resolveAuthenticationRequest)(l.id,c.id));case 26:return e.next=28,n0((0,sb.requestAccessToken)(c.id,l.id));case 28:case"end":return e.stop()}},e)})()}function sT(e){var t=e.infoJson,n=(e.windowId,e.tokenServiceId);return /*#__PURE__*/sx().mark(function e(){var i,o;return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(i=(0,at.Utils).getServices(t).find(function(e){var t=(0,at.Utils).getService(e,"http://iiif.io/api/auth/1/token")||(0,at.Utils).getService(e,"http://iiif.io/api/auth/0/token");return t&&t.id===n})){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,n4(as.getAccessTokens);case 7:if((o=e.sent[n])&&o.success){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,n0((0,sb.requestAccessToken)(n,i.id));case 13:case"end":return e.stop()}},e)})()}function sO(e){var t=e.serviceId;return /*#__PURE__*/sx().mark(function e(){var n,i,o,a;return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n4(as.getAccessTokens);case 2:return n=e.sent,e.next=5,n4(as.getAuth);case 5:if(i=e.sent,o=n[t]){e.next=9;break}return e.abrupt("return");case 9:if(a=i[o.authId]){e.next=12;break}return e.abrupt("return");case 12:if(!o.success){e.next=17;break}return e.next=15,n0((0,sb.resetAuthenticationState)({authServiceId:a.id,tokenServiceId:o.id}));case 15:e.next=19;break;case 17:return e.next=19,n0((0,sb.resolveAuthenticationRequest)(a.id,o.id,{ok:!1}));case 19:case"end":return e.stop()}},e)})()}function sI(){return sx().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n1([o7(iY.default.RECEIVE_DEGRADED_INFO_RESPONSE,sT),o7(iY.default.RECEIVE_ACCESS_TOKEN_FAILURE,sO),o7(iY.default.RECEIVE_DEGRADED_INFO_RESPONSE,sE),o7(iY.default.RECEIVE_ACCESS_TOKEN,s_),o7(iY.default.RESET_AUTHENTICATION_STATE,sS)]);case 2:case"end":return e.stop()}},sw)}function sP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function sC(){sC=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(t,n,i,a){var s,l,u=Object.create((n&&n.prototype instanceof v?n:v).prototype);return o(u,"_invoke",{value:(s=new P(a||[]),l=h,function(n,o){if(l===f)throw Error("Generator is already running");if(l===g){if("throw"===n)throw o;return{value:e,done:!0}}for(s.method=n,s.arg=o;;){var a=s.delegate;if(a){var u=function t(n,i){var o=i.method,a=n.iterator[o];if(a===e)return i.delegate=null,"throw"===o&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==o&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+o+"' method")),m;var s=p(a,n.iterator,i.arg);if("throw"===s.type)return i.method="throw",i.arg=s.arg,i.delegate=null,m;var l=s.arg;return l?l.done?(i[n.resultName]=l.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,m):l:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,m)}(a,s);if(u){if(u===m)continue;return u}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===h)throw l=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=f;var c=p(t,i,s);if("normal"===c.type){if(l=s.done?g:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:s.done}}"throw"===c.type&&(l=g,s.method="throw",s.arg=c.arg)}})}),u}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h="suspendedStart",f="executing",g="completed",m={};function v(){}function y(){}function b(){}var w={};c(w,s,function(){return this});var x=Object.getPrototypeOf,S=x&&x(x(C([])));S&&S!==n&&i.call(S,s)&&(w=S);var _=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){var n;o(this,"_invoke",{value:function(o,a){function s(){return new t(function(n,s){!function n(o,a,s,l){var u=p(e[o],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(d).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,l)})}l(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw TypeError(typeof t+" is not iterable")}return y.prototype=b,o(_,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},E(T.prototype),c(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,i,o,a){void 0===a&&(a=Promise);var s=new T(d(e,n,i,o),a);return t.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},E(_),c(_,u,"Generator"),c(_,s,function(){return this}),c(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],l=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:C(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),m}},t}var sA=/*#__PURE__*/sC().mark(sR);function sR(e){return sC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,n3(e);case 4:return t.abrupt("break",12);case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:t.next=0;break;case 12:case"end":return t.stop()}},sA,null,[[1,7]])}var sk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return /*#__PURE__*/sC().mark(function t(){var n;return sC().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[sy,sc,aO,a8,sI].concat(function(e){if(Array.isArray(e))return sP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sP(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sP(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t.next=3,n1(n.map(function(e){return function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t=n5.apply(void 0,[e].concat(i)),nQ(nZ,(0,eC.default)({},t.payload,{detached:!0}))}(sR,e)}));case 3:case"end":return t.stop()}},t)})},oh=ee("lkQn4"),sD=function(e){var t,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=(0,eg.combineReducers)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o4(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({accessTokens:iX,annotations:iQ,auth:i3,catalog:i8,companionWindows:op,config:ov,elasticLayout:ox,errors:oC,infoResponses:oD,layers:oj,manifests:oU,searches:o$,viewers:oK,windows:o0,workspace:o5},e)),s=oh.default.state.slice?(0,eg.combineReducers)((n={},(i="symbol"==typeof(t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i=oh.default.state.slice,"string"))?t:t+"")in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a,n)):a,l=iP(),u=(0,eg.createStore)(s,iC((0,eg.applyMiddleware)(nl,l)));return l.run(sk(o)),u},sN=ee("6xok4"),sM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=ns(t),i=sD(n&&n.reduce(function(e,t){return ni(ni({},e),t.reducers)},{}),n&&n.filter(function(e){return e.saga}).map(function(e){return e.saga}));return i.dispatch((0,sN.importConfig)(/*@__PURE__*/Y(rY)(n&&n.reduce(function(e,t){return /*@__PURE__*/Y(rY)(e,t.config||{})},{}),e))),i},ep=ee("9L45J");function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function sj(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var sF=(ub=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.plugins=ns(n.plugins||[]),this.config=t,this.store=n.store||sM(this.config,this.plugins),t.id&&(this.container=document.getElementById(t.id),this.root=uA(this.container),this.root.render(this.render()))},uw=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return/*#__PURE__*/(0,ep.jsx)(en.Provider,{store:this.store,children:/*#__PURE__*/(0,ep.jsx)(rX,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=sj(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({plugins:this.plugins},e))})}},{key:"unmount",value:function(){this.root&&this.root.unmount()}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,sj(i.key),i)}}(ub.prototype,uw),Object.defineProperty(ub,"prototype",{writable:!1}),ub),al=ee("cEqnD"),sd=ee("bdEuo"),sB={};sB=ee("1b2ls"),ee("acw62");var sz=ee("acw62"),sU={exports:{}},sW={},sz=ee("acw62");sU.exports=function(){if(uG)return sW;uG=1;var e=/*@__PURE__*/Y(sz),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(e,n,s){var l,u={},c=null,d=null;for(l in void 0!==s&&(c=""+s),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(d=n.ref),n)i.call(n,l)&&!a.hasOwnProperty(l)&&(u[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps)void 0===u[l]&&(u[l]=n[l]);return{$$typeof:t,type:e,key:c,ref:d,props:u,_owner:o.current}}return sW.Fragment=n,sW.jsx=s,sW.jsxs=s,sW}();var sH=sU.exports;Object.prototype.hasOwnProperty;for(var sV=((d=sV||{}).EDIT="EDIT",d.SELECT="SELECT",d.NONE="NONE",d),sG=[],s$=0;s$<256;++s$)sG.push((s$+256).toString(16).slice(1));new Uint8Array(16),"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var sq=((p=sq||{}).BODY_ONLY="BODY_ONLY",p.TARGET_ONLY="TARGET_ONLY",p),sX=((h=sX||{}).LOCAL="LOCAL",h.REMOTE="REMOTE",h.SILENT="SILENT",h);((e=21)=>{let t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[e]]})();var sz=(ee("acw62"),ee("acw62"));const sY=(0,sz.createContext)({anno:void 0,setAnno:void 0,annotations:[],selection:{selected:[]}}),sK=(0,sz.forwardRef)((e,t)=>{let[n,i]=(0,sz.useState)(null),[o,a]=(0,sz.useState)([]),[s,l]=(0,sz.useState)({selected:[]});return(0,sz.useImperativeHandle)(t,()=>n),(0,sz.useEffect)(()=>{if(n){let e;let{selection:t,store:i}=n.state;i.all().length>0&&a(i.all());let o=()=>a(()=>i.all());i.observe(o);let s=t.subscribe(({selected:t,...n})=>{e&&i.unobserve(e),l({selected:(t||[]).map(({id:e,editable:t})=>({annotation:i.getAnnotation(e),editable:t})),...n}),e=e=>{let{updated:t}=e.changes;l(e=>({...e,selected:e.selected.map(({annotation:e,editable:n})=>{let i=t.find(t=>t.oldValue.id===e.id);return i?{annotation:i.newValue,editable:n}:{annotation:e,editable:n}})}))},i.observe(e,{annotations:t.map(({id:e})=>e)})});return()=>{i.unobserve(o),s()}}},[n]),/* @__PURE__ */sH.jsx(sY.Provider,{value:{anno:n,setAnno:i,annotations:o,selection:s},children:e.children})}),sZ=()=>{let{anno:e}=(0,sz.useContext)(sY);return e},sJ=()=>{let{selection:e}=(0,sz.useContext)(sY);return e};var sQ=()=>{let[e,t]=(0,sz.useState)(null),[n,i]=(0,sz.useState)(null),o=sZ(),a=sJ();return(0,sz.useEffect)(()=>{o&&(console.log("anno initailized",o),t(o),i(a),o.setDrawingEnabled(!0),o.on("createSelection",e=>{console.log("Selection was created.")}),o.on("viewportIntersect",e=>{console.log("Selection was .")}),o.on("cancelSelection",e=>{console.log("Selection was c.")}),o.addAnnotation({}))},[o]),null},sz=ee("acw62"),s0={};function s1(e){return new s1.Viewer(e)}s1.version={versionStr:"5.0.0",major:parseInt("5",10),minor:parseInt("0",10),revision:parseInt("0",10)},ux={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object AsyncFunction]":"function","[object Promise]":"promise","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},uS=Object.prototype.toString,u_=Object.prototype.hasOwnProperty,s1.isFunction=function(e){return"function"===s1.type(e)},s1.isArray=Array.isArray||function(e){return"array"===s1.type(e)},s1.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},s1.type=function(e){return null==e?String(e):ux[uS.call(e)]||"object"},s1.isPlainObject=function(e){var t;if(!e||"object"!==s1.type(e)||e.nodeType||s1.isWindow(e)||e.constructor&&!u_.call(e,"constructor")&&!u_.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(var n in e)t=n;return void 0===t||u_.call(e,t)},s1.isEmptyObject=function(e){for(var t in e)return!1;return!0},s1.freezeObject=function(e){return Object.freeze?s1.freezeObject=Object.freeze:s1.freezeObject=function(e){return e},s1.freezeObject(e)},s1.supportsCanvas=(uE=document.createElement("canvas"),!!(s1.isFunction(uE.getContext)&&uE.getContext("2d"))),s1.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},s1.supportsAddEventListener=!!(document.documentElement.addEventListener&&document.addEventListener),s1.supportsRemoveEventListener=!!(document.documentElement.removeEventListener&&document.removeEventListener),s1.supportsEventListenerOptions=function(){var e=0;if(s1.supportsAddEventListener)try{var t={get capture(){return e++,!1},get once(){return e++,!1},get passive(){return e++,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=0}return e>=3}(),s1.getCurrentPixelDensityRatio=function(){if(!s1.supportsCanvas)return 1;var e=document.createElement("canvas").getContext("2d");return Math.max(window.devicePixelRatio||1,1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},s1.pixelDensityRatio=s1.getCurrentPixelDensityRatio(),function(e){e.extend=function(){var t,n,i,o,a,s,l=arguments[0]||{},u=arguments.length,c=!1,d=1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},d=2),"object"==typeof l||s1.isFunction(l)||(l={}),u===d&&(l=this,--d);d<u;d++)if(t=arguments[d],null!==t||void 0!==t)for(n in t){var p=Object.getOwnPropertyDescriptor(t,n);if(void 0!==p){if(p.get||p.set){Object.defineProperty(l,n,p);continue}o=p.value}else{e.console.warn('Could not copy inherited property "'+n+'".');continue}l!==o&&(c&&o&&(s1.isPlainObject(o)||(a=s1.isArray(o)))?(i=l[n],a?(a=!1,s=i&&s1.isArray(i)?i:[]):s=i&&s1.isPlainObject(i)?i:{},l[n]=s1.extend(c,s,o)):void 0!==o&&(l[n]=o))}return l},e.extend(e,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,dblClickDragToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,dblClickDragToZoom:!1,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerDblClickDrag:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))}(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,maxTilesPerFrame:1,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorElement:null,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,overlayPreserveContentDirection:!0,opacity:1,compositeOperation:null,drawer:["webgl","canvas","html"],drawerOptions:{webgl:{},canvas:{},html:{},custom:{}},preload:!1,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,tileRetryMax:0,tileRetryDelay:2500,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(t){return e._viewers.get(this.getElement(t))},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(t){var n,i,a=new e.Point;for(t=e.getElement(t),n="fixed"===e.getElementStyle(t).position,i=o(t,n);i;)a.x+=t.offsetLeft,a.y+=t.offsetTop,n&&(a=a.plus(e.getPageScroll())),t=i,n="fixed"===e.getElementStyle(t).position,i=o(t,n);return a},getElementOffset:function(t){var n,i,o=(t=e.getElement(t))&&t.ownerDocument,a={top:0,left:0};return o?(n=o.documentElement,void 0!==t.getBoundingClientRect&&(a=t.getBoundingClientRect()),i=o===o.window?o:9===o.nodeType&&(o.defaultView||o.parentWindow),new e.Point(a.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0),a.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0))):new e.Point},getElementSize:function(t){return t=e.getElement(t),new e.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=e.getElement(t)).currentStyle}:function(t){return t=e.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var n={};return e.getCssPropertyWithVendorPrefix=function(t){if(void 0!==n[t])return n[t];var i=document.createElement("div").style,o=null;if(void 0!==i[t])o=t;else for(var a=["Webkit","Moz","MS","O","webkit","moz","ms","o"],s=e.capitalizeFirstLetter(t),l=0;l<a.length;l++){var u=a[l]+s;if(void 0!==i[u]){o=u;break}}return n[t]=o,o},e.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(t,n){t=e.getElement(t);var i=e.getElementOffset(t),o=e.getElementSize(t);return n.x>=i.x&&n.x<i.x+o.x&&n.y<i.y+o.y&&n.y>=i.y},getMousePosition:function(t){if("number"==typeof t.pageX)e.getMousePosition=function(t){var n=new e.Point;return n.x=t.pageX,n.y=t.pageY,n};else if("number"==typeof t.clientX)e.getMousePosition=function(t){var n=new e.Point;return n.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,n};else throw Error("Unknown event mouse position, no known technique.");return e.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.pageXOffset)e.getPageScroll=function(){return new e.Point(window.pageXOffset,window.pageYOffset)};else if(n.scrollLeft||n.scrollTop)e.getPageScroll=function(){return new e.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new e.Point(0,0);e.getPageScroll=function(){return new e.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return e.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)e.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var n=e.getPageScroll();if(n.x===t.x&&n.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var i=e.getPageScroll();if(i.x!==n.x&&i.y!==n.y){e.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y};return}if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(i=e.getPageScroll()).x!==n.x&&i.y!==n.y){e.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y};return}e.setPageScroll=function(e){}}e.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},n=document.body||{};if("number"==typeof window.innerWidth)e.getWindowSize=function(){return new e.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)e.getWindowSize=function(){return new e.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(n.clientWidth||n.clientHeight)e.getWindowSize=function(){return new e.Point(document.body.clientWidth,document.body.clientHeight)};else throw Error("Unknown window size, no known technique.");return e.getWindowSize()},makeCenteredNode:function(t){t=e.getElement(t);var n=[e.makeNeutralElement("div"),e.makeNeutralElement("div"),e.makeNeutralElement("div")];return e.extend(n[0].style,{display:"table",height:"100%",width:"100%"}),e.extend(n[1].style,{display:"table-row"}),e.extend(n[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),n[0].appendChild(n[1]),n[1].appendChild(n[2]),n[2].appendChild(t),n[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?e.now=Date.now:e.now=function(){return new Date().getTime()},e.now()},makeTransparentImage:function(t){var n=e.makeNeutralElement("img");return n.src=t,n},setElementOpacity:function(t,n,i){var o;t=e.getElement(t),i&&!e.Browser.alpha&&(n=Math.round(n)),e.Browser.opacity?t.style.opacity=n<1?n:"":n<1?(o="alpha(opacity="+Math.round(100*n)+")",t.style.filter=o):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=e.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},setElementPointerEvents:function(t,n){void 0!==(t=e.getElement(t)).style&&void 0!==t.style.pointerEvents&&(t.style.pointerEvents=n)},setElementPointerEventsNone:function(t){e.setElementPointerEvents(t,"none")},addClass:function(t,n){(t=e.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+n+" ")&&(t.className+=" "+n):t.className=n},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var i,o,a=n||0;if(!e)throw TypeError();if(0===(o=e.length)||a>=o)return -1;for(a<0&&(a=o-Math.abs(a)),i=a;i<o;i++)if(e[i]===t)return i;return -1},this.indexOf(e,t,n)},removeClass:function(t,n){var i,o,a=[];for(o=0,i=(t=e.getElement(t)).className.split(/\s+/);o<i.length;o++)i[o]&&i[o]!==n&&a.push(i[o]);t.className=a.join(" ")},normalizeEventListenerOptions:function(t){return void 0!==t?"boolean"==typeof t?e.supportsEventListenerOptions?{capture:t}:t:e.supportsEventListenerOptions?t:void 0!==t.capture&&t.capture:!!e.supportsEventListenerOptions&&{capture:!1}},addEvent:function(){if(e.supportsAddEventListener)return function(t,n,i,o){o=e.normalizeEventListenerOptions(o),(t=e.getElement(t)).addEventListener(n,i,o)};if(document.documentElement.attachEvent&&document.attachEvent)return function(t,n,i){(t=e.getElement(t)).attachEvent("on"+n,i)};throw Error("No known event model.")}(),removeEvent:function(){if(e.supportsRemoveEventListener)return function(t,n,i,o){o=e.normalizeEventListenerOptions(o),(t=e.getElement(t)).removeEventListener(n,i,o)};if(document.documentElement.detachEvent&&document.detachEvent)return function(t,n,i){(t=e.getElement(t)).detachEvent("on"+n,i)};throw Error("No known event model.")}(),cancelEvent:function(e){e.preventDefault()},eventIsCanceled:function(e){return e.defaultPrevented},stopEvent:function(e){e.stopPropagation()},createCallback:function(e,t){console.error("The createCallback function is deprecated and will be removed in future versions. Please use alternativeFunction instead.");var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,o=i.concat([]);for(n=0;n<arguments.length;n++)o.push(arguments[n]);return t.apply(e,o)}},getUrlParameter:function(e){return i[e]||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(){if(window.XMLHttpRequest)return e.createAjaxRequest=function(){return new XMLHttpRequest},new XMLHttpRequest;throw Error("Browser doesn't support XMLHttpRequest.")},makeAjaxRequest:function(t,n,i){e.isPlainObject(t)&&(n=t.success,i=t.error,o=t.withCredentials,a=t.headers,s=t.responseType||null,l=t.postData||null,t=t.url);var o,a,s,l,u=e.getUrlProtocol(t),c=e.createAjaxRequest();if(!e.isFunction(n))throw Error("makeAjaxRequest requires a success callback");c.onreadystatechange=function(){4===c.readyState&&(c.onreadystatechange=function(){},c.status>=200&&c.status<300||0===c.status&&"http:"!==u&&"https:"!==u?n(c):e.isFunction(i)?i(c):e.console.error("AJAX request returned %d: %s",c.status,t))};var d=l?"POST":"GET";try{if(c.open(d,t,!0),s&&(c.responseType=s),a)for(var p in a)Object.prototype.hasOwnProperty.call(a,p)&&a[p]&&c.setRequestHeader(p,a[p]);o&&(c.withCredentials=!0),c.send(l)}catch(t){e.console.error("%s while making AJAX request: %s",t.name,t.message),c.onreadystatechange=function(){},e.isFunction(i)&&i(c,t)}return c},jsonp:function(t){var n,i=t.url,o=document.head||document.getElementsByTagName("head")[0]||document.documentElement,a=t.callbackName||"openseadragon"+e.now(),s=window[a],l=t.param||"callback",u=t.callback;i=i.replace(/(=)\?(&|$)|\?\?/i,"$1"+a+"$2"),i+=(/\?/.test(i)?"&":"?")+l+"="+a,window[a]=function(t){if(s)window[a]=s;else try{delete window[a]}catch(e){}u&&e.isFunction(u)&&u(t)},n=document.createElement("script"),(void 0!==t.async||!1!==t.async)&&(n.async="async"),t.scriptCharset&&(n.charset=t.scriptCharset),n.src=i,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n),n=void 0)},o.insertBefore(n,o.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)e.parseXml=function(e){return new DOMParser().parseFromString(e,"text/xml")};else throw Error("Browser doesn't support XML DOM.");return e.parseXml(t)},parseJSON:function(t){return e.parseJSON=window.JSON.parse,e.parseJSON(t)},imageFormatSupported:function(e){return!!n[(e=e||"").toLowerCase()]},setImageFormatsSupported:function(t){e.extend(n,t)}});var t=function(e){};e.console=window.console||{log:t,debug:t,info:t,warn:t,error:t,assert:t},e.Browser={vendor:e.BROWSERS.UNKNOWN,version:0,alpha:!0};var n={avif:!0,bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1,webp:!0},i={};function o(e,t){return t&&e!==document.body?document.body:e.offsetParent}(function(){var t=navigator.appVersion,n=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(n.substring(n.indexOf("MSIE")+5,n.indexOf(";",n.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(n.indexOf("Edge")>=0?(e.Browser.vendor=e.BROWSERS.EDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edge")+5))):n.indexOf("Edg")>=0?(e.Browser.vendor=e.BROWSERS.CHROMEEDGE,e.Browser.version=parseFloat(n.substring(n.indexOf("Edg")+4))):n.indexOf("Firefox")>=0?(e.Browser.vendor=e.BROWSERS.FIREFOX,e.Browser.version=parseFloat(n.substring(n.indexOf("Firefox")+8))):n.indexOf("Safari")>=0?(e.Browser.vendor=n.indexOf("Chrome")>=0?e.BROWSERS.CHROME:e.BROWSERS.SAFARI,e.Browser.version=parseFloat(n.substring(n.substring(0,n.indexOf("Safari")).lastIndexOf("/")+1,n.indexOf("Safari")))):null!==RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)&&(e.Browser.vendor=e.BROWSERS.IE,e.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":e.Browser.vendor=e.BROWSERS.OPERA,e.Browser.version=parseFloat(t)}var o,a,s,l=window.location.search.substring(1).split("&");for(s=0;s<l.length;s++)if((a=(o=l[s]).indexOf("="))>0){var u=o.substring(0,a),c=o.substring(a+1);try{i[u]=decodeURIComponent(c)}catch(t){e.console.error("Ignoring malformed URL parameter: %s=%s",u,c)}}e.Browser.alpha=!(e.Browser.vendor===e.BROWSERS.CHROME&&e.Browser.version<2),e.Browser.opacity=!0,e.Browser.vendor===e.BROWSERS.IE&&e.console.error("Internet Explorer is not supported by OpenSeadragon")})(),function(t){var n=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,i=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(n&&i)e.requestAnimationFrame=function(){return n.apply(t,arguments)},e.cancelAnimationFrame=function(){return i.apply(t,arguments)};else{var o,a=[],s=[],l=0;e.requestAnimationFrame=function(t){return a.push([++l,t]),o||(o=setInterval(function(){if(a.length){var t=e.now(),n=s;for(s=a,a=n;s.length;)s.shift()[1](t)}else clearInterval(o),o=void 0},20)),l},e.cancelAnimationFrame=function(e){var t,n;for(t=0,n=a.length;t<n;t+=1)if(a[t][0]===e){a.splice(t,1);return}for(t=0,n=s.length;t<n;t+=1)if(s[t][0]===e){s.splice(t,1);return}}}}(window)}(s1),uT=s0,uO=function(){return s1},"function"==typeof define&&define.amd?define([],uO):s0?s0=uO():uT.OpenSeadragon=uO(),function(e){class t{constructor(e){e||(e=[0,0,0,0,0,0,0,0,0]),this.values=e}static makeIdentity(){return new t([1,0,0,0,1,0,0,0,1])}static makeTranslation(e,n){return new t([1,0,0,0,1,0,e,n,1])}static makeRotation(e){var n=Math.cos(e),i=Math.sin(e);return new t([n,-i,0,i,n,0,0,0,1])}static makeScaling(e,n){return new t([e,0,0,0,n,0,0,0,1])}multiply(e){let n=this.values,i=e.values;var o=n[0],a=n[1],s=n[2],l=n[3],u=n[4],c=n[5],d=n[6],p=n[7],h=n[8],f=i[0],g=i[1],m=i[2],v=i[3],y=i[4],b=i[5],w=i[6],x=i[7],S=i[8];return new t([f*o+g*l+m*d,f*a+g*u+m*p,f*s+g*c+m*h,v*o+y*l+b*d,v*a+y*u+b*p,v*s+y*c+b*h,w*o+x*l+S*d,w*a+x*u+S*p,w*s+x*c+S*h])}}e.Mat3=t}(s1),uI={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(uI.supportsFullScreen=!0,uI.getFullScreenElement=function(){return document.fullscreenElement},uI.requestFullScreen=function(e){return e.requestFullscreen().catch(function(e){s1.console.error("Fullscreen request failed: ",e)})},uI.exitFullScreen=function(){document.exitFullscreen().catch(function(e){s1.console.error("Error while exiting fullscreen: ",e)})},uI.fullScreenEventName="fullscreenchange",uI.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(uI.supportsFullScreen=!0,uI.getFullScreenElement=function(){return document.msFullscreenElement},uI.requestFullScreen=function(e){return e.msRequestFullscreen()},uI.exitFullScreen=function(){document.msExitFullscreen()},uI.fullScreenEventName="MSFullscreenChange",uI.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(uI.supportsFullScreen=!0,uI.getFullScreenElement=function(){return document.webkitFullscreenElement},uI.requestFullScreen=function(e){return e.webkitRequestFullscreen()},uI.exitFullScreen=function(){document.webkitExitFullscreen()},uI.fullScreenEventName="webkitfullscreenchange",uI.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(uI.supportsFullScreen=!0,uI.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},uI.requestFullScreen=function(e){return e.webkitRequestFullScreen()},uI.exitFullScreen=function(){document.webkitCancelFullScreen()},uI.fullScreenEventName="webkitfullscreenchange",uI.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(uI.supportsFullScreen=!0,uI.getFullScreenElement=function(){return document.mozFullScreenElement},uI.requestFullScreen=function(e){return e.mozRequestFullScreen()},uI.exitFullScreen=function(){document.mozCancelFullScreen()},uI.fullScreenEventName="mozfullscreenchange",uI.fullScreenErrorEventName="mozfullscreenerror"),uI.isFullScreen=function(){return null!==uI.getFullScreenElement()},uI.cancelFullScreen=function(){s1.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),uI.exitFullScreen()},s1.extend(s1,uI),s1.EventSource=function(){this.events={},this._rejectedEventList={}},s1.EventSource.prototype={addOnceHandler:function(e,t,n,i,o){var a=this;i=i||1;var s=0,l=function(n){return++s===i&&a.removeHandler(e,l),t(n)};return this.addHandler(e,l,n,o)},addHandler:function(e,t,n,i){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,e))return s1.console.error(`Error adding handler for ${e}. ${this._rejectedEventList[e]}`),!1;var o=this.events[e];if(o||(this.events[e]=o=[]),t&&s1.isFunction(t)){var a=o.length,s={handler:t,userData:n||null,priority:i||0};for(o[a]=s;a>0&&o[a-1].priority<o[a].priority;)o[a]=o[a-1],o[a-1]=s,a--}return!0},removeHandler:function(e,t){var n,i=this.events[e],o=[];if(i&&s1.isArray(i)){for(n=0;n<i.length;n++)i[n].handler!==t&&o.push(i[n]);this.events[e]=o}},numberOfHandlers:function(e){var t=this.events[e];return t?t.length:0},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var i,o=t.length;for(i=0;i<o;i++)t[i]&&(n.eventSource=e,n.userData=t[i].userData,t[i].handler(n))}):null},raiseEvent:function(e,t){if(Object.prototype.hasOwnProperty.call(this._rejectedEventList,e))return s1.console.error(`Error adding handler for ${e}. ${this._rejectedEventList[e]}`),!1;var n=this.getHandler(e);return n&&n(this,t||{}),!0},rejectEventHandler(e,t=""){this._rejectedEventList[e]=t},allowEventHandler(e){delete this._rejectedEventList[e]}},function(e){var t,n,i,o,a,s,l,u=[],c={};e.MouseTracker=function(t){u.push(this);var n=arguments;e.isPlainObject(t)||(t={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.preProcessEventHandler=t.preProcessEventHandler||null,this.contextMenuHandler=t.contextMenuHandler||null,this.enterHandler=t.enterHandler||null,this.leaveHandler=t.leaveHandler||null,this.exitHandler=t.exitHandler||null,this.overHandler=t.overHandler||null,this.outHandler=t.outHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var i=this;c[this.hash]={click:function(t){var n;N(i,n={originalEvent:t,eventType:"click",pointerType:"mouse",isEmulated:!1}),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(t),n.stopPropagation&&e.stopEvent(t)},dblclick:function(t){var n;N(i,n={originalEvent:t,eventType:"dblclick",pointerType:"mouse",isEmulated:!1}),n.preventDefault&&!n.defaultPrevented&&e.cancelEvent(t),n.stopPropagation&&e.stopEvent(t)},keydown:function(t){var n,o;n=null,N(i,o={originalEvent:t,eventType:"keydown",pointerType:"",isEmulated:!1}),!i.keyDownHandler||o.preventGesture||o.defaultPrevented||(n={eventSource:i,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefault:o.preventDefault||o.defaultPrevented,userData:i.userData},i.keyDownHandler(n)),(n&&n.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(t),o.stopPropagation&&e.stopEvent(t)},keyup:function(t){var n,o;n=null,N(i,o={originalEvent:t,eventType:"keyup",pointerType:"",isEmulated:!1}),!i.keyUpHandler||o.preventGesture||o.defaultPrevented||(n={eventSource:i,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefault:o.preventDefault||o.defaultPrevented,userData:i.userData},i.keyUpHandler(n)),(n&&n.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(t),o.stopPropagation&&e.stopEvent(t)},keypress:function(t){var n,o;n=null,N(i,o={originalEvent:t,eventType:"keypress",pointerType:"",isEmulated:!1}),!i.keyHandler||o.preventGesture||o.defaultPrevented||(n={eventSource:i,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefault:o.preventDefault||o.defaultPrevented,userData:i.userData},i.keyHandler(n)),(n&&n.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(t),o.stopPropagation&&e.stopEvent(t)},focus:function(e){var t;N(i,t={originalEvent:e,eventType:"focus",pointerType:"",isEmulated:!1}),i.focusHandler&&!t.preventGesture&&i.focusHandler({eventSource:i,originalEvent:e,userData:i.userData})},blur:function(e){var t;N(i,t={originalEvent:e,eventType:"blur",pointerType:"",isEmulated:!1}),i.blurHandler&&!t.preventGesture&&i.blurHandler({eventSource:i,originalEvent:e,userData:i.userData})},contextmenu:function(t){var n,o;n=null,N(i,o={originalEvent:t,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1}),!i.contextMenuHandler||o.preventGesture||o.defaultPrevented||(n={eventSource:i,position:x(w(t),i.element),originalEvent:o.originalEvent,preventDefault:o.preventDefault||o.defaultPrevented,userData:i.userData},i.contextMenuHandler(n)),(n&&n.preventDefault||o.preventDefault&&!o.defaultPrevented)&&e.cancelEvent(t),o.stopPropagation&&e.stopEvent(t)},wheel:function(e){E(i,e,e)},mousewheel:function(e){_(i,e)},DOMMouseScroll:function(e){_(i,e)},MozMousePixelScroll:function(e){_(i,e)},losecapture:function(t){var n,o;n={id:e.MouseTracker.mousePointerId,type:"mouse"},N(i,o={originalEvent:t,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1}),t.target===i.element&&M(i,n,!1),o.stopPropagation&&e.stopEvent(t)},mouseenter:function(e){T(i,e)},mouseleave:function(e){O(i,e)},mouseover:function(e){I(i,e)},mouseout:function(e){P(i,e)},mousedown:function(e){C(i,e)},mouseup:function(e){A(i,e)},mousemove:function(e){R(i,e)},touchstart:function(t){(function(t,n){var i,o,a,s=n.changedTouches.length,l=t.getActivePointersListByType("touch");i=e.now(),l.getLength()>n.touches.length-s&&e.console.warn("Tracked touch contact count doesn't match event.touches.length");var u={originalEvent:n,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(N(t,u),o=0;o<s;o++)L(t,u,a={id:n.changedTouches[o].identifier,type:"touch",isPrimary:0===l.getLength(),currentPos:w(n.changedTouches[o]),currentTime:i}),F(t,u,a,0),M(t,a,!0);u.preventDefault&&!u.defaultPrevented&&e.cancelEvent(n),u.stopPropagation&&e.stopEvent(n)})(i,t)},touchend:function(t){(function(t,n){var i,o,a,s=n.changedTouches.length;i=e.now();var l={originalEvent:n,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(N(t,l),o=0;o<s;o++)B(t,l,a={id:n.changedTouches[o].identifier,type:"touch",currentPos:w(n.changedTouches[o]),currentTime:i},0),M(t,a,!1),j(t,l,a);l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(n),l.stopPropagation&&e.stopEvent(n)})(i,t)},touchmove:function(t){(function(t,n){var i,o,a=n.changedTouches.length;i=e.now();var s={originalEvent:n,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(N(t,s),o=0;o<a;o++)z(t,s,{id:n.changedTouches[o].identifier,type:"touch",currentPos:w(n.changedTouches[o]),currentTime:i});s.preventDefault&&!s.defaultPrevented&&e.cancelEvent(n),s.stopPropagation&&e.stopEvent(n)})(i,t)},touchcancel:function(t){(function(t,n){var i,o=n.changedTouches.length,a={originalEvent:n,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(N(t,a),i=0;i<o;i++)U(t,a,{id:n.changedTouches[i].identifier,type:"touch"});a.stopPropagation&&e.stopEvent(n)})(i,t)},gesturestart:function(t){e.eventIsCanceled(t)||t.preventDefault()},gesturechange:function(t){e.eventIsCanceled(t)||t.preventDefault()},gotpointercapture:function(t){var n;N(i,n={originalEvent:t,eventType:"gotpointercapture",pointerType:y(t),isEmulated:!1}),t.target===i.element&&M(i,{id:t.pointerId,type:y(t)},!0),n.stopPropagation&&e.stopEvent(t)},lostpointercapture:function(t){var n;N(i,n={originalEvent:t,eventType:"lostpointercapture",pointerType:y(t),isEmulated:!1}),t.target===i.element&&M(i,{id:t.pointerId,type:y(t)},!1),n.stopPropagation&&e.stopEvent(t)},pointerenter:function(e){T(i,e)},pointerleave:function(e){O(i,e)},pointerover:function(e){I(i,e)},pointerout:function(e){P(i,e)},pointerdown:function(e){C(i,e)},pointerup:function(e){A(i,e)},pointermove:function(e){R(i,e)},pointercancel:function(t){var n,o;n={id:t.pointerId,type:y(t)},N(i,o={originalEvent:t,eventType:"pointercancel",pointerType:n.type,isEmulated:!1}),U(i,o,n),o.stopPropagation&&e.stopEvent(t)},pointerupcaptured:function(t){i.getActivePointersListByType(y(t)).getById(t.pointerId)&&A(i,t),e.stopEvent(t)},pointermovecaptured:function(t){i.getActivePointersListByType(y(t)).getById(t.pointerId)&&R(i,t),e.stopEvent(t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,e.MouseTracker.havePointerEvents&&e.setElementPointerEvents(this.element,"auto"),this.exitHandler&&e.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(f(this),this.element=null,e=0;e<u.length;e++)if(u[e]===this){u.splice(e,1);break}c[this.hash]=null,delete c[this.hash]},isTracking:function(){return c[this.hash].tracking},setTracking:function(t){return t?function(t){var n,i,o=c[t.hash];if(!o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,n,o[n],n===e.MouseTracker.wheelEventName&&{passive:!1,capture:!1});h(t),o.tracking=!0}}(this):f(this),this},getActivePointersListByType:function(t){var n,i,o=c[this.hash],a=o?o.activePointersLists.length:0;for(n=0;n<a;n++)if(o.activePointersLists[n].type===t)return o.activePointersLists[n];return i=new e.MouseTracker.GesturePointList(t),o&&o.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=c[this.hash],n=t.activePointersLists.length,i=0;for(e=0;e<n;e++)i+=t.activePointersLists[e].getLength();return i},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var d=function(){try{return window.self!==window.top}catch(e){return!0}}();function p(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}function h(e){var t,n,i,o,a,s=c[e.hash],l=s.activePointersLists.length;for(t=0;t<l;t++)if((i=s.activePointersLists[t]).getLength()>0){for(n=0,a=[],o=i.asArray();n<o.length;n++)a.push(o[n]);for(n=0;n<a.length;n++)D(e,i,a[n])}for(t=0;t<l;t++)s.activePointersLists.pop();s.sentDragEvent=!1}function f(t){var n,i,o=c[t.hash];if(o.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,n,o[n],!1);h(t),o.tracking=!1}}function g(e,t){var n=c[e.hash];if("pointerevent"===t||"mouse"===t)return{upName:"pointerup",upHandler:n.pointerupcaptured,moveName:"pointermove",moveHandler:n.pointermovecaptured};if("touch"===t)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function m(t,n){var i,o;if(e.MouseTracker.havePointerCapture){if(e.MouseTracker.havePointerEvents){if(!(o=t.getActivePointersListByType(n.type).getById(n.id))||!o.captured)return;try{t.element.releasePointerCapture(n.id)}catch(e){}}else t.element.releaseCapture()}else i=g(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),d&&p(window.top)&&e.removeEvent(window.top,i.upName,i.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0);M(t,n,!1)}function v(t){return e.MouseTracker.havePointerEvents?t.pointerId:e.MouseTracker.mousePointerId}function y(t){return e.MouseTracker.havePointerEvents&&t.pointerType?t.pointerType:"mouse"}function b(t){return!e.MouseTracker.havePointerEvents||t.isPrimary}function w(t){return e.getMousePosition(t)}function x(t,n){var i=e.getElementOffset(n);return t.minus(i)}function S(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function _(t,n){var i={target:n.target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"===n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"===e.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,E(t,i,n)}function E(t,n,i){var o,a,s=0,l=null;s=n.deltaY?n.deltaY<0?1:-1:0,N(t,a={originalEvent:n,eventType:"wheel",pointerType:"mouse",isEmulated:n!==i}),!t.scrollHandler||a.preventGesture||a.defaultPrevented||(l={eventSource:t,pointerType:"mouse",position:(o=t.element,x(w(n),o)),scroll:s,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefault:a.preventDefault||a.defaultPrevented,userData:t.userData},t.scrollHandler(l)),a.stopPropagation&&e.stopEvent(i),(l&&l.preventDefault||a.preventDefault&&!a.defaultPrevented)&&e.cancelEvent(i)}function T(t,n){var i={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},o={originalEvent:n,eventType:"pointerenter",pointerType:i.type,isEmulated:!1};N(t,o),L(t,o,i)}function O(t,n){var i={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},o={originalEvent:n,eventType:"pointerleave",pointerType:i.type,isEmulated:!1};N(t,o),j(t,o,i)}function I(t,n){var i,o,a,s={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},l={originalEvent:n,eventType:"pointerover",pointerType:s.type,isEmulated:!1};N(t,l),i=s,(a=(o=t.getActivePointersListByType(i.type)).getById(i.id))?i=a:(i.captured=!1,i.insideElementPressed=!1),t.overHandler&&t.overHandler({eventSource:t,pointerType:i.type,position:x(i.currentPos,t.element),buttons:o.buttons,pointers:t.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===i.type,originalEvent:l.originalEvent,userData:t.userData}),l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(n),l.stopPropagation&&e.stopEvent(n)}function P(t,n){var i,o,a,s={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},l={originalEvent:n,eventType:"pointerout",pointerType:s.type,isEmulated:!1};N(t,l),i=s,(a=(o=t.getActivePointersListByType(i.type)).getById(i.id))?i=a:(i.captured=!1,i.insideElementPressed=!1),t.outHandler&&t.outHandler({eventSource:t,pointerType:i.type,position:i.currentPos&&x(i.currentPos,t.element),buttons:o.buttons,pointers:t.getActivePointerCount(),insideElementPressed:i.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===i.type,originalEvent:l.originalEvent,userData:t.userData}),l.preventDefault&&!l.defaultPrevented&&e.cancelEvent(n),l.stopPropagation&&e.stopEvent(n)}function C(t,n){var i={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},o=e.MouseTracker.havePointerEvents&&"touch"===i.type,a={originalEvent:n,eventType:"pointerdown",pointerType:i.type,isEmulated:!1};N(t,a),F(t,a,i,n.button),a.preventDefault&&!a.defaultPrevented&&e.cancelEvent(n),a.stopPropagation&&e.stopEvent(n),a.shouldCapture&&(o?M(t,i,!0):function(t,n){var i;if(e.MouseTracker.havePointerCapture){if(e.MouseTracker.havePointerEvents)try{t.element.setPointerCapture(n.id)}catch(t){e.console.warn("setPointerCapture() called on invalid pointer ID");return}else t.element.setCapture(!0)}else i=g(t,e.MouseTracker.havePointerEvents?"pointerevent":n.type),d&&p(window.top)&&e.addEvent(window.top,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0);M(t,n,!0)}(t,i))}function A(t,n){i={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()};var i,o={originalEvent:n,eventType:"pointerup",pointerType:i.type,isEmulated:!1};N(t,o),B(t,o,i,n.button),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(n),o.stopPropagation&&e.stopEvent(n),o.shouldReleaseCapture&&(n.target===t.element?m(t,i):M(t,i,!1))}function R(t,n){var i={id:v(n),type:y(n),isPrimary:b(n),currentPos:w(n),currentTime:e.now()},o={originalEvent:n,eventType:"pointermove",pointerType:i.type,isEmulated:!1};N(t,o),z(t,o,i),o.preventDefault&&!o.defaultPrevented&&e.cancelEvent(n),o.stopPropagation&&e.stopEvent(n)}function k(e,t){return t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function D(t,n,i){var o,a=n.getById(i.id);return a?(a.captured&&(e.console.warn("stopTrackingPointer() called on captured pointer"),m(t,a)),n.removeContact(),o=n.removeById(i.id)):o=n.getLength(),o}function N(t,n){n.eventSource=t,n.eventPhase=n.originalEvent&&void 0!==n.originalEvent.eventPhase?n.originalEvent.eventPhase:0,n.defaultPrevented=e.eventIsCanceled(n.originalEvent),n.shouldCapture=!1,n.shouldReleaseCapture=!1,n.userData=t.userData,function(e,t){switch(t.eventType){case"pointermove":case"pointerdown":case"pointerup":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasGestureHandlers,t.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"wheel":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!1,t.preventGesture=!e.hasScrollHandler,t.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":t.isStoppable=!0,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1;break;case"click":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.clickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;case"dblclick":t.isStoppable=!0,t.isCancelable=!0,t.preventDefault=!!e.dblClickHandler,t.preventGesture=!1,t.stopPropagation=!1;break;default:t.isStoppable=!1,t.isCancelable=!1,t.preventDefault=!1,t.preventGesture=!1,t.stopPropagation=!1}}(t,n),t.preProcessEventHandler&&t.preProcessEventHandler(n)}function M(t,n,i){var o=t.getActivePointersListByType(n.type),a=o.getById(n.id);a?i&&!a.captured?(a.captured=!0,o.captureCount++):!i&&a.captured&&(a.captured=!1,o.captureCount--,o.captureCount<0&&(o.captureCount=0,e.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):e.console.warn("updatePointerCaptured() called on untracked pointer")}function L(e,t,n){var i,o=e.getActivePointersListByType(n.type);(i=o.getById(n.id))?(i.insideElement=!0,i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=n.currentPos,i.currentTime=n.currentTime,n=i):(n.captured=!1,n.insideElementPressed=!1,n.insideElement=!0,k(o,n)),e.enterHandler&&e.enterHandler({eventSource:e,pointerType:n.type,position:x(n.currentPos,e.element),buttons:o.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==o.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData})}function j(e,t,n){var i,o,a=e.getActivePointersListByType(n.type);(i=a.getById(n.id))?(i.captured?(i.insideElement=!1,i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=n.currentPos,i.currentTime=n.currentTime):D(e,a,i),n=i):(n.captured=!1,n.insideElementPressed=!1),(e.leaveHandler||e.exitHandler)&&(o={eventSource:e,pointerType:n.type,position:n.currentPos&&x(n.currentPos,e.element),buttons:a.buttons,pointers:e.getActivePointerCount(),insideElementPressed:n.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData},e.leaveHandler&&e.leaveHandler(o),e.exitHandler&&e.exitHandler(o))}function F(t,n,i,o){var a,s=c[t.hash],l=t.getActivePointersListByType(i.type);if(void 0!==n.originalEvent.buttons?l.buttons=n.originalEvent.buttons:0===o?l.buttons|=1:1===o?l.buttons|=4:2===o?l.buttons|=2:3===o?l.buttons|=8:4===o?l.buttons|=16:5===o&&(l.buttons|=32),0!==o){n.shouldCapture=!1,n.shouldReleaseCapture=!1,!t.nonPrimaryPressHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryPressHandler({eventSource:t,pointerType:i.type,position:x(i.currentPos,t.element),button:o,buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData}));return}(a=l.getById(i.id))?(a.insideElementPressed=!0,a.insideElement=!0,a.originalTarget=n.originalEvent.target,a.contactPos=i.currentPos,a.contactTime=i.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=i.currentPos,a.currentTime=i.currentTime,i=a):(i.captured=!1,i.insideElementPressed=!0,i.insideElement=!0,i.originalTarget=n.originalEvent.target,k(l,i)),l.addContact(),n.preventGesture||n.defaultPrevented?(n.shouldCapture=!1,n.shouldReleaseCapture=!1):(n.shouldCapture=!0,n.shouldReleaseCapture=!1,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,i),1===l.contacts?t.pressHandler&&!n.preventGesture&&t.pressHandler({eventSource:t,pointerType:i.type,position:x(i.contactPos,t.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData}):2===l.contacts&&t.pinchHandler&&"touch"===i.type&&(s.pinchGPoints=l.asArray(),s.lastPinchDist=s.currentPinchDist=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos),s.lastPinchCenter=s.currentPinchCenter=S(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos)))}function B(t,n,i,o){var a,s,l,u,d=c[t.hash],p=t.getActivePointersListByType(i.type),h=!1;if(void 0!==n.originalEvent.buttons?p.buttons=n.originalEvent.buttons:0===o?p.buttons^=-2:1===o?p.buttons^=-5:2===o?p.buttons^=-3:3===o?p.buttons^=-9:4===o?p.buttons^=-17:5===o&&(p.buttons^=-33),n.shouldCapture=!1,0!==o){n.shouldReleaseCapture=!1,!t.nonPrimaryReleaseHandler||n.preventGesture||n.defaultPrevented||(n.preventDefault=!0,t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i.type,position:x(i.currentPos,t.element),button:o,buttons:p.buttons,isTouchEvent:"touch"===i.type,originalEvent:n.originalEvent,userData:t.userData}));return}(l=p.getById(i.id))?(p.removeContact(),l.captured&&(h=!0),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=i.currentPos,l.currentTime=i.currentTime,l.insideElement||D(t,p,l),a=l.currentPos,s=l.currentTime):(i.captured=!1,i.insideElementPressed=!1,i.insideElement=!0,k(p,i),l=i),!n.preventGesture&&!n.defaultPrevented&&(h?(n.shouldReleaseCapture=!0,n.preventDefault=!0,(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,l),0===p.contacts?(t.releaseHandler&&a&&t.releaseHandler({eventSource:t,pointerType:l.type,position:x(a,t.element),buttons:p.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:t.userData}),t.dragEndHandler&&d.sentDragEvent&&t.dragEndHandler({eventSource:t,pointerType:l.type,position:x(l.currentPos,t.element),speed:l.speed,direction:l.direction,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:t.userData}),d.sentDragEvent=!1,(t.clickHandler||t.dblClickHandler)&&l.insideElement&&(u=s-l.contactTime<=t.clickTimeThreshold&&l.contactPos.distanceTo(a)<=t.clickDistThreshold,t.clickHandler&&t.clickHandler({eventSource:t,pointerType:l.type,position:x(l.currentPos,t.element),quick:u,shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,originalTarget:l.originalTarget,userData:t.userData}),t.dblClickHandler&&u&&(p.clicks++,1===p.clicks?(d.lastClickPos=a,d.dblClickTimeOut=setTimeout(function(){p.clicks=0},t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(d.dblClickTimeOut),p.clicks=0,d.lastClickPos.distanceTo(a)<=t.dblClickDistThreshold&&t.dblClickHandler({eventSource:t,pointerType:l.type,position:x(l.currentPos,t.element),shift:n.originalEvent.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:t.userData}),d.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===l.type&&(d.pinchGPoints=p.asArray(),d.lastPinchDist=d.currentPinchDist=d.pinchGPoints[0].currentPos.distanceTo(d.pinchGPoints[1].currentPos),d.lastPinchCenter=d.currentPinchCenter=S(d.pinchGPoints[0].currentPos,d.pinchGPoints[1].currentPos))):(n.shouldReleaseCapture=!1,t.releaseHandler&&a&&(t.releaseHandler({eventSource:t,pointerType:l.type,position:x(a,t.element),buttons:p.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:n.originalEvent,userData:t.userData}),n.preventDefault=!0)))}function z(e,t,n){var i,o,a,s=c[e.hash],l=e.getActivePointersListByType(n.type);void 0!==t.originalEvent.buttons&&(l.buttons=t.originalEvent.buttons),(i=l.getById(n.id))&&(i.lastPos=i.currentPos,i.lastTime=i.currentTime,i.currentPos=n.currentPos,i.currentTime=n.currentTime,t.shouldCapture=!1,t.shouldReleaseCapture=!1,e.stopHandler&&"mouse"===n.type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout(function(){(function(e,t,n){if(e.stopHandler){var i;e.stopHandler({eventSource:e,pointerType:n,position:(i=e.element,x(w(t),i)),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,userData:e.userData})}})(e,t.originalEvent,n.type)},e.stopDelay)),0===l.contacts?e.moveHandler&&e.moveHandler({eventSource:e,pointerType:n.type,position:x(n.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===n.type,originalEvent:t.originalEvent,userData:e.userData}):1===l.contacts?(e.moveHandler&&(i=l.asArray()[0],e.moveHandler({eventSource:e,pointerType:i.type,position:x(i.currentPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData})),!e.dragHandler||t.preventGesture||t.defaultPrevented||(a=(i=l.asArray()[0]).currentPos.minus(i.lastPos),e.dragHandler({eventSource:e,pointerType:i.type,position:x(i.currentPos,e.element),buttons:l.buttons,delta:a,speed:i.speed,direction:i.direction,shift:t.originalEvent.shiftKey,isTouchEvent:"touch"===i.type,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0,s.sentDragEvent=!0)):2!==l.contacts||(e.moveHandler&&(o=l.asArray(),e.moveHandler({eventSource:e,pointerType:o[0].type,position:x(S(o[0].currentPos,o[1].currentPos),e.element),buttons:l.buttons,isTouchEvent:"touch"===o[0].type,originalEvent:t.originalEvent,userData:e.userData})),!e.pinchHandler||"touch"!==n.type||t.preventGesture||t.defaultPrevented||(a=s.pinchGPoints[0].currentPos.distanceTo(s.pinchGPoints[1].currentPos))===s.currentPinchDist||(s.lastPinchDist=s.currentPinchDist,s.currentPinchDist=a,s.lastPinchCenter=s.currentPinchCenter,s.currentPinchCenter=S(s.pinchGPoints[0].currentPos,s.pinchGPoints[1].currentPos),e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:s.pinchGPoints,lastCenter:x(s.lastPinchCenter,e.element),center:x(s.currentPinchCenter,e.element),lastDistance:s.lastPinchDist,distance:s.currentPinchDist,shift:t.originalEvent.shiftKey,originalEvent:t.originalEvent,userData:e.userData}),t.preventDefault=!0)))}function U(e,t,n){var i,o=e.getActivePointersListByType(n.type);(i=o.getById(n.id))&&D(e,o,i)}(e.MouseTracker.gesturePointVelocityTracker=(t=[],n=0,i=0,o=function(e,t){return e.hash.toString()+t.type+t.id.toString()},a=function(){var n,o,a,s,l,u,c=t.length,d=e.now();for(n=0,s=d-i,i=d;n<c;n++)(a=(o=t[n]).gPoint).direction=Math.atan2(a.currentPos.y-o.lastPos.y,a.currentPos.x-o.lastPos.x),l=o.lastPos.distanceTo(a.currentPos),o.lastPos=a.currentPos,u=1e3*l/(s+1),a.speed=.75*u+.25*a.speed},{addPoint:function(s,l){var u=o(s,l);t.push({guid:u,gPoint:l,lastPos:l.currentPos}),1===t.length&&(i=e.now(),n=window.setInterval(a,50))},removePoint:function(e,i){var a,s=o(e,i),l=t.length;for(a=0;a<l;a++)if(t[a].guid===s){t.splice(a,1),0==--l&&window.clearInterval(n);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",e.MouseTracker.wheelEventName],"DOMMouseScroll"===e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.havePointerCapture=(s=document.createElement("div"),e.isFunction(s.setPointerCapture)&&e.isFunction(s.releasePointerCapture)),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(e.MouseTracker.havePointerEvents=!1,e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.havePointerCapture=(l=document.createElement("div"),e.isFunction(l.setCapture)&&e.isFunction(l.releaseCapture)),e.MouseTracker.havePointerCapture&&e.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(e.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}}}(s1),s1.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},s1.Control=function(e,t,n){var i=e.parentNode;"number"==typeof t&&(s1.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),t={anchor:t}),t.attachToViewer=void 0===t.attachToViewer||t.attachToViewer,this.autoFade=void 0===t.autoFade||t.autoFade,this.element=e,this.anchor=t.anchor,this.container=n,this.anchor===s1.ControlAnchor.ABSOLUTE?(this.wrapper=s1.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof t.top?t.top+"px":t.top,this.wrapper.style.left="number"==typeof t.left?t.left+"px":t.left,this.wrapper.style.height="number"==typeof t.height?t.height+"px":t.height,this.wrapper.style.width="number"==typeof t.width?t.width+"px":t.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=s1.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===s1.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),t.attachToViewer?this.anchor===s1.ControlAnchor.TOP_RIGHT||this.anchor===s1.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},s1.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==s1.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!==this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor===s1.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){s1.setElementOpacity(this.wrapper,e,!0)}},function(e){function t(e,t){var n,i=e.controls;for(n=i.length-1;n>=0;n--)if(i[n].element===t)return n;return -1}e.ControlDock=function(t){var n,i,o=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),"static"===e.getElementStyle(this.element).position&&(this.element.style.position="relative"),this.container.style.width="100%",this.container.style.height="100%"),i=0;i<o.length;i++)n=o[i],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,i){n=e.getElement(n);var o=null;if(!(t(this,n)>=0)){switch(i.anchor){case e.ControlAnchor.TOP_RIGHT:o=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:o=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:o=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:o=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:default:case e.ControlAnchor.NONE:o=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,i,o)),n.style.display="inline-block"}},removeControl:function(n){var i=t(this,n=e.getElement(n));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(s1),s1.Placement=s1.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}}),function(e){var t={},n=1;function i(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function o(t,n){if(n instanceof e.Overlay)return n;var i=null;if(n.element)i=e.getElement(n.element);else{var o=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=e.getElement(n.id))||((i=document.createElement("a")).href="#/overlay/"+o),i.id=o,e.addClass(i,n.className?n.className:"openseadragon-overlay")}var a=n.location,s=n.width,l=n.height;if(!a){var u=n.x,c=n.y;if(void 0!==n.px){var d=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,s||0,l||0));u=d.x,c=d.y,s=void 0!==s?d.width:void 0,l=void 0!==l?d.height:void 0}a=new e.Point(u,c)}var p=n.placement;return p&&"string"===e.type(p)&&(p=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:i,location:a,placement:p,onDraw:n.onDraw,checkResize:n.checkResize,width:s,height:l,rotationMode:n.rotationMode})}function a(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return -1}function s(t,n){return e.requestAnimationFrame(function(){n(t)})}function l(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){(function t(n){e.requestAnimationFrame(function(){(function(n){var i,o;if(n.controlsShouldFade){for(i=Math.max(0,i=Math.min(1,i=1-(e.now()-n.controlsFadeBeginTime)/n.controlsFadeLength)),o=n.controls.length-1;o>=0;o--)n.controls[o].autoFade&&n.controls[o].setOpacity(i);i>0&&t(n)}})(n)})})(t)},t.controlsFadeDelay))}function u(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){u(this)}function d(){l(this)}function p(e){var t={tracker:e.eventSource,position:e.position,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.raiseEvent("canvas-contextmenu",t),e.preventDefault=t.preventDefault}function h(t){var n={originalEvent:t.originalEvent,preventDefaultAction:!1,preventVerticalPan:t.preventVerticalPan||!this.panVertical,preventHorizontalPan:t.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)t.preventDefault=!1;else switch(t.keyCode){case 38:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 40:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 37:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 39:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 187:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 189:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 87:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 83:n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 65:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 68:n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),t.preventDefault=!0;break;case 82:t.shift?this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.flipped?this.viewport.setRotation(this.viewport.getRotation()-this.rotationIncrement):this.viewport.setRotation(this.viewport.getRotation()+this.rotationIncrement),this.viewport.applyConstraints(),t.preventDefault=!0;break;case 70:this.viewport.toggleFlip(),t.preventDefault=!0;break;case 74:this.goToPreviousPage();break;case 75:this.goToNextPage();break;default:t.preventDefault=!1}}function f(e){var t={originalEvent:e.originalEvent};this.raiseEvent("canvas-key-press",t)}function g(n){document.activeElement!==this.canvas&&this.canvas.focus(),this.viewport.flipped&&(n.position.x=this.viewport.getContainerSize().x-n.position.x);var i,o={tracker:n.eventSource,position:n.position,quick:n.quick,shift:n.shift,originalEvent:n.originalEvent,originalTarget:n.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",o),!o.preventDefaultAction&&this.viewport&&n.quick&&(!0===(i=this.gestureSettingsByDeviceType(n.pointerType)).clickToZoom&&(this.viewport.zoomBy(n.shift?1/this.zoomPerClick:this.zoomPerClick,i.zoomToRefPoint?this.viewport.pointFromPixel(n.position,!0):null),this.viewport.applyConstraints()),i.dblClickDragToZoom&&(!0===t[this.hash].draggingToZoom?(t[this.hash].lastClickTime=null,t[this.hash].draggingToZoom=!1):t[this.hash].lastClickTime=e.now()))}function m(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function v(e){var n,i={tracker:e.eventSource,pointerType:e.pointerType,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",i),n=this.gestureSettingsByDeviceType(e.pointerType),!i.preventDefaultAction&&this.viewport){if(n.dblClickDragToZoom&&t[this.hash].draggingToZoom){var o=Math.pow(this.zoomPerDblClickDrag,e.delta.y/50);this.viewport.zoomBy(o)}else if(n.dragToPan&&!t[this.hash].draggingToZoom){if(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var a=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=a.x,this.viewport.centerSpringY.target.value+=a.y;var s=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=a.x,this.viewport.centerSpringY.target.value-=a.y,s.xConstrained&&(e.delta.x=0),s.yConstrained&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),n.flickEnabled&&!this.constrainDuringPan)}}}function y(n){var i,o={tracker:n.eventSource,pointerType:n.pointerType,position:n.position,speed:n.speed,direction:n.direction,shift:n.shift,originalEvent:n.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",o),i=this.gestureSettingsByDeviceType(n.pointerType),!o.preventDefaultAction&&this.viewport){if(!t[this.hash].draggingToZoom&&i.dragToPan&&i.flickEnabled&&n.speed>=i.flickMinSpeed){var a=0;this.panHorizontal&&(a=i.flickMomentum*n.speed*Math.cos(n.direction));var s=0;this.panVertical&&(s=i.flickMomentum*n.speed*Math.sin(n.direction));var l=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),u=this.viewport.pointFromPixel(new e.Point(l.x-a,l.y-s));this.viewport.panTo(u,!1)}this.viewport.applyConstraints()}i.dblClickDragToZoom&&!0===t[this.hash].draggingToZoom&&(t[this.hash].draggingToZoom=!1)}function b(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(n){if(this.raiseEvent("canvas-press",{tracker:n.eventSource,pointerType:n.pointerType,position:n.position,insideElementPressed:n.insideElementPressed,insideElementReleased:n.insideElementReleased,originalEvent:n.originalEvent}),this.gestureSettingsByDeviceType(n.pointerType).dblClickDragToZoom){var i=t[this.hash].lastClickTime,o=e.now();null!==i&&(o-i<this.dblClickTimeThreshold&&(t[this.hash].draggingToZoom=!0),t[this.hash].lastClickTime=null)}}function S(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function T(e){var t,n,i,o={tracker:e.eventSource,pointerType:e.pointerType,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",o),this.viewport&&(!(t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom||o.preventDefaultPanAction&&o.preventDefaultZoomAction||(n=this.viewport.pointFromPixel(e.center,!0),t.zoomToRefPoint&&!o.preventDefaultPanAction&&(i=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.panBy(i,!0)),o.preventDefaultZoomAction||this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.applyConstraints()),t.pinchRotate&&!o.preventDefaultRotateAction)){var a=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),s=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);n=this.viewport.pointFromPixel(e.center,!0),this.viewport.rotateTo(this.viewport.getRotation(!0)+180/Math.PI*(a-s),n,!0)}}function O(e){this.raiseEvent("canvas-focus",{tracker:e.eventSource,originalEvent:e.originalEvent})}function I(e){this.raiseEvent("canvas-blur",{tracker:e.eventSource,originalEvent:e.originalEvent})}function P(t){var n,i,o,a;(a=e.now())-this._lastScrollTime>this.minScrollDeltaTime?(this._lastScrollTime=a,n={tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",n),!n.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),(i=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(o=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(o,i.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints())),t.preventDefault=n.preventDefault):t.preventDefault=!0}function C(e){t[this.hash].mouseInside=!0,u(this),this.raiseEvent("container-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function A(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||l(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function R(n){(function(n){if(!n._opening&&t[n.hash]){if(n.autoResize||t[n.hash].forceResize){if(n._autoResizePolling){o=i(n.container);var o,a=t[n.hash].prevContainerSize;o.equals(a)||(t[n.hash].needsResize=!0)}t[n.hash].needsResize&&function(n,i){var o,a=n.viewport,s=a.getZoom(),l=a.getCenter();if(a.resize(i,n.preserveImageSizeOnResize),a.panTo(l,!0),n.preserveImageSizeOnResize)o=t[n.hash].prevContainerSize.x/i.x;else{var u=new e.Point(0,0),c=new e.Point(t[n.hash].prevContainerSize.x,t[n.hash].prevContainerSize.y).distanceTo(u);o=new e.Point(i.x,i.y).distanceTo(u)/c*t[n.hash].prevContainerSize.x/i.x}a.zoomTo(s*o,null,!0),t[n.hash].prevContainerSize=i,t[n.hash].forceRedraw=!0,t[n.hash].needsResize=!1,t[n.hash].forceResize=!1}(n,o||i(n.container))}var s=n.viewport.update(),c=n.world.update(s)||s;s&&n.raiseEvent("viewport-change"),n.referenceStrip&&(c=n.referenceStrip.update(n.viewport)||c);var d=t[n.hash].animating;!d&&c&&(n.raiseEvent("animation-start"),u(n));var p=d&&!c;p&&(t[n.hash].animating=!1),(c||p||t[n.hash].forceRedraw||n.world.needsDraw())&&(n.imageLoader.clear(),n.world.draw(),n.raiseEvent("update-viewport",{}),n._drawOverlays(),n.navigator&&n.navigator.update(n.viewport),t[n.hash].forceRedraw=!1,c&&n.raiseEvent("animation")),p&&(n.raiseEvent("animation-finish"),t[n.hash].mouseInside||l(n)),t[n.hash].animating=c}})(n),n.isOpen()?n._updateRequestId=s(n,R):n._updateRequestId=!1}function k(e,t){return e?e+t:t}function D(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,L(this)}function N(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,L(this)}function M(){t[this.hash].zooming=!1}function L(t){e.requestAnimationFrame(e.delegate(t,j))}function j(){var n,i,o;t[this.hash].zooming&&this.viewport&&(i=(n=e.now())-t[this.hash].lastZoomTime,o=Math.pow(t[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(o),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,L(this))}function F(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function B(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function z(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function U(){this.viewport&&this.viewport.goHome()}function W(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function H(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e+=this.rotationIncrement:e-=this.rotationIncrement,this.viewport.setRotation(e)}}function V(){if(this.viewport){var e=this.viewport.getRotation();this.viewport.flipped?e-=this.rotationIncrement:e+=this.rotationIncrement,this.viewport.setRotation(e)}}function G(){this.viewport.toggleFlip()}e.Viewer=function(o){var a,u,c,d=arguments,k=this;if(e.isPlainObject(o)||(o={id:d[0],xmlPath:d.length>1?d[1]:void 0,prefixUrl:d.length>2?d[2]:void 0,controls:d.length>3?d[3]:void 0,overlays:d.length>4?d[4]:void 0}),o.config&&(e.extend(!0,o,o.config),delete o.config),o.drawerOptions=Object.assign({},["useCanvas"].reduce((e,t)=>(e[t]=o[t],delete o[t],e),{}),o.drawerOptions),e.extend(!0,this,{id:o.id,hash:o.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttonGroup:null,profiler:null},e.DEFAULT_SETTINGS,o),void 0===this.hash)throw Error("A hash must be defined, either by specifying options.id or options.hash.");void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,needsResize:!1,forceResize:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null,lastClickTime:null,draggingToZoom:!1},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);k._showMessage(n)}),e.ControlDock.call(this,o),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(a=this.canvas.style).width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px",e.setElementTouchActionNone(this.canvas),""!==o.tabIndex&&(this.canvas.tabIndex=void 0===o.tabIndex?0:o.tabIndex),this.container.className="openseadragon-container",(u=this.container.style).width="100%",u.height="100%",u.position="relative",u.overflow="hidden",u.left="0px",u.top="0px",u.textAlign="left",e.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:e.delegate(this,p),keyDownHandler:e.delegate(this,h),keyHandler:e.delegate(this,f),clickHandler:e.delegate(this,g),dblClickHandler:e.delegate(this,m),dragHandler:e.delegate(this,v),dragEndHandler:e.delegate(this,y),enterHandler:e.delegate(this,b),leaveHandler:e.delegate(this,w),pressHandler:e.delegate(this,x),releaseHandler:e.delegate(this,S),nonPrimaryPressHandler:e.delegate(this,_),nonPrimaryReleaseHandler:e.delegate(this,E),scrollHandler:e.delegate(this,P),pinchHandler:e.delegate(this,T),focusHandler:e.delegate(this,O),blurHandler:e.delegate(this,I)}),this.outerTracker=new e.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,C),leaveHandler:e.delegate(this,A)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=i(this.container),window.ResizeObserver?(this._autoResizePolling=!1,this._resizeObserver=new ResizeObserver(function(){t[k.hash].needsResize=!0}),this._resizeObserver.observe(this.container,{})):this._autoResizePolling=!0,this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){k.source=k.world.getItemAt(0).source,t[k.hash].forceRedraw=!0,k._updateRequestId||(k._updateRequestId=s(k,R))}),this.world.addHandler("remove-item",function(e){k.world.getItemCount()?k.source=k.world.getItemAt(0).source:k.source=null,t[k.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){k.viewport&&k.viewport._setContentBounds(k.world.getHomeBounds(),k.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){k.source=k.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,overlayPreserveContentDirection:this.overlayPreserveContentDirection,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:o.timeout,tileRetryMax:this.tileRetryMax,tileRetryDelay:this.tileRetryDelay}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),Object.prototype.hasOwnProperty.call(this.drawerOptions,"useCanvas")&&(e.console.error('useCanvas is deprecated, use the "drawer" option to indicate preferred drawer(s)'),this.drawerOptions.useCanvas||(this.drawer=e.HTMLDrawer),delete this.drawerOptions.useCanvas);let D=Array.isArray(this.drawer)?this.drawer:[this.drawer];for(let t of(0===D.length&&(D=[e.DEFAULT_SETTINGS.drawer].flat(),e.console.warn("No valid drawers were selected. Using the default value.")),this.drawer=null,D))if(this.requestDrawer(t,{mainDrawer:!0,redrawImmediately:!1}))break;if(!this.drawer)throw e.console.error("No drawer could be created!"),"Error with creating the selected drawer(s)";for(this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),!this.drawer.canRotate()&&(this.rotateLeft&&(c=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(c,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(c=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(c,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new e.Navigator({element:this.navigatorElement,id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy,animationTime:this.animationTime,drawer:this.drawer.getType(),loadTilesWithAjax:this.loadTilesWithAjax,ajaxHeaders:this.ajaxHeaders,ajaxWithCredentials:this.ajaxWithCredentials})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),c=0;c<this.customControls.length;c++)this.addControl(this.customControls[c].id,{anchor:this.customControls[c].anchor});e.requestAnimationFrame(function(){l(k)}),e._viewers.set(this.element,this)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},get buttons(){return e.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(t,n){var i,a=this;if(this.close(),!t)return this;if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(e.isArray(t)||(t=[t]),!t.length)return this;this._opening=!0;for(var s=t.length,l=0,u=0,c=function(){if(l+u===s){if(l){(a._firstOpen||!a.preserveViewport)&&(a.viewport.goHome(!0),a.viewport.update()),a._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),a.overlays&&!a.preserveOverlays)for(var n=0;n<a.overlays.length;n++)a.currentOverlays[n]=o(a,a.overlays[n]);a._drawOverlays(),a._opening=!1,a.raiseEvent("open",{source:e})}else a._opening=!1,a.raiseEvent("open-failed",i)}},d=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(l++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)a.addOverlay(t.tileSource.overlays[i]);n&&n(e),c()};var o=t.error;t.error=function(e){u++,i||(i=e),o&&o(e),c()},a.addTiledImage(t)},p=0;p<t.length;p++)d(t[p]);return this},close:function(){return t[this.hash]&&(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close")),this},destroy:function(){if(t[this.hash]){if(this.raiseEvent("before-destroy"),this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this._resizeObserver&&this._resizeObserver.disconnect(),this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),t[this.navigator.hash]=null,delete t[this.navigator.hash],this.navigator=null),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,e._viewers.delete(this.element),this.element=null,this.raiseEvent("destroy"),this.removeAllHandlers()}},requestDrawer(t,n){let i=(n=e.extend(!0,{mainDrawer:!0,redrawImmediately:!0,drawerOptions:null},n)).mainDrawer,o=n.redrawImmediately,a=n.drawerOptions,s=this.drawer,l=null;if(t&&t.prototype instanceof e.DrawerBase?(l=t,t="custom"):"string"==typeof t&&(l=e.determineDrawer(t)),l||e.console.warn("Unsupported drawer! Drawer must be an existing string type, or a class that extends OpenSeadragon.DrawerBase."),l&&l.isSupported()){s&&i&&s.destroy();let e=new l({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor,options:a||this.drawerOptions[t]});return i&&(this.drawer=e,o&&this.forceRedraw()),e}return!1},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?u(this):l(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},setAjaxHeaders:function(t,n){if(null===t&&(t={}),!e.isPlainObject(t)){console.error("[Viewer.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}if(void 0===n&&(n=!0),this.ajaxHeaders=t,n){for(var i=0;i<this.world.getItemCount();i++)this.world.getItemAt(i)._updateAjaxHeaders(!0);if(this.navigator&&this.navigator.setAjaxHeaders(this.ajaxHeaders,!0),this.referenceStrip&&this.referenceStrip.miniViewers)for(var o in this.referenceStrip.miniViewers)this.referenceStrip.miniViewers[o].setAjaxHeaders(this.ajaxHeaders,!0)}},addButton:function(e){this.buttonGroup.addButton(e)},isFullPage:function(){return t[this.hash]&&t[this.hash].fullPage},setFullPage:function(n){var i,o,a=document.body,s=a.style,l=document.documentElement.style,u=this;if(n===this.isFullPage())return this;var c={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",c),c.preventDefaultAction)return this;if(n&&this.element){for(o=0,this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=s.margin,this.docMargin=l.margin,s.margin="0",l.margin="0",this.bodyPadding=s.padding,this.docPadding=l.padding,s.padding="0",l.padding="0",this.bodyWidth=s.width,this.docWidth=l.width,s.width="100%",l.width="100%",this.bodyHeight=s.height,this.docHeight=l.height,s.height="100%",l.height="100%",this.bodyDisplay=s.display,s.display="block",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,i=a.childNodes.length;o<i;o++)this.previousBody.push(a.childNodes[0]),a.removeChild(a.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,a.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),a.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,C)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,s.margin=this.bodyMargin,l.margin=this.docMargin,s.padding=this.bodyPadding,l.padding=this.docPadding,s.width=this.bodyWidth,l.width=this.docWidth,s.height=this.bodyHeight,l.height=this.docHeight,s.display=this.bodyDisplay,a.removeChild(this.element),i=this.previousBody.length,o=0;o<i;o++)a.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(a.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var d=0,p=function(){e.setPageScroll(u.pageScroll);var t=e.getPageScroll();++d<10&&(t.x!==u.pageScroll.x||t.y!==u.pageScroll.y)&&e.requestAnimationFrame(p)};e.requestAnimationFrame(p),t[this.hash].fullPage=!1,e.delegate(this,A)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var i={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var o=function(){var t=e.isFullScreen();!t&&(e.removeEvent(document,e.fullScreenEventName,o),e.removeEvent(document,e.fullScreenErrorEventName,o),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout(function(){n.navigator.update(n.viewport)}),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,o),e.addEvent(document,e.fullScreenErrorEventName,o),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!==this.container.style.visibility},isFullScreen:function(){return e.isFullScreen()&&this.isFullPage()},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),e.isPlainObject(t.ajaxHeaders)||(t.ajaxHeaders={});var i={options:t};function o(e){for(var o=0;o<n._loadQueue.length;o++)if(n._loadQueue[o]===i){n._loadQueue.splice(o,1);break}0===n._loadQueue.length&&a(i),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function a(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}if(e.isArray(t.tileSource)){setTimeout(function(){o({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})});return}function s(){for(var t,i,o;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var s=n.world.getIndexOfItem(t.options.replaceItem);-1!==s&&(t.options.index=s),n.world.removeItem(t.options.replaceItem)}i=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,flipped:t.options.flipped,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,maxTilesPerFrame:n.maxTilesPerFrame,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode,subPixelRoundingForTransparency:n.subPixelRoundingForTransparency}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.navigator&&(o=e.extend({},t.options,{replace:!1,originalTiledImage:i,tileSource:t.tileSource}),n.navigator.addTiledImage(o)),n.world.addItem(i,{index:t.options.index}),0===n._loadQueue.length&&a(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),t.options.success&&t.options.success({item:i})}}this._loadQueue.push(i),function(t,n,i,o,a){if("string"===e.type(n)){if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[{[].*[}\]]\s*$/))try{n=e.parseJSON(n)}catch(e){}}function s(e,t){e.ready?o(e):(e.addHandler("ready",function(){o(e)}),e.addHandler("open-failed",function(e){a({message:e.message,source:t})}))}setTimeout(function(){if("string"===e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:i.ajaxHeaders?i.ajaxHeaders:t.ajaxHeaders,splitHashDataForPost:t.splitHashDataForPost,success:function(e){o(e.tileSource)}})).addHandler("open-failed",function(e){a(e)});else if(e.isPlainObject(n)||n.nodeType){if(void 0===n.crossOriginPolicy&&(void 0!==i.crossOriginPolicy||void 0!==t.crossOriginPolicy)&&(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),e.isFunction(n.getTileUrl)){var l=new e.TileSource(n);l.getTileUrl=n.getTileUrl,o(l)}else{var u=e.TileSource.determineType(t,n);if(!u){a({message:"Unable to load TileSource",source:n});return}var c=u.prototype.configure.apply(t,[n]);s(new u(c),n)}}else s(n,n)})}(this,t.tileSource,t,function(e){i.tileSource=e,s()},function(e){e.options=t,o(e),s()})},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(i),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},forceResize:function(){t[this.hash].needsResize=!0,t[this.hash].forceResize=!0},bindSequenceControls:function(){var t=e.delegate(this,c),n=e.delegate(this,d),i=e.delegate(this,this.goToNextPage),o=e.delegate(this,this.goToPreviousPage),a=this.navImages,s=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(s=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:k(this.prefixUrl,a.previous.REST),srcGroup:k(this.prefixUrl,a.previous.GROUP),srcHover:k(this.prefixUrl,a.previous.HOVER),srcDown:k(this.prefixUrl,a.previous.DOWN),onRelease:o,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:k(this.prefixUrl,a.next.REST),srcGroup:k(this.prefixUrl,a.next.GROUP),srcHover:k(this.prefixUrl,a.next.HOVER),srcDown:k(this.prefixUrl,a.next.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),s&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,D),n=e.delegate(this,M),i=e.delegate(this,F),o=e.delegate(this,N),a=e.delegate(this,B),s=e.delegate(this,U),l=e.delegate(this,W),u=e.delegate(this,H),p=e.delegate(this,V),h=e.delegate(this,G),f=e.delegate(this,c),g=e.delegate(this,d),m=this.navImages,v=[],y=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(y=!1),this.showZoomControl&&(v.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:k(this.prefixUrl,m.zoomIn.REST),srcGroup:k(this.prefixUrl,m.zoomIn.GROUP),srcHover:k(this.prefixUrl,m.zoomIn.HOVER),srcDown:k(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:n,onClick:i,onEnter:t,onExit:n,onFocus:f,onBlur:g})),v.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:k(this.prefixUrl,m.zoomOut.REST),srcGroup:k(this.prefixUrl,m.zoomOut.GROUP),srcHover:k(this.prefixUrl,m.zoomOut.HOVER),srcDown:k(this.prefixUrl,m.zoomOut.DOWN),onPress:o,onRelease:n,onClick:a,onEnter:o,onExit:n,onFocus:f,onBlur:g}))),this.showHomeControl&&v.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:k(this.prefixUrl,m.home.REST),srcGroup:k(this.prefixUrl,m.home.GROUP),srcHover:k(this.prefixUrl,m.home.HOVER),srcDown:k(this.prefixUrl,m.home.DOWN),onRelease:s,onFocus:f,onBlur:g})),this.showFullPageControl&&v.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:k(this.prefixUrl,m.fullpage.REST),srcGroup:k(this.prefixUrl,m.fullpage.GROUP),srcHover:k(this.prefixUrl,m.fullpage.HOVER),srcDown:k(this.prefixUrl,m.fullpage.DOWN),onRelease:l,onFocus:f,onBlur:g})),this.showRotationControl&&(v.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:k(this.prefixUrl,m.rotateleft.REST),srcGroup:k(this.prefixUrl,m.rotateleft.GROUP),srcHover:k(this.prefixUrl,m.rotateleft.HOVER),srcDown:k(this.prefixUrl,m.rotateleft.DOWN),onRelease:u,onFocus:f,onBlur:g})),v.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:k(this.prefixUrl,m.rotateright.REST),srcGroup:k(this.prefixUrl,m.rotateright.GROUP),srcHover:k(this.prefixUrl,m.rotateright.HOVER),srcDown:k(this.prefixUrl,m.rotateright.DOWN),onRelease:p,onFocus:f,onBlur:g}))),this.showFlipControl&&v.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:k(this.prefixUrl,m.flip.REST),srcGroup:k(this.prefixUrl,m.flip.GROUP),srcHover:k(this.prefixUrl,m.flip.HOVER),srcDown:k(this.prefixUrl,m.flip.DOWN),onRelease:h,onFocus:f,onBlur:g})),y?(this.buttonGroup=new e.ButtonGroup({buttons:v,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",e.delegate(this,z)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT})):this.customButtons=v),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,i,s){if(l=e.isPlainObject(t)?t:{element:t,location:n,placement:i,onDraw:s},t=e.getElement(l.element),a(this.currentOverlays,t)>=0)return this;var l,u=o(this,l);return this.currentOverlays.push(u),u.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:l.location,placement:l.placement}),this},updateOverlay:function(n,i,o){var s;return n=e.getElement(n),(s=a(this.currentOverlays,n))>=0&&(this.currentOverlays[s].update(i,o),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:o})),this},removeOverlay:function(n){var i;return n=e.getElement(n),(i=a(this.currentOverlays,n))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return(t=e.getElement(t),(n=a(this.currentOverlays,t))>=0)?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){(this.showReferenceStrip=!0,this.sequenceMode)?!this.referenceStrip&&this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex)):e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),e.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){e.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var t=e.pixelDensityRatio,n=e.getCurrentPixelDensityRatio();t!==n&&(e.pixelDensityRatio=n,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)},goToNextPage:function(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)},isAnimating:function(){return t[this.hash].animating}}),e.determineDrawer=function(t){for(let n in s1){let i=s1[n],o=i.prototype;if(o&&o instanceof s1.DrawerBase&&e.isFunction(o.getType)&&o.getType.call(i)===t)return i}return null}}(s1),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function o(e){var t={tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent,preventDefault:e.preventDefault};this.viewer.raiseEvent("navigator-scroll",t),e.preventDefault=t.preventDefault}function a(e,t){s(e,"rotate("+t+"deg)")}function s(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(s){var l,u,c,d,p,h,f=s.viewer,g=this;function m(e,t){a(g.displayRegionContainer,e),a(g.displayRegion,-e),g.viewport.setRotation(e,t)}s.element||s.id?(s.element?(s.id&&e.console.warn("Given option.id for Navigator was ignored since option.element was provided and is being used instead."),s.element.id?s.id=s.element.id:s.id="navigator-"+e.now(),this.element=s.element):this.element=document.getElementById(s.id),s.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(s.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),s.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:s.autoFade},s.position&&("BOTTOM_RIGHT"===s.position?s.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"===s.position?s.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"===s.position?s.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"===s.position?s.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"===s.position&&(s.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,s.controlOptions.top=s.top,s.controlOptions.left=s.left,s.controlOptions.height=s.height,s.controlOptions.width=s.width))),this.element.id=s.id,this.element.className+=" navigator",(s=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},s,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:s.animationTime,autoResize:!1,minZoomImageRatio:1,background:s.background,opacity:s.opacity,borderColor:s.borderColor,displayRegionColor:s.displayRegionColor})).minPixelRatio=this.minPixelRatio=f.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),s.controlOptions.anchor!==e.ControlAnchor.NONE&&(l=this.element.style,u=this.borderWidth,l.margin="0px",l.border=u+"px solid "+s.borderColor,l.padding="0px",l.background=s.background,l.opacity=s.opacity,l.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",c=this.displayRegion.style,d=this.borderWidth,c.position="relative",c.top="0px",c.left="0px",c.fontSize="0px",c.overflow="hidden",c.border=d+"px solid "+s.displayRegionColor,c.margin="0px",c.padding="0px",c.background="transparent",c.float="left",c.cssFloat="left",c.zIndex=0x3b9ac9ff,c.cursor="default",c.boxSizing="content-box",e.setElementPointerEventsNone(this.displayRegion),e.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",e.setElementPointerEventsNone(this.displayRegionContainer),e.setElementTouchActionNone(this.displayRegionContainer),f.addControl(this.element,s.controlOptions),this._resizeWithViewer=s.controlOptions.anchor!==e.ControlAnchor.ABSOLUTE&&s.controlOptions.anchor!==e.ControlAnchor.NONE,s.width&&s.height?(this.setWidth(s.width),this.setHeight(s.height)):this._resizeWithViewer&&(p=e.getElementSize(f.element),this.element.style.height=Math.round(p.y*s.sizeRatio)+"px",this.element.style.width=Math.round(p.x*s.sizeRatio)+"px",this.oldViewerSize=p,h=e.getElementSize(this.element),this.elementArea=h.x*h.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[s]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),s.navigatorRotate&&(m(s.viewer.viewport?s.viewer.viewport.getRotation():s.viewer.degrees||0,!0),s.viewer.addHandler("rotate",function(e){m(e.degrees,e.immediately)})),this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,i),scrollHandler:e.delegate(this,o),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",e.setElementPointerEventsNone(this.canvas),e.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){g.viewport&&g.viewport.goHome(!0)}),f.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=g.world.getItemAt(e.previousIndex);g.world.setItemIndex(t,e.newIndex)},1)}),f.world.addHandler("remove-item",function(e){var t=e.item,n=g._getMatchingItem(t);n&&g.world.removeItem(n)}),this.update(f.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.world.update(),this.world.draw(),this.update(this.viewer.viewport))}},setWidth:function(e){this.width=e,this.element.style.width="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setHeight:function(e){this.height=e,this.element.style.height="number"==typeof e?e+"px":e,this._resizeWithViewer=!1,this.updateSize()},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){s(this.displayRegion,e),s(this.canvas,e),s(this.element,e)},update:function(t){var n,i,o,s,l,u;if(t||(t=this.viewer.viewport),n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,o=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),o=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(o)+"px",this.elementArea||(this.elementArea=i*o),this.updateSize()),t&&this.viewport){if(s=t.getBoundsNoRotate(!0),l=this.viewport.pixelFromPointNoRotate(s.getTopLeft(),!1),u=this.viewport.pixelFromPointNoRotate(s.getBottomRight(),!1).minus(this.totalBorderWidths),!this.navigatorRotate){var c=t.getRotation(!0);a(this.displayRegion,-c)}var d=this.displayRegion.style;d.display=this.world.getItemCount()?"block":"none",d.top=l.y.toFixed(2)+"px",d.left=l.x.toFixed(2)+"px";var p=u.x-l.x,h=u.y-l.y;d.width=Math.round(Math.max(p,0))+"px",d.height=Math.round(Math.max(h,0))+"px"}},addTiledImage:function(t){var n=this,i=t.originalTiledImage;delete t.original;var o=e.extend({},t,{success:function(e){var t=e.item;function o(){n._matchBounds(t,i)}t._originalForNavigator=i,n._matchBounds(t,i,!0),n._matchOpacity(t,i),n._matchCompositeOperation(t,i),i.addHandler("bounds-change",o),i.addHandler("clip-change",o),i.addHandler("opacity-change",function(){n._matchOpacity(t,i)}),i.addHandler("composite-operation-change",function(){n._matchCompositeOperation(t,i)})}});return e.Viewer.prototype.addTiledImage.apply(this,[o])},destroy:function(){return e.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),i=0;i<n;i++)if((t=this.world.getItemAt(i))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var i=t.getBoundsNoRotate();e.setPosition(i.getTopLeft(),n),e.setWidth(i.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip()),e.setFlip(t.getFlip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(s1),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var i,o=n.split("."),a=null,s=arguments,l=t;for(i=0;i<o.length-1;i++)l=l[o[i]]||{};return"string"!=typeof(a=l[o[i]])&&(e.console.error("Untranslated source string:",n),a=""),a.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<s.length?s[t]:""})},setString:function(e,n){var i,o=e.split("."),a=t;for(i=0;i<o.length-1;i++)a[o[i]]||(a[o[i]]={}),a=a[o[i]];a[o[i]]=n}})}(s1),s1.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},s1.Point.prototype={clone:function(){return new s1.Point(this.x,this.y)},plus:function(e){return new s1.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new s1.Point(this.x-e.x,this.y-e.y)},times:function(e){return new s1.Point(this.x*e,this.y*e)},divide:function(e){return new s1.Point(this.x/e,this.y/e)},negate:function(){return new s1.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(e){return new s1.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof s1.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,t){if(t=t||new s1.Point(0,0),e%90==0){var n,i;switch(s1.positiveModulo(e,360)){case 0:n=1,i=0;break;case 90:n=0,i=1;break;case 180:n=-1,i=0;break;case 270:n=0,i=-1}}else{var o=e*Math.PI/180;n=Math.cos(o),i=Math.sin(o)}var a=n*(this.x-t.x)-i*(this.y-t.y)+t.x,s=i*(this.x-t.x)+n*(this.y-t.y)+t.y;return new s1.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}},s1.TileSource=function(e,t,n,i,o,a){var s,l,u=this,c=arguments;if(s=s1.isPlainObject(e)?e:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},s1.EventSource.call(this),s1.extend(!0,this,s),!this.success){for(l=0;l<arguments.length;l++)if(s1.isFunction(arguments[l])){this.success=arguments[l];break}}this.success&&this.addHandler("ready",function(e){u.success(e)}),"string"===s1.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new s1.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new s1.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&s1.isFunction(this.success)&&this.success(this))},s1.TileSource.prototype={getTileSize:function(e){return s1.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},setMaxLevel:function(e){this.maxLevel=e,this._memoizeLevelScale()},getLevelScale:function(e){return this._memoizeLevelScale(),this.getLevelScale(e)},_memoizeLevelScale:function(){var e,t={};for(e=0;e<=this.maxLevel;e++)t[e]=1/Math.pow(2,this.maxLevel-e);this.getLevelScale=function(e){return t[e]}},getNumTiles:function(e){var t=this.getLevelScale(e),n=Math.ceil(t*this.dimensions.x/this.getTileWidth(e)),i=Math.ceil(t*this.dimensions.y/this.getTileHeight(e));return new s1.Point(n,i)},getPixelRatio:function(e){var t=this.dimensions.times(this.getLevelScale(e)),n=1/t.x*s1.pixelDensityRatio,i=1/t.y*s1.pixelDensityRatio;return new s1.Point(n,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1)&&!(t.y>1);e++);return e-1},getTileAtPoint:function(e,t){var n=t.x>=0&&t.x<=1&&t.y>=0&&t.y<=1/this.aspectRatio;s1.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(e),o=t.x*i,a=t.y*i,s=Math.floor(o/this.getTileWidth(e)),l=Math.floor(a/this.getTileHeight(e));return t.x>=1&&(s=this.getNumTiles(e).x-1),t.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(e).y-1),new s1.Point(s,l)},getTileBounds:function(e,t,n,i){var o=this.dimensions.times(this.getLevelScale(e)),a=this.getTileWidth(e),s=this.getTileHeight(e),l=0===t?0:a*t-this.tileOverlap,u=0===n?0:s*n-this.tileOverlap,c=a+(0===t?1:2)*this.tileOverlap,d=s+(0===n?1:2)*this.tileOverlap,p=1/o.x;return(c=Math.min(c,o.x-l),d=Math.min(d,o.y-u),i)?new s1.Rect(0,0,c,d):new s1.Rect(l*p,u*p,c*p,d*p)},getImageInfo:function(e){var t,n,i,o,a,s,l,u=this;e&&(l=(s=(a=e.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l));var c=null;if(this.splitHashDataForPost){var d=e.indexOf("#");-1!==d&&(c=e.substring(d+1),e=e.substr(0,d))}n=function(t){"string"==typeof t&&(t=s1.parseXml(t));var n=s1.TileSource.determineType(u,t,e);if(!n){u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:e});return}void 0===(o=n.prototype.configure.apply(u,[t,e,c])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),i=new n(o),u.ready=!0,u.raiseEvent("ready",{tileSource:i})},e.match(/\.js$/)?(t=e.split("/").pop().replace(".js",""),s1.jsonp({url:e,async:!1,callbackName:t,callback:n})):s1.makeAjaxRequest({url:e,postData:c,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){n(function(e){var t,n,i=e.responseText,o=e.status;if(e){if(200!==e.status&&0!==e.status)throw t=404===(o=e.status)?"Not Found":e.statusText,Error(s1.getString("Errors.Status",o,t))}else throw Error(s1.getString("Errors.Security"));if(i.match(/^\s*<.*/))try{n=e.responseXML&&e.responseXML.documentElement?e.responseXML:s1.parseXml(i)}catch(t){n=e.responseText}else if(i.match(/\s*[{[].*/))try{n=s1.parseJSON(i)}catch(e){n=i}else n=i;return n}(e))},error:function(t,n){var i;try{i="HTTP "+t.status+" attempting to load TileSource: "+e}catch(t){i=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource: "+e}s1.console.error(i),u.raiseEvent("open-failed",{message:i,source:e,postData:c})}})},supports:function(e,t){return!1},configure:function(e,t,n){throw Error("Method not implemented.")},getTileUrl:function(e,t,n){throw Error("Method not implemented.")},getTilePostData:function(e,t,n){return null},getTileAjaxHeaders:function(e,t,n){return{}},getTileHashKey:function(e,t,n,i,o,a){var s;return s="string"!=typeof i?e+"/"+t+"_"+n:i,o?s+"+"+JSON.stringify(o):s},tileExists:function(e,t,n){var i=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<i.x&&n<i.y},hasTransparency:function(e,t,n,i){return!!e||t.match(".png")},downloadTileStart:function(e){var t=e.userData,n=new Image;t.image=n,t.request=null;var i=function(i){if(!n){e.finish(null,t.request,"Image load failed: undefined Image instance.");return}n.onload=n.onerror=n.onabort=null,e.finish(i?null:n,t.request,i)};n.onload=function(){i()},n.onabort=n.onerror=function(){i("Image load aborted.")},e.loadWithAjax?t.request=s1.makeAjaxRequest({url:e.src,withCredentials:e.ajaxWithCredentials,headers:e.ajaxHeaders,responseType:"arraybuffer",postData:e.postData,success:function(e){var t;try{t=new window.Blob([e.response])}catch(n){var o=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===n.name&&o){var a=new o;a.append(e.response),t=a.getBlob()}}0===t.size?i("Empty image response."):n.src=(window.URL||window.webkitURL).createObjectURL(t)},error:function(e){i("Image load aborted - XHR error")}}):(!1!==e.crossOriginPolicy&&(n.crossOrigin=e.crossOriginPolicy),n.src=e.src)},downloadTileAbort:function(e){e.userData.request&&e.userData.request.abort();var t=e.userData.image;e.userData.image&&(t.onload=t.onerror=t.onabort=null)},createTileCache:function(e,t,n){e._data=t},destroyTileCache:function(e){e._data=null,e._renderedContext=null},getTileCacheData:function(e){return e._data},getTileCacheDataAsImage:function(e){return e._data},getTileCacheDataAsContext2D:function(e){if(!e._renderedContext){var t=document.createElement("canvas");t.width=e._data.width,t.height=e._data.height,e._renderedContext=t.getContext("2d"),e._renderedContext.drawImage(e._data,0,0),e._data=null}return e._renderedContext}},s1.extend(!0,s1.TileSource.prototype,s1.EventSource.prototype),s1.TileSource.determineType=function(e,t,n){var i;for(i in s1)if(i.match(/.+TileSource$/)&&s1.isFunction(s1[i])&&s1.isFunction(s1[i].prototype.supports)&&s1[i].prototype.supports.call(e,t,n))return s1[i];return s1.console.error("No TileSource was able to open %s %s",n,t),null},function(e){e.DziTileSource=function(t,n,i,o,a,s,l,u,c){var d,p,h,f;if(f=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=f.tilesUrl,this.fileFormat=f.fileFormat,this.displayRects=f.displayRects,this.displayRects)for(d=this.displayRects.length-1;d>=0;d--)for(h=(p=this.displayRects[d]).minLevel;h<=p.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(p);e.TileSource.apply(this,[f])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"===e.documentElement.localName||"Image"===e.documentElement.tagName)&&(n=e.documentElement.namespaceURI),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i,o){var a;return a=e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw Error(e.getString("Errors.Xml"));var o,a,s,l,u,c=i.documentElement,d=c.localName||c.tagName,p=i.documentElement.namespaceURI,h=null,f=[];if("Image"===d)try{if(l=c.getElementsByTagName("Size")[0],void 0===l&&(l=c.getElementsByTagNameNS(p,"Size")[0]),h={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:c.getAttribute("Url"),Format:c.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(c.getAttribute("Overlap"),10),TileSize:parseInt(c.getAttribute("TileSize"),10),Size:{Height:parseInt(l.getAttribute("Height"),10),Width:parseInt(l.getAttribute("Width"),10)}}},!e.imageFormatSupported(h.Image.Format))throw Error(e.getString("Errors.ImageFormat",h.Image.Format.toUpperCase()));for(o=c.getElementsByTagName("DisplayRect"),void 0===o&&(o=c.getElementsByTagNameNS(p,"DisplayRect")[0]),u=0;u<o.length;u++)s=(a=o[u]).getElementsByTagName("Rect")[0],void 0===s&&(s=a.getElementsByTagNameNS(p,"Rect")[0]),f.push({Rect:{X:parseInt(s.getAttribute("X"),10),Y:parseInt(s.getAttribute("Y"),10),Width:parseInt(s.getAttribute("Width"),10),Height:parseInt(s.getAttribute("Height"),10),MinLevel:parseInt(a.getAttribute("MinLevel"),10),MaxLevel:parseInt(a.getAttribute("MaxLevel"),10)}});return f.length&&(h.Image.DisplayRect=f),t(n,h)}catch(t){throw t instanceof Error?t:Error(e.getString("Errors.Dzi"))}else if("Collection"===d)throw Error(e.getString("Errors.Dzc"));else if("Error"===d)throw Error(c.getElementsByTagName("Message")[0].firstChild.nodeValue);throw Error(e.getString("Errors.Dzi"))}(this,n),i&&!a.tilesUrl&&(a.tilesUrl=i.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),-1!==i.search(/\.(dzi|xml|js)\?/)?a.queryParams=i.match(/\?.*/):a.queryParams=""),a},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var i,o,a,s,l,u,c,d=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!d||!d.length)return!0;for(c=d.length-1;c>=0;c--)if(!(e<(i=d[c]).minLevel)&&!(e>i.maxLevel)&&(o=this.getLevelScale(e),a=i.x*o,s=i.y*o,l=a+i.width*o,u=s+i.height*o,a=Math.floor(a/this._tileWidth),s=Math.floor(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),u=Math.ceil(u/this._tileWidth),a<=t&&t<l&&s<=n&&n<u))return!0;return!1}});function t(t,n){var i,o,a=n.Image,s=a.Url,l=a.Format,u=a.Size,c=a.DisplayRect||[],d=parseInt(u.Width,10),p=parseInt(u.Height,10),h=parseInt(a.TileSize,10),f=parseInt(a.Overlap,10),g=[];for(o=0;o<c.length;o++)i=c[o].Rect,g.push(new e.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return e.extend(!0,{width:d,height:p,tileSize:h,tileOverlap:f,minLevel:null,maxLevel:null,tilesUrl:s,fileFormat:l,displayRects:g},n)}}(s1),function(e){function t(e){var t=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"].indexOf(Array.isArray(e.profile)?e.profile[0]:e.profile),n=!1;return 2===e.version&&e.profile.length>1&&e.profile[1].supports&&(n=-1!==e.profile[1].supports.indexOf("sizeByW")),3===e.version&&e.extraFeatures&&(n=-1!==e.extraFeatures.indexOf("sizeByWh")),!t||n}function n(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e._id+"/full/"+e.sizes[n].width+","+(3===e.version?e.sizes[n].height:"")+"/0/default."+e.tileFormat,width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}e.IIIFTileSource=function(i){if(e.extend(!0,this,i),this._id=this["@id"]||this.id||this.identifier||null,!(this.height&&this.width&&this._id))throw Error("IIIF required parameters (width, height, or id) not provided.");if(i.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=i.version,this.tile_width&&this.tile_height)i.tileWidth=this.tile_width,i.tileHeight=this.tile_height;else if(this.tile_width)i.tileSize=this.tile_width;else if(this.tile_height)i.tileSize=this.tile_height;else if(this.tiles){if(1===this.tiles.length)i.tileWidth=this.tiles[0].width,i.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var o=0;o<this.tiles.length;o++)for(var a=0;a<this.tiles[o].scaleFactors.length;a++){var s=this.tiles[o].scaleFactors[a];this.scale_factors.push(s),i.tileSizePerScaleFactor[s]={width:this.tiles[o].width,height:this.tiles[o].height||this.tiles[o].width}}}}else if(t(i)){for(var l=Math.min(this.height,this.width),u=[256,512,1024],c=[],d=0;d<u.length;d++)u[d]<=l&&c.push(u[d]);c.length>0?i.tileSize=Math.max.apply(null,c):i.tileSize=l}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,i.levels=n(this),e.extend(!0,i,{width:i.levels[i.levels.length-1].width,height:i.levels[i.levels.length-1].height,tileSize:Math.max(i.height,i.width),tileOverlap:0,minLevel:0,maxLevel:i.levels.length-1}),this.levels=i.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!i.maxLevel&&!this.emulateLegacyImagePyramid){if(this.scale_factors){var p=Math.max.apply(null,this.scale_factors);i.maxLevel=Math.round(Math.log(p)*Math.LOG2E)}else i.maxLevel=Number(Math.round(Math.log(Math.max(this.width,this.height),2)))}if(this.sizes){var h=this.sizes.length;(h===i.maxLevel||h===i.maxLevel+1)&&(this.levelSizes=this.sizes.slice().sort((e,t)=>e.width-t.width),h===i.maxLevel&&this.levelSizes.push({width:this.width,height:this.height}))}e.TileSource.apply(this,[i])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!!e.protocol&&"http://iiif.io/api/image"===e.protocol||!!e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"===e["@context"]||"http://iiif.io/api/image/1/context.json"===e["@context"])||!!e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||!!e.identifier&&!!e.width&&!!e.height||!!e.documentElement&&"info"===e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"===e.documentElement.namespaceURI},configure:function(t,n,i){if(e.isPlainObject(t)){if(t["@context"]){var o=t["@context"];if(Array.isArray(o)){for(var a=0;a<o.length;a++)if("string"==typeof o[a]&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(o[a])||"http://library.stanford.edu/iiif/image-api/1.1/context.json"===o[a])){o=o[a];break}}switch(o){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":t.version=1;break;case"http://iiif.io/api/image/2/context.json":t.version=2;break;case"http://iiif.io/api/image/3/context.json":t.version=3;break;default:e.console.error("Data has a @context property which contains no known IIIF context URI.")}}else t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t.version=1;if(t.preferredFormats){for(var s=0;s<t.preferredFormats.length;s++)if(s1.imageFormatSupported(t.preferredFormats[s])){t.tileFormat=t.preferredFormats[s];break}}return t}var l=function(t){if(!t||!t.documentElement)throw Error(e.getString("Errors.Xml"));var n=t.documentElement,i=n.tagName,o=null;if("info"===i)try{return o={},function t(n,i,o){var a,s;if(3===n.nodeType&&o)(s=n.nodeValue.trim()).match(/^\d*$/)&&(s=Number(s)),i[o]?(e.isArray(i[o])||(i[o]=[i[o]]),i[o].push(s)):i[o]=s;else if(1===n.nodeType)for(a=0;a<n.childNodes.length;a++)t(n.childNodes[a],i,n.nodeName)}(n,o),o}catch(t){throw t instanceof Error?t:Error(e.getString("Errors.IIIF"))}throw Error(e.getString("Errors.IIIF"))}(t);return l["@context"]="http://iiif.io/api/image/1.0/context.json",l["@id"]=n.replace("/info.xml",""),l.version=1,l},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){if(this.emulateLegacyImagePyramid)return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0);if(!this.levelSizes)return e.TileSource.prototype.getNumTiles.call(this,t);var n=this.levelSizes[t],i=Math.ceil(n.width/this.getTileWidth(t)),o=Math.ceil(n.height/this.getTileHeight(t));return new e.Point(i,o)},getTileAtPoint:function(t,n){if(this.emulateLegacyImagePyramid)return new e.Point(0,0);if(this.levelSizes){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var o=this.levelSizes[t].width,a=n.x*o,s=n.y*o,l=Math.floor(a/this.getTileWidth(t)),u=Math.floor(s/this.getTileHeight(t));return n.x>=1&&(l=this.getNumTiles(t).x-1),n.y>=1/this.aspectRatio-1e-15&&(u=this.getNumTiles(t).y-1),new e.Point(l,u)}return e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}var o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w=Math.pow(.5,this.maxLevel-e);return this.levelSizes?(o=this.levelSizes[e].width,a=this.levelSizes[e].height):(o=Math.ceil(this.width*w),a=Math.ceil(this.height*w)),s=this.getTileWidth(e),l=this.getTileHeight(e),u=Math.round(s/w),c=Math.round(l/w),b=1===this.version?"native."+this.tileFormat:"default."+this.tileFormat,o<s&&a<l?(m=2===this.version&&o===this.width?"full":3===this.version&&o===this.width&&a===this.height?"max":3===this.version?o+","+a:o+",",d="full"):(p=t*u,h=n*c,f=Math.min(u,this.width-p),g=Math.min(c,this.height-h),d=0===t&&0===n&&f===this.width&&g===this.height?"full":[p,h,f,g].join(","),v=Math.min(s,o-t*s),y=Math.min(l,a-n*l),m=2===this.version&&v===this.width?"full":3===this.version&&v===this.width&&y===this.height?"max":3===this.version?v+","+y:v+","),[this._id,d,m,"0",b].join("/")},__testonly__:{canBeTiled:t,constructLevels:n}})}(s1),s1.OsmTileSource=function(e,t,n,i,o){var a;a=s1.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},a.width&&a.height||(a.width=0x3e89000,a.height=0x3e89000),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,s1.TileSource.apply(this,[a])},s1.extend(s1.OsmTileSource.prototype,s1.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}}),s1.TmsTileSource=function(e,t,n,i,o){a=s1.isPlainObject(e)?e:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,s,l=256*Math.ceil(a.width/256),u=256*Math.ceil(a.height/256);s=l>u?l/256:u/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=u,s1.TileSource.apply(this,[a])},s1.extend(s1.TmsTileSource.prototype,s1.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){var i=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(i-n)+".png"}}),s1.ZoomifyTileSource=function(e){void 0===e.tileSize&&(e.tileSize=256),void 0===e.fileFormat&&(e.fileFormat="jpg",this.fileFormat=e.fileFormat);var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,s1.TileSource.apply(this,[e])},s1.extend(s1.ZoomifyTileSource.prototype,s1.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var i=0,o={},a=0;a<e;a++)i+=(o=this.gridSize[a]).x*o.y;return i+((o=this.gridSize[e]).x*n+t)},supports:function(e,t){return e.type&&"zoomifytileservice"===e.type},configure:function(e,t,n){return e},getTileUrl:function(e,t,n){var i=0;return i=Math.floor(this._calculateAbsoluteTileNumber(e,t,n)/256),this.tilesUrl+"TileGroup"+i+"/"+e+"-"+t+"-"+n+"."+this.fileFormat}}),s1.LegacyTileSource=function(e){var t,n,i;s1.isArray(e)&&(t={type:"legacy-image-pyramid",levels:e}),t.levels=function(e){var t,n,i=[];for(n=0;n<e.length;n++)(t=e[n]).height&&t.width&&t.url?i.push({url:t.url,width:Number(t.width),height:Number(t.height)}):s1.console.error("Unsupported image format: %s",t.url?t.url:"<no URL>");return i.sort(function(e,t){return e.height-t.height})}(t.levels),t.levels.length>0?(n=t.levels[t.levels.length-1].width,i=t.levels[t.levels.length-1].height):(n=0,i=0,s1.console.error("No supported image formats found")),s1.extend(!0,t,{width:n,height:i,tileSize:Math.max(i,n),tileOverlap:0,minLevel:0,maxLevel:t.levels.length>0?t.levels.length-1:0}),s1.TileSource.apply(this,[t]),this.levels=t.levels},s1.extend(s1.LegacyTileSource.prototype,s1.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"===e.type||e.documentElement&&"legacy-image-pyramid"===e.documentElement.getAttribute("type")},configure:function(e,t,n){return s1.isPlainObject(e)?e.levels:function(e,t){if(!t||!t.documentElement)throw Error(s1.getString("Errors.Xml"));var n,i,o,a=t.documentElement,s=a.tagName,l=null,u=[];if("image"===s)try{for(o=0,l={type:a.getAttribute("type"),levels:[]},u=a.getElementsByTagName("level");o<u.length;o++)i=u[o],l.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return n=0,l.levels}catch(e){throw e instanceof Error?e:Error("Unknown error parsing Legacy Image Pyramid XML.")}else if("collection"===s)throw Error("Legacy Image Pyramid Collections not yet supported.");else if("error"===s)throw Error("Error: "+t);throw Error("Unknown element "+s)}(this,e)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new s1.Point(1,1):new s1.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}}),s1.ImageTileSource=function(e){e=s1.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1},e),s1.TileSource.apply(this,[e])},s1.extend(s1.ImageTileSource.prototype,s1.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t,n){return e},getImageInfo:function(e){var t=this._image=new Image,n=this;this.crossOriginPolicy&&(t.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(t.useCredentials=this.ajaxWithCredentials),s1.addEvent(t,"load",function(){n.width=t.naturalWidth,n.height=t.naturalHeight,n.aspectRatio=n.width/n.height,n.dimensions=new s1.Point(n.width,n.height),n._tileWidth=n.width,n._tileHeight=n.height,n.tileOverlap=0,n.minLevel=0,n.levels=n._buildLevels(),n.maxLevel=n.levels.length-1,n.ready=!0,n.raiseEvent("ready",{tileSource:n})}),s1.addEvent(t,"error",function(){n.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})}),t.src=e},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new s1.Point(1,1):new s1.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i},getContext2D:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].context2D),i},destroy:function(e){this._freeupCanvasMemory(e)},_buildLevels:function(){var e=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!s1.supportsCanvas)return delete this._image,e;var t=this._image.naturalWidth,n=this._image.naturalHeight,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=t,i.height=n,o.drawImage(this._image,0,0,t,n),e[0].context2D=o,delete this._image,s1.isCanvasTainted(i))return e;for(;t>=2&&n>=2;){t=Math.floor(t/2),n=Math.floor(n/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=t,a.height=n,s.drawImage(i,0,0,t,n),e.splice(0,0,{context2D:s,width:t,height:n}),i=a,o=s}return e},_freeupCanvasMemory:function(e){for(var t=0;t<this.levels.length;t++)this.levels[t].context2D&&(this.levels[t].context2D.canvas.height=0,this.levels[t].context2D.canvas.width=0,e&&e.raiseEvent("image-unloaded",{context2D:this.levels[t].context2D}))}}),s1.TileSourceCollection=function(e,t,n,i){s1.console.error("TileSourceCollection is deprecated; use World instead")},function(e){function t(t,n){!t.element.disabled&&(n>=e.ButtonState.GROUP&&t.currentState===e.ButtonState.REST&&(t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState===e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState===e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function n(t,n){!t.element.disabled&&(n<=e.ButtonState.HOVER&&t.currentState===e.ButtonState.DOWN&&(t.imgDown&&(t.imgDown.style.visibility="hidden"),t.currentState=e.ButtonState.HOVER),n<=e.ButtonState.GROUP&&t.currentState===e.ButtonState.HOVER&&(t.imgHover&&(t.imgHover.style.visibility="hidden"),t.currentState=e.ButtonState.GROUP),n<=e.ButtonState.REST&&t.currentState===e.ButtonState.GROUP)&&(t.shouldFade=!0,t.fadeBeginTime=e.now()+t.fadeDelay,window.setTimeout(function(){(function t(n){e.requestAnimationFrame(function(){var i;n.shouldFade&&(i=Math.max(0,i=Math.min(1,i=1-(e.now()-n.fadeBeginTime)/n.fadeLength)),n.imgGroup&&e.setElementOpacity(n.imgGroup,i,!0),i>0&&t(n))})})(t)},t.fadeDelay),t.currentState=e.ButtonState.REST)}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(i){var o=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},i),this.element=i.element||e.makeNeutralElement("div"),i.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,e.setElementPointerEventsNone(this.imgRest),e.setElementPointerEventsNone(this.imgGroup),e.setElementPointerEventsNone(this.imgHover),e.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(n){n.insideElementPressed?(t(o,e.ButtonState.DOWN),o.raiseEvent("enter",{originalEvent:n.originalEvent})):n.buttonDownAny||t(o,e.ButtonState.HOVER)},focusHandler:function(e){o.tracker.enterHandler(e),o.raiseEvent("focus",{originalEvent:e.originalEvent})},leaveHandler:function(t){n(o,e.ButtonState.GROUP),t.insideElementPressed&&o.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){o.tracker.leaveHandler(e),o.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(n){t(o,e.ButtonState.DOWN),o.raiseEvent("press",{originalEvent:n.originalEvent})},releaseHandler:function(i){i.insideElementPressed&&i.insideElementReleased?(n(o,e.ButtonState.HOVER),o.raiseEvent("release",{originalEvent:i.originalEvent})):i.insideElementPressed?n(o,e.ButtonState.GROUP):t(o,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&o.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){13===e.keyCode?(o.raiseEvent("click",{originalEvent:e.originalEvent}),o.raiseEvent("release",{originalEvent:e.originalEvent}),e.preventDefault=!0):e.preventDefault=!1}}),n(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){t(this,e.ButtonState.GROUP)},notifyGroupExit:function(){n(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,this.tracker.setTracking(!1),e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,this.tracker.setTracking(!0),e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}})}(s1),s1.ButtonGroup=function(e){s1.extend(!0,this,{buttons:[],clickTimeThreshold:s1.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:s1.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var t,n=this.buttons.concat([]),i=this;if(this.element=e.element||s1.makeNeutralElement("div"),!e.group)for(t=0,this.element.style.display="inline-block";t<n.length;t++)this.element.appendChild(n[t].element);s1.setElementTouchActionNone(this.element),this.tracker=new s1.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},leaveHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},s1.ButtonGroup.prototype={addButton:function(e){this.buttons.push(e),this.element.appendChild(e.element)},emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var e=this.buttons.pop();this.element.removeChild(e.element),e.destroy()}this.tracker.destroy(),this.element=null}},s1.Rect=function(e,t,n,i,o){var a,s;this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.width="number"==typeof n?n:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=s1.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},s1.Rect.fromSummits=function(e,t,n){var i=e.distanceTo(t),o=e.distanceTo(n),a=t.minus(e),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new s1.Rect(e.x,e.y,i,o,s/Math.PI*180)},s1.Rect.prototype={clone:function(){return new s1.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new s1.Point(this.x,this.y)},getBottomRight:function(){return new s1.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new s1.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new s1.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new s1.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new s1.Point(this.width,this.height)},equals:function(e){return e instanceof s1.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new s1.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new s1.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var t=this.getBoundingBox(),n=e.getBoundingBox(),i=Math.min(t.x,n.x),o=Math.min(t.y,n.y),a=Math.max(t.x+t.width,n.x+n.width),s=Math.max(t.y+t.height,n.y+n.height);return new s1.Rect(i,o,a-i,s-o)},intersection:function(e){var t=[],n=this.getTopLeft();e.containsPoint(n,1e-10)&&t.push(n);var i=this.getTopRight();e.containsPoint(i,1e-10)&&t.push(i);var o=this.getBottomLeft();e.containsPoint(o,1e-10)&&t.push(o);var a=this.getBottomRight();e.containsPoint(a,1e-10)&&t.push(a);var s=e.getTopLeft();this.containsPoint(s,1e-10)&&t.push(s);var l=e.getTopRight();this.containsPoint(l,1e-10)&&t.push(l);var u=e.getBottomLeft();this.containsPoint(u,1e-10)&&t.push(u);var c=e.getBottomRight();this.containsPoint(c,1e-10)&&t.push(c);for(var d=this._getSegments(),p=e._getSegments(),h=0;h<d.length;h++)for(var f=d[h],g=0;g<p.length;g++){var m=p[g],v=function(e,t,n,i){var o=t.minus(e),a=i.minus(n),s=-a.x*o.y+o.x*a.y;if(0===s)return null;var l=(o.x*(e.y-n.y)-o.y*(e.x-n.x))/s,u=(a.x*(e.y-n.y)-a.y*(e.x-n.x))/s;return -1e-10<=l&&l<=.9999999999&&-1e-10<=u&&u<=.9999999999?new s1.Point(e.x+u*o.x,e.y+u*o.y):null}(f[0],f[1],m[0],m[1]);v&&t.push(v)}if(0===t.length)return null;for(var y=t[0].x,b=t[0].x,w=t[0].y,x=t[0].y,S=1;S<t.length;S++){var _=t[S];_.x<y&&(y=_.x),_.x>b&&(b=_.x),_.y<w&&(w=_.y),_.y>x&&(x=_.y)}return new s1.Rect(y,w,b-y,x-w)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[e,t],[t,i],[i,n],[n,e]]},rotate:function(e,t){if(0===(e=s1.positiveModulo(e,360)))return this.clone();t=t||this.getCenter();var n=this.getTopLeft().rotate(e,t),i=this.getTopRight().rotate(e,t).minus(n),o=Math.atan((i=i.apply(function(e){return 1e-15>Math.abs(e)?0:e})).y/i.x);return i.x<0?o+=Math.PI:i.y<0&&(o+=2*Math.PI),new s1.Rect(n.x,n.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(e.x,t.x,n.x,i.x),a=Math.max(e.x,t.x,n.x,i.x),s=Math.min(e.y,t.y,n.y,i.y),l=Math.max(e.y,t.y,n.y,i.y);return new s1.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),t=Math.floor(e.x),n=Math.floor(e.y),i=Math.ceil(e.width+e.x-t),o=Math.ceil(e.height+e.y-n);return new s1.Rect(t,n,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),i=this.getTopRight(),o=this.getBottomLeft(),a=i.minus(n),s=o.minus(n);return(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t&&(e.x-n.x)*s.x+(e.y-n.y)*s.y>=-t&&(e.x-o.x)*s.x+(e.y-o.y)*s.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}},function(e){var t={};function n(e){if(e.quick){var t;t="horizontal"===this.scroll?Math.floor(e.position.x/(this.panelWidth+4)):Math.floor(e.position.y/this.panelHeight),this.viewer.goToPage(t)}this.element.focus()}function i(t){if(this.dragging=!0,this.element){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),l=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?-t.delta.x>0?n>-(o-l.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",a(this,l.x,n+2*t.delta.x)):0>-t.delta.x&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",a(this,l.x,n+2*t.delta.x)):-t.delta.y>0?i>-(s-l.y)&&(this.element.style.marginTop=i+2*t.delta.y+"px",a(this,l.y,i+2*t.delta.y)):0>-t.delta.y&&i<0&&(this.element.style.marginTop=i+2*t.delta.y+"px",a(this,l.y,i+2*t.delta.y))}}function o(t){if(this.element){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),l=e.getElementSize(this.viewer.canvas);"horizontal"===this.scroll?t.scroll>0?n>-(o-l.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",a(this,l.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",a(this,l.x,n-60*t.scroll)):t.scroll<0?i>l.y-s&&(this.element.style.marginTop=i+60*t.scroll+"px",a(this,l.y,i+60*t.scroll)):t.scroll>0&&i<0&&(this.element.style.marginTop=i+60*t.scroll+"px",a(this,l.y,i+60*t.scroll)),t.preventDefault=!0}}function a(t,n,i){var o,a,s,l,u,c;for(a=Math.ceil(n/(o="horizontal"===t.scroll?t.panelWidth:t.panelHeight))+5,u=a=(a=(s=Math.ceil((Math.abs(i)+n)/o)+1)-a)<0?0:a;u<s&&u<t.panels.length;u++)if(!(c=t.panels[u]).activePanel){var d,p=t.viewer.tileSources[u];d=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,l=new e.Viewer({id:c.id,tileSources:[d],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:t.viewer.loadTilesWithAjax,ajaxHeaders:t.viewer.ajaxHeaders,drawer:"canvas"}),e.setElementPointerEventsNone(l.canvas),e.setElementPointerEventsNone(l.container),l.innerTracker.setTracking(!1),l.outerTracker.setTracking(!1),t.miniViewers[c.id]=l,c.activePanel=!0}}function s(e){var t=e.eventSource.element;"horizontal"===this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px"}function l(t){var n=t.eventSource.element;"horizontal"===this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px"}function u(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 38:case 39:o.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 40:case 37:o.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}function c(e){if(e.ctrl||e.alt||e.meta)e.preventDefault=!1;else switch(e.keyCode){case 61:case 48:case 119:case 87:case 100:o.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),e.preventDefault=!0;break;case 45:case 115:case 83:case 97:o.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),e.preventDefault=!0;break;default:e.preventDefault=!1}}e.ReferenceStrip=function(d){var p,h,f,g=d.viewer,m=e.getElementSize(g.element);for(d.id||(d.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=d.id,this.element.className="referencestrip"),d=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},d,{element:this.element}),e.extend(this,d),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,(h=this.element.style).marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=g,this.tracker=new e.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:e.delegate(this,n),dragHandler:e.delegate(this,i),scrollHandler:e.delegate(this,o),enterHandler:e.delegate(this,s),leaveHandler:e.delegate(this,l),keyDownHandler:e.delegate(this,u),keyHandler:e.delegate(this,c),preProcessEventHandler:function(e){"wheel"===e.eventType&&(e.preventDefault=!0)}}),d.width&&d.height?(this.element.style.width=d.width+"px",this.element.style.height=d.height+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"===d.scroll?(this.element.style.width=m.x*d.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.height=m.y*d.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=m.y*d.sizeRatio*g.tileSources.length+12*g.tileSources.length+"px",this.element.style.width=m.x*d.sizeRatio+"px",g.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=m.x*this.sizeRatio+8,this.panelHeight=m.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},f=0;f<g.tileSources.length;f++)(p=e.makeNeutralElement("div")).id=this.element.id+"-"+f,p.style.width=this.panelWidth+"px",p.style.height=this.panelHeight+"px",p.style.display="inline",p.style.float="left",p.style.cssFloat="left",p.style.padding="2px",e.setElementTouchActionNone(p),e.setElementPointerEventsNone(p),this.element.appendChild(p),p.activePanel=!1,this.panels.push(p);a(this,"vertical"===this.scroll?m.y:m.x,0),this.setFocus(0)},e.ReferenceStrip.prototype={setFocus:function(t){var n,i=this.element.querySelector("#"+this.element.id+"-"+t),o=e.getElementSize(this.viewer.canvas),l=Number(this.element.style.width.replace("px","")),u=Number(this.element.style.height.replace("px","")),c=-Number(this.element.style.marginLeft.replace("px","")),d=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"===this.scroll?(n=Number(t)*(this.panelWidth+3))>c+o.x-this.panelWidth?(n=Math.min(n,l-o.x),this.element.style.marginLeft=-n+"px",a(this,o.x,-n)):n<c&&(n=Math.max(0,n-o.x/2),this.element.style.marginLeft=-n+"px",a(this,o.x,-n)):(n=Number(t)*(this.panelHeight+3))>d+o.y-this.panelHeight?(n=Math.min(n,u-o.y),this.element.style.marginTop=-n+"px",a(this,o.y,-n)):n<d&&(n=Math.max(0,n-o.y/2),this.element.style.marginTop=-n+"px",a(this,o.y,-n)),this.currentPage=t,s.call(this,{eventSource:this.tracker}))},update:function(){return!!t[this.id].animating},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}}}(s1),s1.DisplayRect=function(e,t,n,i,o,a){s1.Rect.apply(this,[e,t,n,i]),this.minLevel=o,this.maxLevel=a},s1.extend(s1.DisplayRect.prototype,s1.Rect.prototype),s1.Spring=function(e){var t=arguments;"object"!=typeof e&&(e={initial:t.length&&"number"==typeof t[0]?t[0]:void 0,springStiffness:t.length>1?t[1].springStiffness:5,animationTime:t.length>1?t[1].animationTime:1.5}),s1.console.assert("number"==typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),s1.console.assert("number"==typeof e.animationTime&&e.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),s1.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:s1.now()},s1.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},s1.Spring.prototype={resetTo:function(e){s1.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=s1.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){s1.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(s1.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(s1.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){let e,t;if(this.current.time=s1.now(),this._exponential?(e=this.start._logValue,t=this.target._logValue):(e=this.start.value,t=this.target.value),this.current.time>=this.target.time)this.current.value=this.target.value;else{var n;let i=e+(t-e)*((1-Math.exp(-((n=this.springStiffness)*((this.current.time-this.start.time)/(this.target.time-this.start.time)))))/(1-Math.exp(-n)));this._exponential?this.current.value=Math.exp(i):this.current.value=i}return this.current.value!==this.target.value},isAtTargetValue:function(){return this.current.value===this.target.value}},s1.ImageJob=function(e){s1.extend(!0,this,{timeout:s1.DEFAULT_SETTINGS.timeout,jobId:null,tries:0},e),this.data=null,this.userData={},this.errorMsg=null},s1.ImageJob.prototype={start:function(){this.tries++;var e=this,t=this.abort;this.jobId=window.setTimeout(function(){e.finish(null,null,"Image load exceeded timeout ("+e.timeout+" ms)")},this.timeout),this.abort=function(){e.source.downloadTileAbort(e),"function"==typeof t&&t()},this.source.downloadTileStart(this)},finish:function(e,t,n){this.data=e,this.request=t,this.errorMsg=n,this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},s1.ImageLoader=function(e){s1.extend(!0,this,{jobLimit:s1.DEFAULT_SETTINGS.imageLoaderLimit,timeout:s1.DEFAULT_SETTINGS.timeout,jobQueue:[],failedTiles:[],jobsInProgress:0},e)},s1.ImageLoader.prototype={addJob:function(e){if(!e.source){s1.console.error("ImageLoader.prototype.addJob() requires [options.source]. TileSource since new API defines how images are fetched. Creating a dummy TileSource.");var t=s1.TileSource.prototype;e.source={downloadTileStart:t.downloadTileStart,downloadTileAbort:t.downloadTileAbort}}var n=this,i={src:e.src,tile:e.tile||{},source:e.source,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,postData:e.postData,callback:function(t){var i,o;i=e.callback,""!==t.errorMsg&&(null===t.data||void 0===t.data)&&t.tries<1+n.tileRetryMax&&n.failedTiles.push(t),n.jobsInProgress--,(!n.jobLimit||n.jobsInProgress<n.jobLimit)&&n.jobQueue.length>0&&((o=n.jobQueue.shift()).start(),n.jobsInProgress++),n.tileRetryMax>0&&0===n.jobQueue.length&&(!n.jobLimit||n.jobsInProgress<n.jobLimit)&&n.failedTiles.length>0&&(o=n.failedTiles.shift(),setTimeout(function(){o.start()},n.tileRetryDelay),n.jobsInProgress++),i(t.data,t.errorMsg,t.request)},abort:e.abort,timeout:this.timeout},o=new s1.ImageJob(i);!this.jobLimit||this.jobsInProgress<this.jobLimit?(o.start(),this.jobsInProgress++):this.jobQueue.push(o)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}},s1.Tile=function(e,t,n,i,o,a,s,l,u,c,d,p){this.level=e,this.x=t,this.y=n,this.bounds=i,this.positionedBounds=new s1.Rect(i.x,i.y,i.width,i.height),this.sourceBounds=c,this.exists=o,this._url=a,this.postData=d,this.context2D=s,this.loadWithAjax=l,this.ajaxHeaders=u,void 0===p&&(s1.console.warn("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),p=s1.TileSource.prototype.getTileHashKey(e,t,n,a,u,d)),this.cacheKey=p,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.hasTransparency=!1,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},s1.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return console.warn("Tile.prototype._hasTransparencyChannel() has been deprecated and will be removed in the future. Use TileSource.prototype.hasTransparency() instead."),!!this.context2D||this.getUrl().match(".png")},get image(){return s1.console.error("[Tile.image] property has been deprecated. Use [Tile.prototype.getImage] instead."),this.getImage()},get url(){return s1.console.error("[Tile.url] property has been deprecated. Use [Tile.prototype.getUrl] instead."),this.getUrl()},getImage:function(){return this.cacheImageRecord.getImage()},getUrl:function(){return"function"==typeof this._url?this._url():this._url},getCanvasContext:function(){return this.context2D||this.cacheImageRecord&&this.cacheImageRecord.getRenderedContext()},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return s1.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*s1.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,t,n){var i=Math.max(1,Math.ceil((n.x-t.x)/2)),o=Math.max(1,Math.ceil((n.y-t.y)/2));return new s1.Point(i,o).minus(this.position.times(s1.pixelDensityRatio).times(e||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}},s1.OverlayPlacement=s1.Placement,s1.OverlayRotationMode=s1.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),s1.Overlay=function(e,t,n){var i;i=s1.isPlainObject(e)?e:{element:e,location:t,placement:n},this.element=i.element,this.element.innerHTML="<div>"+this.element.innerHTML+"</div>",this.style=i.element.style,this._init(i)},s1.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?s1.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||s1.OverlayRotationMode.EXACT,this.location instanceof s1.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=s1.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new s1.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,t){var n=s1.Placement.properties[this.placement];n&&(n.isHorizontallyCentered?e.x-=t.x/2:n.isRight&&(e.x-=t.x),n.isVerticallyCentered?e.y-=t.y/2:n.isBottom&&(e.y-=t.y))},destroy:function(){var e=this.element,t=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(t.display="none",document.body.appendChild(e))),this.onDraw=null,t.top="",t.left="",t.position="",null!==this.width&&(t.width=""),null!==this.height&&(t.height="");var n=s1.getCssPropertyWithVendorPrefix("transformOrigin"),i=s1.getCssPropertyWithVendorPrefix("transform");n&&i&&(t[n]="",t[i]="")},drawHTML:function(e,t){var n=this.element;n.parentNode!==e&&(n.prevElementParent=n.parentNode,n.prevNextSibling=n.nextSibling,e.appendChild(n),this.style.position="absolute",this.size=s1.getElementSize(n));var i=this._getOverlayPositionAndSize(t),o=i.position,a=this.size=i.size,s="";t.overlayPreserveContentDirection&&(s=t.flipped?" scaleX(-1)":" scaleX(1)");var l=t.flipped?-i.rotate:i.rotate,u=t.flipped?" scaleX(-1)":"";if(this.onDraw)this.onDraw(o,a,this.element);else{var c=this.style,d=n.firstChild.style;c.left=o.x+"px",c.top=o.y+"px",null!==this.width&&(c.width=a.x+"px"),null!==this.height&&(c.height=a.y+"px");var p=s1.getCssPropertyWithVendorPrefix("transformOrigin"),h=s1.getCssPropertyWithVendorPrefix("transform");p&&h&&(l&&!t.flipped?(d[h]="",c[p]=this._getTransformOrigin(),c[h]="rotate("+l+"deg)"):!l&&t.flipped?(d[h]=s,c[p]=this._getTransformOrigin(),c[h]=u):l&&t.flipped?(d[h]=s,c[p]=this._getTransformOrigin(),c[h]="rotate("+l+"deg)"+u):(d[h]="",c[p]="",c[h]="")),c.display="block"}},_getOverlayPositionAndSize:function(e){var t=e.pixelFromPoint(this.location,!0),n=this._getSizeInPixels(e);this.adjust(t,n);var i=0;if(e.getRotation(!0)&&this.rotationMode!==s1.OverlayRotationMode.NO_ROTATION){if(this.rotationMode===s1.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new s1.Rect(t.x,t.y,n.x,n.y),a=this._getBoundingBox(o,e.getRotation(!0));t=a.getTopLeft(),n=a.getSize()}else i=e.getRotation(!0)}return e.flipped&&(t.x=e.getContainerSize().x-t.x),{position:t,size:n,rotate:i}},_getSizeInPixels:function(e){var t=this.size.x,n=this.size.y;if(null!==this.width||null!==this.height){var i=e.deltaPixelsFromPointsNoRotate(new s1.Point(this.width||0,this.height||0),!0);null!==this.width&&(t=i.x),null!==this.height&&(n=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=s1.getElementSize(this.element);null===this.width&&(t=o.x),null===this.height&&(n=o.y)}return new s1.Point(t,n)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(e){var t=new s1.Point(e.x,e.y),n=s1.Placement.properties[this.placement];return n&&(n.isHorizontallyCentered?t.x+=e.width/2:n.isRight&&(t.x+=e.width),n.isVerticallyCentered?t.y+=e.height/2:n.isBottom&&(t.y+=e.height)),t},_getTransformOrigin:function(){var e="",t=s1.Placement.properties[this.placement];return t&&(t.isLeft?e="left":t.isRight&&(e="right"),t.isTop?e+=" top":t.isBottom&&(e+=" bottom")),e},update:function(e,t){var n=s1.isPlainObject(e)?e:{location:e,placement:t};this._init({location:n.location||this.location,placement:void 0!==n.placement?n.placement:this.placement,onDraw:n.onDraw||this.onDraw,checkResize:n.checkResize||this.checkResize,width:void 0!==n.width?n.width:this.width,height:void 0!==n.height?n.height:this.height,rotationMode:n.rotationMode||this.rotationMode})},getBounds:function(e){s1.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var t=this.width,n=this.height;if(null===t||null===n){var i=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===t&&(t=i.x),null===n&&(n=i.y)}var o=this.location.clone();return this.adjust(o,new s1.Point(t,n)),this._adjustBoundsForRotation(e,new s1.Rect(o.x,o.y,t,n))},_adjustBoundsForRotation:function(e,t){if(!e||0===e.getRotation(!0)||this.rotationMode===s1.OverlayRotationMode.EXACT)return t;if(this.rotationMode===s1.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return t;var n=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new s1.Rect(n.position.x,n.position.y,n.size.x,n.size.y))}return t.rotate(-e.getRotation(!0),this._getPlacementPoint(t))}},s1.DrawerBase=class{constructor(e){s1.console.assert(e.viewer,"[Drawer] options.viewer is required"),s1.console.assert(e.viewport,"[Drawer] options.viewport is required"),s1.console.assert(e.element,"[Drawer] options.element is required"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"==typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||s1.DEFAULT_SETTINGS.debugGridColor,this.options=e.options||{},this.container=s1.getElement(e.element),this._renderingTarget=this._createDrawingElement(),this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",this.canvas.style.left="0",s1.setElementOpacity(this.canvas,this.viewer.opacity,!0),s1.setElementPointerEventsNone(this.canvas),s1.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._checkForAPIOverrides()}get canvas(){return this._renderingTarget}get element(){return s1.console.error("Drawer.element is deprecated. Use Drawer.container instead."),this.container}getType(){s1.console.error("Drawer.getType must be implemented by child class")}static isSupported(){s1.console.error("Drawer.isSupported must be implemented by child class")}_createDrawingElement(){return s1.console.error("Drawer._createDrawingElement must be implemented by child class"),null}draw(e){s1.console.error("Drawer.draw must be implemented by child class")}canRotate(){s1.console.error("Drawer.canRotate must be implemented by child class")}destroy(){s1.console.error("Drawer.destroy must be implemented by child class")}minimumOverlapRequired(e){return!1}setImageSmoothingEnabled(e){s1.console.error("Drawer.setImageSmoothingEnabled must be implemented by child class")}drawDebuggingRect(e){s1.console.warn("[drawer].drawDebuggingRect is not implemented by this drawer")}clear(){s1.console.warn("[drawer].clear() is deprecated. The drawer is responsible for clearing itself as needed before drawing tiles.")}_checkForAPIOverrides(){if(this._createDrawingElement===s1.DrawerBase.prototype._createDrawingElement)throw Error("[drawer]._createDrawingElement must be implemented by child class");if(this.draw===s1.DrawerBase.prototype.draw)throw Error("[drawer].draw must be implemented by child class");if(this.canRotate===s1.DrawerBase.prototype.canRotate)throw Error("[drawer].canRotate must be implemented by child class");if(this.destroy===s1.DrawerBase.prototype.destroy)throw Error("[drawer].destroy must be implemented by child class");if(this.setImageSmoothingEnabled===s1.DrawerBase.prototype.setImageSmoothingEnabled)throw Error("[drawer].setImageSmoothingEnabled must be implemented by child class")}viewportToDrawerRectangle(e){var t=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new s1.Rect(t.x*s1.pixelDensityRatio,t.y*s1.pixelDensityRatio,n.x*s1.pixelDensityRatio,n.y*s1.pixelDensityRatio)}viewportCoordToDrawerCoord(e){var t=this.viewport.pixelFromPointNoRotate(e,!0);return new s1.Point(t.x*s1.pixelDensityRatio,t.y*s1.pixelDensityRatio)}_calculateCanvasSize(){var e=s1.pixelDensityRatio,t=this.viewport.getContainerSize();return new s1.Point(Math.round(t.x*e),Math.round(t.y*e))}_raiseTiledImageDrawnEvent(e,t){this.viewer&&this.viewer.raiseEvent("tiled-image-drawn",{tiledImage:e,tiles:t})}_raiseDrawerErrorEvent(e,t){this.viewer&&this.viewer.raiseEvent("drawer-error",{tiledImage:e,drawer:this,error:t})}},function(e){let t=e;class n extends t.DrawerBase{constructor(e){super(e),this.viewer.rejectEventHandler("tile-drawing","The HTMLDrawer does not raise the tile-drawing event"),this.viewer.allowEventHandler("tile-drawn")}static isSupported(){return!0}getType(){return"html"}minimumOverlapRequired(e){return!0}_createDrawingElement(){return e.makeNeutralElement("div")}draw(e){var t=this;this._prepareNewFrame(),e.forEach(function(e){0!==e.opacity&&t._drawTiles(e)})}canRotate(){return!1}destroy(){this.container.removeChild(this.canvas)}setImageSmoothingEnabled(){}_prepareNewFrame(){this.canvas.innerHTML=""}_drawTiles(e){var t=e.getTilesToDraw().map(e=>e.tile);if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle))for(var n=t.length-1;n>=0;n--){var i=t[n];this._drawTile(i),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:i})}}_drawTile(t){e.console.assert(t,"[Drawer._drawTile] tile is required");let n=this.canvas;if(!t.cacheImageRecord){e.console.warn("[Drawer._drawTileToHTML] attempting to draw tile %s when it's not cached",t.toString());return}if(!t.loaded){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString());return}if(!t.element){var i=t.getImage();if(!i)return;t.element=e.makeNeutralElement("div"),t.imgElement=i.cloneNode(),t.imgElement.style.msInterpolationMode="nearest-neighbor",t.imgElement.style.width="100%",t.imgElement.style.height="100%",t.style=t.element.style,t.style.position="absolute"}t.element.parentNode!==n&&n.appendChild(t.element),t.imgElement.parentNode!==t.element&&t.element.appendChild(t.imgElement),t.style.top=t.position.y+"px",t.style.left=t.position.x+"px",t.style.height=t.size.y+"px",t.style.width=t.size.x+"px",t.flipped&&(t.style.transform="scaleX(-1)"),e.setElementOpacity(t.element,t.opacity)}}e.HTMLDrawer=n}(s1),function(e){let t=e;class n extends t.DrawerBase{constructor(e){super(e),this.context=this.canvas.getContext("2d"),this.sketchCanvas=null,this.sketchContext=null,this._imageSmoothingEnabled=!0,this.viewer.allowEventHandler("tile-drawn"),this.viewer.allowEventHandler("tile-drawing")}static isSupported(){return e.supportsCanvas}getType(){return"canvas"}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),n=this._calculateCanvasSize();return t.width=n.x,t.height=n.y,t}draw(e){for(let t of(this._prepareNewFrame(),this.viewer.viewport.getFlip()!==this._viewportFlipped&&this._flip(),e))0!==t.opacity&&this._drawTiles(t)}canRotate(){return!0}destroy(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null,this.container.removeChild(this.canvas)}minimumOverlapRequired(e){return!0}setImageSmoothingEnabled(e){this._imageSmoothingEnabled=!!e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw()}drawDebuggingRect(t){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}get _viewportFlipped(){return this.context.getTransform().a<0}_raiseTileDrawingEvent(e,t,n,i){this.viewer.raiseEvent("tile-drawing",{tiledImage:e,context:t,tile:n,rendered:i})}_prepareNewFrame(){var e=this._calculateCanvasSize();if((this.canvas.width!==e.x||this.canvas.height!==e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}_clear(e,t){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}_drawTiles(t){var n,a,s,l,u=t.getTilesToDraw().map(e=>e.tile);if(0!==t.opacity&&(0!==u.length||t.placeholderFillStyle)){var c=u[0];c&&(n=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&t.source.hasTransparency(c.context2D,c.getUrl(),c.ajaxHeaders,c.postData));var d=this.viewport.getZoom(!0),p=t.viewportToImageZoom(d);u.length>1&&p>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&(n=!0,a=c.getScaleForEdgeSmoothing(),s=c.getTranslationForEdgeSmoothing(a,this._getCanvasSize(!1),this._getCanvasSize(!0))),n&&(a||(l=(l=this.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox()).times(e.pixelDensityRatio)),this._clear(!0,l)),a||this._setRotations(t,n);var h=!1;if(t._clip){this._saveContext(n);var f=t.imageToViewportRectangle(t._clip,!0);f=f.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var g=this.viewportToDrawerRectangle(f);a&&(g=g.times(a)),s&&(g=g.translate(s)),this._setClip(g,n),h=!0}if(t._croppingPolygons){var m=this;h||this._saveContext(n);try{var v=t._croppingPolygons.map(function(e){return e.map(function(e){var n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(-t.getRotation(!0),t._getRotationPoint(!0)),i=m.viewportCoordToDrawerCoord(n);return a&&(i=i.times(a)),s&&(i=i.plus(s)),i})});this._clipWithPolygons(v,n)}catch(t){e.console.error(t)}h=!0}if(t._hasOpaqueTile=!1,t.placeholderFillStyle&&!1===t._hasOpaqueTile){let e=this.viewportToDrawerRectangle(t.getBoundsNoRotate(!0));a&&(e=e.times(a)),s&&(e=e.translate(s));let i=null;i="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,this.context):t.placeholderFillStyle,this._drawRectangle(e,i,n)}var y=function(t){if("number"==typeof t){return o(n=t)?i:n}if(!t||!e.Browser)return i;var n,a,s=t[e.Browser.vendor];return o(s)&&(s=t["*"]),o(a=s)?i:a}(t.subPixelRoundingForTransparency),b=!1;y===e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS?b=!0:y===e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&(b=!(this.viewer&&this.viewer.isAnimating()));for(var w=0;w<u.length;w++)c=u[w],this._drawTile(c,t,n,a,s,b,t.source),this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:c});h&&this._restoreContext(n),a||(t.getRotation(!0)%360!=0&&this._restoreRotationChanges(n),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(n)),n&&(a&&this._setRotations(t),this.blendSketch({opacity:t.opacity,scale:a,translate:s,compositeOperation:t.compositeOperation,bounds:l}),a&&(t.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(!1))),this._drawDebugInfo(t,u),this._raiseTiledImageDrawnEvent(t,u)}}_drawDebugInfo(t,n){if(t.debugMode)for(var i=n.length-1;i>=0;i--){var o=n[i];try{this._drawDebugInfoOnTile(o,n.length,i,t)}catch(t){e.console.error(t)}}}_clipWithPolygons(e,t){var n=this._getContext(t);for(let t of(n.beginPath(),e))for(let[e,i]of t.entries())n[0===e?"moveTo":"lineTo"](i.x,i.y);n.clip()}_drawTile(t,n,i,o,a,s,l){e.console.assert(t,"[Drawer._drawTile] tile is required"),e.console.assert(n,"[Drawer._drawTile] drawingHandler is required");var u=this._getContext(i);o=o||1,this._drawTileToCanvas(t,u,n,o,a,s,l)}_drawTileToCanvas(t,n,i,o,a,s,l){var u,c,d,p=t.position.times(e.pixelDensityRatio),h=t.size.times(e.pixelDensityRatio);if(!t.context2D&&!t.cacheImageRecord){e.console.warn("[Drawer._drawTileToCanvas] attempting to draw tile %s when it's not cached",t.toString());return}if(d=t.getCanvasContext(),!t.loaded||!d){e.console.warn("Attempting to draw tile %s when it's not yet loaded.",t.toString());return}n.save(),"number"==typeof o&&1!==o&&(p=p.times(o),h=h.times(o)),a instanceof e.Point&&(p=p.plus(a)),1===n.globalAlpha&&t.hasTransparency&&(s&&(p.x=Math.round(p.x),p.y=Math.round(p.y),h.x=Math.round(h.x),h.y=Math.round(h.y)),n.clearRect(p.x,p.y,h.x,h.y)),this._raiseTileDrawingEvent(i,n,t,d),t.sourceBounds?(u=Math.min(t.sourceBounds.width,d.canvas.width),c=Math.min(t.sourceBounds.height,d.canvas.height)):(u=d.canvas.width,c=d.canvas.height),n.translate(p.x+h.x/2,0),t.flipped&&n.scale(-1,1),n.drawImage(d.canvas,0,0,u,c,-h.x/2,p.y,h.x,h.y),n.restore()}_getContext(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function e(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",e);var t=i._calculateSketchCanvasSize();i.sketchCanvas.width=t.x,i.sketchCanvas.height=t.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t}_saveContext(e){this._getContext(e).save()}_restoreContext(e){this._getContext(e).restore()}_setClip(e,t){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}_drawRectangle(e,t,n){var i=this._getContext(n);i.save(),i.fillStyle=t,i.fillRect(e.x,e.y,e.width,e.height),i.restore()}blendSketch(t,n,i,o){var a=t;e.isPlainObject(a)||(a={opacity:t,scale:n,translate:i,compositeOperation:o}),t=a.opacity,o=a.compositeOperation;var s=a.bounds;if(this.context.save(),this.context.globalAlpha=t,o&&(this.context.globalCompositeOperation=o),s)s.x<0&&(s.width+=s.x,s.x=0),s.x+s.width>this.canvas.width&&(s.width=this.canvas.width-s.x),s.y<0&&(s.height+=s.y,s.y=0),s.y+s.height>this.canvas.height&&(s.height=this.canvas.height-s.y),this.context.drawImage(this.sketchCanvas,s.x,s.y,s.width,s.height,s.x,s.y,s.width,s.height);else{n=a.scale||1;var l=(i=a.translate)instanceof e.Point?i:new e.Point(0,0),u=0,c=0;if(i){var d=this.sketchCanvas.width-this.canvas.width,p=this.sketchCanvas.height-this.canvas.height;u=Math.round(d/2),c=Math.round(p/2)}this.context.drawImage(this.sketchCanvas,l.x-u*n,l.y-c*n,(this.canvas.width+2*u)*n,(this.canvas.height+2*c)*n,-u,-c,this.canvas.width+2*u,this.canvas.height+2*c)}this.context.restore()}_drawDebugInfoOnTile(t,n,i,o){var a=this.viewer.world.getIndexOfItem(o)%this.debugGridColor.length,s=this.context;s.save(),s.lineWidth=2*e.pixelDensityRatio,s.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",s.strokeStyle=this.debugGridColor[a],s.fillStyle=this.debugGridColor[a],this._setRotations(o),this._viewportFlipped&&this._flip({point:t.position.plus(t.size.divide(2))}),s.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var l=(t.position.x+t.size.x/2)*e.pixelDensityRatio,u=(t.position.y+t.size.y/2)*e.pixelDensityRatio;s.translate(l,u);let c=this.viewport.getRotation(!0);s.rotate(-(Math.PI/180*c)),s.translate(-l,-u),0===t.x&&0===t.y&&(s.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),s.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),s.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),s.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),s.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),s.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),s.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),s.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),o.getRotation(!0)%360!=0&&this._restoreRotationChanges(),s.restore()}_updateImageSmoothingEnabled(e){e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled}_getCanvasSize(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_setRotations(e,t=!1){var n=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),useSketch:t,saveContext:n}),n=!1),e.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:t,saveContext:n})}_offsetForRotation(t){var n=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),i=this._getContext(t.useSketch);i.save(),i.translate(n.x,n.y),i.rotate(Math.PI/180*t.degrees),i.translate(-n.x,-n.y)}_flip(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),i=this._getContext(t.useSketch);i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)}_restoreRotationChanges(e){this._getContext(e).restore()}_calculateCanvasSize(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*t),y:Math.round(n.y*t)}}_calculateSketchCanvasSize(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}e.CanvasDrawer=n;var i=e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function o(t){return t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&t!==e.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}}(s1),function(e){let t=e;t.WebGLDrawer=class extends t.DrawerBase{constructor(e){super(e),this._destroyed=!1,this._TextureMap=new Map,this._TileMap=new Map,this._gl=null,this._firstPass=null,this._secondPass=null,this._glFrameBuffer=null,this._renderToTexture=null,this._glFramebufferToCanvasTransform=null,this._outputCanvas=null,this._outputContext=null,this._clippingCanvas=null,this._clippingContext=null,this._renderingCanvas=null,this._backupCanvasDrawer=null,this._boundToTileReady=e=>this._tileReadyHandler(e),this._boundToImageUnloaded=e=>this._imageUnloadedHandler(e),this.viewer.addHandler("tile-ready",this._boundToTileReady),this.viewer.addHandler("image-unloaded",this._boundToImageUnloaded),this.viewer.rejectEventHandler("tile-drawn","The WebGLDrawer does not raise the tile-drawn event"),this.viewer.rejectEventHandler("tile-drawing","The WebGLDrawer does not raise the tile-drawing event"),this._setupCanvases(),this._setupRenderer(),this.context=this._outputContext}destroy(){if(this._destroyed)return;let e=this._gl;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);for(let n=0;n<t;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),Array.from(this._TextureMap.keys()).forEach(e=>{this._cleanupImageData(e)}),e.deleteBuffer(this._secondPass.bufferOutputPosition),e.deleteFramebuffer(this._glFrameBuffer),this._renderingCanvas.width=this._renderingCanvas.height=1,this._clippingCanvas.width=this._clippingCanvas.height=1,this._outputCanvas.width=this._outputCanvas.height=1,this._renderingCanvas=null,this._clippingCanvas=this._clippingContext=null,this._outputCanvas=this._outputContext=null;let n=e.getExtension("WEBGL_lose_context");n&&n.loseContext(),this.viewer.removeHandler("tile-ready",this._boundToTileReady),this.viewer.removeHandler("image-unloaded",this._boundToImageUnloaded),this._gl=null,this._backupCanvasDrawer&&(this._backupCanvasDrawer.destroy(),this._backupCanvasDrawer=null),this.container.removeChild(this.canvas),this.viewer.drawer===this&&(this.viewer.drawer=null),this._destroyed=!0}canRotate(){return!0}static isSupported(){let t=document.createElement("canvas"),n=e.isFunction(t.getContext)&&t.getContext("webgl"),i=n&&n.getExtension("WEBGL_lose_context");return i&&i.loseContext(),!!n}getType(){return"webgl"}minimumOverlapRequired(e){return e.isTainted()}_createDrawingElement(){let t=e.makeNeutralElement("canvas"),n=this._calculateCanvasSize();return t.width=n.x,t.height=n.y,t}_getBackupCanvasDrawer(){return this._backupCanvasDrawer||(this._backupCanvasDrawer=this.viewer.requestDrawer("canvas",{mainDrawer:!1}),this._backupCanvasDrawer.canvas.style.setProperty("visibility","hidden")),this._backupCanvasDrawer}draw(t){let n=this._gl,i={bounds:this.viewport.getBoundsNoRotate(!0),center:this.viewport.getCenter(!0),rotation:this.viewport.getRotation(!0)*Math.PI/180},o=this.viewport.flipped?-1:1,a=e.Mat3.makeTranslation(-i.center.x,-i.center.y),s=e.Mat3.makeScaling(2/i.bounds.width*o,-2/i.bounds.height),l=e.Mat3.makeRotation(-i.rotation),u=s.multiply(l).multiply(a);n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),this._outputContext.clearRect(0,0,this._outputCanvas.width,this._outputCanvas.height);let c=!1;t.forEach((t,i)=>{if(t.isTainted()){c&&(this._outputContext.drawImage(this._renderingCanvas,0,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),c=!1);let e=this._getBackupCanvasDrawer();e.draw([t]),this._outputContext.drawImage(e.canvas,0,0)}else{let o=t.getTilesToDraw();if(t.placeholderFillStyle&&!1===t._hasOpaqueTile&&this._drawPlaceholder(t),0===o.length||0===t.getOpacity())return;let a=o[0],s=t.compositeOperation||this.viewer.compositeOperation||t._clip||t._croppingPolygons||t.debugMode,l=s||t.opacity<1||a.hasTransparency;s&&(c&&this._outputContext.drawImage(this._renderingCanvas,0,0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT)),n.useProgram(this._firstPass.shaderProgram),l?(n.bindFramebuffer(n.FRAMEBUFFER,this._glFrameBuffer),n.clear(n.COLOR_BUFFER_BIT)):n.bindFramebuffer(n.FRAMEBUFFER,null);let d=u,p=t.getRotation(!0);if(p%360!=0){let n=e.Mat3.makeRotation(-p*Math.PI/180),i=t.getBoundsNoRotate(!0).getCenter(),o=e.Mat3.makeTranslation(i.x,i.y),a=e.Mat3.makeTranslation(-i.x,-i.y),s=o.multiply(n).multiply(a);d=u.multiply(s)}let h=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS);if(h<=0)throw Error(`WegGL error: bad value for gl parameter MAX_TEXTURE_IMAGE_UNITS (${h}). This could happen
                        if too many contexts have been created and not released, or there is another problem with the graphics card.`);let f=new Float32Array(12*h),g=Array(h),m=Array(h),v=Array(h);for(let e=0;e<o.length;e++){let i=o[e].tile,a=e%h,s=a+1,l=i.getCanvasContext(),u=l?this._TextureMap.get(l.canvas):null;if(u||(this._tileReadyHandler({tile:i,tiledImage:t}),u=l?this._TextureMap.get(l.canvas):null),u&&this._getTileData(i,t,u,d,a,f,g,m,v),s===h||e===o.length-1){for(let e=0;e<=s;e++)n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,g[e]);n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),n.bufferData(n.ARRAY_BUFFER,f,n.DYNAMIC_DRAW),m.forEach((e,t)=>{n.uniformMatrix3fv(this._firstPass.uTransformMatrices[t],!1,e)}),n.uniform1fv(this._firstPass.uOpacities,new Float32Array(v)),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),n.vertexAttribPointer(this._firstPass.aOutputPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),n.vertexAttribPointer(this._firstPass.aTexturePosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._firstPass.bufferIndex),n.vertexAttribPointer(this._firstPass.aIndex,1,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6*s)}}l&&(n.useProgram(this._secondPass.shaderProgram),n.bindFramebuffer(n.FRAMEBUFFER,null),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,this._renderToTexture),this._gl.uniform1f(this._secondPass.uOpacityMultiplier,t.opacity),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),n.vertexAttribPointer(this._secondPass.aTexturePosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),n.vertexAttribPointer(this._firstPass.aOutputPosition,2,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)),c=!0,s&&(this._applyContext2dPipeline(t,o,i),c=!1,n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT)),0===i&&this._raiseTiledImageDrawnEvent(t,o.map(e=>e.tile))}}),c&&this._outputContext.drawImage(this._renderingCanvas,0,0)}setImageSmoothingEnabled(e){}drawDebuggingRect(t){let n=this._outputContext;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}_getTextureDataFromTile(e){return e.getCanvasContext().canvas}_applyContext2dPipeline(e,t,n){if(this._outputContext.save(),this._outputContext.globalCompositeOperation=0===n?null:e.compositeOperation||this.viewer.compositeOperation,e._croppingPolygons||e._clip?(this._renderToClippingCanvas(e),this._outputContext.drawImage(this._clippingCanvas,0,0)):this._outputContext.drawImage(this._renderingCanvas,0,0),this._outputContext.restore(),e.debugMode){let n=this.viewer.viewport.getFlip();n&&this._flip(),this._drawDebugInfo(t,e,n),n&&this._flip()}}_getTileData(t,n,i,o,a,s,l,u,c){let d=i.texture,p=i.position;s.set(p,12*a);let h=this._calculateOverlapFraction(t,n),f=t.positionedBounds.width*h.x,g=t.positionedBounds.height*h.y,m=t.positionedBounds.x+(0===t.x?0:f),v=t.positionedBounds.y+(0===t.y?0:g),y=t.positionedBounds.x+t.positionedBounds.width-(t.isRightMost?0:f),b=t.positionedBounds.y+t.positionedBounds.height-(t.isBottomMost?0:g),w=new e.Mat3([y-m,0,0,0,b-v,0,m,v,1]);if(t.flipped){let t=e.Mat3.makeTranslation(.5,0),n=e.Mat3.makeTranslation(-.5,0),i=t.multiply(e.Mat3.makeScaling(-1,1)).multiply(n);w=w.multiply(i)}let x=o.multiply(w);c[a]=t.opacity,l[a]=d,u[a]=x.values}_setupRenderer(){let t=this._gl;t||e.console.error("_setupCanvases must be called before _setupRenderer"),this._unitQuad=this._makeQuadVertexBuffer(0,1,0,1),this._makeFirstPassShaderProgram(),this._makeSecondPassShaderProgram(),this._renderToTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this._renderToTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._renderingCanvas.width,this._renderingCanvas.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this._glFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._glFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._renderToTexture,0),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)}_makeFirstPassShaderProgram(){let e=this._glNumTextures=this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),t=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;
            attribute float a_index;

            ${[...Array(e).keys()].map(e=>`uniform mat3 u_matrix_${e};`).join("\n")} // create a uniform mat3 for each potential tile to draw

            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {

                mat3 transform_matrix; // value will be set by the if/elses in makeConditional()

                ${[...Array(e).keys()].map(e=>`${e>0?"else ":""}if(int(a_index) == ${e}) { transform_matrix = u_matrix_${e}; }`).join("\n")}

                gl_Position = vec4(transform_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
                v_image_index = a_index;
            }
            `,n=`
            precision mediump float;

            // our textures
            uniform sampler2D u_images[${e}];
            // our opacities
            uniform float u_opacities[${e}];

            // the varyings passed in from the vertex shader.
            varying vec2 v_texture_position;
            varying float v_image_index;

            void main() {
                // can't index directly with a variable, need to use a loop iterator hack
                for(int i = 0; i < ${e}; ++i){
                    if(i == int(v_image_index)){
                        gl_FragColor = texture2D(u_images[i], v_texture_position) * u_opacities[i];
                    }
                }
            }
            `,i=this._gl,o=this.constructor.initShaderProgram(i,t,n);i.useProgram(o),this._firstPass={shaderProgram:o,aOutputPosition:i.getAttribLocation(o,"a_output_position"),aTexturePosition:i.getAttribLocation(o,"a_texture_position"),aIndex:i.getAttribLocation(o,"a_index"),uTransformMatrices:[...Array(this._glNumTextures).keys()].map(e=>i.getUniformLocation(o,`u_matrix_${e}`)),uImages:i.getUniformLocation(o,"u_images"),uOpacities:i.getUniformLocation(o,"u_opacities"),bufferOutputPosition:i.createBuffer(),bufferTexturePosition:i.createBuffer(),bufferIndex:i.createBuffer()},i.uniform1iv(this._firstPass.uImages,[...Array(e).keys()]);let a=new Float32Array(12*e);for(let t=0;t<e;++t)a.set(Float32Array.from(this._unitQuad),12*t);i.bindBuffer(i.ARRAY_BUFFER,this._firstPass.bufferOutputPosition),i.bufferData(i.ARRAY_BUFFER,a,i.STATIC_DRAW),i.enableVertexAttribArray(this._firstPass.aOutputPosition),i.bindBuffer(i.ARRAY_BUFFER,this._firstPass.bufferTexturePosition),i.enableVertexAttribArray(this._firstPass.aTexturePosition),i.bindBuffer(i.ARRAY_BUFFER,this._firstPass.bufferIndex);let s=[...Array(this._glNumTextures).keys()].map(e=>Array(6).fill(e)).flat();i.bufferData(i.ARRAY_BUFFER,new Float32Array(s),i.STATIC_DRAW),i.enableVertexAttribArray(this._firstPass.aIndex)}_makeSecondPassShaderProgram(){let t=`
            attribute vec2 a_output_position;
            attribute vec2 a_texture_position;

            uniform mat3 u_matrix;

            varying vec2 v_texture_position;

            void main() {
                gl_Position = vec4(u_matrix * vec3(a_output_position, 1), 1);

                v_texture_position = a_texture_position;
            }
            `,n=`
            precision mediump float;

            // our texture
            uniform sampler2D u_image;

            // the texCoords passed in from the vertex shader.
            varying vec2 v_texture_position;

            // the opacity multiplier for the image
            uniform float u_opacity_multiplier;

            void main() {
                gl_FragColor = texture2D(u_image, v_texture_position);
                gl_FragColor *= u_opacity_multiplier;
            }
            `,i=this._gl,o=this.constructor.initShaderProgram(i,t,n);i.useProgram(o),this._secondPass={shaderProgram:o,aOutputPosition:i.getAttribLocation(o,"a_output_position"),aTexturePosition:i.getAttribLocation(o,"a_texture_position"),uMatrix:i.getUniformLocation(o,"u_matrix"),uImage:i.getUniformLocation(o,"u_image"),uOpacityMultiplier:i.getUniformLocation(o,"u_opacity_multiplier"),bufferOutputPosition:i.createBuffer(),bufferTexturePosition:i.createBuffer()},i.bindBuffer(i.ARRAY_BUFFER,this._secondPass.bufferOutputPosition),i.bufferData(i.ARRAY_BUFFER,this._unitQuad,i.STATIC_DRAW),i.enableVertexAttribArray(this._secondPass.aOutputPosition),i.bindBuffer(i.ARRAY_BUFFER,this._secondPass.bufferTexturePosition),i.bufferData(i.ARRAY_BUFFER,this._unitQuad,i.DYNAMIC_DRAW),i.enableVertexAttribArray(this._secondPass.aTexturePosition);let a=e.Mat3.makeScaling(2,2).multiply(e.Mat3.makeTranslation(-.5,-.5));i.uniformMatrix3fv(this._secondPass.uMatrix,!1,a.values)}_resizeRenderer(){let e=this._gl,t=this._renderingCanvas.width,n=this._renderingCanvas.height;e.viewport(0,0,t,n),e.deleteTexture(this._renderToTexture),this._renderToTexture=e.createTexture(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._renderToTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindFramebuffer(e.FRAMEBUFFER,this._glFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._renderToTexture,0)}_setupCanvases(){let e=this;this._outputCanvas=this.canvas,this._outputContext=this._outputCanvas.getContext("2d"),this._renderingCanvas=document.createElement("canvas"),this._clippingCanvas=document.createElement("canvas"),this._clippingContext=this._clippingCanvas.getContext("2d"),this._renderingCanvas.width=this._clippingCanvas.width=this._outputCanvas.width,this._renderingCanvas.height=this._clippingCanvas.height=this._outputCanvas.height,this._gl=this._renderingCanvas.getContext("webgl"),this.viewer.addHandler("resize",function(){e._outputCanvas!==e.viewer.drawer.canvas&&(e._outputCanvas.style.width=e.viewer.drawer.canvas.clientWidth+"px",e._outputCanvas.style.height=e.viewer.drawer.canvas.clientHeight+"px");let t=e._calculateCanvasSize();(e._outputCanvas.width!==t.x||e._outputCanvas.height!==t.y)&&(e._outputCanvas.width=t.x,e._outputCanvas.height=t.y),e._renderingCanvas.style.width=e._outputCanvas.clientWidth+"px",e._renderingCanvas.style.height=e._outputCanvas.clientHeight+"px",e._renderingCanvas.width=e._clippingCanvas.width=e._outputCanvas.width,e._renderingCanvas.height=e._clippingCanvas.height=e._outputCanvas.height,e._resizeRenderer()})}_makeQuadVertexBuffer(e,t,n,i){return new Float32Array([e,i,t,i,e,n,e,n,t,i,t,n])}_tileReadyHandler(t){let n=t.tile,i=t.tiledImage;if(i.isTainted())return;let o=n.getCanvasContext(),a=o&&o.canvas;if(!a||e.isCanvasTainted(a)){i.isTainted()||(i.setTainted(!0),e.console.warn("WebGL cannot be used to draw this TiledImage because it has tainted data. Does crossOriginPolicy need to be set?"),this._raiseDrawerErrorEvent(i,"Tainted data cannot be used by the WebGLDrawer. Falling back to CanvasDrawer for this TiledImage."));return}if(!this._TextureMap.get(a)){let e,t,s,l=this._gl,u=l.createTexture(),c=i.source.tileOverlap;if(n.sourceBounds?(t=Math.min(n.sourceBounds.width,a.width)/a.width,s=Math.min(n.sourceBounds.height,a.height)/a.height):(t=1,s=1),c>0){let o=this._calculateOverlapFraction(n,i),a=(0===n.x?0:o.x)*t,l=(0===n.y?0:o.y)*s,u=(n.isRightMost?1:1-o.x)*t,c=(n.isBottomMost?1:1-o.y)*s;e=this._makeQuadVertexBuffer(a,u,l,c)}else e=1===t&&1===s?this._unitQuad:this._makeQuadVertexBuffer(0,t,0,s);let d={texture:u,position:e};this._TextureMap.set(a,d),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.LINEAR),this._uploadImageData(o)}}_calculateOverlapFraction(e,t){let n=t.source.tileOverlap,i=e.sourceBounds.width,o=e.sourceBounds.height,a=(0===e.x?0:n)+(e.isRightMost?0:n),s=(0===e.y?0:n)+(e.isBottomMost?0:n);return{x:n/(i+a),y:n/(o+s)}}_uploadImageData(t){let n=this._gl,i=t.canvas;try{if(!i)throw t;n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i)}catch(t){e.console.error("Error uploading image data to WebGL",t)}}_imageUnloadedHandler(e){let t=e.context2D.canvas;this._cleanupImageData(t)}_cleanupImageData(e){let t=this._TextureMap.get(e);this._TextureMap.delete(e),t&&this._gl.deleteTexture(t.texture)}_setClip(){}_renderToClippingCanvas(t){if(this._clippingContext.clearRect(0,0,this._clippingCanvas.width,this._clippingCanvas.height),this._clippingContext.save(),this.viewer.viewport.getFlip()){let t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}if(t._clip){let e=[{x:t._clip.x,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y},{x:t._clip.x+t._clip.width,y:t._clip.y+t._clip.height},{x:t._clip.x,y:t._clip.y+t._clip.height}].map(e=>{let n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(n)});this._clippingContext.beginPath(),e.forEach((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)}),this._clippingContext.clip(),this._setClip()}if(t._croppingPolygons){let e=t._croppingPolygons.map(e=>e.map(e=>{let n=t.imageToViewportCoordinates(e.x,e.y,!0).rotate(this.viewer.viewport.getRotation(!0),this.viewer.viewport.getCenter(!0));return this.viewportCoordToDrawerCoord(n)}));this._clippingContext.beginPath(),e.forEach(e=>{e.forEach((e,t)=>{this._clippingContext[0===t?"moveTo":"lineTo"](e.x,e.y)})}),this._clippingContext.clip()}if(this.viewer.viewport.getFlip()){let t=new e.Point(this.canvas.width/2,this.canvas.height/2);this._clippingContext.translate(t.x,0),this._clippingContext.scale(-1,1),this._clippingContext.translate(-t.x,0)}this._clippingContext.drawImage(this._renderingCanvas,0,0),this._clippingContext.restore()}_setRotations(e){var t=!1;this.viewport.getRotation(!0)%360!=0&&(this._offsetForRotation({degrees:this.viewport.getRotation(!0),saveContext:t}),t=!1),e.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:e.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),saveContext:t})}_offsetForRotation(t){var n=t.point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),i=this._outputContext;i.save(),i.translate(n.x,n.y),i.rotate(Math.PI/180*t.degrees),i.translate(-n.x,-n.y)}_flip(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this._getCanvasCenter(),i=this._outputContext;i.translate(n.x,0),i.scale(-1,1),i.translate(-n.x,0)}_drawDebugInfo(t,n,i){for(var o=t.length-1;o>=0;o--){var a=t[o].tile;try{this._drawDebugInfoOnTile(a,t.length,o,n,i)}catch(t){e.console.error(t)}}}_drawDebugInfoOnTile(t,n,i,o,a){var s=this.viewer.world.getIndexOfItem(o)%this.debugGridColor.length,l=this.context;l.save(),l.lineWidth=2*e.pixelDensityRatio,l.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",l.strokeStyle=this.debugGridColor[s],l.fillStyle=this.debugGridColor[s],this._setRotations(o),a&&this._flip({point:t.position.plus(t.size.divide(2))}),l.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var u=(t.position.x+t.size.x/2)*e.pixelDensityRatio,c=(t.position.y+t.size.y/2)*e.pixelDensityRatio;l.translate(u,c);let d=this.viewport.getRotation(!0);l.rotate(-(Math.PI/180*d)),l.translate(-u,-c),0===t.x&&0===t.y&&(l.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),l.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),l.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),l.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),l.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),l.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),l.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),l.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),this.viewport.getRotation(!0)%360!=0&&this._restoreRotationChanges(),o.getRotation(!0)%360!=0&&this._restoreRotationChanges(),l.restore()}_drawPlaceholder(e){let t;let n=e.getBounds(!0),i=this.viewportToDrawerRectangle(e.getBounds(!0)),o=this._outputContext;t="function"==typeof e.placeholderFillStyle?e.placeholderFillStyle(e,o):e.placeholderFillStyle,this._offsetForRotation({degrees:this.viewer.viewport.getRotation(!0)}),o.fillStyle=t,o.translate(i.x,i.y),o.rotate(Math.PI/180*n.degrees),o.translate(-i.x,-i.y),o.fillRect(i.x,i.y,i.width,i.height),this._restoreRotationChanges()}_getCanvasCenter(){return new e.Point(this.canvas.width/2,this.canvas.height/2)}_restoreRotationChanges(){this._outputContext.restore()}static initShaderProgram(t,n,i){function o(t,n,i){let o=t.createShader(n);return(t.shaderSource(o,i),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS))?o:(e.console.error(`An error occurred compiling the shaders: ${t.getShaderInfoLog(o)}`),t.deleteShader(o),null)}let a=o(t,t.VERTEX_SHADER,n),s=o(t,t.FRAGMENT_SHADER,i),l=t.createProgram();return(t.attachShader(l,a),t.attachShader(l,s),t.linkProgram(l),t.getProgramParameter(l,t.LINK_STATUS))?l:(e.console.error(`Unable to initialize the shader program: ${t.getProgramInfoLog(l)}`),null)}}}(s1),s1.Viewport=function(e){var t=arguments;t.length&&t[0]instanceof s1.Point&&(e={containerSize:t[0],contentSize:t[1],config:t[2]}),e.config&&(s1.extend(!0,e,e.config),delete e.config),this._margins=s1.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,e.initialDegrees=e.degrees,delete e.degrees,s1.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,rotationPivot:null,viewer:null,springStiffness:s1.DEFAULT_SETTINGS.springStiffness,animationTime:s1.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:s1.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:s1.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:s1.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:s1.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:s1.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:s1.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:s1.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:s1.DEFAULT_SETTINGS.maxZoomLevel,initialDegrees:s1.DEFAULT_SETTINGS.degrees,flipped:s1.DEFAULT_SETTINGS.flipped,homeFillsViewer:s1.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:s1.DEFAULT_SETTINGS.silenceMultiImageWarnings},e),this._updateContainerInnerSize(),this.centerSpringX=new s1.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new s1.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new s1.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.degreesSpring=new s1.Spring({initial:e.initialDegrees,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,this._setContentBounds(new s1.Rect(0,0,1,1),1),this.goHome(!0),this.update()},s1.Viewport.prototype={get degrees(){return s1.console.warn("Accessing [Viewport.degrees] is deprecated. Use viewport.getRotation instead."),this.getRotation()},set degrees(degrees){s1.console.warn("Setting [Viewport.degrees] is deprecated. Use viewport.rotateTo, viewport.rotateBy, or viewport.setRotation instead."),this.rotateTo(degrees)},resetContentSize:function(e){return s1.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),s1.console.assert(e instanceof s1.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),s1.console.assert(e.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),s1.console.assert(e.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new s1.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,t){s1.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,t)},_setContentBounds:function(e,t){s1.console.assert(e,"[Viewport._setContentBounds] bounds is required"),s1.console.assert(e instanceof s1.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),s1.console.assert(e.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),s1.console.assert(e.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(t),this._contentBounds=e.rotate(this.getRotation()).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(t),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:t,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),t=1/this.getHomeZoom(),n=t/this.getAspectRatio();return new s1.Rect(e.x-t/2,e.y-n/2,t,n)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x/this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new s1.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return s1.extend({},this._margins)},setMargins:function(e){s1.console.assert("object"===s1.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=s1.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation(e))},getBoundsNoRotate:function(e){var t=this.getCenter(e),n=1/this.getZoom(e),i=n/this.getAspectRatio();return new s1.Rect(t.x-n/2,t.y-i/2,n,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(e),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(e){var t,n,i,o,a,s,l=new s1.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new s1.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?l:this.zoomPoint?(t=this.pixelFromPoint(this.zoomPoint,!0),o=(i=1/(n=this.getZoom()))/this.getAspectRatio(),a=new s1.Rect(l.x-i/2,l.y-o/2,i,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(t).rotate(-this.getRotation(!0)).divide(this._containerInnerSize.x*n),u.plus(s)):u},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=this.viewportToViewerElementRectangle(e).getBoundingBox(),n=this.viewportToViewerElementRectangle(this._contentBoundsNoRotate).getBoundingBox(),i=!1,o=!1;if(this.wrapHorizontal);else{var a,s,l,u=t.x+t.width,c=n.x+n.width;a=t.width>n.width?this.visibilityRatio*n.width:this.visibilityRatio*t.width,s=n.x-u+a,l=c-t.x-a,a>n.width?(t.x+=(s+l)/2,i=!0):l<0?(t.x+=l,i=!0):s>0&&(t.x+=s,i=!0)}if(this.wrapVertical);else{var d,p,h,f=t.y+t.height,g=n.y+n.height;d=t.height>n.height?this.visibilityRatio*n.height:this.visibilityRatio*t.height,p=n.y-f+d,h=g-t.y-d,d>n.height?(t.y+=(p+h)/2,o=!0):h<0?(t.y+=h,o=!0):p>0&&(t.y+=p,o=!0)}var m=i||o,v=m?this.viewerElementToViewportRectangle(t):e.clone();return v.xConstrained=i,v.yConstrained=o,v.constraintApplied=m,v},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var i=this.getConstrainedBounds(!1);return i.constraintApplied&&(this.fitBounds(i,e),this._raiseConstraintsEvent(e)),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(e,t){var n=(t=t||{}).immediately||!1,i=t.constraints||!1,o=this.getAspectRatio(),a=e.getCenter(),s=new s1.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(n)return this.panTo(a,!0),this.zoomTo(l,null,!0),i&&this.applyConstraints(!0),this;var u=this.getCenter(!0),c=this.getZoom(!0);this.panTo(u,!0),this.zoomTo(c,null,!0);var d=this.getBounds(),p=this.getZoom();if(0===p||1e-8>Math.abs(l/p-1))return this.zoomTo(l,null,!0),this.panTo(a,n),i&&this.applyConstraints(!1),this;if(i){this.panTo(a,!1),l=this._applyZoomConstraints(l),this.zoomTo(l,null,!1);var h=this.getConstrainedBounds();this.panTo(u,!0),this.zoomTo(c,null,!0),this.fitBounds(h)}else{var f=s.rotate(-this.getRotation()).getTopLeft().times(l).minus(d.getTopLeft().times(p)).divide(l-p);this.zoomTo(l,f,n)}return this},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(e){var t=new s1.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(t,e)},fitHorizontally:function(e){var t=new s1.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(t,e)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(e,t){var n=new s1.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(e),t)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(e,t,n){var i=this;return this.zoomPoint=t instanceof s1.Point&&!isNaN(t.x)&&!isNaN(t.y)?t:null,n?this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.resetTo(e)}):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:t,immediately:n}),this},setRotation:function(e,t){return this.rotateTo(e,null,t)},getRotation:function(e){return e?this.degreesSpring.current.value:this.degreesSpring.target.value},setRotationWithPivot:function(e,t,n){return this.rotateTo(e,t,n)},rotateTo:function(e,t,n){if(!this.viewer||!this.viewer.drawer.canRotate()||this.degreesSpring.target.value===e&&this.degreesSpring.isAtTargetValue())return this;if(this.rotationPivot=t instanceof s1.Point&&!isNaN(t.x)&&!isNaN(t.y)?t:null,n){if(this.rotationPivot){if(!(e-this._oldDegrees))return this.rotationPivot=null,this;this._rotateAboutPivot(e)}else this.degreesSpring.resetTo(e)}else{var i=s1.positiveModulo(this.degreesSpring.current.value,360),o=s1.positiveModulo(e,360),a=o-i;a>180?o-=360:a<-180&&(o+=360);var s=i-o;this.degreesSpring.resetTo(e+s),this.degreesSpring.springTo(e)}return this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e,immediately:!!n,pivot:this.rotationPivot||this.getCenter()}),this},rotateBy:function(e,t,n){return this.rotateTo(this.degreesSpring.target.value+e,t,n)},resize:function(e,t){var n,i=this.getBoundsNoRotate();this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=i.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t});var o=this.fitBounds(i,!0);return this.viewer&&this.viewer.raiseEvent("after-resize",{newContainerSize:e,maintain:t}),o},_updateContainerInnerSize:function(){this._containerInnerSize=new s1.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.degreesSpring.isAtTargetValue()&&(this.rotationPivot=null),this.centerSpringX.update(),this.centerSpringY.update(),this.rotationPivot?this._rotateAboutPivot(!0):this.degreesSpring.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom||this.degreesSpring.current.value!==this._oldDegrees;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._oldDegrees=this.degreesSpring.current.value,t||!this.zoomSpring.isAtTargetValue()||!this.centerSpringX.isAtTargetValue()||!this.centerSpringY.isAtTargetValue()||!this.degreesSpring.isAtTargetValue()},_rotateAboutPivot:function(e){var t=!0===e,n=this.rotationPivot.minus(this.getCenter());this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),t?this.degreesSpring.update():this.degreesSpring.resetTo(e);var i=this.degreesSpring.current.value-this._oldDegrees,o=n.rotate(-1*i).times(-1);this.centerSpringX.shiftBy(o.x),this.centerSpringY.shiftBy(o.y)},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation(t)),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation(t))},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(e,t){return e.minus(t.getTopLeft()).times(this._containerInnerSize.x/t.width).plus(new s1.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(!0),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(e,t){var n=this.getBoundsNoRotate(t);return e.minus(new s1.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(t),this.getCenter(t))},_viewportToImageDelta:function(e,t){var n=this._contentBoundsNoRotate.width;return new s1.Point(e*this._contentSizeNoRotate.x/n,t*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(e,t){if(e instanceof s1.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(e,t,!0)}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,t-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,t){var n=this._contentBoundsNoRotate.width;return new s1.Point(e/this._contentSizeNoRotate.x*n,t/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(e,t){if(e instanceof s1.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(e,t,!0)}var i=this._imageToViewportDelta(e,t);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(e,t,n,i){var o=e;if(o instanceof s1.Rect||(o=new s1.Rect(e,t,n,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).imageToViewportRectangle(e,t,n,i,!0)}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new s1.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(e,t,n,i){var o=e;if(o instanceof s1.Rect||(o=new s1.Rect(e,t,n,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a)return this.viewer.world.getItemAt(0).viewportToImageRectangle(e,t,n,i,!0)}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new s1.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){s1.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var t=e.minus(s1.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return s1.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(e).plus(s1.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(e){return s1.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return s1.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){s1.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var t=e.minus(s1.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(t)},viewportToWindowCoordinates:function(e){return s1.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(e).plus(s1.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(t>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===t)return this.viewer.world.getItemAt(0).viewportToImageZoom(e)}var n=this._contentSizeNoRotate.x;return this._containerInnerSize.x/n*this._contentBoundsNoRotate.width*e},imageToViewportZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(t>1)this.silenceMultiImageWarnings||s1.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image. Instead, use [TiledImage.imageToViewportZoom] for the specific image of interest");else if(1===t)return this.viewer.world.getItemAt(0).imageToViewportZoom(e)}return this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width*e},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e||(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e})),this},getMaxZoomPixelRatio:function(){return this.maxZoomPixelRatio},setMaxZoomPixelRatio:function(e,t=!0,n=!1){s1.console.assert(!isNaN(e),"[Viewport.setMaxZoomPixelRatio] ratio must be a number"),!isNaN(e)&&(this.maxZoomPixelRatio=e,t&&this.getZoom()>this.getMaxZoom()&&this.applyConstraints(n))}},s1.TiledImage=function(e){this._initialized=!1,s1.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),s1.console.assert(e.drawer,"[TiledImage] options.drawer is required"),s1.console.assert(e.viewer,"[TiledImage] options.viewer is required"),s1.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),s1.console.assert(e.source,"[TiledImage] options.source is required"),s1.console.assert(!e.clip||e.clip instanceof s1.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),s1.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof s1.Rect&&(this._clip=e.clip.clone()),delete e.clip;var t=e.x||0;delete e.x;var n=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var i=1;e.width?(i=e.width,delete e.width,e.height&&(s1.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(i=e.height/this.normHeight,delete e.height);var o=e.fitBounds;delete e.fitBounds;var a=e.fitBoundsPlacement||s1.Placement.CENTER;delete e.fitBoundsPlacement;var s=e.degrees||0;delete e.degrees;var l=e.ajaxHeaders;delete e.ajaxHeaders,s1.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_needsDraw:!0,_needsUpdate:!0,_hasOpaqueTile:!1,_tilesLoading:0,_tilesToDraw:[],_lastDrawn:[],_isBlending:!1,_wasBlending:!1,_isTainted:!1,springStiffness:s1.DEFAULT_SETTINGS.springStiffness,animationTime:s1.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:s1.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:s1.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:s1.DEFAULT_SETTINGS.wrapVertical,immediateRender:s1.DEFAULT_SETTINGS.immediateRender,blendTime:s1.DEFAULT_SETTINGS.blendTime,alwaysBlend:s1.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:s1.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:s1.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:s1.DEFAULT_SETTINGS.iOSDevice,debugMode:s1.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:s1.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:s1.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:s1.DEFAULT_SETTINGS.placeholderFillStyle,opacity:s1.DEFAULT_SETTINGS.opacity,preload:s1.DEFAULT_SETTINGS.preload,compositeOperation:s1.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:s1.DEFAULT_SETTINGS.subPixelRoundingForTransparency,maxTilesPerFrame:s1.DEFAULT_SETTINGS.maxTilesPerFrame},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new s1.Spring({initial:t,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new s1.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new s1.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new s1.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,a,!0),this._ownAjaxHeaders={},this.setAjaxHeaders(l,!1),this._initialized=!0},s1.extend(s1.TiledImage.prototype,s1.EventSource.prototype,{needsDraw:function(){return this._needsDraw},redraw:function(){this._needsDraw=!0},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=s1.now(),this._needsDraw=!0},update:function(e){let t=this._xSpring.update(),n=this._ySpring.update(),i=this._scaleSpring.update(),o=this._degreesSpring.update(),a=t||n||i||o||this._needsUpdate;if(a||e||!this._fullyLoaded){let e=this._updateLevelsForViewport();this._setFullyLoaded(e)}return this._needsUpdate=!1,!!a&&(this._updateForScale(),this._raiseBoundsChange(),this._needsDraw=!0,!0)},setDrawn:function(){return this._needsDraw=this._isBlending||this._wasBlending,this._needsDraw},setTainted(e){this._isTainted=e},isTainted(){return this._isTainted},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy(this.viewer)},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(e){return e?new s1.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new s1.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return s1.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var t=this.getBoundsNoRotate(e);if(this._clip){var n=(e?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(n);t=new s1.Rect(t.x+i.x,t.y+i.y,i.width,i.height)}return t.rotate(this.getRotation(e),this._getRotationPoint(e))},getTileBounds:function(e,t,n){var i=this.source.getNumTiles(e),o=(i.x+t%i.x)%i.x,a=(i.y+n%i.y)%i.y,s=this.source.getTileBounds(e,o,a);return this.getFlip()&&(s.x=Math.max(0,1-s.x-s.width)),s.x+=(t-o)/i.x,s.y+=this._worldHeightCurrent/this._worldWidthCurrent*((n-a)/i.y),s},getContentSize:function(){return new s1.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var e=this.imageToWindowCoordinates(new s1.Point(0,0)),t=this.imageToWindowCoordinates(this.getContentSize());return new s1.Point(t.x-e.x,t.y-e.y)},_viewportToImageDelta:function(e,t,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new s1.Point(e*(this.source.dimensions.x/i),t*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(e,t,n){var i;return e instanceof s1.Point?(n=t,i=e):i=new s1.Point(e,t),i=i.rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,t,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new s1.Point(e/this.source.dimensions.x*i,t/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(e,t,n){e instanceof s1.Point&&(n=t,t=e.y,e=e.x);var i=this._imageToViewportDelta(e,t,n);return n?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(e,t,n,i,o){var a=e;a instanceof s1.Rect?o=t:a=new s1.Rect(e,t,n,i);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new s1.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(e,t,n,i,o){var a=e;e instanceof s1.Rect?o=t:a=new s1.Rect(e,t,n,i);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new s1.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(s1.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(s1.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var t=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new s1.Rect((e.x-this._xSpring.current.value)/t,(e.y-this._ySpring.current.value)/t,e.width/t,e.height/t,e.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0,this._needsUpdate=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},setCroppingPolygons:function(e){try{if(!s1.isArray(e))throw Error("Provided cropping polygon is not an array");this._croppingPolygons=e.map(function(e){return e.map(function(e){try{if(e instanceof s1.Point||"number"==typeof e.x&&"number"==typeof e.y)return{x:e.x,y:e.y};throw Error()}catch(e){throw Error("A Provided cropping polygon point is not supported")}})}),this._needsDraw=!0}catch(e){s1.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),s1.console.error(e),this.resetCroppingPolygons()}},resetCroppingPolygons:function(){this._croppingPolygons=null,this._needsDraw=!0},fitBounds:function(e,t,n){t=t||s1.Placement.CENTER;var i=s1.Placement.properties[t],o=this.contentAspectX,a=0,s=0,l=1,u=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,u=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>o?(a=this._clip.x/this._clip.height*e.height,s=this._clip.y/this._clip.height*e.height):(a=this._clip.x/this._clip.width*e.width,s=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>o){var c=e.height/u,d=0;i.isHorizontallyCentered?d=(e.width-e.height*o)/2:i.isRight&&(d=e.width-e.height*o),this.setPosition(new s1.Point(e.x-a+d,e.y-s),n),this.setHeight(c,n)}else{var p=e.width/l,h=0;i.isVerticallyCentered?h=(e.height-e.width/o)/2:i.isBottom&&(h=e.height-e.width/o),this.setPosition(new s1.Point(e.x-a,e.y-s+h),n),this.setWidth(p,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){s1.console.assert(!e||e instanceof s1.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),e instanceof s1.Rect?this._clip=e.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return this.flipped},setFlip:function(e){this.flipped=e},get flipped(){return this._flipped},set flipped(flipped){let e=!!flipped!==this._flipped;this._flipped=!!flipped,e&&(this.update(!0),this._needsDraw=!0,this._raiseBoundsChange())},get wrapHorizontal(){return this._wrapHorizontal},set wrapHorizontal(wrap){let e=!!wrap!==this._wrapHorizontal;this._wrapHorizontal=!!wrap,this._initialized&&e&&(this.update(!0),this._needsDraw=!0)},get wrapVertical(){return this._wrapVertical},set wrapVertical(wrap){let e=!!wrap!==this._wrapVertical;this._wrapVertical=!!wrap,this._initialized&&e&&(this.update(!0),this._needsDraw=!0)},get debugMode(){return this._debugMode},set debugMode(debug){this._debugMode=!!debug,this._needsDraw=!0},getOpacity:function(){return this.opacity},setOpacity:function(e){this.opacity=e},get opacity(){return this._opacity},set opacity(opacity){if(opacity===this.opacity)return;this._opacity=opacity,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity})},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._needsUpdate=!0,this._raiseBoundsChange())},getDrawArea:function(){if(0===this._opacity&&!this._preload)return!1;var e=this._viewportToTiledImageRectangle(this.viewport.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var t=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));e=e.intersection(t)}return e},getTilesToDraw:function(){let e=this._tilesToDraw.flat();return this._updateTilesInViewport(e),(e=this._tilesToDraw.flat()).forEach(e=>{e.tile.beingDrawn=!0}),this._lastDrawn=e,e},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},get compositeOperation(){return this._compositeOperation},set compositeOperation(compositeOperation){if(compositeOperation===this._compositeOperation)return;this._compositeOperation=compositeOperation,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this._compositeOperation})},getCompositeOperation:function(){return this._compositeOperation},setCompositeOperation:function(e){this.compositeOperation=e},setAjaxHeaders:function(e,t){if(null===e&&(e={}),!s1.isPlainObject(e)){console.error("[TiledImage.setAjaxHeaders] Ignoring invalid headers, must be a plain object");return}this._ownAjaxHeaders=e,this._updateAjaxHeaders(t)},_updateAjaxHeaders:function(e){if(void 0===e&&(e=!0),s1.isPlainObject(this.viewer.ajaxHeaders)?this.ajaxHeaders=s1.extend({},this.viewer.ajaxHeaders,this._ownAjaxHeaders):this.ajaxHeaders=this._ownAjaxHeaders,e){var t,n,i,o;for(var a in this.tilesMatrix)for(var s in t=this.source.getNumTiles(a),this.tilesMatrix[a])for(var l in n=(t.x+s%t.x)%t.x,this.tilesMatrix[a][s])if(i=(t.y+l%t.y)%t.y,(o=this.tilesMatrix[a][s][l]).loadWithAjax=this.loadTilesWithAjax,o.loadWithAjax){var u=this.source.getTileAjaxHeaders(a,n,i);o.ajaxHeaders=s1.extend({},this.ajaxHeaders,u)}else o.ajaxHeaders=null;for(var c=0;c<this._imageLoader.jobQueue.length;c++){var d=this._imageLoader.jobQueue[c];d.loadWithAjax=d.tile.loadWithAjax,d.ajaxHeaders=d.tile.loadWithAjax?d.tile.ajaxHeaders:null}}},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0,this._needsUpdate=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return{lowestLevel:e=Math.min(e,n=Math.max(n,this.source.minLevel||0)),highestLevel:n}},_updateLevelsForViewport:function(){var e=this._getLevelsInterval(),t=e.lowestLevel,n=e.highestLevel,i=[],o=this.getDrawArea(),a=s1.now();if(this._lastDrawn.forEach(e=>{e.tile.beingDrawn=!1}),this._tilesToDraw=[],this._tilesLoading=0,this.loadingCoverage={},!o)return this._needsDraw=!1,this._fullyLoaded;var s=Array(n-t+1);for(let e=0,i=n;i>=t;i--,e++)s[e]=i;for(let e=n+1;e<=this.source.maxLevel;e++){var l=this.tilesMatrix[e]&&this.tilesMatrix[e][0]&&this.tilesMatrix[e][0][0];if(l&&l.isBottomMost&&l.isRightMost&&l.loaded){s.push(e);break}}let u=!1;for(let e=0;e<s.length;e++){let t=s[e];var c=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!0).x*this._scaleSpring.current.value;if(e===s.length-1||c>=this.minPixelRatio)u=!0;else if(!u)continue;var d=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(t),!1).x*this._scaleSpring.current.value,p=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,h=this.immediateRender?1:p,f=Math.min(1,(c-.5)/.5),g=h/Math.abs(h-d),m=this._updateLevel(t,f,g,o,a,i);i=m.bestTiles;var v=m.updatedTiles.filter(e=>e.loaded),y=function(e,t,n){return function(i){return{tile:i,level:e,levelOpacity:t,currentTime:n}}}(t,f,a);if(this._tilesToDraw[t]=v.map(y),this._providesCoverage(this.coverage,t))break}return i&&i.length>0?(i.forEach(function(e){e&&!e.context2D&&this._loadTile(e,a)},this),this._needsDraw=!0,!1):0===this._tilesLoading},_updateTilesInViewport:function(e){let t=s1.now(),n=this;this._tilesLoading=0,this._wasBlending=this._isBlending,this._isBlending=!1,this.loadingCoverage={};let i=e.length?e[0].level:0;if(!this.getDrawArea())return;let o=0;for(let a=0;a<e.length;a++){let s=e[a];(function(e){let o=e.tile;if(o&&o.loaded){let a=n._blendTile(o,o.x,o.y,e.level,e.levelOpacity,t,i);n._isBlending=n._isBlending||a,n._needsDraw=n._needsDraw||a||n._wasBlending}})(s),this._providesCoverage(this.coverage,s.level)&&(o=Math.max(o,s.level))}if(o>0)for(let e in this._tilesToDraw)e<o&&delete this._tilesToDraw[e]},_blendTile:function(e,t,n,i,o,a,s){let l=1e3*this.blendTime,u,c;return e.blendStart||(e.blendStart=a),u=a-e.blendStart,c=l?Math.min(1,u/l):1,i===s&&(c=1,u=l),this.alwaysBlend&&(c*=o),e.opacity=c,1===c&&(this._setCoverage(this.coverage,i,t,n,!0),this._hasOpaqueTile=!0),u<l},_updateLevel:function(e,t,n,i,o,a){var s=i.getBoundingBox().getTopLeft(),l=i.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:!0,level:e,opacity:t,visibility:n,drawArea:i,topleft:s,bottomright:l,currenttime:o,best:a}),this._resetCoverage(this.coverage,e),this._resetCoverage(this.loadingCoverage,e);var u=this._getCornerTiles(e,s,l),c=u.topLeft,d=u.bottomRight,p=this.source.getNumTiles(e),h=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(d.x+=1,this.wrapHorizontal||(d.x=Math.min(d.x,p.x-1)));for(var f=Array(Math.max(0,(d.x-c.x)*(d.y-c.y))),g=0,m=c.x;m<=d.x;m++)for(var v=c.y;v<=d.y;v++){if(this.getFlip()){var y,b=(p.x+m%p.x)%p.x;y=m+p.x-b-b-1}else y=m;if(null!==i.intersection(this.getTileBounds(e,y,v))){var w=this._updateTile(y,v,e,n,h,p,o,a);a=w.bestTiles,f[g]=w.tile,g+=1}}return{bestTiles:a,updatedTiles:f}},_positionTile:function(e,t,n,i,o){var a=e.bounds.getTopLeft();a.x*=this._scaleSpring.current.value,a.y*=this._scaleSpring.current.value,a.x+=this._xSpring.current.value,a.y+=this._ySpring.current.value;var s=e.bounds.getSize();s.x*=this._scaleSpring.current.value,s.y*=this._scaleSpring.current.value,e.positionedBounds.x=a.x,e.positionedBounds.y=a.y,e.positionedBounds.width=s.x,e.positionedBounds.height=s.y;var l=n.pixelFromPointNoRotate(a,!0),u=n.pixelFromPointNoRotate(a,!1),c=n.deltaPixelsFromPointsNoRotate(s,!0),d=n.deltaPixelsFromPointsNoRotate(s,!1),p=u.plus(d.divide(2)),h=i.squaredDistanceTo(p);this.viewer.drawer.minimumOverlapRequired(this)&&(t||(c=c.plus(new s1.Point(1,1))),e.isRightMost&&this.wrapHorizontal&&(c.x+=.75),e.isBottomMost&&this.wrapVertical&&(c.y+=.75)),e.position=l,e.size=c,e.squaredDistance=h,e.visibility=o},_updateTile:function(e,t,n,i,o,a,s,l){var u=this._getTile(e,t,n,s,a);this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:u}),this._setCoverage(this.coverage,n,e,t,!1);var c=u.loaded||u.loading||this._isCovered(this.loadingCoverage,n,e,t);if(this._setCoverage(this.loadingCoverage,n,e,t,c),!u.exists)return{bestTiles:l,tile:u};if(u.loaded&&1===u.opacity&&this._setCoverage(this.coverage,n,e,t,!0),this._positionTile(u,this.source.tileOverlap,this.viewport,o,i),!u.loaded){if(u.context2D)this._setTileLoaded(u);else{var d=this._tileCache.getImageRecord(u.cacheKey);d&&this._setTileLoaded(u,d.getData())}}return u.loading?this._tilesLoading++:c||(l=this._compareTiles(l,u,this.maxTilesPerFrame)),{bestTiles:l,tile:u}},_getCornerTiles:function(e,t,n){this.wrapHorizontal?(i=s1.positiveModulo(t.x,1),o=s1.positiveModulo(n.x,1)):(i=Math.max(0,t.x),o=Math.min(1,n.x));var i,o,a,s,l=1/this.source.aspectRatio;this.wrapVertical?(a=s1.positiveModulo(t.y,l),s=s1.positiveModulo(n.y,l)):(a=Math.max(0,t.y),s=Math.min(l,n.y));var u=this.source.getTileAtPoint(e,new s1.Point(i,a)),c=this.source.getTileAtPoint(e,new s1.Point(o,s)),d=this.source.getNumTiles(e);return this.wrapHorizontal&&(u.x+=d.x*Math.floor(t.x),c.x+=d.x*Math.floor(n.x)),this.wrapVertical&&(u.y+=d.y*Math.floor(t.y/l),c.y+=d.y*Math.floor(n.y/l)),{topLeft:u,bottomRight:c}},_getTile:function(e,t,n,i,o){var a,s,l,u,c,d,p,h,f,g,m=this.tilesMatrix,v=this.source;return m[n]||(m[n]={}),m[n][e]||(m[n][e]={}),m[n][e][t]&&!m[n][e][t].flipped==!this.flipped||(a=(o.x+e%o.x)%o.x,s=(o.y+t%o.y)%o.y,l=this.getTileBounds(n,e,t),u=v.getTileBounds(n,a,s,!0),c=v.tileExists(n,a,s),d=v.getTileUrl(n,a,s),p=v.getTilePostData(n,a,s),this.loadTilesWithAjax?(h=v.getTileAjaxHeaders(n,a,s),s1.isPlainObject(this.ajaxHeaders)&&(h=s1.extend({},this.ajaxHeaders,h))):h=null,f=v.getContext2D?v.getContext2D(n,a,s):void 0,g=new s1.Tile(n,e,t,l,c,d,f,this.loadTilesWithAjax,h,u,p,v.getTileHashKey(n,a,s,d,h,p)),this.getFlip()?0===a&&(g.isRightMost=!0):a===o.x-1&&(g.isRightMost=!0),s===o.y-1&&(g.isBottomMost=!0),g.flipped=this.flipped,m[n][e][t]=g),(g=m[n][e][t]).lastTouchTime=i,g},_loadTile:function(e,t){var n=this;e.loading=!0,this._imageLoader.addJob({src:e.getUrl(),tile:e,source:this.source,postData:e.postData,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(i,o,a){n._onTileLoad(e,t,i,o,a)},abort:function(){e.loading=!1}})},_onTileLoad:function(e,t,n,i,o){var a;if(n)e.exists=!0;else{s1.console.error("Tile %s failed to load: %s - error: %s",e,e.getUrl(),i),this.viewer.raiseEvent("tile-load-failed",{tile:e,tiledImage:this,time:t,message:i,tileRequest:o}),e.loading=!1,e.exists=!1;return}if(t<this.lastResetTime){s1.console.warn("Ignoring tile %s loaded before reset: %s",e,e.getUrl()),e.loading=!1;return}a=this.source.getClosestLevel(),this._setTileLoaded(e,n,a,o)},_setTileLoaded:function(e,t,n,i){var o=0,a=!1,s=this;function l(){return a&&s1.console.error("Event 'tile-loaded' argument getCompletionCallback must be called synchronously. Its return value should be called asynchronously."),o++,u}function u(){0==--o&&(e.loading=!1,e.loaded=!0,e.hasTransparency=s.source.hasTransparency(e.context2D,e.getUrl(),e.ajaxHeaders,e.postData),e.context2D||s._tileCache.cacheTile({data:t,tile:e,cutoff:n,tiledImage:s}),s.viewer.raiseEvent("tile-ready",{tile:e,tiledImage:s,tileRequest:i}),s._needsDraw=!0)}var c=l();this.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:this,tileRequest:i,get image(){return s1.console.error("[tile-loaded] event 'image' has been deprecated. Use 'data' property instead."),t},data:t,getCompletionCallback:l}),a=!0,c()},_compareTiles:function(e,t,n){return e?(e.push(t),this._sortTiles(e),e.length>n&&e.pop(),e):[t]},_sortTiles:function(e){e.sort(function(e,t){return null===e?1:null===t?-1:e.visibility===t.visibility?e.squaredDistance-t.squaredDistance:t.visibility-e.visibility})},_providesCoverage:function(e,t,n,i){var o,a,s,l;if(!e[t])return!1;if(void 0===n||void 0===i){for(s in o=e[t])if(Object.prototype.hasOwnProperty.call(o,s)){for(l in a=o[s])if(Object.prototype.hasOwnProperty.call(a,l)&&!a[l])return!1}return!0}return void 0===e[t][n]||void 0===e[t][n][i]||!0===e[t][n][i]},_isCovered:function(e,t,n,i){return void 0===n||void 0===i?this._providesCoverage(e,t+1):this._providesCoverage(e,t+1,2*n,2*i)&&this._providesCoverage(e,t+1,2*n,2*i+1)&&this._providesCoverage(e,t+1,2*n+1,2*i)&&this._providesCoverage(e,t+1,2*n+1,2*i+1)},_setCoverage:function(e,t,n,i,o){if(!e[t]){s1.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",t);return}e[t][n]||(e[t][n]={}),e[t][n][i]=o},_resetCoverage:function(e,t){e[t]={}}}),uP=function(e){s1.console.assert(e,"[TileCache.cacheTile] options is required"),s1.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),s1.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage},(uC=function(e){s1.console.assert(e,"[ImageRecord] options is required"),s1.console.assert(e.data,"[ImageRecord] options.data is required"),this._tiles=[],e.create.apply(null,[this,e.data,e.ownerTile]),this._destroyImplementation=e.destroy.bind(null,this),this.getImage=e.getImage.bind(null,this),this.getData=e.getData.bind(null,this),this.getRenderedContext=e.getRenderedContext.bind(null,this)}).prototype={destroy:function(){this._destroyImplementation(),this._tiles=null},addTile:function(e){s1.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var t=0;t<this._tiles.length;t++)if(this._tiles[t]===e){this._tiles.splice(t,1);return}s1.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},s1.TileCache=function(e){e=e||{},this._maxImageCacheCount=e.maxImageCacheCount||s1.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},s1.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(e){s1.console.assert(e,"[TileCache.cacheTile] options is required"),s1.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),s1.console.assert(e.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),s1.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var t=e.cutoff||0,n=this._tilesLoaded.length,i=this._imagesLoaded[e.tile.cacheKey];if(!i&&(e.data||(s1.console.error("[TileCache.cacheTile] options.image was renamed to options.data. '.image' attribute has been deprecated and will be removed in the future."),e.data=e.image),s1.console.assert(e.data,"[TileCache.cacheTile] options.data is required to create an ImageRecord"),i=this._imagesLoaded[e.tile.cacheKey]=new uC({data:e.data,ownerTile:e.tile,create:e.tiledImage.source.createTileCache,destroy:e.tiledImage.source.destroyTileCache,getImage:e.tiledImage.source.getTileCacheDataAsImage,getData:e.tiledImage.source.getTileCacheData,getRenderedContext:e.tiledImage.source.getTileCacheDataAsContext2D}),this._imagesLoadedCount++),i.addTile(e.tile),e.tile.cacheImageRecord=i,this._imagesLoadedCount>this._maxImageCacheCount){for(var o,a,s,l,u,c,d=null,p=-1,h=null,f=this._tilesLoaded.length-1;f>=0;f--)if(!((o=(c=this._tilesLoaded[f]).tile).level<=t)&&!o.beingDrawn){if(!d){d=o,p=f,h=c;continue}l=o.lastTouchTime,a=d.lastTouchTime,u=o.level,s=d.level,(l<a||l===a&&u>s)&&(d=o,p=f,h=c)}d&&p>=0&&(this._unloadTile(h),n=p)}this._tilesLoaded[n]=new uP({tile:e.tile,tiledImage:e.tiledImage})},clearTilesFor:function(e){s1.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var t,n=0;n<this._tilesLoaded.length;++n)(t=this._tilesLoaded[n]).tiledImage===e&&(this._unloadTile(t),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(e){return s1.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){s1.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var t=e.tile,n=e.tiledImage;let i=t.getCanvasContext&&t.getCanvasContext();t.unload(),t.cacheImageRecord=null;var o=this._imagesLoaded[t.cacheKey];o&&(o.removeTile(t),!o.getTileCount()&&(o.destroy(),delete this._imagesLoaded[t.cacheKey],this._imagesLoadedCount--,i&&(i.canvas.width=0,i.canvas.height=0,n.viewer.raiseEvent("image-unloaded",{context2D:i,tile:t}))),n.viewer.raiseEvent("tile-unloaded",{tile:t,tiledImage:n}))}},s1.World=function(e){var t=this;s1.console.assert(e.viewer,"[World] options.viewer is required"),s1.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){t._autoRefigureSizes?t._figureSizes():t._needsSizesFigured=!0},this._figureSizes()},s1.extend(s1.World.prototype,s1.EventSource.prototype,{addItem:function(e,t){if(s1.console.assert(e,"[World.addItem] item is required"),s1.console.assert(e instanceof s1.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(t=t||{}).index){var n=Math.max(0,Math.min(this._items.length,t.index));this._items.splice(n,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return s1.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return s1.console.assert(e,"[World.getIndexOfItem] item is required"),s1.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,t){s1.console.assert(e,"[World.setItemIndex] item is required"),s1.console.assert(void 0!==t,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(e);if(t>=this._items.length)throw Error("Index bigger than number of layers.");t!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(t,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:n,newIndex:t}))},removeItem:function(e){s1.console.assert(e,"[World.removeItem] item is required");var t=s1.indexOf(this._items,e);-1!==t&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(t,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var e,t,n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(e){for(var t=!1,n=0;n<this._items.length;n++)t=this._items[n].update(e)||t;return t},draw:function(){this.viewer.drawer.draw(this._items),this._needsDraw=!1,this._items.forEach(e=>{this._needsDraw=e.setDrawn()||this._needsDraw})},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){var t,n,i,o,a,s,l=(e=e||{}).immediately||!1,u=e.layout||s1.DEFAULT_SETTINGS.collectionLayout,c=e.rows||s1.DEFAULT_SETTINGS.collectionRows,d=e.columns||s1.DEFAULT_SETTINGS.collectionColumns,p=e.tileSize||s1.DEFAULT_SETTINGS.collectionTileSize,h=p+(e.tileMargin||s1.DEFAULT_SETTINGS.collectionTileMargin);t=!e.rows&&d?d:Math.ceil(this._items.length/c);var f=0,g=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%t==0&&("horizontal"===u?(g+=h,f=0):(f+=h,g=0)),a=(o=(i=(n=this._items[m]).getBounds()).width>i.height?p:p*(i.width/i.height))*(i.height/i.width),s=new s1.Point(f+(p-o)/2,g+(p-a)/2),n.setPosition(s,l),n.setWidth(o,l),"horizontal"===u?f+=h:g+=h;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,t=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,u=a.x+a.width,c=a.y+a.height,d=1;d<this._items.length;d++)o=(i=this._items[d]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),s=Math.min(s,(a=i.getClippedBounds().getBoundingBox()).x),l=Math.min(l,a.y),u=Math.max(u,a.x+a.width),c=Math.max(c,a.y+a.height);this._homeBounds=new s1.Rect(s,l,u-s,c-l),this._contentSize=new s1.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new s1.Rect(0,0,1,1),this._contentSize=new s1.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(e)&&this._contentSize.equals(t)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}});var s2=Object.defineProperty,s3=(e,t,n)=>t in e?s2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s5=(e,t,n)=>s3(e,"symbol"!=typeof t?t+"":t,n),s4=Object.prototype.hasOwnProperty;function s6(e,t){var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&s6(e[i],t[i]););return -1===i}if(!n||"object"==typeof e){for(n in i=0,e)if(s4.call(e,n)&&++i&&!s4.call(t,n)||!(n in t)||!s6(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!=e&&t!=t}for(var s8=((f=s8||{}).EDIT="EDIT",f.SELECT="SELECT",f.NONE="NONE",f),s9=[],s7=0;s7<256;++s7)s9.push((s7+256).toString(16).slice(1));new Uint8Array(16),"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const le=e=>{let t=e=>{let t={...e};return e.created&&"string"==typeof e.created&&(t.created=new Date(e.created)),e.updated&&"string"==typeof e.updated&&(t.updated=new Date(e.updated)),t};return{...e,bodies:(e.bodies||[]).map(t),target:t(e.target)}},lt=(e,t)=>{let n=new Set(e.bodies.map(e=>e.id));return t.bodies.filter(e=>!n.has(e.id))},lr=(e,t)=>{let n=new Set(t.bodies.map(e=>e.id));return e.bodies.filter(e=>!n.has(e.id))},ln=(e,t)=>t.bodies.map(t=>{let n=e.bodies.find(e=>e.id===t.id);return{newBody:t,oldBody:n&&!s6(n,t)?n:void 0}}).filter(({oldBody:e})=>e).map(({oldBody:e,newBody:t})=>({oldBody:e,newBody:t})),li=(e,t)=>!s6(e.target,t.target),lo=(e,t)=>{let n=lt(e,t),i=lr(e,t),o=ln(e,t);return{oldValue:e,newValue:t,bodiesCreated:n.length>0?n:void 0,bodiesDeleted:i.length>0?i:void 0,bodiesUpdated:o.length>0?o:void 0,targetUpdated:li(e,t)?{oldTarget:e.target,newTarget:t.target}:void 0}};var la=((g=la||{}).LOCAL="LOCAL",g.REMOTE="REMOTE",g.SILENT="SILENT",g);const ls=(e,t)=>{let n=new Set((e.created||[]).map(e=>e.id)),i=new Set((e.updated||[]).map(({newValue:e})=>e.id)),o=new Set((t.created||[]).map(e=>e.id)),a=new Set((t.deleted||[]).map(e=>e.id)),s=new Set((t.updated||[]).map(({oldValue:e})=>e.id)),l=new Set((t.updated||[]).filter(({oldValue:e})=>n.has(e.id)||i.has(e.id)).map(({oldValue:e})=>e.id));return{created:[...(e.created||[]).filter(e=>!a.has(e.id)).map(e=>s.has(e.id)?t.updated.find(({oldValue:t})=>t.id===e.id).newValue:e),...t.created||[]],deleted:[...(e.deleted||[]).filter(e=>!o.has(e.id)),...(t.deleted||[]).filter(e=>!n.has(e.id))],updated:[...(e.updated||[]).filter(({newValue:e})=>!a.has(e.id)).map(e=>{let{oldValue:n,newValue:i}=e;return s.has(i.id)?lo(n,t.updated.find(e=>e.oldValue.id===i.id).newValue):e}),...(t.updated||[]).filter(({oldValue:e})=>!l.has(e.id))]}};let ll=()=>({emit(e,...t){for(let n=0,i=this.events[e]||[],o=i.length;n<o;n++)i[n](...t)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var n;this.events[e]=null==(n=this.events[e])?void 0:n.filter(e=>t!==e)}}});const lu=e=>{let t=ll(),n=[],i=-1,o=!1,a=0,s=e=>{if(!o){let{changes:t}=e,o=performance.now();if(o-a>250)n.splice(i+1),n.push(t),i=n.length-1;else{let e=n.length-1;n[e]=ls(n[e],t)}a=o}o=!1};e.observe(s,{origin:la.LOCAL});let l=t=>t&&t.length>0&&e.bulkDeleteAnnotation(t),u=t=>t&&t.length>0&&e.bulkAddAnnotation(t,!1),c=t=>t&&t.length>0&&e.bulkUpdateAnnotation(t.map(({oldValue:e})=>e)),d=t=>t&&t.length>0&&e.bulkUpdateAnnotation(t.map(({newValue:e})=>e)),p=t=>t&&t.length>0&&e.bulkAddAnnotation(t,!1),h=t=>t&&t.length>0&&e.bulkDeleteAnnotation(t);return{canRedo:()=>n.length-1>i,canUndo:()=>i>-1,destroy:()=>e.unobserve(s),on:(e,n)=>t.on(e,n),redo:()=>{if(n.length-1>i){o=!0;let{created:e,updated:a,deleted:s}=n[i+1];u(e),d(a),h(s),t.emit("redo",n[i+1]),i+=1}},undo:()=>{if(i>-1){o=!0;let{created:e,updated:a,deleted:s}=n[i];l(e),c(a),p(s),t.emit("undo",n[i]),i-=1}}}},lc=(e,t,n,i)=>{let{hover:o,selection:a,store:s,viewport:l}=e,u=/* @__PURE__ */new Map,c=[],d,p,h=(e,t,i)=>{u.has(e)&&setTimeout(()=>{u.get(e).forEach(e=>{n?e(Array.isArray(t)?t.map(e=>n.serialize(e)):n.serialize(t),i?i instanceof PointerEvent?i:n.serialize(i):void 0):e(t,i)})},1)},f=()=>{let{selected:e}=a,t=(e||[]).map(({id:e})=>s.getAnnotation(e));t.forEach(e=>{let t=c.find(t=>t.id===e.id);t&&s6(t,e)||h("updateAnnotation",e,t)}),c=c.map(e=>t.find(({id:t})=>t===e.id)||e)};a.subscribe(({selected:e})=>{if(!(0===c.length&&0===e.length)){if(0===c.length&&e.length>0)c=e.map(({id:e})=>s.getAnnotation(e));else if(c.length>0&&0===e.length)c.forEach(e=>{let t=s.getAnnotation(e.id);t&&!s6(t,e)&&h("updateAnnotation",t,e)}),c=[];else{let t=new Set(c.map(e=>e.id)),n=new Set(e.map(({id:e})=>e));c.filter(e=>!n.has(e.id)).forEach(e=>{let t=s.getAnnotation(e.id);t&&!s6(t,e)&&h("updateAnnotation",t,e)}),c=[...c.filter(e=>n.has(e.id)),...e.filter(({id:e})=>!t.has(e)).map(({id:e})=>s.getAnnotation(e))]}h("selectionChanged",c)}}),o.subscribe(e=>{!d&&e?h("mouseEnterAnnotation",s.getAnnotation(e)):d&&!e?h("mouseLeaveAnnotation",s.getAnnotation(d)):d&&e&&(h("mouseLeaveAnnotation",s.getAnnotation(d)),h("mouseEnterAnnotation",s.getAnnotation(e))),d=e}),null==l||l.subscribe(e=>h("viewportIntersect",e.map(e=>s.getAnnotation(e)))),s.observe(e=>{i&&(p&&clearTimeout(p),p=setTimeout(f,1e3));let{created:t,deleted:n}=e.changes;(t||[]).forEach(e=>h("createAnnotation",e)),(n||[]).forEach(e=>h("deleteAnnotation",e)),(e.changes.updated||[]).filter(e=>[...e.bodiesCreated||[],...e.bodiesDeleted||[],...e.bodiesUpdated||[]].length>0).forEach(({oldValue:e,newValue:t})=>{let n=c.find(t=>t.id===e.id)||e;c=c.map(n=>n.id===e.id?t:n),h("updateAnnotation",t,n)})},{origin:la.LOCAL}),s.observe(e=>{if(c){let t=new Set(c.map(e=>e.id)),n=(e.changes.updated||[]).filter(({newValue:e})=>t.has(e.id)).map(({newValue:e})=>e);n.length>0&&(c=c.map(e=>n.find(t=>t.id===e.id)||e))}},{origin:la.REMOTE});let g=e=>t=>{let{updated:n}=t;e?(n||[]).forEach(e=>h("updateAnnotation",e.oldValue,e.newValue)):(n||[]).forEach(e=>h("updateAnnotation",e.newValue,e.oldValue))};return t.on("undo",g(!0)),t.on("redo",g(!1)),{on:(e,t)=>{u.has(e)?u.get(e).push(t):u.set(e,[t])},off:(e,t)=>{let n=u.get(e);if(n){let e=n.indexOf(t);-1!==e&&n.splice(e,1)}},emit:h}},ld=e=>t=>t.reduce((t,n)=>{let{parsed:i,error:o}=e.parse(n);return o?{parsed:t.parsed,failed:[...t.failed,n]}:i?{parsed:[...t.parsed,i],failed:t.failed}:{...t}},{parsed:[],failed:[]}),lp=(e,t,n)=>{let{store:i,selection:o}=e,a=(e,t=!0)=>{if(n){let{parsed:o,failed:a}=(n.parseAll||ld(n))(e);a.length>0&&console.warn(`Discarded ${a.length} invalid annotations`,a),i.bulkAddAnnotation(o,t,la.REMOTE)}else i.bulkAddAnnotation(e.map(le),t,la.REMOTE)};return{addAnnotation:e=>{if(n){let{parsed:t,error:o}=n.parse(e);t?i.addAnnotation(t,la.REMOTE):console.error(o)}else i.addAnnotation(le(e),la.REMOTE)},cancelSelected:()=>o.clear(),canRedo:t.canRedo,canUndo:t.canUndo,clearAnnotations:()=>i.clear(),getAnnotationById:e=>{let t=i.getAnnotation(e);return n&&t?n.serialize(t):t},getAnnotations:()=>n?i.all().map(n.serialize):i.all(),getSelected:()=>{var e;let t=((null==(e=o.selected)?void 0:e.map(e=>e.id))||[]).map(e=>i.getAnnotation(e)).filter(Boolean);return n?t.map(n.serialize):t},loadAnnotations:(e,t=!0)=>fetch(e).then(e=>e.json()).then(e=>(a(e,t),e)),redo:t.redo,removeAnnotation:e=>{if("string"==typeof e){let t=i.getAnnotation(e);if(i.deleteAnnotation(e),t)return n?n.serialize(t):t}else{let t=n?n.parse(e).parsed:e;if(t)return i.deleteAnnotation(t),e}},setAnnotations:a,setSelected:(e,t)=>{e?o.setSelected(e,t):o.clear()},setUserSelectAction:e=>{o.clear(),o.setUserSelectAction(e)},undo:t.undo,updateAnnotation:e=>{if(n){let t=n.parse(e).parsed,o=n.serialize(i.getAnnotation(t.id));return i.updateAnnotation(t),o}{let t=i.getAnnotation(e.id);return i.updateAnnotation(le(e)),t}}}};let lh=e=>crypto.getRandomValues(new Uint8Array(e)),lf=(e,t,n)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*i*t/e.length);return (a=t)=>{let s="";for(;;){let t=n(o),l=o;for(;l--;)if((s+=e[t[l]&i]||"").length===a)return s}}},lg=(e,t=21)=>lf(e,t,lh);const lm=()=>({isGuest:!0,id:lg("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_",20)()});((e=21)=>{let t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[e]]})();var lv=Object.defineProperty,ly=(e,t,n)=>t in e?lv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lb=(e,t,n)=>ly(e,"symbol"!=typeof t?t+"":t,n);function lw(){}function lx(e,t){for(let n in t)e[n]=t[n];return e}function lS(e){return e()}function l_(){return /* @__PURE__ */Object.create(null)}function lE(e){e.forEach(lS)}function lT(e){return"function"==typeof e}function lO(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function lI(e,t,n,i){return e[1]&&i?lx(n.ctx.slice(),e[1](i(t))):n.ctx}function lP(e){let t={};for(let n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function lC(e,t){e.appendChild(t)}function lA(e,t,n){e.insertBefore(t,n||null)}function lR(e){e.parentNode&&e.parentNode.removeChild(e)}function lk(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function lD(e){return document.createTextNode(e)}function lN(){return lD(" ")}function lM(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function lL(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function lj(e,t,n){e.classList.toggle(t,!!n)}function lF(){if(!e)throw Error("Function called outside component initialization");return e}function lB(e){lF().$$.on_mount.push(e)}function lz(){let e=lF();return(t,n,{cancelable:i=!1}={})=>{let o=e.$$.callbacks[t];if(o){let a=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}(t,n,{cancelable:i});return o.slice().forEach(t=>{t.call(e,a)}),!a.defaultPrevented}return!0}}function lU(e,t){let n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e.call(this,t))}const lW=[],lH=[];let lV=[];const lG=[],l$=/* @__PURE__ */Promise.resolve();let lq=!1;function lX(e){lV.push(e)}const lY=/* @__PURE__ */new Set;let lK=0;function lZ(){if(0!==lK)return;let t=e;do{try{for(;lK<lW.length;){let t=lW[lK];lK++,e=t,function(e){if(null!==e.fragment){e.update(),lE(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(lX)}}(t.$$)}}catch(e){throw lW.length=0,lK=0,e}for(e=null,lW.length=0,lK=0;lH.length;)lH.pop()();for(let e=0;e<lV.length;e+=1){let t=lV[e];lY.has(t)||(lY.add(t),t())}lV.length=0}while(lW.length)for(;lG.length;)lG.pop()();lq=!1,lY.clear(),e=t}const lJ=/* @__PURE__ */new Set;function lQ(e,t){e&&e.i&&(lJ.delete(e),e.i(t))}function l0(e,n,i,o){e&&e.o?lJ.has(e)||(lJ.add(e),t.c.push(()=>{lJ.delete(e),o&&(i&&e.d(1),o())}),e.o(n)):o&&o()}function l1(e){return(null==e?void 0:e.length)!==void 0?e:Array.from(e)}function l2(e){e&&e.c()}function l3(e,t,n){let{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),lX(()=>{let t=e.$$.on_mount.map(lS).filter(lT);e.$$.on_destroy?e.$$.on_destroy.push(...t):lE(t),e.$$.on_mount=[]}),o.forEach(lX)}function l5(e,t){let n=e.$$;null!==n.fragment&&(function(e){let t=[],n=[];lV.forEach(i=>-1===e.indexOf(i)?t.push(i):n.push(i)),n.forEach(e=>e()),lV=t}(n.after_update),lE(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function l4(t,n,i,o,a,s,l=null,u=[-1]){let c=e;e=t;let d=t.$$={fragment:null,ctx:[],props:s,update:lw,not_equal:a,bound:l_(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(c?c.$$.context:[])),callbacks:l_(),dirty:u,skip_bound:!1,root:n.target||c.$$.root};l&&l(d.root);let p=!1;if(d.ctx=i?i(t,n.props||{},(e,n,...i)=>{let o=i.length?i[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),p&&(-1===t.$$.dirty[0]&&(lW.push(t),lq||(lq=!0,l$.then(lZ)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31)),n}):[],d.update(),p=!0,lE(d.before_update),d.fragment=!!o&&o(d.ctx),n.target){if(n.hydrate){let e=Array.from(n.target.childNodes);d.fragment&&d.fragment.l(e),e.forEach(lR)}else d.fragment&&d.fragment.c();n.intro&&lQ(t.$$.fragment),l3(t,n.target,n.anchor),lZ()}e=c}class l6{constructor(){lb(this,"$$"),lb(this,"$$set")}$destroy(){l5(this,1),this.$destroy=lw}$on(e,t){if(!lT(t))return lw;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&0!==Object.keys(e).length&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"u">typeof window&&(window.__svelte||(window.__svelte={v:/* @__PURE__ */new Set})).v.add("4");var l8=((m=l8||{}).ELLIPSE="ELLIPSE",m.POLYGON="POLYGON",m.RECTANGLE="RECTANGLE",m);const l9={},l7=(e,t)=>l9[e]=t,ue=e=>l9[e.type].area(e),ut=(e,t,n)=>l9[e.type].intersects(e,t,n),ur=e=>{let t=1/0,n=1/0,i=-1/0,o=-1/0;return e.forEach(([e,a])=>{t=Math.min(t,e),n=Math.min(n,a),i=Math.max(i,e),o=Math.max(o,a)}),{minX:t,minY:n,maxX:i,maxY:o}};l7(l8.ELLIPSE,{area:e=>Math.PI*e.geometry.rx*e.geometry.ry,intersects:(e,t,n)=>{let{cx:i,cy:o,rx:a,ry:s}=e.geometry,l=t-i,u=n-o,c=1*l+0*u,d=0*l-1*u;return c*c/(a*a)+d*d/(s*s)<=1}}),l7(l8.POLYGON,{area:e=>{let{points:t}=e.geometry,n=0,i=t.length-1;for(let e=0;e<t.length;e++)n+=(t[i][0]+t[e][0])*(t[i][1]-t[e][1]),i=e;return Math.abs(.5*n)},intersects:(e,t,n)=>{let{points:i}=e.geometry,o=!1;for(let e=0,a=i.length-1;e<i.length;a=e++){let s=i[e][0],l=i[e][1],u=i[a][0],c=i[a][1];l>n!=c>n&&t<(u-s)*(n-l)/(c-l)+s&&(o=!o)}return o}}),l7(l8.RECTANGLE,{area:e=>e.geometry.w*e.geometry.h,intersects:(e,t,n)=>t>=e.geometry.x&&t<=e.geometry.x+e.geometry.w&&n>=e.geometry.y&&n<=e.geometry.y+e.geometry.h});const un=e=>ui(e.target),ui=e=>{var t,n;return(null==e?void 0:e.annotation)!==void 0&&(null==(n=null==(t=null==e?void 0:e.selector)?void 0:t.geometry)?void 0:n.bounds)!==void 0};for(var uo=[],ua=0;ua<256;++ua)uo.push((ua+256).toString(16).slice(1));new Uint8Array(16),"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var us=Object.prototype.hasOwnProperty;function ul(e,t){var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&ul(e[i],t[i]););return -1===i}if(!n||"object"==typeof e){for(n in i=0,e)if(us.call(e,n)&&++i&&!us.call(t,n)||!(n in t)||!ul(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!=e&&t!=t}function uu(){}const uc=[];function ud(e,t=uu){let n;let i=/* @__PURE__ */new Set;function o(t){var o;if(((o=e)!=o?t==t:o!==t||o&&"object"==typeof o||"function"==typeof o)&&(e=t,n)){let t=!uc.length;for(let t of i)t[1](),uc.push(t,e);if(t){for(let e=0;e<uc.length;e+=2)uc[e][0](uc[e+1]);uc.length=0}}}function a(t){o(t(e))}return{set:o,update:a,subscribe:function(s,l=uu){let u=[s,l];return i.add(u),1===i.size&&(n=t(o,a)||uu),s(e),()=>{i.delete(u),0===i.size&&n&&(n(),n=null)}}}}const up=e=>{let t;let{subscribe:n,set:i}=ud();return n(e=>t=e),e.observe(({changes:e})=>{if(t){(e.deleted||[]).some(e=>e.id===t)&&i(void 0);let n=(e.updated||[]).find(({oldValue:e})=>e.id===t);n&&i(n.newValue.id)}}),{get current(){return t},subscribe:n,set:i}};var uh=((v=uh||{}).EDIT="EDIT",v.SELECT="SELECT",v.NONE="NONE",v);const uf={selected:[]},ug=(e,t,n)=>{let{subscribe:i,set:o}=ud(uf),a=t,s=uf;i(e=>s=e);let l=()=>{var e;return(null==(e=s.selected)?void 0:e.length)===0},u=e=>{if(l())return!1;let{selected:t}=s;t.some(({id:t})=>e.includes(t))&&o({selected:t.filter(({id:t})=>!e.includes(t))})};return e.observe(({changes:e})=>u((e.deleted||[]).map(e=>e.id))),{get event(){return s?s.event:null},get selected(){return s?[...s.selected]:null},get userSelectAction(){return a},clear:()=>{ul(s,uf)||o(uf)},isEmpty:l,isSelected:e=>{if(l())return!1;let t="string"==typeof e?e:e.id;return s.selected.some(e=>e.id===t)},setSelected:(t,i)=>{let s=Array.isArray(t)?t:[t],l=s.map(t=>e.getAnnotation(t)).filter(e=>!!e);o({selected:l.map(e=>{let t=void 0===i?"EDIT"===um(e,a,n):i;return{id:e.id,editable:t}})}),l.length!==s.length&&console.warn("Invalid selection",t)},setUserSelectAction:e=>a=e,subscribe:i,userSelect:(t,i)=>{let s=e.getAnnotation(t);if(!s){console.warn("Invalid selection: "+t);return}switch(um(s,a,n)){case"EDIT":o({selected:[{id:t,editable:!0}],event:i});break;case"SELECT":o({selected:[{id:t}],event:i});break;default:o({selected:[],event:i})}}}},um=(e,t,n)=>{let i=n?n.serialize(e):e;return"function"==typeof t?t(i):t||"EDIT"};for(var uv=[],uy=0;uy<256;++uy)uv.push((uy+256).toString(16).slice(1));var ub,uw,ux,uS,u_,uE,uT,uO,uI,uP,uC,uA,uR,uk,uD,uN,uM,uL,uj,uF,uB,uz,uU,uW,uH,uV,uG,u$,uq=new Uint8Array(16);const uX={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},uY=(e,t)=>{let n=new Set(e.bodies.map(e=>e.id));return t.bodies.filter(e=>!n.has(e.id))},uK=(e,t)=>{let n=new Set(t.bodies.map(e=>e.id));return e.bodies.filter(e=>!n.has(e.id))},uZ=(e,t)=>t.bodies.map(t=>{let n=e.bodies.find(e=>e.id===t.id);return{newBody:t,oldBody:n&&!ul(n,t)?n:void 0}}).filter(({oldBody:e})=>e).map(({oldBody:e,newBody:t})=>({oldBody:e,newBody:t})),uJ=(e,t)=>!ul(e.target,t.target),uQ=(e,t)=>{let n=uY(e,t),i=uK(e,t),o=uZ(e,t);return{oldValue:e,newValue:t,bodiesCreated:n.length>0?n:void 0,bodiesDeleted:i.length>0?i:void 0,bodiesUpdated:o.length>0?o:void 0,targetUpdated:uJ(e,t)?{oldTarget:e.target,newTarget:t.target}:void 0}};var u0=((y=u0||{}).LOCAL="LOCAL",y.REMOTE="REMOTE",y.SILENT="SILENT",y);const u1=(e,t)=>{var n,i;let{changes:o,origin:a}=t;if(!(e.options.origin?e.options.origin===a:"SILENT"!==a))return!1;if(e.options.ignore){let{ignore:t}=e.options,a=e=>e&&e.length>0;if(!(a(o.created)||a(o.deleted))){let e=null==(n=o.updated)?void 0:n.some(e=>a(e.bodiesCreated)||a(e.bodiesDeleted)||a(e.bodiesUpdated)),s=null==(i=o.updated)?void 0:i.some(e=>e.targetUpdated);if("BODY_ONLY"===t&&e&&!s||"TARGET_ONLY"===t&&s&&!e)return!1}}if(!e.options.annotations)return!0;{let t=/* @__PURE__ */new Set([...(o.created||[]).map(e=>e.id),...(o.deleted||[]).map(e=>e.id),...(o.updated||[]).map(({oldValue:e})=>e.id)]);return!!(Array.isArray(e.options.annotations)?e.options.annotations:[e.options.annotations]).find(e=>t.has(e))}},u2=e=>{let t=void 0===e.id?function(e,t,n){if(uX.randomUUID&&!e)return uX.randomUUID();var i=(e=e||{}).random||(e.rng||function(){if(!u$&&!(u$="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u$(uq)})();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return(uv[e[t+0]]+uv[e[t+1]]+uv[e[t+2]]+uv[e[t+3]]+"-"+uv[e[t+4]]+uv[e[t+5]]+"-"+uv[e[t+6]]+uv[e[t+7]]+"-"+uv[e[t+8]]+uv[e[t+9]]+"-"+uv[e[t+10]]+uv[e[t+11]]+uv[e[t+12]]+uv[e[t+13]]+uv[e[t+14]]+uv[e[t+15]]).toLowerCase()}(i)}():e.id;return{...e,id:t,bodies:void 0===e.bodies?[]:e.bodies.map(e=>({...e,annotation:t})),target:{...e.target,annotation:t}}},u3=e=>void 0!==e.id,u5=()=>{let e=/* @__PURE__ */new Map,t=/* @__PURE__ */new Map,n=[],i=(t,i)=>{let o={origin:t,changes:{created:i.created||[],updated:i.updated||[],deleted:i.deleted||[]},state:[...e.values()]};n.forEach(e=>{u1(e,o)&&e.onChange(o)})},o=(n,i)=>{let o=u2("string"==typeof n?i:n),a="string"==typeof n?n:n.id,s=a&&e.get(a);if(s){let n=uQ(s,o);return a===o.id?e.set(a,o):(e.delete(a),e.set(o.id,o)),s.bodies.forEach(e=>t.delete(e.id)),o.bodies.forEach(e=>t.set(e.id,o.id)),n}console.warn(`Cannot update annotation ${a} - does not exist`)},a=n=>{let i="string"==typeof n?n:n.id,o=e.get(i);if(o)return e.delete(i),o.bodies.forEach(e=>t.delete(e.id)),o;console.warn(`Attempt to delete missing annotation: ${i}`)},s=n=>{let i=e.get(n.annotation);if(i){let o=i.bodies.find(e=>e.id===n.id);if(o){t.delete(o.id);let a={...i,bodies:i.bodies.filter(e=>e.id!==n.id)};return e.set(i.id,a),{oldValue:i,newValue:a,bodiesDeleted:[o]}}console.warn(`Attempt to delete missing body ${n.id} from annotation ${n.annotation}`)}else console.warn(`Attempt to delete body from missing annotation ${n.annotation}`)},l=t=>{let n=e.get(t);return n?{...n}:void 0},u=(n,i)=>{if(n.annotation!==i.annotation)throw"Annotation integrity violation: annotation ID must be the same when updating bodies";let o=e.get(n.annotation);if(o){let a=o.bodies.find(e=>e.id===n.id),s={...o,bodies:o.bodies.map(e=>e.id===a.id?i:e)};return e.set(o.id,s),a.id!==i.id&&(t.delete(a.id),t.set(i.id,s.id)),{oldValue:o,newValue:s,bodiesUpdated:[{oldBody:a,newBody:i}]}}console.warn(`Attempt to add body to missing annotation ${n.annotation}`)},c=t=>{let n=e.get(t.annotation);if(n){let i={...n,target:{...n.target,...t}};return e.set(n.id,i),{oldValue:n,newValue:i,targetUpdated:{oldTarget:n.target,newTarget:t}}}console.warn(`Attempt to update target on missing annotation: ${t.annotation}`)};return{addAnnotation:(n,o=u0.LOCAL)=>{if(n.id&&e.get(n.id))throw Error(`Cannot add annotation ${n.id} - exists already`);{let a=u2(n);e.set(a.id,a),a.bodies.forEach(e=>t.set(e.id,a.id)),i(o,{created:[a]})}},addBody:(n,o=u0.LOCAL)=>{let a=e.get(n.annotation);if(a){let s={...a,bodies:[...a.bodies,n]};e.set(a.id,s),t.set(n.id,s.id),i(o,{updated:[{oldValue:a,newValue:s,bodiesCreated:[n]}]})}else console.warn(`Attempt to add body to missing annotation: ${n.annotation}`)},all:()=>[...e.values()],bulkAddAnnotation:(n,o=!0,a=u0.LOCAL)=>{let s=n.map(u2);if(o){let n=[...e.values()];e.clear(),t.clear(),s.forEach(n=>{e.set(n.id,n),n.bodies.forEach(e=>t.set(e.id,n.id))}),i(a,{created:s,deleted:n})}else{let o=n.reduce((t,n)=>{let i=n.id&&e.get(n.id);return i?[...t,i]:t},[]);if(o.length>0)throw Error(`Bulk insert would overwrite the following annotations: ${o.map(e=>e.id).join(", ")}`);s.forEach(n=>{e.set(n.id,n),n.bodies.forEach(e=>t.set(e.id,n.id))}),i(a,{created:s})}},bulkDeleteAnnotation:(e,t=u0.LOCAL)=>{let n=e.reduce((e,t)=>{let n=a(t);return n?[...e,n]:e},[]);n.length>0&&i(t,{deleted:n})},bulkDeleteBodies:(e,t=u0.LOCAL)=>{let n=e.map(e=>s(e)).filter(Boolean);n.length>0&&i(t,{updated:n})},bulkUpdateAnnotation:(e,t=u0.LOCAL)=>{let n=e.reduce((e,t)=>{let n=o(t);return n?[...e,n]:e},[]);n.length>0&&i(t,{updated:n})},bulkUpdateBodies:(e,t=u0.LOCAL)=>{i(t,{updated:e.map(e=>u({id:e.id,annotation:e.annotation},e)).filter(Boolean)})},bulkUpdateTargets:(e,t=u0.LOCAL)=>{let n=e.map(e=>c(e)).filter(Boolean);n.length>0&&i(t,{updated:n})},clear:(n=u0.LOCAL)=>{let o=[...e.values()];e.clear(),t.clear(),i(n,{deleted:o})},deleteAnnotation:(e,t=u0.LOCAL)=>{let n=a(e);n&&i(t,{deleted:[n]})},deleteBody:(e,t=u0.LOCAL)=>{let n=s(e);n&&i(t,{updated:[n]})},getAnnotation:l,getBody:e=>{let n=t.get(e);if(n){let t=l(n).bodies.find(t=>t.id===e);if(t)return t;console.error(`Store integrity error: body ${e} in index, but not in annotation`)}else console.warn(`Attempt to retrieve missing body: ${e}`)},observe:(e,t={})=>{n.push({onChange:e,options:t})},unobserve:e=>{let t=n.findIndex(t=>t.onChange==e);t>-1&&n.splice(t,1)},updateAnnotation:(e,t=u0.LOCAL,n=u0.LOCAL)=>{let a=u3(t)?n:t,s=o(e,t);s&&i(a,{updated:[s]})},updateBody:(e,t,n=u0.LOCAL)=>{let o=u(e,t);o&&i(n,{updated:[o]})},updateTarget:(e,t=u0.LOCAL)=>{let n=c(e);n&&i(t,{updated:[n]})}}},u4=()=>{let{subscribe:e,set:t}=ud([]);return{subscribe:e,set:t}};function u6(e,t,n){let i=e.slice();return i[10]=t[n],i[12]=n,i}function u8(e){let t,n;return(t=new cs({props:{x:e[10][0],y:e[10][1],scale:e[3]}})).$on("pointerdown",function(){lT(e[9](`HANDLE-${e[12]}`))&&e[9](`HANDLE-${e[12]}`).apply(this,arguments)}),{c(){l2(t.$$.fragment)},m(e,i){l3(t,e,i),n=!0},p(n,i){e=n;let o={};16&i&&(o.x=e[10][0]),16&i&&(o.y=e[10][1]),8&i&&(o.scale=e[3]),t.$set(o)},i(e){n||(lQ(t.$$.fragment,e),n=!0)},o(e){l0(t.$$.fragment,e),n=!1},d(e){l5(t,e)}}}function u9(e){let n,i,o,a,s,l,u,c,d,p,h,f=l1(e[4].points),g=[];for(let t=0;t<f.length;t+=1)g[t]=u8(u6(e,f,t));let m=e=>l0(g[e],1,1,()=>{g[e]=null});return{c(){n=lk("polygon"),a=lN(),s=lk("polygon"),u=lN();for(let e=0;e<g.length;e+=1)g[e].c();c=lD(""),lL(n,"class","a9s-outer"),lL(n,"style",i=e[1]?"display:none;":void 0),lL(n,"points",o=e[4].points.map(ce).join(" ")),lL(s,"class","a9s-inner a9s-shape-handle"),lL(s,"style",e[1]),lL(s,"points",l=e[4].points.map(ct).join(" "))},m(t,i){lA(t,n,i),lA(t,a,i),lA(t,s,i),lA(t,u,i);for(let e=0;e<g.length;e+=1)g[e]&&g[e].m(t,i);lA(t,c,i),d=!0,p||(h=[lM(n,"pointerdown",function(){lT(e[9]("SHAPE"))&&e[9]("SHAPE").apply(this,arguments)}),lM(s,"pointerdown",function(){lT(e[9]("SHAPE"))&&e[9]("SHAPE").apply(this,arguments)})],p=!0)},p(a,u){if(e=a,(!d||2&u&&i!==(i=e[1]?"display:none;":void 0))&&lL(n,"style",i),(!d||16&u&&o!==(o=e[4].points.map(ce).join(" ")))&&lL(n,"points",o),(!d||2&u)&&lL(s,"style",e[1]),(!d||16&u&&l!==(l=e[4].points.map(ct).join(" ")))&&lL(s,"points",l),536&u){let n;for(n=0,f=l1(e[4].points);n<f.length;n+=1){let t=u6(e,f,n);g[n]?(g[n].p(t,u),lQ(g[n],1)):(g[n]=u8(t),g[n].c(),lQ(g[n],1),g[n].m(c.parentNode,c))}for(t={r:0,c:[],p:t},n=f.length;n<g.length;n+=1)m(n);t.r||lE(t.c),t=t.p}},i(e){if(!d){for(let e=0;e<f.length;e+=1)lQ(g[e]);d=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)l0(g[e]);d=!1},d(e){e&&(lR(n),lR(a),lR(s),lR(u),lR(c)),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(g,e),p=!1,lE(h)}}}function u7(e){let t,n;return(t=new cy({props:{shape:e[0],transform:e[2],editor:e[5],$$slots:{default:[u9,({grab:e})=>({9:e}),({grab:e})=>e?512:0]},$$scope:{ctx:e}}})).$on("change",e[6]),t.$on("grab",e[7]),t.$on("release",e[8]),{c(){l2(t.$$.fragment)},m(e,i){l3(t,e,i),n=!0},p(e,[n]){let i={};1&n&&(i.shape=e[0]),4&n&&(i.transform=e[2]),8730&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(lQ(t.$$.fragment,e),n=!0)},o(e){l0(t.$$.fragment,e),n=!1},d(e){l5(t,e)}}}((e=21)=>{let t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&t[e]]})();const ce=e=>e.join(","),ct=e=>e.join(",");function cr(e,t,n){let i,{shape:o}=t,{computedStyle:a}=t,{transform:s}=t,{viewportScale:l=1}=t;return e.$$set=e=>{"shape"in e&&n(0,o=e.shape),"computedStyle"in e&&n(1,a=e.computedStyle),"transform"in e&&n(2,s=e.transform),"viewportScale"in e&&n(3,l=e.viewportScale)},e.$$.update=()=>{1&e.$$.dirty&&n(4,i=o.geometry)},[o,a,s,l,i,(e,t,n)=>{let i;let o=e.geometry,a=ur(i="SHAPE"===t?o.points.map(([e,t])=>[e+n[0],t+n[1]]):o.points.map(([e,i],o)=>t===`HANDLE-${o}`?[e+n[0],i+n[1]]:[e,i]));return{...e,geometry:{points:i,bounds:a}}},function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)}]}const cn=(e,t)=>Math.sqrt(Math.pow(Math.abs(t[0]-e[0]),2)+Math.pow(Math.abs(t[1]-e[1]),2)),ci=!(typeof window>"u"||typeof navigator>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function co(e){let t;let n=(ci?function(e){let t,n,i,o,a,s,l,u,c;return{c(){t=lk("g"),n=lk("circle"),o=lk("rect"),lL(n,"cx",e[0]),lL(n,"cy",e[1]),lL(n,"r",i=e[3]/e[2]),lL(n,"class","a9s-touch-halo svelte-1sgkh33"),lj(n,"touched",e[4]),lL(o,"class",a=(`a9s-handle ${e[8].class||""}`.trim()??"")+" svelte-1sgkh33"),lL(o,"x",s=e[0]-e[5]/2),lL(o,"y",l=e[1]-e[5]/2),lL(o,"width",e[5]),lL(o,"height",e[5]),lL(t,"class","a9s-touch-handle")},m(i,a){lA(i,t,a),lC(t,n),lC(t,o),u||(c=[lM(n,"pointerdown",e[10]),lM(n,"pointerdown",e[6]),lM(n,"pointerup",e[7]),lM(o,"pointerdown",e[9]),lM(o,"pointerdown",e[6]),lM(o,"pointerup",e[7])],u=!0)},p(e,t){1&t&&lL(n,"cx",e[0]),2&t&&lL(n,"cy",e[1]),12&t&&i!==(i=e[3]/e[2])&&lL(n,"r",i),16&t&&lj(n,"touched",e[4]),256&t&&a!==(a=(`a9s-handle ${e[8].class||""}`.trim()??"")+" svelte-1sgkh33")&&lL(o,"class",a),33&t&&s!==(s=e[0]-e[5]/2)&&lL(o,"x",s),34&t&&l!==(l=e[1]-e[5]/2)&&lL(o,"y",l),32&t&&lL(o,"width",e[5]),32&t&&lL(o,"height",e[5])},d(e){e&&lR(t),u=!1,lE(c)}}}:function(e){let t,n,i,o,a,s;return{c(){lL(t=lk("rect"),"class",n=(`a9s-handle ${e[8].class||""}`.trim()??"")+" svelte-1sgkh33"),lL(t,"x",i=e[0]-e[5]/2),lL(t,"y",o=e[1]-e[5]/2),lL(t,"width",e[5]),lL(t,"height",e[5])},m(n,i){lA(n,t,i),a||(s=lM(t,"pointerdown",e[11]),a=!0)},p(e,a){256&a&&n!==(n=(`a9s-handle ${e[8].class||""}`.trim()??"")+" svelte-1sgkh33")&&lL(t,"class",n),33&a&&i!==(i=e[0]-e[5]/2)&&lL(t,"x",i),34&a&&o!==(o=e[1]-e[5]/2)&&lL(t,"y",o),32&a&&lL(t,"width",e[5]),32&a&&lL(t,"height",e[5])},d(e){e&&lR(t),a=!1,s()}}})(e);return{c(){n.c(),t=lD("")},m(e,i){n.m(e,i),lA(e,t,i)},p(e,[t]){n.p(e,t)},i:lw,o:lw,d(e){e&&lR(t),n.d(e)}}}function ca(e,t,n){let i,{x:o}=t,{y:a}=t,{scale:s}=t,{radius:l=30}=t,u=!1;return e.$$set=e=>{n(8,t=lx(lx({},t),lP(e))),"x"in e&&n(0,o=e.x),"y"in e&&n(1,a=e.y),"scale"in e&&n(2,s=e.scale),"radius"in e&&n(3,l=e.radius)},e.$$.update=()=>{4&e.$$.dirty&&n(5,i=10/s)},t=lP(t),[o,a,s,l,u,i,e=>{"touch"===e.pointerType&&n(4,u=!0)},()=>n(4,u=!1),t,function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)}]}class cs extends l6{constructor(e){super(),l4(this,e,ca,co,lO,{x:0,y:1,scale:2,radius:3})}}function cl(e){let t,n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b,w,x,S,_,E,T,O,I,P,C,A,R,k,D,N,M,L,j,F,B,z,U,W,H,V;return(M=new cs({props:{class:"a9s-corner-handle-topleft",x:e[4].x,y:e[4].y,scale:e[3]}})).$on("pointerdown",function(){lT(e[9]("TOP_LEFT"))&&e[9]("TOP_LEFT").apply(this,arguments)}),(j=new cs({props:{class:"a9s-corner-handle-topright",x:e[4].x+e[4].w,y:e[4].y,scale:e[3]}})).$on("pointerdown",function(){lT(e[9]("TOP_RIGHT"))&&e[9]("TOP_RIGHT").apply(this,arguments)}),(B=new cs({props:{class:"a9s-corner-handle-bottomright",x:e[4].x+e[4].w,y:e[4].y+e[4].h,scale:e[3]}})).$on("pointerdown",function(){lT(e[9]("BOTTOM_RIGHT"))&&e[9]("BOTTOM_RIGHT").apply(this,arguments)}),(U=new cs({props:{class:"a9s-corner-handle-bottomleft",x:e[4].x,y:e[4].y+e[4].h,scale:e[3]}})).$on("pointerdown",function(){lT(e[9]("BOTTOM_LEFT"))&&e[9]("BOTTOM_LEFT").apply(this,arguments)}),{c(){t=lk("rect"),l=lN(),u=lk("rect"),f=lN(),g=lk("rect"),b=lN(),w=lk("rect"),E=lN(),T=lk("rect"),C=lN(),A=lk("rect"),N=lN(),l2(M.$$.fragment),L=lN(),l2(j.$$.fragment),F=lN(),l2(B.$$.fragment),z=lN(),l2(U.$$.fragment),lL(t,"class","a9s-outer"),lL(t,"style",n=e[1]?"display:none;":void 0),lL(t,"x",i=e[4].x),lL(t,"y",o=e[4].y),lL(t,"width",a=e[4].w),lL(t,"height",s=e[4].h),lL(u,"class","a9s-inner a9s-shape-handle"),lL(u,"style",e[1]),lL(u,"x",c=e[4].x),lL(u,"y",d=e[4].y),lL(u,"width",p=e[4].w),lL(u,"height",h=e[4].h),lL(g,"class","a9s-edge-handle a9s-edge-handle-top"),lL(g,"x",m=e[4].x),lL(g,"y",v=e[4].y),lL(g,"height",1),lL(g,"width",y=e[4].w),lL(w,"class","a9s-edge-handle a9s-edge-handle-right"),lL(w,"x",x=e[4].x+e[4].w),lL(w,"y",S=e[4].y),lL(w,"height",_=e[4].h),lL(w,"width",1),lL(T,"class","a9s-edge-handle a9s-edge-handle-bottom"),lL(T,"x",O=e[4].x),lL(T,"y",I=e[4].y+e[4].h),lL(T,"height",1),lL(T,"width",P=e[4].w),lL(A,"class","a9s-edge-handle a9s-edge-handle-left"),lL(A,"x",R=e[4].x),lL(A,"y",k=e[4].y),lL(A,"height",D=e[4].h),lL(A,"width",1)},m(n,i){lA(n,t,i),lA(n,l,i),lA(n,u,i),lA(n,f,i),lA(n,g,i),lA(n,b,i),lA(n,w,i),lA(n,E,i),lA(n,T,i),lA(n,C,i),lA(n,A,i),lA(n,N,i),l3(M,n,i),lA(n,L,i),l3(j,n,i),lA(n,F,i),l3(B,n,i),lA(n,z,i),l3(U,n,i),W=!0,H||(V=[lM(t,"pointerdown",function(){lT(e[9]("SHAPE"))&&e[9]("SHAPE").apply(this,arguments)}),lM(u,"pointerdown",function(){lT(e[9]("SHAPE"))&&e[9]("SHAPE").apply(this,arguments)}),lM(g,"pointerdown",function(){lT(e[9]("TOP"))&&e[9]("TOP").apply(this,arguments)}),lM(w,"pointerdown",function(){lT(e[9]("RIGHT"))&&e[9]("RIGHT").apply(this,arguments)}),lM(T,"pointerdown",function(){lT(e[9]("BOTTOM"))&&e[9]("BOTTOM").apply(this,arguments)}),lM(A,"pointerdown",function(){lT(e[9]("LEFT"))&&e[9]("LEFT").apply(this,arguments)})],H=!0)},p(l,f){e=l,(!W||2&f&&n!==(n=e[1]?"display:none;":void 0))&&lL(t,"style",n),(!W||16&f&&i!==(i=e[4].x))&&lL(t,"x",i),(!W||16&f&&o!==(o=e[4].y))&&lL(t,"y",o),(!W||16&f&&a!==(a=e[4].w))&&lL(t,"width",a),(!W||16&f&&s!==(s=e[4].h))&&lL(t,"height",s),(!W||2&f)&&lL(u,"style",e[1]),(!W||16&f&&c!==(c=e[4].x))&&lL(u,"x",c),(!W||16&f&&d!==(d=e[4].y))&&lL(u,"y",d),(!W||16&f&&p!==(p=e[4].w))&&lL(u,"width",p),(!W||16&f&&h!==(h=e[4].h))&&lL(u,"height",h),(!W||16&f&&m!==(m=e[4].x))&&lL(g,"x",m),(!W||16&f&&v!==(v=e[4].y))&&lL(g,"y",v),(!W||16&f&&y!==(y=e[4].w))&&lL(g,"width",y),(!W||16&f&&x!==(x=e[4].x+e[4].w))&&lL(w,"x",x),(!W||16&f&&S!==(S=e[4].y))&&lL(w,"y",S),(!W||16&f&&_!==(_=e[4].h))&&lL(w,"height",_),(!W||16&f&&O!==(O=e[4].x))&&lL(T,"x",O),(!W||16&f&&I!==(I=e[4].y+e[4].h))&&lL(T,"y",I),(!W||16&f&&P!==(P=e[4].w))&&lL(T,"width",P),(!W||16&f&&R!==(R=e[4].x))&&lL(A,"x",R),(!W||16&f&&k!==(k=e[4].y))&&lL(A,"y",k),(!W||16&f&&D!==(D=e[4].h))&&lL(A,"height",D);let b={};16&f&&(b.x=e[4].x),16&f&&(b.y=e[4].y),8&f&&(b.scale=e[3]),M.$set(b);let E={};16&f&&(E.x=e[4].x+e[4].w),16&f&&(E.y=e[4].y),8&f&&(E.scale=e[3]),j.$set(E);let C={};16&f&&(C.x=e[4].x+e[4].w),16&f&&(C.y=e[4].y+e[4].h),8&f&&(C.scale=e[3]),B.$set(C);let N={};16&f&&(N.x=e[4].x),16&f&&(N.y=e[4].y+e[4].h),8&f&&(N.scale=e[3]),U.$set(N)},i(e){W||(lQ(M.$$.fragment,e),lQ(j.$$.fragment,e),lQ(B.$$.fragment,e),lQ(U.$$.fragment,e),W=!0)},o(e){l0(M.$$.fragment,e),l0(j.$$.fragment,e),l0(B.$$.fragment,e),l0(U.$$.fragment,e),W=!1},d(e){e&&(lR(t),lR(l),lR(u),lR(f),lR(g),lR(b),lR(w),lR(E),lR(T),lR(C),lR(A),lR(N),lR(L),lR(F),lR(z)),l5(M,e),l5(j,e),l5(B,e),l5(U,e),H=!1,lE(V)}}}function cu(e){let t,n;return(t=new cy({props:{shape:e[0],transform:e[2],editor:e[5],$$slots:{default:[cl,({grab:e})=>({9:e}),({grab:e})=>e?512:0]},$$scope:{ctx:e}}})).$on("grab",e[6]),t.$on("change",e[7]),t.$on("release",e[8]),{c(){l2(t.$$.fragment)},m(e,i){l3(t,e,i),n=!0},p(e,[n]){let i={};1&n&&(i.shape=e[0]),4&n&&(i.transform=e[2]),1562&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(lQ(t.$$.fragment,e),n=!0)},o(e){l0(t.$$.fragment,e),n=!1},d(e){l5(t,e)}}}function cc(e,t,n){let i,{shape:o}=t,{computedStyle:a}=t,{transform:s}=t,{viewportScale:l=1}=t;return e.$$set=e=>{"shape"in e&&n(0,o=e.shape),"computedStyle"in e&&n(1,a=e.computedStyle),"transform"in e&&n(2,s=e.transform),"viewportScale"in e&&n(3,l=e.viewportScale)},e.$$.update=()=>{1&e.$$.dirty&&n(4,i=o.geometry)},[o,a,s,l,i,(e,t,n)=>{let i=e.geometry.bounds,[o,a]=[i.minX,i.minY],[s,l]=[i.maxX,i.maxY],[u,c]=n;if("SHAPE"===t)o+=u,s+=u,a+=c,l+=c;else{switch(t){case"TOP":case"TOP_LEFT":case"TOP_RIGHT":a+=c;break;case"BOTTOM":case"BOTTOM_LEFT":case"BOTTOM_RIGHT":l+=c}switch(t){case"LEFT":case"TOP_LEFT":case"BOTTOM_LEFT":o+=u;break;case"RIGHT":case"TOP_RIGHT":case"BOTTOM_RIGHT":s+=u}}let d=Math.min(o,s),p=Math.min(a,l),h=Math.abs(s-o),f=Math.abs(l-a);return{...e,geometry:{x:d,y:p,w:h,h:f,bounds:{minX:d,minY:p,maxX:d+h,maxY:p+f}}}},function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)},function(t){lU.call(this,e,t)}]}const cd=/* @__PURE__ */new Map([[l8.RECTANGLE,class extends l6{constructor(e){super(),l4(this,e,cc,cu,lO,{shape:0,computedStyle:1,transform:2,viewportScale:3})}}],[l8.POLYGON,class extends l6{constructor(e){super(),l4(this,e,cr,u7,lO,{shape:0,computedStyle:1,transform:2,viewportScale:3})}}]]),cp=e=>cd.get(e.type),ch=(e,t)=>cd.set(e,t),cf=e=>({}),cg=e=>({grab:e[0]});function cm(e){let t,n,i,o;let a=e[7].default,s=function(e,t,n,i){if(e){let o=lI(e,t,n,i);return e[0](o)}}(a,e,e[6],cg);return{c(){t=lk("g"),s&&s.c(),lL(t,"class","a9s-annotation selected")},m(a,l){lA(a,t,l),s&&s.m(t,null),n=!0,i||(o=[lM(t,"pointerup",e[2]),lM(t,"pointermove",e[1])],i=!0)},p(e,[t]){s&&s.p&&(!n||64&t)&&function(e,t,n,i,o,a){if(o){let s=lI(t,n,i,a);e.p(s,o)}}(s,a,e,e[6],n?function(e,t,n,i){if(e[2]&&i){let o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){let e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(a,e[6],t,cf):function(e){if(e.ctx.length>32){let t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return -1}(e[6]),cg)},i(e){n||(lQ(s,e),n=!0)},o(e){l0(s,e),n=!1},d(e){e&&lR(t),s&&s.d(e),i=!1,lE(o)}}}function cv(e,t,n){let{$$slots:i={},$$scope:o}=t,a=lz(),{shape:s}=t,{editor:l}=t,{transform:u}=t,c,d,p;return e.$$set=e=>{"shape"in e&&n(3,s=e.shape),"editor"in e&&n(4,l=e.editor),"transform"in e&&n(5,u=e.transform),"$$scope"in e&&n(6,o=e.$$scope)},[e=>t=>{c=e,d=u.elementToImage(t.offsetX,t.offsetY),p=s,t.target.setPointerCapture(t.pointerId),a("grab",t)},e=>{if(c){let[t,i]=u.elementToImage(e.offsetX,e.offsetY),o=[t-d[0],i-d[1]];n(3,s=l(p,c,o)),a("change",s)}},e=>{e.target.releasePointerCapture(e.pointerId),c=void 0,p=s,a("release",e)},s,l,u,o,i]}class cy extends l6{constructor(e){super(),l4(this,e,cv,cm,lO,{shape:3,editor:4,transform:5})}}function cb(e){let t,n;return{c(){t=lk("rect"),n=lk("rect"),lL(t,"class","a9s-outer"),lL(t,"x",e[1]),lL(t,"y",e[2]),lL(t,"width",e[3]),lL(t,"height",e[4]),lL(n,"class","a9s-inner"),lL(n,"x",e[1]),lL(n,"y",e[2]),lL(n,"width",e[3]),lL(n,"height",e[4])},m(e,i){lA(e,t,i),lA(e,n,i)},p(e,i){2&i&&lL(t,"x",e[1]),4&i&&lL(t,"y",e[2]),8&i&&lL(t,"width",e[3]),16&i&&lL(t,"height",e[4]),2&i&&lL(n,"x",e[1]),4&i&&lL(n,"y",e[2]),8&i&&lL(n,"width",e[3]),16&i&&lL(n,"height",e[4])},d(e){e&&(lR(t),lR(n))}}}function cw(e){let t,n=e[0]&&cb(e);return{c(){t=lk("g"),n&&n.c(),lL(t,"class","a9s-annotation a9s-rubberband")},m(e,i){lA(e,t,i),n&&n.m(t,null)},p(e,[i]){e[0]?n?n.p(e,i):((n=cb(e)).c(),n.m(t,null)):n&&(n.d(1),n=null)},i:lw,o:lw,d(e){e&&lR(t),n&&n.d()}}}function cx(e,t,n){let i=lz(),{addEventListener:o}=t,{drawingMode:a}=t,{transform:s}=t,l,u,c,d,p,h,f,g=e=>{l=performance.now(),"drag"===a&&(n(0,u=s.elementToImage(e.offsetX,e.offsetY)),c=u,n(1,d=u[0]),n(2,p=u[1]),n(3,h=1),n(4,f=1))},m=e=>{u&&(n(1,d=Math.min((c=s.elementToImage(e.offsetX,e.offsetY))[0],u[0])),n(2,p=Math.min(c[1],u[1])),n(3,h=Math.abs(c[0]-u[0])),n(4,f=Math.abs(c[1]-u[1])))},v=e=>{let t=performance.now()-l;if("click"===a){if(t>300)return;u?y():(n(0,u=s.elementToImage(e.offsetX,e.offsetY)),c=u,n(1,d=u[0]),n(2,p=u[1]),n(3,h=1),n(4,f=1))}else u&&(t>300||h*f>100?(e.stopPropagation(),y()):(n(0,u=void 0),c=void 0))},y=()=>{h*f>15&&i("create",{type:l8.RECTANGLE,geometry:{bounds:{minX:d,minY:p,maxX:d+h,maxY:p+f},x:d,y:p,w:h,h:f}}),n(0,u=void 0),c=void 0};return lB(()=>{o("pointerdown",g),o("pointermove",m),o("pointerup",v,!0)}),e.$$set=e=>{"addEventListener"in e&&n(5,o=e.addEventListener),"drawingMode"in e&&n(6,a=e.drawingMode),"transform"in e&&n(7,s=e.transform)},[u,d,p,h,f,o,a,s]}function cS(e){let t=e.slice(),n=(t[2]?t[0]:[...t[0],t[1]]).map(e=>e.join(",")).join(" ");return t[16]=n,t}function c_(e){let t,n,i,o,a,s=e[2]&&cE(e);return{c(){t=lk("polygon"),i=lk("polygon"),s&&s.c(),a=lD(""),lL(t,"class","a9s-outer"),lL(t,"points",n=e[16]),lL(i,"class","a9s-inner"),lL(i,"points",o=e[16])},m(e,n){lA(e,t,n),lA(e,i,n),s&&s.m(e,n),lA(e,a,n)},p(e,l){7&l&&n!==(n=e[16])&&lL(t,"points",n),7&l&&o!==(o=e[16])&&lL(i,"points",o),e[2]?s?s.p(e,l):((s=cE(e)).c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(e){e&&(lR(t),lR(i),lR(a)),s&&s.d(e)}}}function cE(e){let t,n,i;return{c(){lL(t=lk("rect"),"class","a9s-corner-handle"),lL(t,"x",n=e[0][0][0]-e[3]/2),lL(t,"y",i=e[0][0][1]-e[3]/2),lL(t,"height",e[3]),lL(t,"width",e[3])},m(e,n){lA(e,t,n)},p(e,o){9&o&&n!==(n=e[0][0][0]-e[3]/2)&&lL(t,"x",n),9&o&&i!==(i=e[0][0][1]-e[3]/2)&&lL(t,"y",i),8&o&&lL(t,"height",e[3]),8&o&&lL(t,"width",e[3])},d(e){e&&lR(t)}}}function cT(e){let t,n=e[1]&&c_(cS(e));return{c(){t=lk("g"),n&&n.c(),lL(t,"class","a9s-annotation a9s-rubberband")},m(e,i){lA(e,t,i),n&&n.m(t,null)},p(e,[i]){e[1]?n?n.p(cS(e),i):((n=c_(cS(e))).c(),n.m(t,null)):n&&(n.d(1),n=null)},i:lw,o:lw,d(e){e&&lR(t),n&&n.d()}}}function cO(e,t,n){let i;let o=lz(),{addEventListener:a}=t,{drawingMode:s}=t,{transform:l}=t,{viewportScale:u=1}=t,c,d=[],p,h,f=!1,g=e=>{let{timeStamp:t,offsetX:i,offsetY:o}=e;if(c={timeStamp:t,offsetX:i,offsetY:o},"drag"===s&&0===d.length){let t=l.elementToImage(e.offsetX,e.offsetY);d.push(t),n(1,p=t)}},m=e=>{h&&clearTimeout(h),d.length>0&&(n(1,p=l.elementToImage(e.offsetX,e.offsetY)),d.length>2&&n(2,f=cn(p,d[0])*u<20),"touch"===e.pointerType&&(h=setTimeout(()=>{y()},1500)))},v=e=>{if(h&&clearTimeout(h),"click"===s){let t=e.timeStamp-c.timeStamp,i=cn([c.offsetX,c.offsetY],[e.offsetX,e.offsetY]);if(!(t>300)&&!(i>15)){if(f)b();else if(0===d.length){let t=l.elementToImage(e.offsetX,e.offsetY);d.push(t),n(1,p=t)}else d.push(p)}}else{if(1===d.length&&4>=cn(d[0],p)){n(0,d=[]),n(1,p=void 0);return}e.stopImmediatePropagation(),f?b():d.push(p)}},y=()=>{if(!p)return;let e=[...d,p],t={type:l8.POLYGON,geometry:{bounds:ur(e),points:e}};ue(t)>4&&(n(0,d=[]),n(1,p=void 0),o("create",t))},b=()=>{let e={type:l8.POLYGON,geometry:{bounds:ur(d),points:[...d]}};n(0,d=[]),n(1,p=void 0),o("create",e)};return lB(()=>{a("pointerdown",g,!0),a("pointermove",m),a("pointerup",v,!0),a("dblclick",y,!0)}),e.$$set=e=>{"addEventListener"in e&&n(4,a=e.addEventListener),"drawingMode"in e&&n(5,s=e.drawingMode),"transform"in e&&n(6,l=e.transform),"viewportScale"in e&&n(7,u=e.viewportScale)},e.$$.update=()=>{128&e.$$.dirty&&n(3,i=10/u)},[d,p,f,i,a,s,l,u]}const cI=/* @__PURE__ */new Map([["rectangle",{tool:class extends l6{constructor(e){super(),l4(this,e,cx,cw,lO,{addEventListener:5,drawingMode:6,transform:7})}}}],["polygon",{tool:class extends l6{constructor(e){super(),l4(this,e,cO,cT,lO,{addEventListener:4,drawingMode:5,transform:6,viewportScale:7})}}}]]),cP=()=>[...cI.keys()],cC=e=>cI.get(e),cA=(e,t,n)=>cI.set(e,{tool:t,opts:n});function cR(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}class ck{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data,n=[];if(!cU(e,t))return n;let i=this.toBBox,o=[];for(;t;){for(let a=0;a<t.children.length;a++){let s=t.children[a],l=t.leaf?i(s):s;cU(e,l)&&(t.leaf?n.push(s):cz(e,l)?this._all(s,n):o.push(s))}t=o.pop()}return n}collides(e){let t=this.data;if(!cU(e,t))return!1;let n=[];for(;t;){for(let i=0;i<t.children.length;i++){let o=t.children[i],a=t.leaf?this.toBBox(o):o;if(cU(e,a)){if(t.leaf||cz(e,a))return!0;n.push(o)}}t=n.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let t=0;t<e.length;t++)this.insert(e[t]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length){if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){let e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}}else this.data=t;return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=cW([]),this}remove(e,t){let n,i,o;if(!e)return this;let a=this.data,s=this.toBBox(e),l=[],u=[];for(;a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),a.leaf){let n=function(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return -1}(e,a.children,t);if(-1!==n)return a.children.splice(n,1),l.push(a),this._condense(l),this}!o&&!a.leaf&&cz(a,s)?(l.push(a),u.push(n),n=0,i=a,a=a.children[0]):i?(n++,a=i.children[n],o=!1):a=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){let n=[];for(;e;)e.leaf?t.push(...e.children):n.push(...e.children),e=n.pop();return t}_build(e,t,n,i){let o=n-t+1,a=this._maxEntries,s;if(o<=a)return cD(s=cW(e.slice(t,n+1)),this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(s=cW([])).leaf=!1,s.height=i;let l=Math.ceil(o/a),u=l*Math.ceil(Math.sqrt(a));cH(e,t,n,u,this.compareMinX);for(let o=t;o<=n;o+=u){let t=Math.min(o+u-1,n);cH(e,o,t,l,this.compareMinY);for(let n=o;n<=t;n+=l){let o=Math.min(n+l-1,t);s.children.push(this._build(e,n,o,i-1))}}return cD(s,this.toBBox),s}_chooseSubtree(e,t,n,i){for(;i.push(t),!(t.leaf||i.length-1===n);){let n=1/0,i=1/0,o;for(let a=0;a<t.children.length;a++){let s=t.children[a],l=cF(s),u=(Math.max(s.maxX,e.maxX)-Math.min(s.minX,e.minX))*(Math.max(s.maxY,e.maxY)-Math.min(s.minY,e.minY))-l;u<i?(i=u,n=l<n?l:n,o=s):u===i&&l<n&&(n=l,o=s)}t=o||t.children[0]}return t}_insert(e,t,n){let i=n?e:this.toBBox(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),cM(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)}_split(e,t){let n=e[t],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);let a=this._chooseSplitIndex(n,o,i),s=cW(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,cD(n,this.toBBox),cD(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)}_splitRoot(e,t){this.data=cW([e,t]),this.data.height=e.height+1,this.data.leaf=!1,cD(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,o=1/0,a=1/0;for(let s=t;s<=n-t;s++){let t=cN(e,0,s,this.toBBox),l=cN(e,s,n,this.toBBox),u=function(e,t){let n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY);return Math.max(0,Math.min(e.maxX,t.maxX)-n)*Math.max(0,Math.min(e.maxY,t.maxY)-i)}(t,l),c=cF(t)+cF(l);u<o?(o=u,i=s,a=c<a?c:a):u===o&&c<a&&(a=c,i=s)}return i||n-t}_chooseSplitAxis(e,t,n){let i=e.leaf?this.compareMinX:cL,o=e.leaf?this.compareMinY:cj;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,o)&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);let o=this.toBBox,a=cN(e,0,t,o),s=cN(e,n-t,n,o),l=cB(a)+cB(s);for(let i=t;i<n-t;i++){let t=e.children[i];cM(a,e.leaf?o(t):t),l+=cB(a)}for(let i=n-t-1;i>=t;i--){let t=e.children[i];cM(s,e.leaf?o(t):t),l+=cB(s)}return l}_adjustParentBBoxes(e,t,n){for(let i=n;i>=0;i--)cM(t[i],e)}_condense(e){for(let t=e.length-1,n;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():cD(e[t],this.toBBox)}}function cD(e,t){cN(e,0,e.children.length,t,e)}function cN(e,t,n,i,o){o||(o=cW(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(let a=t;a<n;a++){let t=e.children[a];cM(o,e.leaf?i(t):t)}return o}function cM(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function cL(e,t){return e.minX-t.minX}function cj(e,t){return e.minY-t.minY}function cF(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function cB(e){return e.maxX-e.minX+(e.maxY-e.minY)}function cz(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function cU(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function cW(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function cH(e,t,n,i,o){let a=[t,n];for(;a.length;){if((n=a.pop())-(t=a.pop())<=i)continue;let s=t+Math.ceil((n-t)/i/2)*i;(function e(t,n,i=0,o=t.length-1,a=function(e,t){return e<t?-1:e>t?1:0}){for(;o>i;){if(o-i>600){let s=o-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),p=Math.max(i,Math.floor(n-l*c/s+d)),h=Math.min(o,Math.floor(n+(s-l)*c/s+d));e(t,n,p,h,a)}let s=t[n],l=i,u=o;for(cR(t,i,n),a(t[o],s)>0&&cR(t,i,o);l<u;){for(cR(t,l,u),l++,u--;0>a(t[l],s);)l++;for(;a(t[u],s)>0;)u--}0===a(t[i],s)?cR(t,i,u):cR(t,++u,o),u<=n&&(i=u+1),n<=u&&(o=u-1)}})(e,s,t,n,o),a.push(t,s,s,n)}}const cV=()=>{let e=new ck,t=/* @__PURE__ */new Map,n=()=>{e.clear(),t.clear()},i=n=>{if(!ui(n))return;let{minX:i,minY:o,maxX:a,maxY:s}=n.selector.geometry.bounds,l={minX:i,minY:o,maxX:a,maxY:s,target:n};e.insert(l),t.set(n.annotation,l)},o=n=>{if(!ui(n))return;let i=t.get(n.annotation);i&&e.remove(i),t.delete(n.annotation)};return{all:()=>[...t.values()],clear:n,getAt:(t,n)=>{let i=e.search({minX:t,minY:n,maxX:t,maxY:n}).map(e=>e.target).filter(e=>e.selector.type===l8.RECTANGLE||ut(e.selector,t,n));if(i.length>0)return i.sort((e,t)=>ue(e.selector)-ue(t.selector)),i[0]},getIntersecting:(t,n,i,o)=>e.search({minX:t,minY:n,maxX:t+i,maxY:n+o}).map(e=>e.target),insert:i,remove:o,set:(i,o=!0)=>{o&&n();let a=i.reduce((e,t)=>{if(!ui(t))return e;{let{minX:n,minY:i,maxX:o,maxY:a}=t.selector.geometry.bounds;return[...e,{minX:n,minY:i,maxX:o,maxY:a,target:t}]}},[]);a.forEach(e=>t.set(e.target.annotation,e)),e.load(a)},size:()=>e.all().length,update:(e,t)=>{o(e),i(t)}}},cG=e=>{let t=u5(),n=cV(),i=ug(t,e.userSelectAction,e.adapter),o=up(t),a=u4();return t.observe(({changes:e})=>{n.set((e.created||[]).map(e=>e.target),!1),(e.deleted||[]).forEach(e=>n.remove(e.target)),(e.updated||[]).forEach(({oldValue:e,newValue:t})=>n.update(e.target,t.target))}),{store:{...t,getAt:(e,i)=>{let o=n.getAt(e,i);return o?t.getAnnotation(o.annotation):void 0},getIntersecting:(e,i,o,a)=>n.getIntersecting(e,i,o,a).map(e=>t.getAnnotation(e.annotation))},selection:i,hover:o,viewport:a}},c$=e=>{let t,n;"CANVAS"===e.nodeName?n=(t=e).getContext("2d",{willReadFrequently:!0}):((t=document.createElement("canvas")).width=e.width,t.height=e.height,(n=t.getContext("2d",{willReadFrequently:!0})).drawImage(e,0,0,e.width,e.height));let i=0;for(let e=1;e<10;e++)for(let o=1;o<10;o++){let a=Math.round(o*t.width/10),s=Math.round(e*t.height/10),l=n.getImageData(a,s,1,1).data;i+=(.299*l[0]+.587*l[1]+.114*l[2])/255}return i/81},cq=e=>{let t=c$(e),n=t>.6?"dark":"light";return console.log(`[Annotorious] Image brightness: ${t.toFixed(1)}. Setting ${n} theme.`),n},cX=(e,t)=>({...e,drawingEnabled:void 0===e.drawingEnabled?t.drawingEnabled:e.drawingEnabled,drawingMode:e.drawingMode||t.drawingMode,userSelectAction:e.userSelectAction||t.userSelectAction,theme:e.theme||t.theme}),cY=!(typeof navigator>"u")&&-1!==navigator.userAgent.indexOf("Mac OS X"),cK=(e,t)=>{let n=t||document,i=t=>{"z"===t.key&&t.ctrlKey?e.undo():"y"===t.key&&t.ctrlKey&&e.redo()},o=t=>{"z"===t.key&&t.metaKey&&(t.shiftKey?e.redo():e.undo())};return cY?n.addEventListener("keydown",o):n.addEventListener("keydown",i),{destroy:()=>{cY?n.removeEventListener("keydown",o):n.removeEventListener("keydown",i)}}};function cZ(){}function cJ(e){return e()}function cQ(){return /* @__PURE__ */Object.create(null)}function c0(e){e.forEach(cJ)}function c1(e){return"function"==typeof e}function c2(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c3(e,t,n){e.$$.on_destroy.push(function(e,...t){if(null==e){for(let e of t)e(void 0);return cZ}let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}(t,n))}function c5(e,t,n,i){return e[1]&&i?function(e,t){for(let n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}const c4="u">typeof window?window:"u">typeof globalThis?globalThis:X;function c6(e,t){e.appendChild(t)}function c8(e,t,n){e.insertBefore(t,n||null)}function c9(e){e.parentNode&&e.parentNode.removeChild(e)}function c7(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function de(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function dt(e){return document.createTextNode(e)}function dr(){return dt("")}function dn(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function di(e,t,n){e.classList.toggle(t,!!n)}function da(){if(!n)throw Error("Function called outside component initialization");return n}function ds(e){da().$$.on_mount.push(e)}function dl(){let e=da();return(t,n,{cancelable:i=!1}={})=>{let o=e.$$.callbacks[t];if(o){let a=function(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}(t,n,{cancelable:i});return o.slice().forEach(t=>{t.call(e,a)}),!a.defaultPrevented}return!0}}const du=[],dc=[];let dd=[];const dp=[],dh=/* @__PURE__ */Promise.resolve();let df=!1;function dg(e){dd.push(e)}const dm=/* @__PURE__ */new Set;let dv=0;function dy(){if(0!==dv)return;let e=n;do{try{for(;dv<du.length;){let e=du[dv];dv++,n=e,function(e){if(null!==e.fragment){e.update(),c0(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(dg)}}(e.$$)}}catch(e){throw du.length=0,dv=0,e}for(n=null,du.length=0,dv=0;dc.length;)dc.pop()();for(let e=0;e<dd.length;e+=1){let t=dd[e];dm.has(t)||(dm.add(t),t())}dd.length=0}while(du.length)for(;dp.length;)dp.pop()();df=!1,dm.clear(),n=e}const db=/* @__PURE__ */new Set;function dw(){i={r:0,c:[],p:i}}function dx(){i.r||c0(i.c),i=i.p}function dS(e,t){e&&e.i&&(db.delete(e),e.i(t))}function d_(e,t,n,o){e&&e.o?db.has(e)||(db.add(e),i.c.push(()=>{db.delete(e),o&&(n&&e.d(1),o())}),e.o(t)):o&&o()}function dE(e){return(null==e?void 0:e.length)!==void 0?e:Array.from(e)}function dT(e){e&&e.c()}function dO(e,t,n){let{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),dg(()=>{let t=e.$$.on_mount.map(cJ).filter(c1);e.$$.on_destroy?e.$$.on_destroy.push(...t):c0(t),e.$$.on_mount=[]}),o.forEach(dg)}function dI(e,t){let n=e.$$;null!==n.fragment&&(function(e){let t=[],n=[];dd.forEach(i=>-1===e.indexOf(i)?t.push(i):n.push(i)),n.forEach(e=>e()),dd=t}(n.after_update),c0(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function dP(e,t,i,o,a,s,l=null,u=[-1]){let c=n;n=e;let d=e.$$={fragment:null,ctx:[],props:s,update:cZ,not_equal:a,bound:cQ(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:cQ(),dirty:u,skip_bound:!1,root:t.target||c.$$.root};l&&l(d.root);let p=!1;if(d.ctx=i?i(e,t.props||{},(t,n,...i)=>{let o=i.length?i[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&(-1===e.$$.dirty[0]&&(du.push(e),df||(df=!0,dh.then(dy)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31)),n}):[],d.update(),p=!0,c0(d.before_update),d.fragment=!!o&&o(d.ctx),t.target){if(t.hydrate){let e=Array.from(t.target.childNodes);d.fragment&&d.fragment.l(e),e.forEach(c9)}else d.fragment&&d.fragment.c();t.intro&&dS(e.$$.fragment),dO(e,t.target,t.anchor),dy()}n=c}class dC{constructor(){s5(this,"$$"),s5(this,"$$set")}$destroy(){dI(this,1),this.$destroy=cZ}$on(e,t){if(!c1(t))return cZ;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&0!==Object.keys(e).length&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"u">typeof window&&(window.__svelte||(window.__svelte={v:/* @__PURE__ */new Set})).v.add("4");var dA=((b=dA||{})[b.WEBGL_LEGACY=0]="WEBGL_LEGACY",b[b.WEBGL=1]="WEBGL",b[b.WEBGL2=2]="WEBGL2",b),dR=((w=dR||{})[w.UNKNOWN=0]="UNKNOWN",w[w.WEBGL=1]="WEBGL",w[w.CANVAS=2]="CANVAS",w),dk=((x=dk||{})[x.COLOR=16384]="COLOR",x[x.DEPTH=256]="DEPTH",x[x.STENCIL=1024]="STENCIL",x),dD=((S=dD||{})[S.NORMAL=0]="NORMAL",S[S.ADD=1]="ADD",S[S.MULTIPLY=2]="MULTIPLY",S[S.SCREEN=3]="SCREEN",S[S.OVERLAY=4]="OVERLAY",S[S.DARKEN=5]="DARKEN",S[S.LIGHTEN=6]="LIGHTEN",S[S.COLOR_DODGE=7]="COLOR_DODGE",S[S.COLOR_BURN=8]="COLOR_BURN",S[S.HARD_LIGHT=9]="HARD_LIGHT",S[S.SOFT_LIGHT=10]="SOFT_LIGHT",S[S.DIFFERENCE=11]="DIFFERENCE",S[S.EXCLUSION=12]="EXCLUSION",S[S.HUE=13]="HUE",S[S.SATURATION=14]="SATURATION",S[S.COLOR=15]="COLOR",S[S.LUMINOSITY=16]="LUMINOSITY",S[S.NORMAL_NPM=17]="NORMAL_NPM",S[S.ADD_NPM=18]="ADD_NPM",S[S.SCREEN_NPM=19]="SCREEN_NPM",S[S.NONE=20]="NONE",S[S.SRC_OVER=0]="SRC_OVER",S[S.SRC_IN=21]="SRC_IN",S[S.SRC_OUT=22]="SRC_OUT",S[S.SRC_ATOP=23]="SRC_ATOP",S[S.DST_OVER=24]="DST_OVER",S[S.DST_IN=25]="DST_IN",S[S.DST_OUT=26]="DST_OUT",S[S.DST_ATOP=27]="DST_ATOP",S[S.ERASE=26]="ERASE",S[S.SUBTRACT=28]="SUBTRACT",S[S.XOR=29]="XOR",S),dN=((_=dN||{})[_.POINTS=0]="POINTS",_[_.LINES=1]="LINES",_[_.LINE_LOOP=2]="LINE_LOOP",_[_.LINE_STRIP=3]="LINE_STRIP",_[_.TRIANGLES=4]="TRIANGLES",_[_.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_[_.TRIANGLE_FAN=6]="TRIANGLE_FAN",_),dM=((E=dM||{})[E.RGBA=6408]="RGBA",E[E.RGB=6407]="RGB",E[E.RG=33319]="RG",E[E.RED=6403]="RED",E[E.RGBA_INTEGER=36249]="RGBA_INTEGER",E[E.RGB_INTEGER=36248]="RGB_INTEGER",E[E.RG_INTEGER=33320]="RG_INTEGER",E[E.RED_INTEGER=36244]="RED_INTEGER",E[E.ALPHA=6406]="ALPHA",E[E.LUMINANCE=6409]="LUMINANCE",E[E.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",E[E.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",E[E.DEPTH_STENCIL=34041]="DEPTH_STENCIL",E),dL=((T=dL||{})[T.TEXTURE_2D=3553]="TEXTURE_2D",T[T.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",T[T.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",T[T.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",T[T.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",T[T.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",T[T.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",T[T.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",T),dj=((O=dj||{})[O.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",O[O.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",O[O.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",O[O.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",O[O.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",O[O.UNSIGNED_INT=5125]="UNSIGNED_INT",O[O.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",O[O.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",O[O.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",O[O.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",O[O.BYTE=5120]="BYTE",O[O.SHORT=5122]="SHORT",O[O.INT=5124]="INT",O[O.FLOAT=5126]="FLOAT",O[O.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",O[O.HALF_FLOAT=36193]="HALF_FLOAT",O),dF=((I=dF||{})[I.FLOAT=0]="FLOAT",I[I.INT=1]="INT",I[I.UINT=2]="UINT",I),dB=((P=dB||{})[P.NEAREST=0]="NEAREST",P[P.LINEAR=1]="LINEAR",P),dz=((C=dz||{})[C.CLAMP=33071]="CLAMP",C[C.REPEAT=10497]="REPEAT",C[C.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",C),dU=((A=dU||{})[A.OFF=0]="OFF",A[A.POW2=1]="POW2",A[A.ON=2]="ON",A[A.ON_MANUAL=3]="ON_MANUAL",A),dW=((R=dW||{})[R.NPM=0]="NPM",R[R.UNPACK=1]="UNPACK",R[R.PMA=2]="PMA",R[R.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",R[R.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",R[R.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",R),dH=((k=dH||{})[k.NO=0]="NO",k[k.YES=1]="YES",k[k.AUTO=2]="AUTO",k[k.BLEND=0]="BLEND",k[k.CLEAR=1]="CLEAR",k[k.BLIT=2]="BLIT",k),dV=((D=dV||{})[D.AUTO=0]="AUTO",D[D.MANUAL=1]="MANUAL",D),dG=((N=dG||{}).LOW="lowp",N.MEDIUM="mediump",N.HIGH="highp",N),d$=((M=d$||{})[M.NONE=0]="NONE",M[M.SCISSOR=1]="SCISSOR",M[M.STENCIL=2]="STENCIL",M[M.SPRITE=3]="SPRITE",M[M.COLOR=4]="COLOR",M),dq=((L=dq||{})[L.NONE=0]="NONE",L[L.LOW=2]="LOW",L[L.MEDIUM=4]="MEDIUM",L[L.HIGH=8]="HIGH",L),dX=((j=dX||{})[j.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",j[j.ARRAY_BUFFER=34962]="ARRAY_BUFFER",j[j.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",j);const dY={ADAPTER:{createCanvas:(e,t)=>{let n=document.createElement("canvas");return n.width=e,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var dK=/iPhone/i,dZ=/iPod/i,dJ=/iPad/i,dQ=/\biOS-universal(?:.+)Mac\b/i,d0=/\bAndroid(?:.+)Mobile\b/i,d1=/Android/i,d2=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d3=/Silk/i,d5=/Windows Phone/i,d4=/\bWindows(?:.+)ARM\b/i,d6=/BlackBerry/i,d8=/BB10/i,d9=/Opera Mini/i,d7=/\b(CriOS|Chrome)(?:.+)Mobile/i,pe=/Mobile(?:.+)Firefox\b/i,pt=function(e){return"u">typeof e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&typeof MSStream>"u"};function pr(e){var t,n={userAgent:"",platform:"",maxTouchPoints:0};!e&&"u">typeof navigator?n={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:"string"==typeof e?n.userAgent=e:e&&e.userAgent&&(n={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var i=n.userAgent,o=i.split("[FBAN");"u">typeof o[1]&&(i=o[0]),"u">typeof(o=i.split("Twitter"))[1]&&(i=o[0]);var a=(t=i,function(e){return e.test(t)}),s={apple:{phone:a(dK)&&!a(d5),ipod:a(dZ),tablet:!a(dK)&&(a(dJ)||pt(n))&&!a(d5),universal:a(dQ),device:(a(dK)||a(dZ)||a(dJ)||a(dQ)||pt(n))&&!a(d5)},amazon:{phone:a(d2),tablet:!a(d2)&&a(d3),device:a(d2)||a(d3)},android:{phone:!a(d5)&&a(d2)||!a(d5)&&a(d0),tablet:!a(d5)&&!a(d2)&&!a(d0)&&(a(d3)||a(d1)),device:!a(d5)&&(a(d2)||a(d3)||a(d0)||a(d1))||a(/\bokhttp\b/i)},windows:{phone:a(d5),tablet:a(d4),device:a(d5)||a(d4)},other:{blackberry:a(d6),blackberry10:a(d8),opera:a(d9),firefox:a(pe),chrome:a(d7),device:a(d6)||a(d8)||a(d9)||a(pe)||a(d7)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const pn=(pr.default??pr)(globalThis.navigator);dY.RETINA_PREFIX=/@([0-9\.]+)x/,dY.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var pi="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof X?X:"u">typeof self?self:{};function po(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pa={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,i,a,s){if("function"!=typeof i)throw TypeError("The listener must be a function");var l=new o(i,a||e,s),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],l]:e._events[u].push(l):(e._events[u]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=/* @__PURE__ */Object.create(null),new i().__proto__||(n=!1)),l.prototype.eventNames=function(){var e,i,o=[];if(0===this._eventsCount)return o;for(i in e=this._events)t.call(e,i)&&o.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},l.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var o=0,a=i.length,s=Array(a);o<a;o++)s[o]=i[o].fn;return s},l.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,o,a,s){var l=n?n+e:e;if(!this._events[l])return!1;var u,c,d=this._events[l],p=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,i),!0;case 4:return d.fn.call(d.context,t,i,o),!0;case 5:return d.fn.call(d.context,t,i,o,a),!0;case 6:return d.fn.call(d.context,t,i,o,a,s),!0}for(c=1,u=Array(p-1);c<p;c++)u[c-1]=arguments[c];d.fn.apply(d.context,u)}else{var h,f=d.length;for(c=0;c<f;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),p){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,i);break;case 4:d[c].fn.call(d[c].context,t,i,o);break;default:if(!u)for(h=1,u=Array(p-1);h<p;h++)u[h-1]=arguments[h];d[c].fn.apply(d[c].context,u)}}return!0},l.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,i,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var l=this._events[a];if(l.fn)l.fn!==t||o&&!l.once||i&&l.context!==i||s(this,a);else{for(var u=0,c=[],d=l.length;u<d;u++)(l[u].fn!==t||o&&!l[u].once||i&&l[u].context!==i)&&c.push(l[u]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(pa);const ps=/* @__PURE__ */po(pa.exports);var pl={exports:{}};function pu(e,t,n){n=n||2;var i,o,a,s,l,u,c,d=t&&t.length,p=d?t[0]*n:e.length,h=pc(e,0,p,n,!0),f=[];if(!h||h.next===h.prev)return f;if(d&&(h=function(e,t,n,i){var o,a,s,l,u,c=[];for(o=0,a=t.length;o<a;o++)s=t[o]*i,l=o<a-1?t[o+1]*i:e.length,(u=pc(e,s,l,i,!1))===u.next&&(u.steiner=!0),c.push(function(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e)return n}(u));for(c.sort(pp),o=0;o<c.length;o++)n=function(e,t){var n=function(e,t){var n,i,o,a=t,s=e.x,l=e.y,u=-1/0;do{if(l<=a.y&&l>=a.next.y&&a.next.y!==a.y){var c=a.x+(l-a.y)*(a.next.x-a.x)/(a.next.y-a.y);if(c<=s&&c>u&&(u=c,o=a.x<a.next.x?a:a.next,c===s))return o}a=a.next}while(a!==t)if(!o)return null;var d,p=o,h=o.x,f=o.y,g=1/0;a=o;do s>=a.x&&a.x>=h&&s!==a.x&&pf(l<f?s:u,l,h,f,l<f?u:s,l,a.x,a.y)&&(d=Math.abs(l-a.y)/(s-a.x),pw(a,e)&&(d<g||d===g&&(a.x>o.x||a.x===o.x&&(n=o,i=a,0>pg(n.prev,n,i.prev)&&0>pg(i.next,n,n.next))))&&(o=a,g=d)),a=a.next;while(a!==p)return o}(e,t);if(!n)return t;var i=px(n,e);return pd(i,i.next),pd(n,n.next)}(c[o],n);return n}(e,t,h,n)),e.length>80*n){i=a=e[0],o=s=e[1];for(var g=n;g<p;g+=n)l=e[g],u=e[g+1],l<i&&(i=l),u<o&&(o=u),l>a&&(a=l),u>s&&(s=u);c=0!==(c=Math.max(a-i,s-o))?32767/c:0}return function e(t,n,i,o,a,s,l){if(t){!l&&s&&function(e,t,n,i){var o=e;do 0===o.z&&(o.z=ph(o.x,o.y,t,n,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e)o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,n,i,o,a,s,l,u,c=1;do{for(n=e,e=null,a=null,s=0;n;){for(s++,i=n,l=0,t=0;t<c&&(l++,i=i.nextZ);t++);for(u=c;l>0||u>0&&i;)0!==l&&(0===u||!i||n.z<=i.z)?(o=n,n=n.nextZ,l--):(o=i,i=i.nextZ,u--),a?a.nextZ=o:e=o,o.prevZ=a,a=o;n=i}a.nextZ=null,c*=2}while(s>1)}(o)}(t,o,a,s);for(var u,c,d=t;t.prev!==t.next;){if(u=t.prev,c=t.next,s?function(e,t,n,i){var o=e.prev,a=e.next;if(pg(o,e,a)>=0)return!1;for(var s=o.x,l=e.x,u=a.x,c=o.y,d=e.y,p=a.y,h=s<l?s<u?s:u:l<u?l:u,f=c<d?c<p?c:p:d<p?d:p,g=s>l?s>u?s:u:l>u?l:u,m=c>d?c>p?c:p:d>p?d:p,v=ph(h,f,t,n,i),y=ph(g,m,t,n,i),b=e.prevZ,w=e.nextZ;b&&b.z>=v&&w&&w.z<=y;){if(b.x>=h&&b.x<=g&&b.y>=f&&b.y<=m&&b!==o&&b!==a&&pf(s,c,l,d,u,p,b.x,b.y)&&pg(b.prev,b,b.next)>=0||(b=b.prevZ,w.x>=h&&w.x<=g&&w.y>=f&&w.y<=m&&w!==o&&w!==a&&pf(s,c,l,d,u,p,w.x,w.y)&&pg(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;b&&b.z>=v;){if(b.x>=h&&b.x<=g&&b.y>=f&&b.y<=m&&b!==o&&b!==a&&pf(s,c,l,d,u,p,b.x,b.y)&&pg(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=h&&w.x<=g&&w.y>=f&&w.y<=m&&w!==o&&w!==a&&pf(s,c,l,d,u,p,w.x,w.y)&&pg(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}(t,o,a,s):function(e){var t=e.prev,n=e.next;if(pg(t,e,n)>=0)return!1;for(var i=t.x,o=e.x,a=n.x,s=t.y,l=e.y,u=n.y,c=i<o?i<a?i:a:o<a?o:a,d=s<l?s<u?s:u:l<u?l:u,p=i>o?i>a?i:a:o>a?o:a,h=s>l?s>u?s:u:l>u?l:u,f=n.next;f!==t;){if(f.x>=c&&f.x<=p&&f.y>=d&&f.y<=h&&pf(i,s,o,l,a,u,f.x,f.y)&&pg(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}(t)){n.push(u.i/i|0),n.push(t.i/i|0),n.push(c.i/i|0),p_(t),t=c.next,d=c.next;continue}if((t=c)===d){l?1===l?e(t=function(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!pm(o,a)&&pv(o,i,i.next,a)&&pw(o,a)&&pw(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),p_(i),p_(i.next),i=e=a),i=i.next}while(i!==e)return pd(i)}(pd(t),n,i),n,i,o,a,s,2):2===l&&function(t,n,i,o,a,s){var l=t;do{for(var u,c,d=l.next.next;d!==l.prev;){if(l.i!==d.i&&(u=l,c=d,u.next.i!==c.i&&u.prev.i!==c.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&pv(n,n.next,e,t))return!0;n=n.next}while(n!==e)return!1}(u,c)&&(pw(u,c)&&pw(c,u)&&function(e,t){var n=e,i=!1,o=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&o<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e)return i}(u,c)&&(pg(u.prev,u,c.prev)||pg(u,c.prev,c))||pm(u,c)&&pg(u.prev,u,u.next)>0&&pg(c.prev,c,c.next)>0))){var p=px(l,d);l=pd(l,l.next),p=pd(p,p.next),e(l,n,i,o,a,s,0),e(p,n,i,o,a,s,0);return}d=d.next}l=l.next}while(l!==t)}(t,n,i,o,a,s):e(pd(t),n,i,o,a,s,1);break}}}}(h,f,n,i,o,c,0),f}function pc(e,t,n,i,o){var a,s;if(o===pT(e,t,n,i)>0)for(a=t;a<n;a+=i)s=pS(a,e[a],e[a+1],s);else for(a=n-i;a>=t;a-=i)s=pS(a,e[a],e[a+1],s);return s&&pm(s,s.next)&&(p_(s),s=s.next),s}function pd(e,t){if(!e)return e;t||(t=e);var n,i=e;do if(n=!1,!i.steiner&&(pm(i,i.next)||0===pg(i.prev,i,i.next))){if(p_(i),(i=t=i.prev)===i.next)break;n=!0}else i=i.next;while(n||i!==t)return t}function pp(e,t){return e.x-t.x}function ph(e,t,n,i,o){return(e=((e=((e=((e=((e=(e-n)*o|0)|e<<8)&0xff00ff)|e<<4)&0xf0f0f0f)|e<<2)&0x33333333)|e<<1)&0x55555555)|(t=((t=((t=((t=((t=(t-i)*o|0)|t<<8)&0xff00ff)|t<<4)&0xf0f0f0f)|t<<2)&0x33333333)|t<<1)&0x55555555)<<1}function pf(e,t,n,i,o,a,s,l){return(o-s)*(t-l)>=(e-s)*(a-l)&&(e-s)*(i-l)>=(n-s)*(t-l)&&(n-s)*(a-l)>=(o-s)*(i-l)}function pg(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function pm(e,t){return e.x===t.x&&e.y===t.y}function pv(e,t,n,i){var o=pb(pg(e,t,n)),a=pb(pg(e,t,i)),s=pb(pg(n,i,e)),l=pb(pg(n,i,t));return!!(o!==a&&s!==l||0===o&&py(e,n,t)||0===a&&py(e,i,t)||0===s&&py(n,e,i)||0===l&&py(n,t,i))}function py(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function pb(e){return e>0?1:e<0?-1:0}function pw(e,t){return 0>pg(e.prev,e,e.next)?pg(e,t,e.next)>=0&&pg(e,e.prev,t)>=0:0>pg(e,t,e.prev)||0>pg(e,e.next,t)}function px(e,t){var n=new pE(e.i,e.x,e.y),i=new pE(t.i,t.x,t.y),o=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=o,o.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function pS(e,t,n,i){var o=new pE(e,t,n);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function p_(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function pE(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pT(e,t,n,i){for(var o=0,a=t,s=n-i;a<n;a+=i)o+=(e[s]-e[a])*(e[a+1]+e[s+1]),s=a;return o}pl.exports=pu,pl.exports.default=pu,pu.deviation=function(e,t,n,i){var o=t&&t.length,a=o?t[0]*n:e.length,s=Math.abs(pT(e,0,a,n));if(o)for(var l=0,u=t.length;l<u;l++){var c=t[l]*n,d=l<u-1?t[l+1]*n:e.length;s-=Math.abs(pT(e,c,d,n))}var p=0;for(l=0;l<i.length;l+=3){var h=i[l]*n,f=i[l+1]*n,g=i[l+2]*n;p+=Math.abs((e[h]-e[g])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[g+1]-e[h+1]))}return 0===s&&0===p?0:Math.abs((p-s)/s)},pu.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,o=0;o<e.length;o++){for(var a=0;a<e[o].length;a++)for(var s=0;s<t;s++)n.vertices.push(e[o][a][s]);o>0&&(i+=e[o-1].length,n.holes.push(i))}return n};const pO=/* @__PURE__ */po(pl.exports);var pI={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */pI.exports,pP=pI.exports,function(e){var t=pP&&!pP.nodeType&&pP,n=pI&&!pI.nodeType&&pI,i="object"==typeof pi&&pi;(i.global===i||i.window===i||i.self===i)&&(e=i);var o,a,s=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function h(e){throw RangeError(c[e])}function f(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function g(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+f((e=e.replace(u,".")).split("."),t).join(".")}function m(e){for(var t,n,i=[],o=0,a=e.length;o<a;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<a?(64512&(n=e.charCodeAt(o++)))==56320?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--):i.push(t);return i}function v(e){return f(e,function(e){var t="";return e>65535&&(e-=65536,t+=p(e>>>10&1023|55296),e=56320|1023&e),t+=p(e)}).join("")}function y(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var i=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;i+=36)e=d(e/35);return d(i+36*e/(e+38))}function w(e){var t,n,i,o,a,s,l,u,c,p,f,g=[],m=e.length,y=0,w=128,x=72;for((i=e.lastIndexOf("-"))<0&&(i=0),o=0;o<i;++o)e.charCodeAt(o)>=128&&h("not-basic"),g.push(e.charCodeAt(o));for(a=i>0?i+1:0;a<m;){for(s=y,l=1,u=36;a>=m&&h("invalid-input"),((c=(t=e.charCodeAt(a++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36)>=36||c>d((0x7fffffff-y)/l))&&h("overflow"),y+=c*l,!(c<(p=u<=x?1:u>=x+26?26:u-x));u+=36)l>d(0x7fffffff/(f=36-p))&&h("overflow"),l*=f;x=b(y-s,n=g.length+1,0==s),d(y/n)>0x7fffffff-w&&h("overflow"),w+=d(y/n),y%=n,g.splice(y++,0,w)}return v(g)}function x(e){var t,n,i,o,a,s,l,u,c,f,g,v,w,x,S,_=[];for(v=(e=m(e)).length,t=128,n=0,a=72,s=0;s<v;++s)(g=e[s])<128&&_.push(p(g));for(i=o=_.length,o&&_.push("-");i<v;){for(l=0x7fffffff,s=0;s<v;++s)(g=e[s])>=t&&g<l&&(l=g);for(l-t>d((0x7fffffff-n)/(w=i+1))&&h("overflow"),n+=(l-t)*w,t=l,s=0;s<v;++s)if((g=e[s])<t&&++n>0x7fffffff&&h("overflow"),g==t){for(u=n,c=36;!(u<(f=c<=a?1:c>=a+26?26:c-a));c+=36)S=u-f,x=36-f,_.push(p(y(f+S%x,0))),u=d(S/x);_.push(p(y(u,0))),a=b(n,w,i==o),n=0,++i}++n,++t}return _.join("")}if(o={version:"1.4.1",ucs2:{decode:m,encode:v},decode:w,encode:x,toASCII:function(e){return g(e,function(e){return l.test(e)?"xn--"+x(e):e})},toUnicode:function(e){return g(e,function(e){return s.test(e)?w(e.slice(4).toLowerCase()):e})}},t&&n){if(pI.exports==t)n.exports=o;else for(a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}else e.punycode=o}(pi);var pP,pC,pA=pI.exports,pR=Error,pk=EvalError,pD=RangeError,pN=ReferenceError,pM=SyntaxError,pL=TypeError,pj=URIError,pF="u">typeof Symbol&&Symbol,pB={__proto__:null,foo:{}},pz=Object,pU=Object.prototype.toString,pW=Math.max,pH=function(e,t){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n},pV=function(e,t){for(var n=[],i=t,o=0;i<e.length;i+=1,o+=1)n[o]=e[i];return n},pG=function(e,t){for(var n="",i=0;i<e.length;i+=1)n+=e[i],i+1<e.length&&(n+=t);return n},p$=Function.prototype.bind||function(e){var t=this;if("function"!=typeof t||"[object Function]"!==pU.apply(t))throw TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=pV(arguments,1),o=pW(0,t.length-i.length),a=[],s=0;s<o;s++)a[s]="$"+s;if(n=Function("binder","return function ("+pG(a,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var o=t.apply(this,pH(i,arguments));return Object(o)===o?o:this}return t.apply(e,pH(i,arguments))}),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n},pq=Function.prototype.call,pX=Object.prototype.hasOwnProperty,pY=p$.call(pq,pX),pK=Function,pZ=function(e){try{return pK('"use strict"; return ('+e+").constructor;")()}catch{}},pJ=Object.getOwnPropertyDescriptor;if(pJ)try{pJ({},"")}catch{pJ=null}var pQ=function(){throw new pL},p0=pJ?function(){try{return arguments.callee,pQ}catch{try{return pJ(arguments,"callee").get}catch{return pQ}}}():pQ,p1="function"==typeof pF&&"function"==typeof Symbol&&"symbol"==typeof pF("foo")&&"symbol"==typeof Symbol("bar")&&function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}(),p2={__proto__:pB}.foo===pB.foo&&!(pB instanceof pz),p3=Object.getPrototypeOf||(p2?function(e){return e.__proto__}:null),p5={},p4=typeof Uint8Array>"u"||!p3?pC:p3(Uint8Array),p6={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?pC:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?pC:ArrayBuffer,"%ArrayIteratorPrototype%":p1&&p3?p3([][Symbol.iterator]()):pC,"%AsyncFromSyncIteratorPrototype%":pC,"%AsyncFunction%":p5,"%AsyncGenerator%":p5,"%AsyncGeneratorFunction%":p5,"%AsyncIteratorPrototype%":p5,"%Atomics%":typeof Atomics>"u"?pC:Atomics,"%BigInt%":typeof BigInt>"u"?pC:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?pC:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?pC:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?pC:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":pR,"%eval%":eval,"%EvalError%":pk,"%Float32Array%":typeof Float32Array>"u"?pC:Float32Array,"%Float64Array%":typeof Float64Array>"u"?pC:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?pC:FinalizationRegistry,"%Function%":pK,"%GeneratorFunction%":p5,"%Int8Array%":typeof Int8Array>"u"?pC:Int8Array,"%Int16Array%":typeof Int16Array>"u"?pC:Int16Array,"%Int32Array%":typeof Int32Array>"u"?pC:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p1&&p3?p3(p3([][Symbol.iterator]())):pC,"%JSON%":"object"==typeof JSON?JSON:pC,"%Map%":typeof Map>"u"?pC:Map,"%MapIteratorPrototype%":!(typeof Map>"u")&&p1&&p3?p3(/* @__PURE__ */new Map()[Symbol.iterator]()):pC,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?pC:Promise,"%Proxy%":typeof Proxy>"u"?pC:Proxy,"%RangeError%":pD,"%ReferenceError%":pN,"%Reflect%":typeof Reflect>"u"?pC:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?pC:Set,"%SetIteratorPrototype%":!(typeof Set>"u")&&p1&&p3?p3(/* @__PURE__ */new Set()[Symbol.iterator]()):pC,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?pC:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p1&&p3?p3(""[Symbol.iterator]()):pC,"%Symbol%":p1?Symbol:pC,"%SyntaxError%":pM,"%ThrowTypeError%":p0,"%TypedArray%":p4,"%TypeError%":pL,"%Uint8Array%":typeof Uint8Array>"u"?pC:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?pC:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?pC:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?pC:Uint32Array,"%URIError%":pj,"%WeakMap%":typeof WeakMap>"u"?pC:WeakMap,"%WeakRef%":typeof WeakRef>"u"?pC:WeakRef,"%WeakSet%":typeof WeakSet>"u"?pC:WeakSet};if(p3)try{null.error}catch(e){var p8=p3(p3(e));p6["%Error.prototype%"]=p8}var p9,p7,he=function e(t){var n;if("%AsyncFunction%"===t)n=pZ("async function () {}");else if("%GeneratorFunction%"===t)n=pZ("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=pZ("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&p3&&(n=p3(o.prototype))}return p6[t]=n,n},ht={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hr=p$.call(Function.call,Array.prototype.concat),hn=p$.call(Function.apply,Array.prototype.splice),hi=p$.call(Function.call,String.prototype.replace),ho=p$.call(Function.call,String.prototype.slice),ha=p$.call(Function.call,RegExp.prototype.exec),hs=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,hl=/\\(\\)?/g,hu=function(e){var t=ho(e,0,1),n=ho(e,-1);if("%"===t&&"%"!==n)throw new pM("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new pM("invalid intrinsic syntax, expected opening `%`");var i=[];return hi(e,hs,function(e,t,n,o){i[i.length]=n?hi(o,hl,"$1"):t||e}),i},hc=function(e,t){var n,i=e;if(pY(ht,i)&&(i="%"+(n=ht[i])[0]+"%"),pY(p6,i)){var o=p6[i];if(o===p5&&(o=he(i)),typeof o>"u"&&!t)throw new pL("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new pM("intrinsic "+e+" does not exist!")},hd=function(e,t){if("string"!=typeof e||0===e.length)throw new pL("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new pL('"allowMissing" argument must be a boolean');if(null===ha(/^%?[^%]*%?$/,e))throw new pM("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=hu(e),i=n.length>0?n[0]:"",o=hc("%"+i+"%",t),a=o.name,s=o.value,l=!1,u=o.alias;u&&(i=u[0],hn(n,hr([0,1],u)));for(var c=1,d=!0;c<n.length;c+=1){var p=n[c],h=ho(p,0,1),f=ho(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===f||"'"===f||"`"===f)&&h!==f)throw new pM("property names with quotes must have matching quotes");if("constructor"!==p&&d||(l=!0),i+="."+p,pY(p6,a="%"+i+"%"))s=p6[a];else if(null!=s){if(!(p in s)){if(!t)throw new pL("base intrinsic for "+e+" exists, but the property is not available.");return}if(pJ&&c+1>=n.length){var g=pJ(s,p);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[p]}else d=pY(s,p),s=s[p];d&&!l&&(p6[a]=s)}}return s},hp={exports:{}};function hh(){if(p7)return p9;p7=1;var e=hd("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return p9=e}var hf=hd("%Object.getOwnPropertyDescriptor%",!0);if(hf)try{hf([],"length")}catch{hf=null}var hg=hf,hm=hh(),hv=hh(),hy=function(){return!!hv};hy.hasArrayLengthDefineBug=function(){if(!hv)return null;try{return 1!==hv([],"length",{value:1}).length}catch{return!0}};var hb=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new pL("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new pL("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new pL("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new pL("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new pL("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new pL("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],l=!!hg&&hg(e,t);if(hm)hm(e,t,{configurable:null===a&&l?l.configurable:!a,enumerable:null===i&&l?l.enumerable:!i,value:n,writable:null===o&&l?l.writable:!o});else if(!s&&(i||o||a))throw new pM("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=n},hw=hy(),hx=hd("%Math.floor%"),hS=function(e,t){if("function"!=typeof e)throw new pL("`fn` is not a function");if("number"!=typeof t||t<0||t>0xffffffff||hx(t)!==t)throw new pL("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&hg){var a=hg(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(o=!1)}return(i||o||!n)&&(hw?hb(e,"length",t,!0,!0):hb(e,"length",t)),e};xE=hd("%Function.prototype.apply%"),xT=hd("%Function.prototype.call%"),xO=hd("%Reflect.apply%",!0)||p$.call(xT,xE),xI=hh(),xP=hd("%Math.max%"),hp.exports=function(e){if("function"!=typeof e)throw new pL("a function is required");var t=xO(p$,xT,arguments);return hS(t,1+xP(0,e.length-(arguments.length-1)),!0)},xC=function(){return xO(p$,xE,arguments)},xI?xI(hp.exports,"apply",{value:xC}):hp.exports.apply=xC;var h_=hp.exports,hE=h_(hd("String.prototype.indexOf"));const hT=/* @__PURE__ */function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}(/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var hO="function"==typeof Map&&Map.prototype,hI=Object.getOwnPropertyDescriptor&&hO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hP=hO&&hI&&"function"==typeof hI.get?hI.get:null,hC=hO&&Map.prototype.forEach,hA="function"==typeof Set&&Set.prototype,hR=Object.getOwnPropertyDescriptor&&hA?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hk=hA&&hR&&"function"==typeof hR.get?hR.get:null,hD=hA&&Set.prototype.forEach,hN="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,hM="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,hL="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,hj=Boolean.prototype.valueOf,hF=Object.prototype.toString,hB=Function.prototype.toString,hz=String.prototype.match,hU=String.prototype.slice,hW=String.prototype.replace,hH=String.prototype.toUpperCase,hV=String.prototype.toLowerCase,hG=RegExp.prototype.test,h$=Array.prototype.concat,hq=Array.prototype.join,hX=Array.prototype.slice,hY=Math.floor,hK="function"==typeof BigInt?BigInt.prototype.valueOf:null,hZ=Object.getOwnPropertySymbols,hJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hQ="function"==typeof Symbol&&"object"==typeof Symbol.iterator,h0="function"==typeof Symbol&&Symbol.toStringTag?Symbol.toStringTag:null,h1=Object.prototype.propertyIsEnumerable,h2=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function h3(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||hG.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-hY(-e):hY(e);if(i!==e){var o=String(i),a=hU.call(t,o.length+1);return hW.call(o,n,"$&_")+"."+hW.call(hW.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return hW.call(t,n,"$&_")}var h5=hT.custom,h4=h7(h5)?h5:null;function h6(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function h8(e){return"[object Array]"===fr(e)&&(!h0||!("object"==typeof e&&h0 in e))}function h9(e){return"[object RegExp]"===fr(e)&&(!h0||!("object"==typeof e&&h0 in e))}function h7(e){if(hQ)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!hJ)return!1;try{return hJ.call(e),!0}catch{}return!1}var fe=Object.prototype.hasOwnProperty||function(e){return e in this};function ft(e,t){return fe.call(e,t)}function fr(e){return hF.call(e)}function fn(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return -1}function fi(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+hH.call(t.toString(16))}function fo(e){return"Object("+e+")"}function fa(e){return e+" { ? }"}function fs(e,t,n,i){return e+" ("+t+") {"+(i?fl(n,i):hq.call(n,", "))+"}"}function fl(e,t){if(0===e.length)return"";var n=`
`+t.prev+t.base;return n+hq.call(e,","+n)+`
`+t.prev}function fu(e,t){var n=h8(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=ft(e,o)?t(e[o],e):""}var a,s="function"==typeof hZ?hZ(e):[];if(hQ){a={};for(var l=0;l<s.length;l++)a["$"+s[l]]=s[l]}for(var u in e)ft(e,u)&&(n&&String(Number(u))===u&&u<e.length||hQ&&a["$"+u]instanceof Symbol||(hG.call(/[^\w$]/,u)?i.push(t(u,e)+": "+t(e[u],e)):i.push(u+": "+t(e[u],e))));if("function"==typeof hZ)for(var c=0;c<s.length;c++)h1.call(e,s[c])&&i.push("["+t(s[c])+"]: "+t(e[s[c]],e));return i}var fc=function(e,t){var n=hd(e,!!t);return"function"==typeof n&&hE(e,".prototype.")>-1?h_(n):n},fd=function e(t,n,i,o){var a=n||{};if(ft(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(ft(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!ft(a,"customInspect")||a.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ft(a,"indent")&&null!==a.indent&&"	"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ft(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=a.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var i=t.length-n.maxStringLength;return e(hU.call(t,0,n.maxStringLength),n)+"... "+i+" more character"+(i>1?"s":"")}return h6(hW.call(hW.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,fi),"single",n)}(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var u=String(t);return l?h3(t,u):u}if("bigint"==typeof t){var c=String(t)+"n";return l?h3(t,c):c}var d=typeof a.depth>"u"?5:a.depth;if(typeof i>"u"&&(i=0),i>=d&&d>0&&"object"==typeof t)return h8(t)?"[Array]":"[Object]";var p=function(e,t){var n;if("	"===e.indent)n="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;n=hq.call(Array(e.indent+1)," ")}return{base:n,prev:hq.call(Array(t+1),n)}}(a,i);if(typeof o>"u")o=[];else if(fn(o,t)>=0)return"[Circular]";function h(t,n,s){if(n&&(o=hX.call(o)).push(n),s){var l={depth:a.depth};return ft(a,"quoteStyle")&&(l.quoteStyle=a.quoteStyle),e(t,l,i+1,o)}return e(t,a,i+1,o)}if("function"==typeof t&&!h9(t)){var f=function(e){if(e.name)return e.name;var t=hz.call(hB.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),g=fu(t,h);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(g.length>0?" { "+hq.call(g,", ")+" }":"")}if(h7(t)){var m=hQ?hW.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):hJ.call(t);return"object"!=typeof t||hQ?m:fo(m)}if(t&&"object"==typeof t&&("u">typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var v,y="<"+hV.call(String(t.nodeName)),b=t.attributes||[],w=0;w<b.length;w++)y+=" "+b[w].name+"="+h6((v=b[w].value,hW.call(String(v),/"/g,"&quot;")),"double",a);return y+=">",t.childNodes&&t.childNodes.length&&(y+="..."),y+="</"+hV.call(String(t.nodeName))+">"}if(h8(t)){if(0===t.length)return"[]";var x=fu(t,h);return p&&!function(e){for(var t=0;t<e.length;t++)if(fn(e[t],`
`)>=0)return!1;return!0}(x)?"["+fl(x,p)+"]":"[ "+hq.call(x,", ")+" ]"}if("[object Error]"===fr(t)&&(!h0||!("object"==typeof t&&h0 in t))){var S=fu(t,h);return"cause"in Error.prototype||!("cause"in t)||h1.call(t,"cause")?0===S.length?"["+String(t)+"]":"{ ["+String(t)+"] "+hq.call(S,", ")+" }":"{ ["+String(t)+"] "+hq.call(h$.call("[cause]: "+h(t.cause),S),", ")+" }"}if("object"==typeof t&&s){if(h4&&"function"==typeof t[h4]&&hT)return hT(t,{depth:d-i});if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!hP||!e||"object"!=typeof e)return!1;try{hP.call(e);try{hk.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}(t)){var _=[];return hC&&hC.call(t,function(e,n){_.push(h(n,t,!0)+" => "+h(e,t))}),fs("Map",hP.call(t),_,p)}if(function(e){if(!hk||!e||"object"!=typeof e)return!1;try{hk.call(e);try{hP.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}(t)){var E=[];return hD&&hD.call(t,function(e){E.push(h(e,t))}),fs("Set",hk.call(t),E,p)}if(function(e){if(!hN||!e||"object"!=typeof e)return!1;try{hN.call(e,hN);try{hM.call(e,hM)}catch{return!0}return e instanceof WeakMap}catch{}return!1}(t))return fa("WeakMap");if(function(e){if(!hM||!e||"object"!=typeof e)return!1;try{hM.call(e,hM);try{hN.call(e,hN)}catch{return!0}return e instanceof WeakSet}catch{}return!1}(t))return fa("WeakSet");if(function(e){if(!hL||!e||"object"!=typeof e)return!1;try{return hL.call(e),!0}catch{}return!1}(t))return fa("WeakRef");if("[object Number]"===fr(t)&&(!h0||!("object"==typeof t&&h0 in t)))return fo(h(Number(t)));if(function(e){if(!e||"object"!=typeof e||!hK)return!1;try{return hK.call(e),!0}catch{}return!1}(t))return fo(h(hK.call(t)));if("[object Boolean]"===fr(t)&&(!h0||!("object"==typeof t&&h0 in t)))return fo(hj.call(t));if("[object String]"===fr(t)&&(!h0||!("object"==typeof t&&h0 in t)))return fo(h(String(t)));if("u">typeof window&&t===window)return"{ [object Window] }";if("u">typeof globalThis&&t===globalThis||"u">typeof pi&&t===pi)return"{ [object globalThis] }";if(!("[object Date]"===fr(t)&&(!h0||!("object"==typeof t&&h0 in t)))&&!h9(t)){var T=fu(t,h),O=h2?h2(t)===Object.prototype:t instanceof Object||t.constructor===Object,I=t instanceof Object?"":"null prototype",P=!O&&h0&&Object(t)===t&&h0 in t?hU.call(fr(t),8,-1):I?"Object":"",C=(O||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(P||I?"["+hq.call(h$.call([],P||[],I||[]),": ")+"] ":"");return 0===T.length?C+"{}":p?C+"{"+fl(T,p)+"}":C+"{ "+hq.call(T,", ")+" }"}return String(t)},fp=hd("%WeakMap%",!0),fh=hd("%Map%",!0),ff=fc("WeakMap.prototype.get",!0),fg=fc("WeakMap.prototype.set",!0),fm=fc("WeakMap.prototype.has",!0),fv=fc("Map.prototype.get",!0),fy=fc("Map.prototype.set",!0),fb=fc("Map.prototype.has",!0),fw=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n},fx=function(e,t){var n=fw(e,t);return n&&n.value},fS=function(e,t,n){var i=fw(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}},f_=String.prototype.replace,fE=/%20/g,fT={default:"RFC3986",formatters:{RFC1738:function(e){return f_.call(e,fE,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738"},fO=Object.prototype.hasOwnProperty,fI=Array.isArray,fP=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),fC=function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(fI(n)){for(var i=[],o=0;o<n.length;++o)"u">typeof n[o]&&i.push(n[o]);t.obj[t.prop]=i}}},fA=function(e,t){for(var n=t&&t.plainObjects?/* @__PURE__ */Object.create(null):{},i=0;i<e.length;++i)"u">typeof e[i]&&(n[i]=e[i]);return n},fR={combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var o=t[i],a=o.obj[o.prop],s=Object.keys(a),l=0;l<s.length;++l){var u=s[l],c=a[u];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:u}),n.push(c))}return fC(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",l=0;l<a.length;l+=1024){for(var u=a.length>=1024?a.slice(l,l+1024):a,c=[],d=0;d<u.length;++d){var p=u.charCodeAt(d);if(45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===fT.RFC1738&&(40===p||41===p)){c[c.length]=u.charAt(d);continue}if(p<128){c[c.length]=fP[p];continue}if(p<2048){c[c.length]=fP[192|p>>6]+fP[128|63&p];continue}if(p<55296||p>=57344){c[c.length]=fP[224|p>>12]+fP[128|p>>6&63]+fP[128|63&p];continue}d+=1,p=65536+((1023&p)<<10|1023&u.charCodeAt(d)),c[c.length]=fP[240|p>>18]+fP[128|p>>12&63]+fP[128|p>>6&63]+fP[128|63&p]}s+=c.join("")}return s},isBuffer:function(e){return!!e&&"object"==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(fI(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(fI(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!fO.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var o=t;return fI(t)&&!fI(n)&&(o=fA(t,i)),fI(t)&&fI(n)?(n.forEach(function(n,o){if(fO.call(t,o)){var a=t[o];a&&"object"==typeof a&&n&&"object"==typeof n?t[o]=e(a,n,i):t.push(n)}else t[o]=n}),t):Object.keys(n).reduce(function(t,o){var a=n[o];return fO.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t},o)}},fk=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new pL("Side channel does not contain "+fd(e))},get:function(i){if(fp&&i&&("object"==typeof i||"function"==typeof i)){if(e)return ff(e,i)}else if(fh){if(t)return fv(t,i)}else if(n)return fx(n,i)},has:function(i){if(fp&&i&&("object"==typeof i||"function"==typeof i)){if(e)return fm(e,i)}else if(fh){if(t)return fb(t,i)}else if(n)return!!fw(n,i);return!1},set:function(i,o){fp&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new fp),fg(e,i,o)):fh?(t||(t=new fh),fy(t,i,o)):(n||(n={key:{},next:null}),fS(n,i,o))}};return i},fD=Object.prototype.hasOwnProperty,fN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},fM=Array.isArray,fL=Array.prototype.push,fj=function(e,t){fL.apply(e,fM(t)?t:[t])},fF=Date.prototype.toISOString,fB=fT.default,fz={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:fR.encode,encodeValuesOnly:!1,format:fB,formatter:fT.formatters[fB],indices:!1,serializeDate:function(e){return fF.call(e)},skipNulls:!1,strictNullHandling:!1},fU={},fW=function e(t,n,i,o,a,s,l,u,c,d,p,h,f,g,m,v,y,b){for(var w,x,S=t,_=b,E=0,T=!1;void 0!==(_=_.get(fU))&&!T;){var O=_.get(t);if(E+=1,"u">typeof O){if(O===E)throw RangeError("Cyclic object value");T=!0}typeof _.get(fU)>"u"&&(E=0)}if("function"==typeof d?S=d(n,S):S instanceof Date?S=f(S):"comma"===i&&fM(S)&&(S=fR.maybeMap(S,function(e){return e instanceof Date?f(e):e})),null===S){if(s)return c&&!v?c(n,fz.encoder,y,"key",g):n;S=""}if("string"==typeof(w=S)||"number"==typeof w||"boolean"==typeof w||"symbol"==typeof w||"bigint"==typeof w||fR.isBuffer(S))return c?[m(v?n:c(n,fz.encoder,y,"key",g))+"="+m(c(S,fz.encoder,y,"value",g))]:[m(n)+"="+m(String(S))];var I=[];if(typeof S>"u")return I;if("comma"===i&&fM(S))v&&c&&(S=fR.maybeMap(S,c)),x=[{value:S.length>0?S.join(",")||null:void 0}];else if(fM(d))x=d;else{var P=Object.keys(S);x=p?P.sort(p):P}var C=u?n.replace(/\./g,"%2E"):n,A=o&&fM(S)&&1===S.length?C+"[]":C;if(a&&fM(S)&&0===S.length)return A+"[]";for(var R=0;R<x.length;++R){var k=x[R],D="object"==typeof k&&"u">typeof k.value?k.value:S[k];if(!(l&&null===D)){var N=h&&u?k.replace(/\./g,"%2E"):k,M=fM(S)?"function"==typeof i?i(A,N):A:A+(h?"."+N:"["+N+"]");b.set(t,E);var L=fk();L.set(fU,b),fj(I,e(D,M,i,o,a,s,l,u,"comma"===i&&v&&fM(S)?null:c,d,p,h,f,g,m,v,y,L))}}return I},fH=function(e){if(!e)return fz;if("u">typeof e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("u">typeof e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"u">typeof e.encoder&&"function"!=typeof e.encoder)throw TypeError("Encoder has to be a function.");var t,n=e.charset||fz.charset;if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=fT.default;if("u">typeof e.format){if(!fD.call(fT.formatters,e.format))throw TypeError("Unknown format option provided.");i=e.format}var o=fT.formatters[i],a=fz.filter;if(("function"==typeof e.filter||fM(e.filter))&&(a=e.filter),t=e.arrayFormat in fN?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":fz.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?!0===e.encodeDotInKeys||fz.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:fz.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:fz.allowEmptyArrays,arrayFormat:t,charset:n,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:fz.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?fz.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:fz.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:fz.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:fz.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:fz.encodeValuesOnly,filter:a,format:i,formatter:o,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:fz.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:fz.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:fz.strictNullHandling}},fV=Object.prototype.hasOwnProperty,fG=Array.isArray,f$={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:fR.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},fq=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},fX=function(e,t){var n={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var o,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),l=-1,u=t.charset;if(t.charsetSentinel)for(o=0;o<s.length;++o)0===s[o].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[o]?u="utf-8":"utf8=%26%2310003%3B"===s[o]&&(u="iso-8859-1"),l=o,o=s.length);for(o=0;o<s.length;++o)if(o!==l){var c,d,p=s[o],h=p.indexOf("]="),f=-1===h?p.indexOf("="):h+1;-1===f?(c=t.decoder(p,f$.decoder,u,"key"),d=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,f),f$.decoder,u,"key"),d=fR.maybeMap(fq(p.slice(f+1),t),function(e){return t.decoder(e,f$.decoder,u,"value")})),d&&t.interpretNumericEntities&&"iso-8859-1"===u&&(d=d.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),p.indexOf("[]=")>-1&&(d=fG(d)?[d]:d);var g=fV.call(n,c);g&&"combine"===t.duplicates?n[c]=fR.combine(n[c],d):g&&"last"!==t.duplicates||(n[c]=d)}return n},fY=function(e,t,n,i){for(var o=i?t:fq(t,n),a=e.length-1;a>=0;--a){var s,l=e[a];if("[]"===l&&n.parseArrays)s=n.allowEmptyArrays&&(""===o||n.strictNullHandling&&null===o)?[]:[].concat(o);else{s=n.plainObjects?/* @__PURE__ */Object.create(null):{};var u="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);n.parseArrays||""!==c?!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(s=[])[d]=o:"__proto__"!==c&&(s[c]=o):s={0:o}}o=s}return o},fK=function(e,t,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),l=s?o.slice(0,s.index):o,u=[];if(l){if(!n.plainObjects&&fV.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var c=0;n.depth>0&&null!==(s=a.exec(o))&&c<n.depth;){if(c+=1,!n.plainObjects&&fV.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}if(s){if(!0===n.strictDepth)throw RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");u.push("["+o.slice(s.index)+"]")}return fY(u,t,n,i)}},fZ=function(e){if(!e)return f$;if("u">typeof e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("u">typeof e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"u">typeof e.decoder&&"function"!=typeof e.decoder)throw TypeError("Decoder has to be a function.");if("u">typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?f$.charset:e.charset,n=typeof e.duplicates>"u"?f$.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof e.allowDots>"u"?!0===e.decodeDotInKeys||f$.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f$.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:f$.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:f$.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:f$.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f$.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:f$.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:f$.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:f$.decoder,delimiter:"string"==typeof e.delimiter||fR.isRegExp(e.delimiter)?e.delimiter:f$.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:f$.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:f$.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:f$.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:f$.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:f$.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f$.strictNullHandling}};function fJ(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var fQ=/^([a-z0-9.+-]+:)/i,f0=/:[0-9]*$/,f1=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,f2=["'"].concat(["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"])),f3=["%","/","?",";","#"].concat(f2),f5=["/","?","#"],f4=/^[+a-z0-9A-Z_-]{0,63}$/,f6=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f8={javascript:!0,"javascript:":!0},f9={javascript:!0,"javascript:":!0},f7={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ge={parse:function(e,t){var n=fZ(t);if(""===e||null===e||typeof e>"u")return n.plainObjects?/* @__PURE__ */Object.create(null):{};for(var i="string"==typeof e?fX(e,n):e,o=n.plainObjects?/* @__PURE__ */Object.create(null):{},a=Object.keys(i),s=0;s<a.length;++s){var l=a[s],u=fK(l,i[l],n,"string"==typeof e);o=fR.merge(o,u,n)}return!0===n.allowSparse?o:fR.compact(o)},stringify:function(e,t){var n,i=e,o=fH(t);"function"==typeof o.filter?i=(0,o.filter)("",i):fM(o.filter)&&(n=o.filter);var a=[];if("object"!=typeof i||null===i)return"";var s=fN[o.arrayFormat],l="comma"===s&&o.commaRoundTrip;n||(n=Object.keys(i)),o.sort&&n.sort(o.sort);for(var u=fk(),c=0;c<n.length;++c){var d=n[c];o.skipNulls&&null===i[d]||fj(a,fW(i[d],d,s,l,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,u))}var p=a.join(o.delimiter),h=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""}};fJ.prototype.parse=function(e,t,n){if("string"!=typeof e)throw TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",a=e.split(o);a[0]=a[0].replace(/\\/g,"/");var s=e=a.join(o);if(s=s.trim(),!n&&1===e.split("#").length){var l=f1.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=ge.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=fQ.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@/]+@[^@/]+/)){var d="//"===s.substr(0,2);d&&!(u&&f9[u])&&(s=s.substr(2),this.slashes=!0)}if(!f9[u]&&(d||u&&!f7[u])){for(var p,h,f=-1,g=0;g<f5.length;g++){var m=s.indexOf(f5[g]);-1!==m&&(-1===f||m<f)&&(f=m)}-1!==(h=-1===f?s.lastIndexOf("@"):s.lastIndexOf("@",f))&&(p=s.slice(0,h),s=s.slice(h+1),this.auth=decodeURIComponent(p)),f=-1;for(var g=0;g<f3.length;g++){var m=s.indexOf(f3[g]);-1!==m&&(-1===f||m<f)&&(f=m)}-1===f&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),g=0,b=y.length;g<b;g++){var w=y[g];if(w&&!w.match(f4)){for(var x="",S=0,_=w.length;S<_;S++)w.charCodeAt(S)>127?x+="x":x+=w[S];if(!x.match(f4)){var E=y.slice(0,g),T=y.slice(g+1),O=w.match(f6);O&&(E.push(O[1]),T.unshift(O[2])),T.length&&(s="/"+T.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=pA.toASCII(this.hostname));var I=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+I,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!f8[c])for(var g=0,b=f2.length;g<b;g++){var C=f2[g];if(-1!==s.indexOf(C)){var A=encodeURIComponent(C);A===C&&(A=escape(C)),s=s.split(C).join(A)}}var R=s.indexOf("#");-1!==R&&(this.hash=s.substr(R),s=s.slice(0,R));var k=s.indexOf("?");if(-1!==k?(this.search=s.substr(k),this.query=s.substr(k+1),t&&(this.query=ge.parse(this.query)),s=s.slice(0,k)):t&&(this.search="",this.query={}),s&&(this.pathname=s),f7[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var I=this.pathname||"",D=this.search||"";this.path=I+D}return this.href=this.format(),this},fJ.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":")+"@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=ge.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||f7[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+i},fJ.prototype.resolve=function(e){return this.resolveObject(function(e,t,n){if(e&&"object"==typeof e&&e instanceof fJ)return e;var i=new fJ;return i.parse(e,t,n),i}(e,!1,!0)).format()},fJ.prototype.resolveObject=function(e){if("string"==typeof e){var t=new fJ;t.parse(e,!1,!0),e=t}for(var n=new fJ,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var u=s[l];"protocol"!==u&&(n[u]=e[u])}return f7[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!f7[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var p=c[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||f9[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",g=n.search||"";n.path=f+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||m||n.host&&e.pathname,b=y,w=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],x=n.protocol&&!f7[n.protocol];if(x&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),y=y&&(""===h[0]||""===w[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(null!=e.search){if(x){n.host=w.shift(),n.hostname=n.host;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return n.search=e.search,n.query=e.query,(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var _=w.slice(-1)[0],E=(n.host||e.host||w.length>1)&&("."===_||".."===_)||""===_,T=0,O=w.length;O>=0;O--)"."===(_=w[O])?w.splice(O,1):".."===_?(w.splice(O,1),T++):T&&(w.splice(O,1),T--);if(!y&&!b)for(;T--;T)w.unshift("..");y&&""!==w[0]&&(!w[0]||"/"!==w[0].charAt(0))&&w.unshift(""),E&&"/"!==w.join("/").substr(-1)&&w.push("");var I=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(x){n.hostname=I?"":w.length?w.shift():"",n.host=n.hostname;var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.hostname=S.shift(),n.host=n.hostname)}return(y=y||n.host&&w.length)&&!I&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),(null!==n.pathname||null!==n.search)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},fJ.prototype.parseHost=function(){var e=this.host,t=f0.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const gt={};function gr(e,t,n=3){if(gt[t])return;let i=Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(i=i.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(i))),gt[t]=!0}function gn(e){if("string"!=typeof e)throw TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function gi(e){return e.split("?")[0].split("#")[0]}const go={toPosix:e=>e.replace(RegExp("\\".replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),"/"),isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){gn(e),e=this.toPosix(e);let t=/^file:\/\/\//.exec(e);if(t)return t[0];let n=/^[^/:]+:\/{0,2}/.exec(e);return n?n[0]:""},toAbsolute(e,t,n){if(gn(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;let i=gi(this.toPosix(t??dY.ADAPTER.getBaseUrl())),o=gi(this.toPosix(n??this.rootname(i)));return(e=this.toPosix(e)).startsWith("/")?go.join(o,e.slice(1)):this.isAbsolute(e)?e:this.join(i,e)},normalize(e){if(gn(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="",n=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));let i=e.endsWith("/");return(e=function(e,t){let n="",i=0,o=-1,a=0,s=-1;for(let t=0;t<=e.length;++t){if(t<e.length)s=e.charCodeAt(t);else{if(47===s)break;s=47}if(47===s){if(!(o===t-1||1===a)){if(o!==t-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2)){if(n.length>2){let e=n.lastIndexOf("/");if(e!==n.length-1){-1===e?(n="",i=0):i=(n=n.slice(0,e)).length-1-n.lastIndexOf("/"),o=t,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,o=t,a=0;continue}}}else n.length>0?n+=`/${e.slice(o+1,t)}`:n=e.slice(o+1,t),i=t-o-1}o=t,a=0}else 46===s&&-1!==a?++a:a=-1}return n}(e)).length>0&&i&&(e+="/"),n?`/${e}`:t+e},isAbsolute(e){return gn(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(...e){let t;if(0===e.length)return".";for(let n=0;n<e.length;++n){let i=e[n];if(gn(i),i.length>0){if(void 0===t)t=i;else{let o=e[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}}return void 0===t?".":this.normalize(t)},dirname(e){if(gn(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0),n=47===t,i=-1,o=!0,a=this.getProtocol(e),s=e;e=e.slice(a.length);for(let n=e.length-1;n>=1;--n)if(47===(t=e.charCodeAt(n))){if(!o){i=n;break}}else o=!1;return -1===i?n?"/":this.isUrl(s)?a+e:a:n&&1===i?"//":a+e.slice(0,i)},rootname(e){gn(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){let n=e.indexOf("/",t.length);(t=-1!==n?e.slice(0,n):e).endsWith("/")||(t+="/")}return t},basename(e,t){gn(e),t&&gn(t),e=gi(this.toPosix(e));let n=0,i=-1,o=!0,a;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let s=t.length-1,l=-1;for(a=e.length-1;a>=0;--a){let u=e.charCodeAt(a);if(47===u){if(!o){n=a+1;break}}else -1===l&&(o=!1,l=a+1),s>=0&&(u===t.charCodeAt(s)?-1==--s&&(i=a):(s=-1,i=l))}return n===i?i=l:-1===i&&(i=e.length),e.slice(n,i)}for(a=e.length-1;a>=0;--a)if(47===e.charCodeAt(a)){if(!o){n=a+1;break}}else -1===i&&(o=!1,i=a+1);return -1===i?"":e.slice(n,i)},extname(e){gn(e),e=gi(this.toPosix(e));let t=-1,n=0,i=-1,o=!0,a=0;for(let s=e.length-1;s>=0;--s){let l=e.charCodeAt(s);if(47===l){if(!o){n=s+1;break}continue}-1===i&&(o=!1,i=s+1),46===l?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1)}return -1===t||-1===i||0===a||1===a&&t===i-1&&t===n+1?"":e.slice(t,i)},parse(e){let t;gn(e);let n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;let i=(e=gi(this.toPosix(e))).charCodeAt(0),o=this.isAbsolute(e);n.root=this.rootname(e),t=o||this.hasProtocol(e)?1:0;let a=-1,s=0,l=-1,u=!0,c=e.length-1,d=0;for(;c>=t;--c){if(47===(i=e.charCodeAt(c))){if(!u){s=c+1;break}continue}-1===l&&(u=!1,l=c+1),46===i?-1===a?a=c:1!==d&&(d=1):-1!==a&&(d=-1)}return -1===a||-1===l||0===d||1===d&&a===l-1&&a===s+1?-1!==l&&(0===s&&o?n.base=n.name=e.slice(1,l):n.base=n.name=e.slice(s,l)):(0===s&&o?(n.name=e.slice(1,a),n.base=e.slice(1,l)):(n.name=e.slice(s,a),n.base=e.slice(s,l)),n.ext=e.slice(a,l)),n.dir=this.dirname(e),n},sep:"/",delimiter:":",joinExtensions:[".html"]};async function ga(){return o??(o=(async()=>{var e;let t=document.createElement("canvas").getContext("webgl");if(!t)return dW.UNPACK;let n=await new Promise(e=>{let t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!n)return dW.UNPACK;let i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);let o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);let a=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,a),t.deleteFramebuffer(o),t.deleteTexture(i),null==(e=t.getExtension("WEBGL_lose_context"))||e.loseContext(),a[0]<=a[3]?dW.PMA:dW.UNPACK})()),o}var gs={grad:.9,turn:360,rad:360/(2*Math.PI)},gl=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},gu=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},gc=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},gd=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},gp=function(e){return{r:gc(e.r,0,255),g:gc(e.g,0,255),b:gc(e.b,0,255),a:gc(e.a)}},gh=function(e){return{r:gu(e.r),g:gu(e.g),b:gu(e.b),a:gu(e.a,3)}},gf=/^#([0-9a-f]{3,8})$/i,gg=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},gm=function(e){var t=e.r,n=e.g,i=e.b,o=e.a,a=Math.max(t,n,i),s=a-Math.min(t,n,i),l=s?a===t?(n-i)/s:a===n?2+(i-t)/s:4+(t-n)/s:0;return{h:60*(l<0?l+6:l),s:a?s/a*100:0,v:a/255*100,a:o}},gv=function(e){var t=e.h,n=e.s,i=e.v,o=e.a;t=t/360*6,n/=100,i/=100;var a=Math.floor(t),s=i*(1-n),l=i*(1-(t-a)*n),u=i*(1-(1-t+a)*n),c=a%6;return{r:255*[i,l,s,s,u,i][c],g:255*[u,i,i,l,s,s][c],b:255*[s,s,u,i,i,l][c],a:o}},gy=function(e){return{h:gd(e.h),s:gc(e.s,0,100),l:gc(e.l,0,100),a:gc(e.a)}},gb=function(e){return{h:gu(e.h),s:gu(e.s),l:gu(e.l),a:gu(e.a,3)}},gw=function(e){var t,n;return gv((t=e.s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}))},gx=function(e){var t,n,i,o;return{h:(t=gm(e)).h,s:(o=(200-(n=t.s))*(i=t.v)/100)>0&&o<200?n*i/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a}},gS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gE=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gT=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gO={string:[[function(e){var t=gf.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?gu(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?gu(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=gE.exec(e)||gT.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:gp({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t,n,i=gS.exec(e)||g_.exec(e);return i?gw(gy({h:(t=i[1],void 0===(n=i[2])&&(n="deg"),Number(t)*(gs[n]||1)),s:Number(i[3]),l:Number(i[4]),a:void 0===i[5]?1:Number(i[5])/(i[6]?100:1)})):null},"hsl"]],object:[[function(e){var t=e.r,n=e.g,i=e.b,o=e.a;return gl(t)&&gl(n)&&gl(i)?gp({r:Number(t),g:Number(n),b:Number(i),a:Number(void 0===o?1:o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,i=e.l,o=e.a;return gl(t)&&gl(n)&&gl(i)?gw(gy({h:Number(t),s:Number(n),l:Number(i),a:Number(void 0===o?1:o)})):null},"hsl"],[function(e){var t,n=e.h,i=e.s,o=e.v,a=e.a;return gl(n)&&gl(i)&&gl(o)?gv({h:gd((t={h:Number(n),s:Number(i),v:Number(o),a:Number(void 0===a?1:a)}).h),s:gc(t.s,0,100),v:gc(t.v,0,100),a:gc(t.a)}):null},"hsv"]]},gI=function(e,t){for(var n=0;n<t.length;n++){var i=t[n][0](e);if(i)return[i,t[n][1]]}return[null,void 0]},gP=function(e,t){var n=gx(e);return{h:n.h,s:gc(n.s+100*t,0,100),l:n.l,a:n.a}},gC=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},gA=function(e,t){var n=gx(e);return{h:n.h,s:n.s,l:gc(n.l+100*t,0,100),a:n.a}},gR=function(){function e(e){this.parsed=("string"==typeof e?gI(e.trim(),gO.string):"object"==typeof e&&null!==e?gI(e,gO.object):[null,void 0])[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return gu(gC(this.rgba),2)},e.prototype.isDark=function(){return .5>gC(this.rgba)},e.prototype.isLight=function(){return gC(this.rgba)>=.5},e.prototype.toHex=function(){var e,t,n,i,o,a;return t=(e=gh(this.rgba)).r,n=e.g,i=e.b,a=(o=e.a)<1?gg(gu(255*o)):"","#"+gg(t)+gg(n)+gg(i)+a},e.prototype.toRgb=function(){return gh(this.rgba)},e.prototype.toRgbString=function(){var e,t,n,i,o;return t=(e=gh(this.rgba)).r,n=e.g,i=e.b,(o=e.a)<1?"rgba("+t+", "+n+", "+i+", "+o+")":"rgb("+t+", "+n+", "+i+")"},e.prototype.toHsl=function(){return gb(gx(this.rgba))},e.prototype.toHslString=function(){var e,t,n,i,o;return t=(e=gb(gx(this.rgba))).h,n=e.s,i=e.l,(o=e.a)<1?"hsla("+t+", "+n+"%, "+i+"%, "+o+")":"hsl("+t+", "+n+"%, "+i+"%)"},e.prototype.toHsv=function(){var e;return{h:gu((e=gm(this.rgba)).h),s:gu(e.s),v:gu(e.v),a:gu(e.a,3)}},e.prototype.invert=function(){var e;return gk({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),gk(gP(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),gk(gP(this.rgba,-e))},e.prototype.grayscale=function(){return gk(gP(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),gk(gA(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),gk(gA(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var t;return"number"==typeof e?gk({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):gu(this.rgba.a,3)},e.prototype.hue=function(e){var t=gx(this.rgba);return"number"==typeof e?gk({h:e,s:t.s,l:t.l,a:t.a}):gu(t.h)},e.prototype.isEqual=function(e){return this.toHex()===gk(e).toHex()},e}(),gk=function(e){return e instanceof gR?e:new gR(e)},gD=[];!function(e){e.forEach(function(e){0>gD.indexOf(e)&&(e(gR,gO),gD.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var o in n)i[n[o]]=o;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,s=i[this.toHex()];if(s)return s;if(null!=t&&t.closest){var l=this.toRgb(),u=1/0,c="black";if(!a.length)for(var d in n)a[d]=new e(n[d]).toRgb();for(var p in n){var h=(o=a[p],Math.pow(l.r-o.r,2)+Math.pow(l.g-o.g,2)+Math.pow(l.b-o.b,2));h<u&&(u=h,c=p)}return c}},t.string.push([function(t){var i=t.toLowerCase(),o="transparent"===i?"#0000":n[i];return o?new e(o).toRgb():null},"name"])}]);const gN=class e{constructor(e=0xffffff){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=0xffffff,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw Error("Cannot set PIXI.Color#value to null");null!==this._value&&this.isSourceEqual(this._value,t)||(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?{...e}:e}isSourceEqual(e,t){let n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,n)=>e===t[n]);if(null!==e&&null!==t){let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}return e===t}toRgba(){let[e,t,n,i]=this._components;return{r:e,g:t,b:n,a:i}}toRgb(){let[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){let[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){let[t,n,i]=this._components;return(e=e??[])[0]=Math.round(255*t),e[1]=Math.round(255*n),e[2]=Math.round(255*i),e}toRgbArray(e){e=e??[];let[t,n,i]=this._components;return e[0]=t,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){let e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){let[n,i,o,a]=e.temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=i,this._components[2]*=o,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return -0x1000000+this._int;if(0===e)return t?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,o=255&this._int;return t&&(n=n*e+.5|0,i=i*e+.5|0,o=o*e+.5|0),(255*e<<24)+(n<<16)+(i<<8)+o}toHex(){let e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){let e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){let[t,n,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];let[t,n,i,o]=this._components;return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}normalize(t){let n,i,o,a;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=0xffffff){let e=t;n=(e>>16&255)/255,i=(e>>8&255)/255,o=(255&e)/255,a=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,i,o,a=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,i,o,a=255]=t,n/=255,i/=255,o/=255,a/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){let n=e.HEX_PATTERN.exec(t);n&&(t=`#${n[2]}`)}let s=gk(t);s.isValid()&&({r:n,g:i,b:o,a:a}=s.rgba,n/=255,i/=255,o/=255)}if(void 0!==n)this._components[0]=n,this._components[1]=i,this._components[2]=o,this._components[3]=a,this.refreshInt();else throw Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);let[e,t,n]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*n|0)}_clamp(e,t=0,n=1){return"number"==typeof e?Math.min(Math.max(e,t),n):(e.forEach((i,o)=>{e[o]=Math.min(Math.max(i,t),n)}),e)}};gN.shared=new gN,gN.temp=new gN,gN.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;const gM=function(){let e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[dD.NORMAL_NPM]=dD.NORMAL,e[dD.ADD_NPM]=dD.ADD,e[dD.SCREEN_NPM]=dD.SCREEN,t[dD.NORMAL]=dD.NORMAL_NPM,t[dD.ADD]=dD.ADD_NPM,t[dD.SCREEN]=dD.SCREEN_NPM;let n=[];return n.push(t),n.push(e),n}();function gL(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function gj(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function gF(e){let t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return e>>>=n,t|=n,n=(e>15?1:0)<<2,e>>>=n,t|=n,n=(e>3?1:0)<<1,e>>>=n,(t|=n)|e>>1}function gB(e,t,n){let i;let o=e.length;if(t>=o||0===n)return;n=t+n>o?o-t:n;let a=o-n;for(i=t;i<a;++i)e[i]=e[i+n];e.length=a}function gz(e){return 0===e?0:e<0?-1:1}let gU=0;const gW=class{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};gW.EMPTY=new gW(0,0,0,0);const gH={},gV=/* @__PURE__ */Object.create(null),gG=/* @__PURE__ */Object.create(null);class g${constructor(e,t,n){this._canvas=dY.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||dY.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(null===this._canvas)throw TypeError("The CanvasRenderTarget has already been destroyed")}}function gq(e,t,n){for(let i=0,o=4*n*t;i<t;++i,o+=4)if(0!==e[o+3])return!1;return!0}function gX(e,t,n,i,o){let a=4*t;for(let t=i,s=i*a+4*n;t<=o;++t,s+=a)if(0!==e[s+3])return!1;return!0}function gY(e,t=1){var n;let i=null==(n=dY.RETINA_PREFIX)?void 0:n.exec(e);return i?parseFloat(i[1]):t}var gK=((F=gK||{}).Renderer="renderer",F.Application="application",F.RendererSystem="renderer-webgl-system",F.RendererPlugin="renderer-webgl-plugin",F.CanvasRendererSystem="renderer-canvas-system",F.CanvasRendererPlugin="renderer-canvas-plugin",F.Asset="asset",F.LoadParser="load-parser",F.ResolveParser="resolve-parser",F.CacheParser="cache-parser",F.DetectionParser="detection-parser",F);const gZ=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw Error("Extension class must have an extension object");e={..."object"!=typeof e.extension?{type:e.extension}:e.extension,ref:e}}if("object"==typeof e)e={...e};else throw Error("Invalid extension type");return"string"==typeof e.type&&(e.type=[e.type]),e},gJ=(e,t)=>gZ(e).priority??t,gQ={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(gZ).forEach(e=>{e.type.forEach(t=>{var n,i;return null==(i=(n=this._removeHandlers)[t])?void 0:i.call(n,e)})}),this},add(...e){return e.map(gZ).forEach(e=>{e.type.forEach(t=>{var n,i;let o=this._addHandlers,a=this._queue;o[t]?null==(n=o[t])||n.call(o,e):(a[t]=a[t]||[],null==(i=a[t])||i.push(e))})}),this},handle(e,t,n){var i;let o=this._addHandlers,a=this._removeHandlers;if(o[e]||a[e])throw Error(`Extension type ${e} already has a handler`);o[e]=t,a[e]=n;let s=this._queue;return s[e]&&(null==(i=s[e])||i.forEach(e=>t(e)),delete s[e]),this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByList(e,t,n=-1){return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>gJ(t,n)-gJ(e,n)))},e=>{let n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)})}};class g0{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw Error(`${e} isn't a valid view type`)}}}const g1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);class g2{constructor(){this.data=0,this.blendMode=dD.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==dD.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){let e=new g2;return e.depthTest=!1,e.blend=!0,e}}g2.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const g3=[];function g5(e,t){if(!e)return null;let n="";if("string"==typeof e){let t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(n=t[1].toLowerCase())}for(let i=g3.length-1;i>=0;--i){let o=g3[i];if(o.test&&o.test(e,n))return new o(e,t)}throw Error("Unrecognized source type to auto-detect Resource")}class g4{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,i,o,a,s,l){if(arguments.length>8)throw Error("max arguments reached");let{name:u,items:c}=this;this._aliasCount++;for(let d=0,p=c.length;d<p;d++)c[d][u](e,t,n,i,o,a,s,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){let t=this.items.indexOf(e);return -1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(g4.prototype,{dispatch:{value:g4.prototype.emit},run:{value:g4.prototype.emit}});class g6{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new g4("setRealSize"),this.onUpdate=new g4("update"),this.onError=new g4("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class g8 extends g6{constructor(e,t){let{width:n,height:i}=t||{};if(!n||!i)throw Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){let i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===dW.UNPACK);let o=t.realWidth,a=t.realHeight;return n.width===o&&n.height===a?i.texSubImage2D(t.target,0,0,0,o,a,t.format,n.type,this.data):(n.width=o,n.height=a,i.texImage2D(t.target,0,n.internalFormat,o,a,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const g9={scaleMode:dB.NEAREST,alphaMode:dW.NPM},g7=class e extends ps{constructor(t=null,n=null){super();let{alphaMode:i,mipmap:o,anisotropicLevel:a,scaleMode:s,width:l,height:u,wrapMode:c,format:d,type:p,target:h,resolution:f,resourceOptions:g}=n=Object.assign({},e.defaultOptions,n);!t||t instanceof g6||((t=g5(t,g)).internal=!0),this.resolution=f||dY.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=o,this.anisotropicLevel=a,this._wrapMode=c,this._scaleMode=s,this.format=d,this.type=p,this.target=h,this.alphaMode=i,this.uid=++gU,this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){var e,t;this.isPowerOfTwo=!((e=this.realWidth)&e-1)&&!!e&&!((t=this.realHeight)&t-1)&&!!t}setResolution(e){let t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete gG[this.cacheId],delete gV[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,n,i=dY.STRICT_TEXTURE_CACHE){let o="string"==typeof t,a=null;if(o)a=t;else{if(!t._pixiId){let e=(null==n?void 0:n.pixiIdPrefix)||"pixiid";t._pixiId=`${e}_${++gU}`}a=t._pixiId}let s=gG[a];if(o&&i&&!s)throw Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return s||((s=new e(t,n)).cacheId=a,e.addToCache(s,a)),s}static fromBuffer(t,n,i,o){let a,s;let l=new g8(t=t||new Float32Array(n*i*4),{width:n,height:i,...null==o?void 0:o.resourceOptions});return t instanceof Float32Array?(a=dM.RGBA,s=dj.FLOAT):t instanceof Int32Array?(a=dM.RGBA_INTEGER,s=dj.INT):t instanceof Uint32Array?(a=dM.RGBA_INTEGER,s=dj.UNSIGNED_INT):t instanceof Int16Array?(a=dM.RGBA_INTEGER,s=dj.SHORT):t instanceof Uint16Array?(a=dM.RGBA_INTEGER,s=dj.UNSIGNED_SHORT):t instanceof Int8Array?(a=dM.RGBA,s=dj.BYTE):(a=dM.RGBA,s=dj.UNSIGNED_BYTE),l.internal=!0,new e(l,Object.assign({},g9,{type:s,format:a},o))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),gG[t]&&gG[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),gG[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=gG[e];if(t){let n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete gG[e],t}}else if(null!=e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete gG[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};g7.defaultOptions={mipmap:dU.POW2,anisotropicLevel:0,scaleMode:dB.LINEAR,wrapMode:dz.CLAMP,alphaMode:dW.UNPACK,target:dL.TEXTURE_2D,format:dM.RGBA,type:dj.UNSIGNED_BYTE},g7._globalBatch=0;let me=g7;class mt{constructor(){this.texArray=null,this.blend=0,this.type=dN.TRIANGLES,this.start=0,this.size=0,this.data=null}}let mr=0;class mn{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=mr++,this.disposeRunner=new g4("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?dX.ELEMENT_ARRAY_BUFFER:dX.ARRAY_BUFFER}get index(){return this.type===dX.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new mn(e)}}class mi{constructor(e,t=0,n=!1,i=dj.FLOAT,o,a,s,l=1){this.buffer=e,this.size=t,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s,this.divisor=l}destroy(){this.buffer=null}static from(e,t,n,i,o){return new mi(e,t,n,i,o)}}const mo={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},ma={5126:4,5123:2,5121:1};let ms=0;const ml={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class mu{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=ms++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new g4("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,i=!1,o,a,s,l=!1){if(!t)throw Error("You must pass a buffer when creating an attribute");t instanceof mn||(t instanceof Array&&(t=new Float32Array(t)),t=new mn(t));let u=e.split("|");if(u.length>1){for(let e=0;e<u.length;e++)this.addAttribute(u[e],t,n,i,o);return this}let c=this.buffers.indexOf(t);return -1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new mi(c,n,i,o,a,s,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof mn||(e instanceof Array&&(e=new Uint16Array(e)),e=new mn(e)),e.type=dX.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){let e;if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;let t=[],n=[],i=new mn;for(e in this.attributes){let i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),n.push(i.size*ma[i.type]/4),i.buffer=0}for(i.data=function(e,t){let n=0,i=0,o={};for(let o=0;o<e.length;o++)i+=t[o],n+=e[o].length;let a=new ArrayBuffer(4*n),s=null,l=0;for(let n=0;n<e.length;n++){let u=t[n],c=e[n],d=gL(c);o[d]||(o[d]=new mo[d](a)),s=o[d];for(let e=0;e<c.length;e++)s[(e/u|0)*i+l+e%u]=c[e];l+=u}return new Float32Array(a)}(t,n),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(let e in this.attributes){let t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){let e=new mu;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new mn(this.buffers[t].data.slice(0));for(let t in this.attributes){let n=this.attributes[t];e.attributes[t]=new mi(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=dX.ELEMENT_ARRAY_BUFFER),e}static merge(e){let t;let n=new mu,i=[],o=[],a=[];for(let n=0;n<e.length;n++){t=e[n];for(let e=0;e<t.buffers.length;e++)o[e]=o[e]||0,o[e]+=t.buffers[e].data.length,a[e]=0}for(let e=0;e<t.buffers.length;e++)i[e]=new ml[gL(t.buffers[e].data)](o[e]),n.buffers[e]=new mn(i[e]);for(let n=0;n<e.length;n++){t=e[n];for(let e=0;e<t.buffers.length;e++)i[e].set(t.buffers[e].data,a[e]),a[e]+=t.buffers[e].data.length}if(n.attributes=t.attributes,t.indexBuffer){n.indexBuffer=n.buffers[t.buffers.indexOf(t.indexBuffer)],n.indexBuffer.type=dX.ELEMENT_ARRAY_BUFFER;let i=0,o=0,a=0,s=0;for(let e=0;e<t.buffers.length;e++)if(t.buffers[e]!==t.indexBuffer){s=e;break}for(let e in t.attributes){let n=t.attributes[e];(0|n.buffer)===s&&(o+=n.size*ma[n.type]/4)}for(let t=0;t<e.length;t++){let l=e[t].indexBuffer.data;for(let e=0;e<l.length;e++)n.indexBuffer.data[e+a]+=i;i+=e[t].buffers[s].data.length/o,a+=l.length}}return n}}class mc extends mu{constructor(e=!1){super(),this._buffer=new mn(null,e,!1),this._indexBuffer=new mn(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,dj.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,dj.FLOAT).addAttribute("aColor",this._buffer,4,!0,dj.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,dj.FLOAT).addIndex(this._indexBuffer)}}const md=2*Math.PI,mp=180/Math.PI,mh=Math.PI/180;var mf=((B=mf||{})[B.POLY=0]="POLY",B[B.RECT=1]="RECT",B[B.CIRC=2]="CIRC",B[B.ELIP=3]="ELIP",B[B.RREC=4]="RREC",B);class mg{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new mg(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}mg.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const mm=[new mg,new mg,new mg,new mg];class mv{constructor(e=0,t=0,n=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(i),this.type=mf.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new mv(0,0,0,0)}clone(){return new mv(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0)&&!(this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){let t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;let n=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>n}let n=this.left,i=this.right,o=this.top,a=this.bottom;if(i<=n||a<=o)return!1;let s=mm[0].set(e.left,e.top),l=mm[1].set(e.left,e.bottom),u=mm[2].set(e.right,e.top),c=mm[3].set(e.right,e.bottom);if(u.x<=s.x||l.y<=s.y)return!1;let d=Math.sign(t.a*t.d-t.b*t.c);if(0===d||(t.apply(s,s),t.apply(l,l),t.apply(u,u),t.apply(c,c),Math.max(s.x,l.x,u.x,c.x)<=n||Math.min(s.x,l.x,u.x,c.x)>=i||Math.max(s.y,l.y,u.y,c.y)<=o||Math.min(s.y,l.y,u.y,c.y)>=a))return!1;let p=d*(l.y-s.y),h=d*(s.x-l.x),f=p*n+h*o,g=p*i+h*o,m=p*n+h*a,v=p*i+h*a;if(Math.max(f,g,m,v)<=p*s.x+h*s.y||Math.min(f,g,m,v)>=p*c.x+h*c.y)return!1;let y=d*(s.y-u.y),b=d*(u.x-s.x),w=y*n+b*o,x=y*i+b*o,S=y*n+b*a,_=y*i+b*a;return!(Math.max(w,x,S,_)<=y*s.x+b*s.y||Math.min(w,x,S,_)>=y*c.x+b*c.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){let t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=i,this.height=Math.max(o-i,0),this}ceil(e=1,t=.001){let n=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){let t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=i,this.height=o-i,this}}mv.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class my{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=mf.CIRC}clone(){return new my(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let n=this.radius*this.radius,i=this.x-e,o=this.y-t;return i*=i,o*=o,i+o<=n}getBounds(){return new mv(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}my.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class mb{constructor(e=0,t=0,n=0,i=0){this.x=e,this.y=t,this.width=n,this.height=i,this.type=mf.ELIP}clone(){return new mb(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(t-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new mv(this.x-this.width,this.y-this.height,this.width,this.height)}}mb.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class mw{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if("number"!=typeof t[0]){let e=[];for(let n=0,i=t.length;n<i;n++)e.push(t[n].x,t[n].y);t=e}this.points=t,this.type=mf.POLY,this.closeStroke=!0}clone(){let e=new mw(this.points.slice());return e.closeStroke=this.closeStroke,e}contains(e,t){let n=!1,i=this.points.length/2;for(let o=0,a=i-1;o<i;a=o++){let i=this.points[2*o],s=this.points[2*o+1],l=this.points[2*a],u=this.points[2*a+1];s>t!=u>t&&e<(t-s)/(u-s)*(l-i)+i&&(n=!n)}return n}}mw.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`};class mx{constructor(e=0,t=0,n=0,i=0,o=20){this.x=e,this.y=t,this.width=n,this.height=i,this.radius=o,this.type=mf.RREC}clone(){return new mx(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){let n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),o=t-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=e-(this.x+this.width-n))*i+o*o<=a||i*i+(o=t-(this.y+this.height-n))*o<=a||(i=e-(this.x+n))*i+o*o<=a)return!0}return!1}}mx.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class mS{constructor(e=1,t=0,n=0,i=1,o=0,a=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,i,o,a){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=o,this.ty=a,this}toArray(e,t){this.array||(this.array=new Float32Array(9));let n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0),n[8]=1,n}apply(e,t){t=t||new mg;let n=e.x,i=e.y;return t.x=this.a*n+this.c*i+this.tx,t.y=this.b*n+this.d*i+this.ty,t}applyInverse(e,t){t=t||new mg;let n=1/(this.a*this.d+-(this.c*this.b)),i=e.x,o=e.y;return t.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){let t=Math.cos(e),n=Math.sin(e),i=this.a,o=this.c,a=this.tx;return this.a=i*t-this.b*n,this.b=i*n+this.b*t,this.c=o*t-this.d*n,this.d=o*n+this.d*t,this.tx=a*t-this.ty*n,this.ty=a*n+this.ty*t,this}append(e){let t=this.a,n=this.b,i=this.c,o=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*n+e.b*o,this.c=e.c*t+e.d*i,this.d=e.c*n+e.d*o,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this}setTransform(e,t,n,i,o,a,s,l,u){return this.a=Math.cos(s+u)*o,this.b=Math.sin(s+u)*o,this.c=-Math.sin(s-l)*a,this.d=Math.cos(s-l)*a,this.tx=e-(n*this.a+i*this.c),this.ty=t-(n*this.b+i*this.d),this}prepend(e){let t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){let t=this.a,n=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){let t=this.a,n=this.b,i=this.c,o=this.d,a=e.pivot,s=-Math.atan2(-i,o),l=Math.atan2(n,t),u=Math.abs(s+l);return u<1e-5||1e-5>Math.abs(md-u)?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=l),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+o*o),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*n+a.y*o),e}invert(){let e=this.a,t=this.b,n=this.c,i=this.d,o=this.tx,a=e*i-t*n;return this.a=i/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(e*this.ty-t*o)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let e=new mS;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new mS}static get TEMP_MATRIX(){return new mS}}mS.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const m_=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],mE=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],mT=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mO=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],mI=[],mP=[],mC=Math.sign;!function(){for(let e=0;e<16;e++){let t=[];mI.push(t);for(let n=0;n<16;n++){let i=mC(m_[e]*m_[n]+mT[e]*mE[n]),o=mC(mE[e]*m_[n]+mO[e]*mE[n]),a=mC(m_[e]*mT[n]+mT[e]*mO[n]),s=mC(mE[e]*mT[n]+mO[e]*mO[n]);for(let e=0;e<16;e++)if(m_[e]===i&&mE[e]===o&&mT[e]===a&&mO[e]===s){t.push(e);break}}}for(let e=0;e<16;e++){let t=new mS;t.set(m_[e],mE[e],mT[e],mO[e],0,0),mP.push(t)}}();const mA={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>m_[e],uY:e=>mE[e],vX:e=>mT[e],vY:e=>mO[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>mI[e][t],sub:(e,t)=>mI[e][mA.inv(t)],rotate180:e=>4^e,isVertical:e=>(3&e)==2,byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?mA.S:mA.N:2*Math.abs(t)<=Math.abs(e)?e>0?mA.E:mA.W:t>0?e>0?mA.SE:mA.SW:e>0?mA.NE:mA.NW,matrixAppendRotationInv:(e,t,n=0,i=0)=>{let o=mP[mA.inv(t)];o.tx=n,o.ty=i,e.append(o)}};class mR{constructor(e,t,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new mR(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}mR.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const mk=class{constructor(){this.worldTransform=new mS,this.localTransform=new mS,this.position=new mR(this.onChange,this,0,0),this.scale=new mR(this.onChange,this,1,1),this.pivot=new mR(this.onChange,this,0,0),this.skew=new mR(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){let t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){let n=e.worldTransform,i=this.worldTransform;i.a=t.a*n.a+t.b*n.c,i.b=t.a*n.b+t.b*n.d,i.c=t.c*n.a+t.d*n.c,i.d=t.c*n.b+t.d*n.d,i.tx=t.tx*n.a+t.ty*n.c+n.tx,i.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};mk.IDENTITY=new mk,mk.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var mD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,mN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function mM(e,t,n){let i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}function mL(e){let t=Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}function mj(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return mL(2*t);case"bvec3":return mL(3*t);case"bvec4":return mL(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const mF=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray&&(null==t||void 0!==t.castToBaseTexture),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}],mB={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},mz={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},mU={};let mW=mU;function mH(e,t){let n=e.getShaderSource(t).split(`
`).map((e,t)=>`${t}: ${e}`),i=e.getShaderInfoLog(t),o=i.split(`
`),a={},s=o.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!!e&&!a[e]&&(a[e]=!0,!0)),l=[""];s.forEach(e=>{n[e-1]=`%c${n[e-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let u=n.join(`
`);l[0]=u,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}const mV={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};let mG=null;const m$={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mq(e,t){if(!mG){let t=Object.keys(m$);mG={};for(let n=0;n<t.length;++n){let i=t[n];mG[e[i]]=m$[i]}}return mG[t]}function mX(e,t,n){if("precision"!==e.substring(0,9)){let i=t;return t===dG.HIGH&&n!==dG.HIGH&&(i=dG.MEDIUM),`precision ${i} float;
${e}`}return n!==dG.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let mY=0;const mK={},mZ=class e{constructor(t,n,i="pixi-shader",o={}){this.extra={},this.id=mY++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=o,"#version"!==this.vertexSrc.substring(0,8)&&(mK[i=i.replace(/\s+/g,"-")]?(mK[i]++,i+=`-${mK[i]}`):mK[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=mX(this.vertexSrc,e.defaultVertexPrecision,dG.HIGH),this.fragmentSrc=mX(this.fragmentSrc,e.defaultFragmentPrecision,function(){if(!s){s=dG.MEDIUM;let e=function(){if(mW===mU||null!=mW&&mW.isContextLost()){let e;let t=dY.ADAPTER.createCanvas();dY.PREFER_ENV>=dA.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),mW=e}return mW}();if(e&&e.getShaderPrecisionFormat){let t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(s=t.precision?dG.HIGH:dG.MEDIUM)}}return s}())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return mN}static get defaultFragmentSrc(){return mD}static from(t,n,i){let o=t+n,a=gH[o];return a||(gH[o]=a=new e(t,n,i)),a}};mZ.defaultVertexPrecision=dG.HIGH,mZ.defaultFragmentPrecision=pn.apple.device?dG.HIGH:dG.MEDIUM;let mJ=0;class mQ{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=mJ++,this.static=!!t,this.ubo=!!n,e instanceof mn?(this.buffer=e,this.buffer.type=dX.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new mn(new Float32Array(1)),this.buffer.type=dX.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(this.ubo)throw Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new mQ(t,n)}static from(e,t,n){return new mQ(e,t,n)}static uboFrom(e,t){return new mQ(e,t??!0,!0)}}class m0{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof mQ?this.uniformGroup=t:this.uniformGroup=new mQ(t):this.uniformGroup=new mQ({}),this.disposeRunner=new g4("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(let n in t.uniforms){let i=t.uniforms[n];if(!0===i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){return new m0(mZ.from(e,t),n)}}class m1{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){let t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=n;this.defaultGroupCache[e]=mQ.from({uSamplers:t},!0);let n=this.fragTemplate;n=(n=n.replace(/%count%/gi,`${e}`)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mZ(this.vertexSrc,n)}let t={tint:new Float32Array([1,1,1,1]),translationMatrix:new mS,default:this.defaultGroupCache[e]};return new m0(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`

`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{
	color = texture2D(uSamplers[${n}], vTextureCoord);
}`;return t+`

`}}class m2{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class m3{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var m5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,m4=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const m6=class e extends m3{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=mc,this.vertexSize=6,this.state=g2.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??function(e){let t=!0,n=dY.ADAPTER.getNavigator();if(pn.tablet||pn.phone){if(pn.apple.device){let e=n.userAgent.match(/OS (\d+)_(\d+)?/);e&&11>parseInt(e[1],10)&&(t=!1)}if(pn.android.device){let e=n.userAgent.match(/Android\s([0-9.]*)/);e&&7>parseInt(e[1],10)&&(t=!1)}}return t?32:4}(0),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??!pn.apple.device,this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return gr("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return m4}static get defaultFragmentTemplate(){return m5}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:n=e.defaultFragmentTemplate}={}){this.shaderGenerator=new m1(t,n)}contextChange(){let t=this.renderer.gl;dY.PREFER_ENV===dA.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=function(e,t){if(0===e)throw Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let n=t.createShader(t.FRAGMENT_SHADER);for(;;){let i=g1.replace(/%forloop%/gi,function(e){let t="";for(let n=0;n<e;++n)n>0&&(t+=`
else `),n<e-1&&(t+=`if(test == ${n}.0){}`);return t}(e));if(t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){let{_drawCallPool:t,_textureArrayPool:n}=e,i=this.size/4,o=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new mt);for(;n.length<o;)n.push(new m2);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){let{_bufferedTextures:t,maxTextures:n}=this,i=e._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,s=this.renderer.textureGC.count,l=++me._globalBatch,u=0,c=i[0],d=0;o.copyBoundTextures(a,n);for(let e=0;e<this._bufferSize;++e){let p=t[e];t[e]=null,p._batchEnabled!==l&&(c.count>=n&&(o.boundArray(c,a,l,n),this.buildDrawCalls(c,d,e),d=e,c=i[++u],++l),p._batchEnabled=l,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(o.boundArray(c,a,l,n),this.buildDrawCalls(c,d,this._bufferSize),++u,++l);for(let e=0;e<a.length;e++)a[e]=null;me._globalBatch=l}buildDrawCalls(t,n,i){let{_bufferedElements:o,_attributeBuffer:a,_indexBuffer:s,vertexSize:l}=this,u=e._drawCallPool,c=this._dcIndex,d=this._aIndex,p=this._iIndex,h=u[c];h.start=this._iIndex,h.texArray=t;for(let e=n;e<i;++e){let i=o[e],f=gM[i._texture.baseTexture.alphaMode?1:0][i.blendMode];o[e]=null,n<e&&h.blend!==f&&(h.size=p-h.start,n=e,(h=u[++c]).texArray=t,h.start=p),this.packInterleavedGeometry(i,a,s,d,p),d+=i.vertexData.length/2*l,p+=i.indices.length,h.blend=f}n<i&&(h.size=p-h.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=p}bindAndClearTexArray(e){let t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){let{_packedGeometries:t,_attributeBuffer:n,_indexBuffer:i}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(n.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){let t=this._dcIndex,{gl:n,state:i}=this.renderer,o=e._drawCallPool,a=null;for(let e=0;e<t;e++){let{texArray:t,type:s,size:l,start:u,blend:c}=o[e];a!==t&&(a=t,this.bindAndClearTexArray(t)),this.state.blendMode=c,i.set(this.state),n.drawElements(s,l,n.UNSIGNED_SHORT,2*u)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){let t=gj(Math.ceil(e/8)),n=gF(t),i=8*t;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let o=this._aBuffers[i];return o||(this._aBuffers[i]=o=new g0(i*this.vertexSize*4)),o}getIndexBuffer(e){let t=gj(Math.ceil(e/12)),n=gF(t);this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(12*t)),i}packInterleavedGeometry(e,t,n,i,o){let{uint32View:a,float32View:s}=t,l=i/this.vertexSize,u=e.uvs,c=e.indices,d=e.vertexData,p=e._texture.baseTexture._batchLocation,h=Math.min(e.worldAlpha,1),f=gN.shared.setValue(e._tintRGB).toPremultiplied(h,e._texture.baseTexture.alphaMode>0);for(let e=0;e<d.length;e+=2)s[i++]=d[e],s[i++]=d[e+1],s[i++]=u[e],s[i++]=u[e+1],a[i++]=f,s[i++]=p;for(let e=0;e<c.length;e++)n[o++]=l+c[e]}};m6.defaultBatchSize=4096,m6.extension={name:"batch",type:gK.RendererPlugin},m6._drawCallPool=[],m6._textureArrayPool=[],gQ.add(m6);var m8=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,m9=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const m7=class e extends m0{constructor(t,n,i){super(mZ.from(t||e.defaultVertexSrc,n||e.defaultFragmentSrc),i),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new g2}apply(e,t,n,i,o){e.applyFilter(this,t,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return m9}static get defaultFragmentSrc(){return m8}};m7.defaultResolution=1,m7.defaultMultisample=dq.NONE;let ve=m7;class vt{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new gN(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;let{backgroundColor:t,background:n,backgroundAlpha:i}=e,o=n??t;void 0!==o&&(this.color=o),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}vt.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},vt.extension={type:[gK.RendererSystem,gK.CanvasRendererSystem],name:"background"},gQ.add(vt);class vr{constructor(e){this.renderer=e,this.emptyRenderer=new m3(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){let{boundTextures:n}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,n,i){let{elements:o,ids:a,count:s}=e,l=0;for(let e=0;e<s;e++){let s=o[e],u=s._batchLocation;if(u>=0&&u<i&&t[u]===s){a[e]=u;continue}for(;l<i;){let i=t[l];if(i&&i._batchEnabled===n&&i._batchLocation===l){l++;continue}a[e]=l,s._batchLocation=l,t[l]=s;break}}}destroy(){this.renderer=null}}vr.extension={type:gK.RendererSystem,name:"batch"},gQ.add(vr);let vn=0;class vi{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=vn++}init(e){if(e.context)this.initFromContext(e.context);else{let t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=vn++,this.renderer.runners.contextChange.emit(e);let t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){let t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(dY.PREFER_ENV>=dA.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){let{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){let e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){let t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}vi.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},vi.extension={type:gK.RendererSystem,name:"context"},gQ.add(vi);class vo{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new g4("disposeFramebuffer"),this.multisample=dq.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new me(null,{scaleMode:dB.NEAREST,resolution:1,mipmap:dU.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new me(null,{scaleMode:dB.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:dU.OFF,format:dM.DEPTH_COMPONENT,type:dj.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){let i=this.colorTextures[n],o=i.resolution;i.setSize(e/o,t/o)}if(this.depthTexture){let n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class va extends me{constructor(e={}){if("number"==typeof e){let t=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];e={width:t,height:n,scaleMode:i,resolution:o}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=dq.NONE),super(null,e),this.mipmap=dU.OFF,this.valid=!0,this._clear=new gN([0,0,0,0]),this.framebuffer=new vo(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class vs extends g6{constructor(e){super(e.naturalWidth||e.videoWidth||e.displayWidth||e.width,e.naturalHeight||e.videoHeight||e.displayHeight||e.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"==typeof n?n:"anonymous"):e.crossOrigin=function(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;let n=new URL(e,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}(t)}upload(e,t,n,i){let o=e.gl,a=t.realWidth,s=t.realHeight;if(i=i||this.source,"u">typeof HTMLImageElement&&i instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if("u">typeof HTMLVideoElement&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===dW.UNPACK),this.noSubImage||t.target!==o.TEXTURE_2D||n.width!==a||n.height!==s?(n.width=a,n.height=s,o.texImage2D(t.target,0,n.internalFormat,t.format,n.type,i)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,t.format,n.type,i),!0}update(){if(this.destroyed)return;let e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class vl extends vs{constructor(e,t){if(t=t||{},"string"==typeof e){let n=new Image;vs.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??dY.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((e,t)=>{let n=this.source;this.url=n.src;let i=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};n.complete&&n.src?i():(n.onload=i,n.onerror=e=>{t(e),this.onError.emit(e)})})),this._load}process(){let e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);let t=globalThis.createImageBitmap,n=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(e=>e.blob()).then(n=>t(n,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===dW.UNPACK?"premultiply":"none"})).then(e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let e=!0,i=t._glTextures;for(let o in i){let a=i[o];if(a!==n&&a.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return"u">typeof HTMLImageElement&&("string"==typeof e||e instanceof HTMLImageElement)}}class vu{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){let i=t.width,o=t.height;if(n){let t=e.width/2/i,a=e.height/2/o,s=e.x/i+t,l=e.y/o+a;n=mA.add(n,mA.NW),this.x0=s+t*mA.uX(n),this.y0=l+a*mA.uY(n),n=mA.add(n,2),this.x1=s+t*mA.uX(n),this.y1=l+a*mA.uY(n),n=mA.add(n,2),this.x2=s+t*mA.uX(n),this.y2=l+a*mA.uY(n),n=mA.add(n,2),this.x3=s+t*mA.uX(n),this.y3=l+a*mA.uY(n)}else this.x0=e.x/i,this.y0=e.y/o,this.x1=(e.x+e.width)/i,this.y1=e.y/o,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/o,this.x3=e.x/i,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}vu.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const vc=new vu;function vd(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class vp extends ps{constructor(e,t,n,i,o,a,s){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new mv(0,0,1,1)),e instanceof vp&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=vc,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new mg(a.x,a.y):new mg(0,0),this.defaultBorders=s,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){let{resource:e}=this.baseTexture;null!=e&&e.url&&gV[e.url]&&vp.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,vp.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var e;let t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),i=new vp(this.baseTexture,!this.noFrame&&t,n,null==(e=this.trim)?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===vc&&(this._uvs=new vu),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=dY.STRICT_TEXTURE_CACHE){let i="string"==typeof e,o=null;if(i)o=e;else if(e instanceof me){if(!e.cacheId){let n=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${n}-${++gU}`,me.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){let n=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${n}_${++gU}`}o=e._pixiId}let a=gV[o];if(i&&n&&!a)throw Error(`The cacheId "${o}" does not exist in TextureCache.`);return a||e instanceof me?!a&&e instanceof me&&(a=new vp(e),vp.addToCache(a,o)):(t.resolution||(t.resolution=gY(e)),(a=new vp(new me(e,t))).baseTexture.cacheId=o,me.addToCache(a.baseTexture,o),vp.addToCache(a,o)),a}static fromURL(e,t){let n=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),i=vp.from(e,Object.assign({resourceOptions:n},t),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,n,i){return new vp(me.fromBuffer(e,t,n,i))}static fromLoader(e,t,n,i){let o=new me(e,Object.assign({scaleMode:me.defaultOptions.scaleMode,resolution:gY(t)},i)),{resource:a}=o;a instanceof vl&&(a.url=t);let s=new vp(o);return n||(n=t),me.addToCache(s.baseTexture,n),vp.addToCache(s,n),n!==t&&(me.addToCache(s.baseTexture,t),vp.addToCache(s,t)),s.baseTexture.valid?Promise.resolve(s):new Promise(e=>{s.baseTexture.once("loaded",()=>e(s))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),gV[t]&&gV[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),gV[t]=e)}static removeFromCache(e){if("string"==typeof e){let t=gV[e];if(t){let n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete gV[e],t}}else if(null!=e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)gV[e.textureCacheIds[t]]===e&&delete gV[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;let{x:t,y:n,width:i,height:o}=e,a=t+i>this.baseTexture.width,s=n+o>this.baseTexture.height;if(a||s){let e=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,l=`Y: ${n} + ${o} = ${n+o} > ${this.baseTexture.height}`;throw Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${e} ${a&&s?"and":"or"} ${l}`)}this.valid=i&&o&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return vp._EMPTY||(vp._EMPTY=new vp(new me),vd(vp._EMPTY),vd(vp._EMPTY.baseTexture)),vp._EMPTY}static get WHITE(){if(!vp._WHITE){let e=dY.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),vp._WHITE=new vp(me.from(e)),vd(vp._WHITE),vd(vp._WHITE.baseTexture)}return vp._WHITE}}class vh extends vp{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){let i=this.baseTexture.resolution,o=Math.round(e*i)/i,a=Math.round(t*i)/i;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,n&&this.baseTexture.resize(o,a),this.updateUvs()}setResolution(e){let{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new vh(new va(e))}}class vf{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=dq.NONE){return new vh(new va(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions)))}getOptimalTexture(e,t,n=1,i=dq.NONE){let o;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?o=i>1?-i:-1:(e=gj(e),t=gj(t),o=((65535&e)<<16|65535&t)>>>0,i>1&&(o+=0x100000000*i)),this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(e,t,i)),a.filterPoolKey=o,a.setResolution(n),a}getFilterTexture(e,t,n){let i=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||dq.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){let t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(let e in this.texturePool){let t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){for(let t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool){if(!(0>Number(t)))continue;let e=this.texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}vf.SCREEN_KEY=-1;class vg extends mu{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class vm extends mu{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new mn(this.vertices),this.uvBuffer=new mn(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+t.width/e.width,this.uvs[3]=i,this.uvs[4]=n+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=n,this.uvs[7]=i+t.height/e.height,n=t.x,i=t.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=n+t.width,this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class vv{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=dq.NONE,this.sourceFrame=new mv,this.destinationFrame=new mv,this.bindingSourceFrame=new mv,this.bindingDestinationFrame=new mv,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const vy=[new mg,new mg,new mg,new mg],vb=new mS;class vw{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new vf,this.statePool=[],this.quad=new vg,this.quadUv=new vm,this.tempRect=new mv,this.activeState={},this.globalUniforms=new mQ({outputFrame:new mv,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){let n,i;let o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new vv,l=o.renderTexture;if(l.current){let e=l.current;n=e.resolution,i=e.multisample}else n=o.resolution,i=o.multisample;let u=t[0].resolution||n,c=t[0].multisample??i,d=t[0].padding,p=t[0].autoFit,h=t[0].legacy??!0;for(let e=1;e<t.length;e++){let o=t[e];u=Math.min(u,o.resolution||n),c=Math.min(c,o.multisample??i),d=this.useMaxPadding?Math.max(d,o.padding):d+o.padding,p=p&&o.autoFit,h=h||(o.legacy??!0)}1===a.length&&(this.defaultFilterStack[0].renderTexture=l.current),a.push(s),s.resolution=u,s.multisample=c,s.legacy=h,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);let f=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(vb.copyFrom(o.projection.transform).invert(),f),p?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;let g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(l.sourceFrame),s.bindingDestinationFrame.copyFrom(l.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,l.bind(s.renderTexture,s.sourceFrame,g),o.framebuffer.clear(0,0,0,0)}pop(){let e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;let i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;let o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*t.resolution),a[1]=Math.round(o[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=t.sourceFrame.width*o[2]-.5*a[2],s[3]=t.sourceFrame.height*o[3]-.5*a[3],t.legacy){let e=i.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();let l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,t.renderTexture,l.renderTexture,dH.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,i=this.getOptimalFilterTexture(e.width,e.height,t.resolution);i.filterFrame=e.filterFrame;let o=0;for(o=0;o<n.length-1;++o){1===o&&t.multisample>1&&((i=this.getOptimalFilterTexture(e.width,e.height,t.resolution)).filterFrame=e.filterFrame),n[o].apply(this,e,i,dH.CLEAR,t);let a=e;e=i,i=a}n[o].apply(this,e,l.renderTexture,dH.BLEND,t),o>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(i)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=dH.CLEAR){let{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null==e?void 0:e.filterFrame){let t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,n.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);let o=1&i.stateId||this.forceClear;(t===dH.CLEAR||t===dH.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,i){let o=this.renderer;o.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(dN.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(dN.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){let{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:o}=t._texture,a=e.set(i.width,0,0,i.height,n.x,n.y),s=t.worldTransform.copyTo(mS.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(t.anchor.x,t.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,i=dq.NONE){return this.texturePool.getOptimalTexture(e,t,n,i)}getFilterTexture(e,t,n){if("number"==typeof e){let n=e;e=t,t=n}e=e||this.activeState.renderTexture;let i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||dq.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){let n=vy[0],i=vy[1],o=vy[2],a=vy[3];n.set(t.left,t.top),i.set(t.left,t.bottom),o.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(n,n),e.apply(i,i),e.apply(o,o),e.apply(a,a);let s=Math.min(n.x,i.x,o.x,a.x),l=Math.min(n.y,i.y,o.y,a.y),u=Math.max(n.x,i.x,o.x,a.x),c=Math.max(n.y,i.y,o.y,a.y);t.x=s,t.y=l,t.width=u-s,t.height=c-l}roundFrame(e,t,n,i,o){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(o){let{a:e,b:t,c:n,d:i}=o;if((Math.abs(t)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4))return}(o=o?vb.copyFrom(o):vb.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,e),e.ceil(t),this.transformAABB(o.invert(),e)}}}vw.extension={type:gK.RendererSystem,name:"filter"},gQ.add(vw);class vx{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=dq.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const vS=new mv;class v_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new vo(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new mv,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;dY.PREFER_ENV===dA.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){let{gl:i}=this;if(e){let o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=n),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){let n=e.colorTextures[t];this.renderer.texture.unbind(n.parentTextureArray||n)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){let e=t.width>>n,i=t.height>>n,o=e/t.width;this.setViewport(t.x*o,t.y*o,e,i)}else{let t=e.width>>n,i=e.height>>n;this.setViewport(0,0,t,i)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,i){let o=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==e||o.y!==t)&&(o.x=e,o.y=t,o.width=n,o.height=i,this.gl.viewport(e,t,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,i,o=dk.COLOR|dk.DEPTH){let{gl:a}=this;a.clearColor(e,t,n,i),a.clear(o)}initFramebuffer(e){let{gl:t}=this,n=new vx(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){let{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){let i;t.bindRenderbuffer(t.RENDERBUFFER,n.stencil),i=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,i,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,i,e.width,e.height)}let i=e.colorTextures,o=i.length;t.drawBuffers||(o=Math.min(o,1));for(let a=0;a<o;a++){let o=i[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),0===a&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,s._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){let{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));let s=[];for(let l=0;l<a;l++){let a=o[l],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),0===l&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,a.target,u._glTextures[this.CONTEXT_UID].texture,t),s.push(n.COLOR_ATTACHMENT0+l))}if(s.length>1&&n.drawBuffers(s),e.depthTexture&&this.writeDepthTexture){let i=e.depthTexture;this.renderer.texture.bind(i,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,i._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){let t,o;i.stencil=i.stencil||n.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=n.DEPTH_STENCIL_ATTACHMENT,o=n.DEPTH_STENCIL):e.depth&&e.stencil?(t=n.DEPTH_STENCIL_ATTACHMENT,o=n.DEPTH24_STENCIL8):e.depth?(t=n.DEPTH_ATTACHMENT,o=n.DEPTH_COMPONENT24):(t=n.STENCIL_ATTACHMENT,o=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,o,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,o,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,t,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){let{msaaSamples:t}=this,n=dq.NONE;if(e<=1||null===t)return n;for(let i=0;i<t.length;i++)if(t[i]<=e){n=t[i];break}return 1===n&&(n=dq.NONE),n}blit(e,t,n){let{current:i,renderer:o,gl:a,CONTEXT_UID:s}=this;if(2!==o.context.webGLVersion||!i)return;let l=i.glFramebuffers[s];if(!l)return;if(!e){if(!l.msaaBuffer)return;let t=i.colorTextures[0];if(!t)return;l.blitFramebuffer||(l.blitFramebuffer=new vo(i.width,i.height),l.blitFramebuffer.addColorTexture(0,t)),(e=l.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=vS).width=i.width,t.height=i.height),n||(n=t);let u=t.width===n.width&&t.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){let n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];let o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){let t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){let e,t;let n=this.current;if(!n)return;let i=n.glFramebuffers[this.CONTEXT_UID];if(!i||i.stencil&&n.stencil)return;n.stencil=!0;let o=n.width,a=n.height,s=this.gl,l=i.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,l),1===this.renderer.context.webGLVersion?(e=s.DEPTH_STENCIL_ATTACHMENT,t=s.DEPTH_STENCIL):n.depth?(e=s.DEPTH_STENCIL_ATTACHMENT,t=s.DEPTH24_STENCIL8):(e=s.STENCIL_ATTACHMENT,t=s.STENCIL_INDEX8),i.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,i.multisample,t,o,a):s.renderbufferStorage(s.RENDERBUFFER,t,o,a),s.framebufferRenderbuffer(s.FRAMEBUFFER,e,s.RENDERBUFFER,l)}reset(){this.current=this.unknownFramebuffer,this.viewport=new mv}destroy(){this.renderer=null}}v_.extension={type:gK.RendererSystem,name:"framebuffer"},gQ.add(v_);const vE={5126:4,5123:2,5121:1};class vT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;dY.PREFER_ENV===dA.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){let t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,n)=>t.vertexAttribDivisorANGLE(e,n),e.drawElementsInstanced=(e,n,i,o,a)=>t.drawElementsInstancedANGLE(e,n,i,o,a),e.drawArraysInstanced=(e,n,i,o)=>t.drawArraysInstancedANGLE(e,n,i,o)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;let{gl:n}=this,i=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);let a=i[t.program.id]||this.initGeometryVao(e,t,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){let e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){let i=e.buffers[n];t.update(i)}}checkCompatibility(e,t){let n=e.attributes,i=t.attributeData;for(let e in i)if(!n[e])throw Error(`shader and geometry incompatible, geometry missing the "${e}" attribute`)}getSignature(e,t){let n=e.attributes,i=t.attributeData,o=["g",e.id];for(let e in n)i[e]&&o.push(e,i[e].location);return o.join("-")}initGeometryVao(e,t,n=!0){let i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=t.program;s.glPrograms[o]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);let l=this.getSignature(e,s),u=e.glVertexArrayObjects[this.CONTEXT_UID],c=u[l];if(c)return u[s.id]=c,c;let d=e.buffers,p=e.attributes,h={},f={};for(let e in d)h[e]=0,f[e]=0;for(let e in p)!p[e].size&&s.attributeData[e]?p[e].size=s.attributeData[e].size:p[e].size||console.warn(`PIXI Geometry attribute '${e}' size cannot be determined (likely the bound shader does not have the attribute)`),h[p[e].buffer]+=p[e].size*vE[p[e].type];for(let e in p){let t=p[e],n=t.size;void 0===t.stride&&(h[t.buffer]===n*vE[t.type]?t.stride=0:t.stride=h[t.buffer]),void 0===t.start&&(t.start=f[t.buffer],f[t.buffer]+=n*vE[t.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let e=0;e<d.length;e++){let t=d[e];a.bind(t),n&&t._glBuffers[o].refCount++}return this.activateVao(e,s),u[s.id]=c,u[l]=c,i.bindVertexArray(null),a.unbind(dX.ARRAY_BUFFER),c}disposeGeometry(e,t){var n;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];let i=e.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=e.buffers,s=null==(n=this.renderer)?void 0:n.buffer;if(e.disposeRunner.remove(this),i){if(s)for(let e=0;e<a.length;e++){let n=a[e]._glBuffers[this.CONTEXT_UID];n&&(n.refCount--,0!==n.refCount||t||s.dispose(a[e],t))}if(!t){for(let e in i)if("g"===e[0]){let t=i[e];this._activeVao===t&&this.unbind(),o.deleteVertexArray(t)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){let t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){let n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,s=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let l=null;for(let e in s){let u=s[e],c=a[u.buffer],d=c._glBuffers[i];if(t.attributeData[e]){l!==d&&(o.bind(c),l=d);let i=t.attributeData[e].location;if(n.enableVertexAttribArray(i),n.vertexAttribPointer(i,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance){if(this.hasInstance)n.vertexAttribDivisor(i,u.divisor);else throw Error("geometry error, GPU Instancing is not supported on this device")}}}}draw(e,t,n,i){let{gl:o}=this,a=this._activeGeometry;if(a.indexBuffer){let s=a.indexBuffer.data.BYTES_PER_ELEMENT,l=2===s?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===s||4===s&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,t||a.indexBuffer.data.length,l,(n||0)*s,i||1):o.drawElements(e,t||a.indexBuffer.data.length,l,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,n,t||a.getSize(),i||1):o.drawArrays(e,n,t||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}vT.extension={type:gK.RendererSystem,name:"geometry"},gQ.add(vT);const vO=new mS;class vI{constructor(e,t){this._texture=e,this.mapCoord=new mS,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);let n=this.mapCoord;for(let i=0;i<e.length;i+=2){let o=e[i],a=e[i+1];t[i]=o*n.a+a*n.c+n.tx,t[i+1]=o*n.b+a*n.d+n.ty}return t}update(e){let t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;let n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);let i=t.orig,o=t.trim;o&&(vO.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(vO));let a=t.baseTexture,s=this.uClampFrame,l=this.clampMargin/a.resolution,u=this.clampOffset;return s[0]=(t._frame.x+l+u)/a.width,s[1]=(t._frame.y+l+u)/a.height,s[2]=(t._frame.x+t._frame.width-l+u)/a.width,s[3]=(t._frame.y+t._frame.height-l+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0}}var vP=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,vC=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class vA extends ve{constructor(e,t,n){let i=null;"string"!=typeof e&&void 0===t&&void 0===n&&(i=e,e=void 0,t=void 0,n=void 0),super(e||vC,t||vP,n),this.maskSprite=i,this.maskMatrix=new mS}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,i){let o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new vI(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,n,i))}}class vR{constructor(e=null){this.type=d$.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ve.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=d$.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class vk{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){let e=this.maskDataPool.pop()||new vR;e.pooled=!0,e.maskObject=t,n=e}let i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==d$.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case d$.SCISSOR:this.renderer.scissor.push(n);break;case d$.STENCIL:this.renderer.stencil.push(n);break;case d$.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case d$.COLOR:this.pushColorMask(n)}n.type===d$.SPRITE&&this.maskStack.push(n)}pop(e){let t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case d$.SCISSOR:this.renderer.scissor.pop(t);break;case d$.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case d$.SPRITE:this.popSpriteMask(t);break;case d$.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){let e=this.maskStack[this.maskStack.length-1];e.type===d$.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){let t=e.maskObject;t?t.isSprite?e.type=d$.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=d$.SCISSOR:e.type=d$.STENCIL:e.type=d$.COLOR}pushSpriteMask(e){let{maskObject:t}=e,n=e._target,i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex])||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new vA]),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;let o=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){let t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((1&n)!=0,(2&n)!=0,(4&n)!=0,(8&n)!=0)}popColorMask(e){let t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((1&n)!=0,(2&n)!=0,(4&n)!=0,(8&n)!=0)}destroy(){this.renderer=null}}vk.extension={type:gK.RendererSystem,name:"mask"},gQ.add(vk);class vD{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){let{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;let i=this.getStackLength();i!==n&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const vN=new mS,vM=[],vL=class e extends vD{constructor(e){super(e),this.glConst=dY.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;let t=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,o=i.renderTexture,a=n.getBounds(!0,vM.pop()??new mv);this.roundFrameToPixels(a,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),t&&a.fit(t),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;let{a:t,b:n,c:i,d:o}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(o)>1e-4)}testScissor(t){let{maskObject:n}=t;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);let i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,n,i,o,a){e.isMatrixRotated(a)||((a=a?vN.copyFrom(a):vN.identity()).translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,t),t.fit(o),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))}push(e){e._scissorRectLocal||this.calcScissorRect(e);let{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){let{gl:t}=this.renderer;e&&vM.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){let e;let t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};vL.extension={type:gK.RendererSystem,name:"scissor"},gQ.add(vL);class vj extends vD{constructor(e){super(e),this.glConst=dY.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){let t=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;let o=e._colorMask;0!==o&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,0xffffffff),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==o&&(e._colorMask=o,n.colorMask((1&o)!=0,(2&o)!=0,(4&o)!=0,(8&o)!=0)),this._useCurrent()}pop(e){let t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{let n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;0!==i&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(n._colorMask=i,t.colorMask((1&i)!=0,(2&i)!=0,(4&i)!=0,(8&i)!=0)),this._useCurrent()}}_useCurrent(){let e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),0xffffffff),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}vj.extension={type:gK.RendererSystem,name:"stencil"},gQ.add(vj);class vF{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(gr("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(gr("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(gr("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){let e=this.rendererPlugins;for(let t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(let e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}vF.extension={type:[gK.RendererSystem,gK.CanvasRendererSystem],name:"_plugin"},gQ.add(vF);class vB{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new mS,this.transform=null}update(e,t,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);let o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,t,n,i){let o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/t.width*2,o.d=a*(1/t.height*2),o.tx=-1-t.x*o.a,o.ty=-a-t.y*o.d}setTransform(e){}destroy(){this.renderer=null}}vB.extension={type:gK.RendererSystem,name:"projection"},gQ.add(vB);const vz=new mk,vU=new mv;class vW{constructor(e){this.renderer=e,this._tempMatrix=new mS}generateTexture(e,t){let{region:n,...i}=t||{},o=(null==n?void 0:n.copyTo(vU))||e.getLocalBounds(vU,!0),a=i.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/a),o.height=Math.max(o.height,1/a),i.width=o.width,i.height=o.height,i.resolution=a,i.multisample??(i.multisample=this.renderer.multisample);let s=vh.create(i);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;let l=e.transform;return e.transform=vz,this.renderer.render(e,{renderTexture:s,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,s}destroy(){}}vW.extension={type:[gK.RendererSystem,gK.CanvasRendererSystem],name:"textureGenerator"},gQ.add(vW);const vH=new mv,vV=new mv;class vG{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new mv,this.destinationFrame=new mv,this.viewportFrame=new mv}contextChange(){var e;let t=null==(e=this.renderer)?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(e=null,t,n){let i,o,a;let s=this.renderer;this.current=e,e?(a=(i=e.baseTexture).resolution,t||(vH.width=e.frame.width,vH.height=e.frame.height,t=vH),n||(vV.x=e.frame.x,vV.y=e.frame.y,vV.width=t.width,vV.height=t.height,n=vV),o=i.framebuffer):(a=s.resolution,t||(vH.width=s._view.screen.width,vH.height=s._view.screen.height,t=vH),n||((n=vH).width=t.width,n.height=t.height));let l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=s.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,t,a,!o),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){let n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=gN.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);let o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,s=o.width!==a.width||o.height!==a.height;if(s){let{x:e,y:t,width:n,height:i}=this.viewportFrame;e=Math.round(e),t=Math.round(t),n=Math.round(n),i=Math.round(i),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,n,i)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}vG.extension={type:gK.RendererSystem,name:"renderTexture"},gQ.add(vG);class v${constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function vq(e,t,n,i,o){n.buffer.update(o)}const vX={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},vY={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};let vK=0;const vZ={textureCount:0,uboCount:0};class vJ{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vK++}systemCheck(){if(!function(){if("boolean"==typeof l)return l;try{l=!0===Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch{l=!1}return l}())throw Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;let n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),t||(vZ.textureCount=0,vZ.uboCount=0,this.syncUniformGroup(e.uniformGroup,vZ)),i}setUniforms(e){let t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){let n=this.getGlProgram();e.static&&e.dirtyId===n.uniformDirtyGroups[e.id]||(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){let t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var n;let i=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(let o in e.uniforms){let a=t[o];if(!a){(null==(n=e.uniforms[o])?void 0:n.group)===!0&&(e.uniforms[o].ubo?i.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${o}, '${o}');
                    `):i.push(`
                        renderer.shader.syncUniformGroup(uv.${o}, syncData);
                    `));continue}let s=e.uniforms[o],l=!1;for(let e=0;e<mF.length;e++)if(mF[e].test(a,s)){i.push(mF[e].code(o,s)),l=!0;break}if(!l){let e=(1!==a.size||a.isArray?mz:mB)[a.type].replace("location",`ud["${o}"].location`);i.push(`
            cu = ud["${o}"];
            cv = cu.value;
            v = uv["${o}"];
            ${e};`)}}return Function("ud","uv","renderer","syncData",i.join(`
`))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){let n=this.getGlProgram();if(!e.static||0!==e.dirtyId||!n.uniformGroups[e.id]){e.dirtyId=0;let i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,vZ,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){let{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);let o=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;let a=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=function(e,t){if(!e.autoManage)return{size:0,syncFunc:vq};let{uboElements:n,size:i}=function(e){let t=e.map(e=>({data:e,offset:0,dataLen:0,dirty:0})),n=0,i=0,o=0;for(let e=0;e<t.length;e++){let a=t[e];if(n=vY[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,i%n!=0&&i<16){let e=i%n%16;i+=e,o+=e}i+n>16?(o=16*Math.ceil(o/16),a.offset=o,o+=n,i=n):(a.offset=o,i+=n,o+=n)}return{uboElements:t,size:o=16*Math.ceil(o/16)}}(function(e,t){let n=[];for(let i in e)t[i]&&n.push(t[i]);return n.sort((e,t)=>e.index-t.index),n}(e.uniforms,t)),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let t=0;t<n.length;t++){let i=n[t],a=e.uniforms[i.data.name],s=i.data.name,l=!1;for(let e=0;e<mF.length;e++){let t=mF[e];if(t.codeUbo&&t.test(i.data,a)){o.push(`offset = ${i.offset/4};`,mF[e].codeUbo(i.data.name,a)),l=!0;break}}if(!l){if(i.data.size>1){let e=mV[i.data.type],t=Math.max(vY[i.data.type]/16,1),n=e/t,a=(4-n%4)%4;o.push(`
                cv = ud.${s}.value;
                v = uv.${s};
                offset = ${i.offset/4};

                t = 0;

                for(var i=0; i < ${i.data.size*t}; i++)
                {
                    for(var j = 0; j < ${n}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${a};
                }

                `)}else{let e=vX[i.data.type];o.push(`
                cv = ud.${s}.value;
                v = uv.${s};
                offset = ${i.offset/4};
                ${e};
                `)}}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}(e,this.shader.program.uniformData)),e.autoManage){let t=new Float32Array(s.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){let i=e.uniforms,o=[`${n}-`];for(let e in i)o.push(e),t[e]&&o.push(t[e].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){let t=this.gl,n=e.program,i=function(e,t){var n;let i=mM(e,e.VERTEX_SHADER,t.vertexSrc),o=mM(e,e.FRAGMENT_SHADER,t.fragmentSrc),a=e.createProgram();e.attachShader(a,i),e.attachShader(a,o);let s=null==(n=t.extra)?void 0:n.transformFeedbackVaryings;if(s&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(a,s.names,"separate"===s.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(a),e.getProgramParameter(a,e.LINK_STATUS)||e.getProgramParameter(a,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||mH(e,i),e.getShaderParameter(o,e.COMPILE_STATUS)||mH(e,o),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(a)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(a))),t.attributeData=function(e,t){let n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){let i=t.getActiveAttrib(e,o);if(i.name.startsWith("gl_"))continue;let a=mq(t,i.type),s={type:a,name:i.name,size:mV[a],location:t.getAttribLocation(e,i.name)};n[i.name]=s}return n}(a,e),t.uniformData=function(e,t){let n={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let o=0;o<i;o++){let i=t.getActiveUniform(e,o),a=i.name.replace(/\[.*?\]$/,""),s=!!i.name.match(/\[.*?\]$/),l=mq(t,i.type);n[a]={name:a,index:o,type:l,size:i.size,isArray:s,value:mj(l,i.size)}}return n}(a,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){let n=Object.keys(t.attributeData);n.sort((e,t)=>e>t?1:-1);for(let i=0;i<n.length;i++)t.attributeData[n[i]].location=i,e.bindAttribLocation(a,i,n[i]);e.linkProgram(a)}e.deleteShader(i),e.deleteShader(o);let l={};for(let n in t.uniformData){let i=t.uniformData[n];l[n]={location:e.getUniformLocation(a,n),value:mj(i.type,i.size)}}return new v$(a,l)}(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}vJ.extension={type:gK.RendererSystem,name:"shader"},gQ.add(vJ);class vQ{constructor(e){this.renderer=e}run(e){let{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}vQ.defaultOptions={hello:!1},vQ.extension={type:[gK.RendererSystem,gK.CanvasRendererSystem],name:"startup"},gQ.add(vQ);const v0=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=dD.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new g2,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=function(e,t=[]){return t[dD.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.ADD]=[e.ONE,e.ONE],t[dD.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.NONE]=[0,0],t[dD.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[dD.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[dD.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[dD.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[dD.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[dD.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[dD.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[dD.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[dD.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[dD.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[dD.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;let t=this.blendModes[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){let n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};v0.extension={type:gK.RendererSystem,name:"state"},gQ.add(v0);class v1 extends ps{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);let t=(e.priority??[]).filter(t=>e.systems[t]);for(let n of[...t,...Object.keys(e.systems).filter(e=>!t.includes(e))])this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(e=>{this.runners[e]=new g4(e)})}addSystem(e,t){let n=new e(this);if(this[t])throw Error(`Whoops! The name "${t}" is already in use`);for(let e in this[t]=n,this._systemsHash[t]=n,this.runners)this.runners[e].add(n);return this}emitWithCustomOptions(e,t){let n=Object.keys(this._systemsHash);e.items.forEach(i=>{let o=n.find(e=>this._systemsHash[e]===i);i[e.name](t[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const v2=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==dV.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){let e=this.renderer.texture,t=e.managedTextures,n=!1;for(let i=0;i<t.length;i++){let o=t[i];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),t[i]=null,n=!0)}if(n){let e=0;for(let n=0;n<t.length;n++)null!==t[n]&&(t[e++]=t[n]);t.length=e}}unload(e){let t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}};v2.defaultMode=dV.AUTO,v2.defaultMaxIdle=3600,v2.defaultCheckCountMax=600,v2.extension={type:gK.RendererSystem,name:"textureGC"},gQ.add(v2);class v3{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=dj.UNSIGNED_BYTE,this.internalFormat=dM.RGBA,this.samplerType=0}}class v5{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new me,this.hasIntegerTextures=!1}contextChange(){let e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[dj.UNSIGNED_BYTE]:{[dM.RGBA]:e.RGBA8,[dM.RGB]:e.RGB8,[dM.RG]:e.RG8,[dM.RED]:e.R8,[dM.RGBA_INTEGER]:e.RGBA8UI,[dM.RGB_INTEGER]:e.RGB8UI,[dM.RG_INTEGER]:e.RG8UI,[dM.RED_INTEGER]:e.R8UI,[dM.ALPHA]:e.ALPHA,[dM.LUMINANCE]:e.LUMINANCE,[dM.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[dj.BYTE]:{[dM.RGBA]:e.RGBA8_SNORM,[dM.RGB]:e.RGB8_SNORM,[dM.RG]:e.RG8_SNORM,[dM.RED]:e.R8_SNORM,[dM.RGBA_INTEGER]:e.RGBA8I,[dM.RGB_INTEGER]:e.RGB8I,[dM.RG_INTEGER]:e.RG8I,[dM.RED_INTEGER]:e.R8I},[dj.UNSIGNED_SHORT]:{[dM.RGBA_INTEGER]:e.RGBA16UI,[dM.RGB_INTEGER]:e.RGB16UI,[dM.RG_INTEGER]:e.RG16UI,[dM.RED_INTEGER]:e.R16UI,[dM.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[dj.SHORT]:{[dM.RGBA_INTEGER]:e.RGBA16I,[dM.RGB_INTEGER]:e.RGB16I,[dM.RG_INTEGER]:e.RG16I,[dM.RED_INTEGER]:e.R16I},[dj.UNSIGNED_INT]:{[dM.RGBA_INTEGER]:e.RGBA32UI,[dM.RGB_INTEGER]:e.RGB32UI,[dM.RG_INTEGER]:e.RG32UI,[dM.RED_INTEGER]:e.R32UI,[dM.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[dj.INT]:{[dM.RGBA_INTEGER]:e.RGBA32I,[dM.RGB_INTEGER]:e.RGB32I,[dM.RG_INTEGER]:e.RG32I,[dM.RED_INTEGER]:e.R32I},[dj.FLOAT]:{[dM.RGBA]:e.RGBA32F,[dM.RGB]:e.RGB32F,[dM.RG]:e.RG32F,[dM.RED]:e.R32F,[dM.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[dj.HALF_FLOAT]:{[dM.RGBA]:e.RGBA16F,[dM.RGB]:e.RGB16F,[dM.RG]:e.RG16F,[dM.RED]:e.R16F},[dj.UNSIGNED_SHORT_5_6_5]:{[dM.RGB]:e.RGB565},[dj.UNSIGNED_SHORT_4_4_4_4]:{[dM.RGBA]:e.RGBA4},[dj.UNSIGNED_SHORT_5_5_5_1]:{[dM.RGBA]:e.RGB5_A1},[dj.UNSIGNED_INT_2_10_10_10_REV]:{[dM.RGBA]:e.RGB10_A2,[dM.RGBA_INTEGER]:e.RGB10_A2UI},[dj.UNSIGNED_INT_10F_11F_11F_REV]:{[dM.RGB]:e.R11F_G11F_B10F},[dj.UNSIGNED_INT_5_9_9_9_REV]:{[dM.RGB]:e.RGB9_E5},[dj.UNSIGNED_INT_24_8]:{[dM.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[dj.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[dM.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[dj.UNSIGNED_BYTE]:{[dM.RGBA]:e.RGBA,[dM.RGB]:e.RGB,[dM.ALPHA]:e.ALPHA,[dM.LUMINANCE]:e.LUMINANCE,[dM.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[dj.UNSIGNED_SHORT_5_6_5]:{[dM.RGB]:e.RGB},[dj.UNSIGNED_SHORT_4_4_4_4]:{[dM.RGBA]:e.RGBA},[dj.UNSIGNED_SHORT_5_5_5_1]:{[dM.RGBA]:e.RGBA}},this.samplerTypes="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:dF.FLOAT,[e.RGBA]:dF.FLOAT,[e.ALPHA]:dF.FLOAT,[e.LUMINANCE]:dF.FLOAT,[e.LUMINANCE_ALPHA]:dF.FLOAT,[e.R8]:dF.FLOAT,[e.R8_SNORM]:dF.FLOAT,[e.RG8]:dF.FLOAT,[e.RG8_SNORM]:dF.FLOAT,[e.RGB8]:dF.FLOAT,[e.RGB8_SNORM]:dF.FLOAT,[e.RGB565]:dF.FLOAT,[e.RGBA4]:dF.FLOAT,[e.RGB5_A1]:dF.FLOAT,[e.RGBA8]:dF.FLOAT,[e.RGBA8_SNORM]:dF.FLOAT,[e.RGB10_A2]:dF.FLOAT,[e.RGB10_A2UI]:dF.FLOAT,[e.SRGB8]:dF.FLOAT,[e.SRGB8_ALPHA8]:dF.FLOAT,[e.R16F]:dF.FLOAT,[e.RG16F]:dF.FLOAT,[e.RGB16F]:dF.FLOAT,[e.RGBA16F]:dF.FLOAT,[e.R32F]:dF.FLOAT,[e.RG32F]:dF.FLOAT,[e.RGB32F]:dF.FLOAT,[e.RGBA32F]:dF.FLOAT,[e.R11F_G11F_B10F]:dF.FLOAT,[e.RGB9_E5]:dF.FLOAT,[e.R8I]:dF.INT,[e.R8UI]:dF.UINT,[e.R16I]:dF.INT,[e.R16UI]:dF.UINT,[e.R32I]:dF.INT,[e.R32UI]:dF.UINT,[e.RG8I]:dF.INT,[e.RG8UI]:dF.UINT,[e.RG16I]:dF.INT,[e.RG16UI]:dF.UINT,[e.RG32I]:dF.INT,[e.RG32UI]:dF.UINT,[e.RGB8I]:dF.INT,[e.RGB8UI]:dF.UINT,[e.RGB16I]:dF.INT,[e.RGB16UI]:dF.UINT,[e.RGB32I]:dF.INT,[e.RGB32UI]:dF.UINT,[e.RGBA8I]:dF.INT,[e.RGBA8UI]:dF.UINT,[e.RGBA16I]:dF.INT,[e.RGBA16UI]:dF.UINT,[e.RGBA32I]:dF.INT,[e.RGBA32UI]:dF.UINT,[e.DEPTH_COMPONENT16]:dF.FLOAT,[e.DEPTH_COMPONENT24]:dF.FLOAT,[e.DEPTH_COMPONENT32F]:dF.FLOAT,[e.DEPTH_STENCIL]:dF.FLOAT,[e.DEPTH24_STENCIL8]:dF.FLOAT,[e.DEPTH32F_STENCIL8]:dF.FLOAT}:{[e.RGB]:dF.FLOAT,[e.RGBA]:dF.FLOAT,[e.ALPHA]:dF.FLOAT,[e.LUMINANCE]:dF.FLOAT,[e.LUMINANCE_ALPHA]:dF.FLOAT,[e.DEPTH_STENCIL]:dF.FLOAT};let t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};let n=new v3(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new v3(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){let{gl:n}=this;if((null==(e=null==e?void 0:e.castToBaseTexture())?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;let i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){let{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<n.length;e++)n[e]===this.unknownTexture&&this.bind(null,e)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){let{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let n=e-1;n>=0;--n){let e=t[n];e&&e._glTextures[i].samplerType!==dF.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){let t=new v3(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n;t.internalFormat=(null==(n=this.internalFormats[e.type])?void 0:n[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??dF.FLOAT,2===this.webGLVersion&&e.type===dj.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var t;let n=e._glTextures[this.CONTEXT_UID];if(!n)return;let i=this.renderer;if(this.initTextureType(e,n),null==(t=e.resource)?void 0:t.upload(i,e,n))n.samplerType!==dF.FLOAT&&(this.hasIntegerTextures=!0);else{let t=e.realWidth,o=e.realHeight,a=i.gl;(n.width!==t||n.height!==o||n.dirtyId<0)&&(n.width=t,n.height=o,a.texImage2D(e.target,0,n.internalFormat,t,o,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,t){let{gl:n}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){let t=this.managedTextures.indexOf(e);-1!==t&&gB(this.managedTextures,t,1)}}updateTextureStyle(e){var t;let n=e._glTextures[this.CONTEXT_UID];n&&(e.mipmap!==dU.POW2&&2===this.webGLVersion||e.isPowerOfTwo?n.mipmap=e.mipmap>=1:n.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?n.wrapMode=e.wrapMode:n.wrapMode=dz.CLAMP,null!=(t=e.resource)&&t.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){let n=this.gl;if(t.mipmap&&e.mipmap!==dU.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===dB.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);let t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===dB.LINEAR){let i=Math.min(e.anisotropicLevel,n.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===dB.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===dB.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}v5.extension={type:gK.RendererSystem,name:"texture"},gQ.add(v5);class v4{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){let{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){let{gl:n,renderer:i}=this;t&&i.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){let{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){let{gl:t,renderer:n,CONTEXT_UID:i}=this,o=t.createTransformFeedback();e._glTransformFeedbacks[i]=o,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,o);for(let o=0;o<e.buffers.length;o++){let a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,t){let n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);let o=this.renderer.buffer;if(o)for(let n=0;n<e.buffers.length;n++){let i=e.buffers[n];if(!i)continue;let a=i._glBuffers[this.CONTEXT_UID];a&&(a.refCount--,0!==a.refCount||t||o.dispose(i,t))}n&&(t||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}v4.extension={type:gK.RendererSystem,name:"transformFeedback"},gQ.add(v4);class v6{constructor(e){this.renderer=e}init(e){this.screen=new mv(0,0,e.width,e.height),this.element=e.view||dY.ADAPTER.createCanvas(),this.resolution=e.resolution||dY.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);let n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&(null==(t=this.element.parentNode)||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}v6.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},v6.extension={type:[gK.RendererSystem,gK.CanvasRendererSystem],name:"_view"},gQ.add(v6),dY.PREFER_ENV=dA.WEBGL2,dY.STRICT_TEXTURE_CACHE=!1,dY.RENDER_OPTIONS={...vi.defaultOptions,...vt.defaultOptions,...v6.defaultOptions,...vQ.defaultOptions},Object.defineProperties(dY,{WRAP_MODE:{get:()=>me.defaultOptions.wrapMode,set(e){gr("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),me.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>me.defaultOptions.scaleMode,set(e){gr("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),me.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>me.defaultOptions.mipmap,set(e){gr("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),me.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>me.defaultOptions.anisotropicLevel,set(e){gr("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),me.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(gr("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ve.defaultResolution),set(e){ve.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(gr("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ve.defaultMultisample),set(e){ve.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>m6.defaultMaxTextures,set(e){gr("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),m6.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>m6.defaultBatchSize,set(e){gr("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),m6.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>m6.canUploadSameBuffer,set(e){gr("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),m6.canUploadSameBuffer=e}},GC_MODE:{get:()=>v2.defaultMode,set(e){gr("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),v2.defaultMode=e}},GC_MAX_IDLE:{get:()=>v2.defaultMaxIdle,set(e){gr("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),v2.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>v2.defaultCheckCountMax,set(e){gr("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),v2.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>mZ.defaultVertexPrecision,set(e){gr("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),mZ.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>mZ.defaultFragmentPrecision,set(e){gr("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),mZ.defaultFragmentPrecision=e}}});var v8=((z=v8||{})[z.INTERACTION=50]="INTERACTION",z[z.HIGH=25]="HIGH",z[z.NORMAL=0]="NORMAL",z[z.LOW=-25]="LOW",z[z.UTILITY=-50]="UTILITY",z);class v9{constructor(e,t=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));let t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);let t=this.next;return this.next=e?null:t,this.previous=null,t}}const v7=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new v9(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=v8.NORMAL){return this._addListener(new v9(e,t,n))}addOnce(e,t,n=v8.NORMAL){return this._addListener(new v9(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if((n=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){let e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*e.targetFPMS;let i=this._head,o=i.next;for(;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){let n=Math.min(Math.max(0,Math.min(this.maxFPS,t))/1e3,e.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{let t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){let t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){let t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};v7.targetFPMS=.06,Object.defineProperties(dY,{TARGET_FPMS:{get:()=>v7.targetFPMS,set(e){gr("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),v7.targetFPMS=e}}});class ye{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,v8.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?v7.shared:new v7,e.autoStart&&this.start()}static destroy(){if(this._ticker){let e=this._ticker;this.ticker=null,e.destroy()}}}ye.extension=gK.Application,gQ.add(ye);const yt=[];function yr(e){for(let t of yt)if(t.test(e))return new t(e);throw Error("Unable to auto-detect a suitable renderer.")}gQ.handleByList(gK.Renderer,yt);var yn=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yi=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;class yo{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){let n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{let n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=dq.HIGH?this.multisample=dq.HIGH:t>=dq.MEDIUM?this.multisample=dq.MEDIUM:t>=dq.LOW?this.multisample=dq.LOW:this.multisample=dq.NONE}destroy(){}}yo.extension={type:gK.RendererSystem,name:"_multisample"},gQ.add(yo);class ya{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class ys{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){let{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){let{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){let o=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,o.buffer)}}bindBufferRange(e,t,n){let{gl:i,CONTEXT_UID:o}=this;n=n||0;let a=e._glBuffers[o]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,a.buffer,256*n,256)}update(e){let{gl:t,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID){if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{let n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];let n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(t||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){let t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){let{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new ya(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}ys.extension={type:gK.RendererSystem,name:"buffer"},gQ.add(ys);class yl{constructor(e){this.renderer=e}render(e,t){let n,i,o,a;let s=this.renderer;if(t&&(n=t.renderTexture,i=t.clear,o=t.transform,a=t.skipUpdateTransform),this.renderingToScreen=!n,s.runners.prerender.emit(),s.emit("prerender"),s.projection.transform=o,!s.context.isLost){if(n||(this.lastObjectRendered=e),!a){let t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}s.renderTexture.bind(n),s.batch.currentRenderer.start(),(i??s.background.clearBeforeRender)&&s.renderTexture.clear(),e.render(s),s.batch.currentRenderer.flush(),n&&(t.blit&&s.framebuffer.blit(),n.baseTexture.update()),s.runners.postrender.emit(),s.projection.transform=null,s.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}yl.extension={type:gK.RendererSystem,name:"objectRenderer"},gQ.add(yl);const yu=class e extends v1{constructor(t){super(),this.type=dR.WEBGL,t=Object.assign({},dY.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new mQ({projectionMatrix:new mS},!0);let n={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(n),"useContextAlpha"in t&&(gr("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return(null==e||!e.forceCanvas)&&(typeof a>"u"&&(a=function(){var e;let t={stencil:!0,failIfMajorPerformanceCaveat:dY.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!dY.ADAPTER.getWebGLRenderingContext())return!1;let n=dY.ADAPTER.createCanvas(),i=n.getContext("webgl",t)||n.getContext("experimental-webgl",t),o=!!(null!=(e=null==i?void 0:i.getContextAttributes())&&e.stencil);if(i){let e=i.getExtension("WEBGL_lose_context");e&&e.loseContext()}return i=null,o}catch{return!1}}()),a)}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return gr("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return gr("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return gr("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return gr("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){gr("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return gr("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){gr("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return gr("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};yu.extension={type:gK.Renderer,priority:1},yu.__plugins={},yu.__systems={},gQ.handleByMap(gK.RendererPlugin,yu.__plugins),gQ.handleByMap(gK.RendererSystem,yu.__systems),gQ.add(yu);class yc extends g6{constructor(e,t){let{width:n,height:i}=t||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){let e=new me;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof g6?this.addResourceAt(e[n],n):this.addResourceAt(g5(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;let e=this.items.map(e=>e.resource).filter(e=>e).map(e=>e.load());return this._load=Promise.all(e).then(()=>{let{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)}),this._load}}const yd=class e extends yc{constructor(t,n){let{width:i,height:o,autoLoad:a,linkBaseTexture:s}=n||{};if(t&&t.length!==e.SIDES)throw Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:o});for(let t=0;t<e.SIDES;t++)this.items[t].target=dL.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==s,t&&this.initFromArray(t,n),!1!==a&&this.load()}bind(e){super.bind(e),e.target=dL.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[t])throw Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("CubeResource does not support copying of renderTexture.")}else e.target=dL.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,n,i){let o=this.itemDirtyIds;for(let a=0;a<e.SIDES;a++){let e=this.items[a];(o[a]<e.dirtyId||i.dirtyId<n.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,i),o[a]=e.dirtyId):o[a]<-1&&(t.gl.texImage2D(e.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};yd.SIDES=6;class yp extends vs{constructor(e,t){let n,i,o;t=t||{},"string"==typeof e?(n=yp.EMPTY,i=e,o=!0):(n=e,i=null,o=!1),super(n),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??o,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(async(e,t)=>{if(null===this.url){e(this);return}try{let t=await dY.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;let n=await t.blob();if(this.destroyed)return;let i=await createImageBitmap(n,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===dW.UNPACK?"premultiply":"none"});if(this.destroyed){i.close();return}this.source=i,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}})),this._load}upload(e,t,n){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&"u">typeof ImageBitmap&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){return yp._EMPTY=yp._EMPTY??dY.ADAPTER.createCanvas(0,0),yp._EMPTY}}const yh=class e extends vs{constructor(e,t){t=t||{},super(dY.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()})),this._load}_loadSvg(){let e=new Image;vs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;let t=e.width,n=e.height;if(!t||!n)throw Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,o=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*t,o=this._overrideHeight||this._overrideWidth/t*n),i=Math.round(i),o=Math.round(o);let a=this.source;a.width=i,a.height=o,a._pixiId=`canvas_${++gU}`,a.getContext("2d").drawImage(e,0,0,t,n,0,0,i,o),this._resolve(),this._resolve=null}}static getSize(t){let n=e.SVG_SIZE.exec(t),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,n){return"svg"===n||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};yh.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,yh.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const yf=class e extends vs{constructor(t,n){if(n=n||{},!(t instanceof HTMLVideoElement)){let i=document.createElement("video");!1!==n.autoLoad&&i.setAttribute("preload","auto"),!1!==n.playsinline&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),!0===n.muted&&(i.setAttribute("muted",""),i.muted=!0),!0===n.loop&&i.setAttribute("loop",""),!1!==n.autoPlay&&i.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);let o=t[0].src||t[0];vs.crossOrigin(i,o,n.crossorigin);for(let n=0;n<t.length;++n){let o=document.createElement("source"),{src:a,mime:s}=t[n];if((a=a||t[n]).startsWith("data:"))s=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){let t=a.split("?").shift().toLowerCase(),n=t.slice(t.lastIndexOf(".")+1);s=s||e.MIME_TYPES[n]||`video/${n}`}o.src=a,s&&(o.type=s),i.appendChild(o)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=n.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==n.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==n.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){let e=v7.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;let e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){let e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){let e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);let t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();let e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(v7.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(v7.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(v7.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(n)}};yf.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],yf.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},g3.push(yp,vl,class extends vs{constructor(e){super(e)}static test(e){let{OffscreenCanvas:t}=globalThis;return!!t&&e instanceof t||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}},yf,class extends vs{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}},yh,g8,yd,class extends yc{constructor(e,t){let n,i;let{width:o,height:a}=t||{};Array.isArray(e)?(n=e,i=e.length):i=e,super(i,{width:o,height:a}),n&&this.initFromArray(n,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=dL.TEXTURE_2D_ARRAY}upload(e,t,n){let{length:i,itemDirtyIds:o,items:a}=this,{gl:s}=e;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,t.format,n.type,null);for(let e=0;e<i;e++){let i=a[e];o[e]<i.dirtyId&&(o[e]=i.dirtyId,i.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,e,i.resource.width,i.resource.height,1,t.format,n.type,i.resource.source))}return!0}});class yg{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?mv.EMPTY:((e=e||new mv(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){let{a:n,b:i,c:o,d:a,tx:s,ty:l}=e,u=n*t.x+o*t.y+s,c=i*t.x+a*t.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let t=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=e[0],s=e[1];t=a<t?a:t,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[2],s=e[3],t=a<t?a:t,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[4],s=e[5],t=a<t?a:t,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=e[6],s=e[7],t=a<t?a:t,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=t,this.minY=n,this.maxX=i,this.maxY=o}addFrame(e,t,n,i,o){this.addFrameMatrix(e.worldTransform,t,n,i,o)}addFrameMatrix(e,t,n,i,o){let a=e.a,s=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty,p=this.minX,h=this.minY,f=this.maxX,g=this.maxY,m=a*t+l*n+c,v=s*t+u*n+d;p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*i+l*n+c,v=s*i+u*n+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*t+l*o+c,v=s*t+u*o+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,m=a*i+l*o+c,v=s*i+u*o+d,p=m<p?m:p,h=v<h?v:h,f=m>f?m:f,g=v>g?v:g,this.minX=p,this.minY=h,this.maxX=f,this.maxY=g}addVertexData(e,t,n){let i=this.minX,o=this.minY,a=this.maxX,s=this.maxY;for(let l=t;l<n;l+=2){let t=e[l],n=e[l+1];i=t<i?t:i,o=n<o?n:o,a=t>a?t:a,s=n>s?n:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s}addVertices(e,t,n,i){this.addVerticesMatrix(e.worldTransform,t,n,i)}addVerticesMatrix(e,t,n,i,o=0,a=o){let s=e.a,l=e.b,u=e.c,c=e.d,d=e.tx,p=e.ty,h=this.minX,f=this.minY,g=this.maxX,m=this.maxY;for(let e=n;e<i;e+=2){let n=t[e],i=t[e+1],v=s*n+u*i+d,y=c*i+l*n+p;h=Math.min(h,v-o),g=Math.max(g,v+o),f=Math.min(f,y-a),m=Math.max(m,y+a)}this.minX=h,this.minY=f,this.maxX=g,this.maxY=m}addBounds(e){let t=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,t){let n=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=o&&i<=a){let e=this.minX,t=this.minY,s=this.maxX,l=this.maxY;this.minX=n<e?n:e,this.minY=i<t?i:t,this.maxX=o>s?o:s,this.maxY=a>l?a:l}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){let n=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=o&&i<=a){let e=this.minX,t=this.minY,s=this.maxX,l=this.maxY;this.minX=n<e?n:e,this.minY=i<t?i:t,this.maxX=o>s?o:s,this.maxY=a>l?a:l}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,i,o,a){e-=o,t-=a,n+=o,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}}class ym extends ps{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new mk,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new yg,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){let t=Object.keys(e);for(let n=0;n<t.length;++n){let i=t[n];Object.defineProperty(ym.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new mv),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new mv),e=this._localBoundsRect),this._localBounds||(this._localBounds=new yg);let t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(null==n?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;let i=this._bounds,o=this._boundsID;this._bounds=this._localBounds;let a=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-o,a}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,i){return t&&(e=t.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;null==(e=this.parent)||e.removeChild(this)}setTransform(e=0,t=0,n=1,i=1,o=0,a=0,s=0,l=0,u=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=i||1,this.rotation=o,this.skew.x=a,this.skew.y=s,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new yv),this.tempDisplayObjectParent}enableTempParent(){let e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*mp}set angle(e){this.transform.rotation=e*mh}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e)return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(e._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1))}if(this._mask=e,this._mask){let e=this._mask.isMaskData?this._mask.maskObject:this._mask;e&&(0===e._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++)}}}}class yv extends ym{constructor(){super(...arguments),this.sortDirty=null}}ym.prototype.displayObjectUpdateTransform=ym.prototype.updateTransform;const yy=new mS;function yb(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const yw=class e extends ym{constructor(){super(),this.children=[],this.sortableChildren=e.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{let t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;let n=this.getChildIndex(e),i=this.getChildIndex(t);this.children[n]=t,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){let t=this.children.indexOf(e);if(-1===t)throw Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw Error(`The index ${t} supplied is out of bounds ${this.children.length}`);let n=this.getChildIndex(e);gB(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{let t=e[0],n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,gB(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){let t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,gB(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){let n;let i=t-e;if(i>0&&i<=t){n=this.children.splice(e,i);for(let e=0;e<n.length;++e)n[e].parent=null,n[e].transform&&(n[e].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let e=0;e<n.length;++e)n[e].emit("removed",this),this.emit("childRemoved",n[e],this,e);return n}if(0===i&&0===this.children.length)return[];throw RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){let n=this.children[t];n._lastSortedIndex=t,e||0===n.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(yb),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){let t=this.children[e];if(!(!t.visible||!t.renderable)){if(t.calculateBounds(),t._mask){let e=t._mask.isMaskData?t._mask.maskObject:t._mask;e?(e.calculateBounds(),this._bounds.addBoundsMask(t._bounds,e._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){let n=super.getLocalBounds(e);if(!t)for(let e=0,t=this.children.length;e<t;++e){let t=this.children[e];t.visible&&t.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){let n,i;let o=t.renderTexture.sourceFrame;if(!(o.width>0&&o.height>0))return;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(n=this.getBounds(!0));let a=t.projection.transform;if(a&&(i?(i=yy.copyFrom(i)).prepend(a):i=a),n&&o.intersects(n,i))this._render(t);else if(this.cullArea)return;for(let e=0,n=this.children.length;e<n;++e){let n=this.children[e],i=n.cullable;n.cullable=i||!this.cullArea,n.render(t),n.cullable=i}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){if(this._mask||null!=(t=this.filters)&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}}}renderAdvanced(e){var t,n,i;let o=this.filters,a=this._mask;if(o){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let e=0;e<o.length;e++)o[e].enabled&&this._enabledFilters.push(o[e])}let s=o&&(null==(t=this._enabledFilters)?void 0:t.length)||a&&(!a.isMaskData||a.enabled&&(a.autoDetect||a.type!==d$.NONE));if(s&&e.batch.flush(),o&&null!=(n=this._enabledFilters)&&n.length&&e.filter.push(this,this._enabledFilters),a&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let t=0,n=this.children.length;t<n;++t)this.children[t].render(e)}s&&e.batch.flush(),a&&e.mask.pop(this),o&&null!=(i=this._enabledFilters)&&i.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;let t="boolean"==typeof e?e:null==e?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<n.length;++t)n[t].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){let t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){let t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}};yw.defaultSortableChildren=!1;let yx=yw;yx.prototype.containerUpdateTransform=yx.prototype.updateTransform,Object.defineProperties(dY,{SORTABLE_CHILDREN:{get:()=>yx.defaultSortableChildren,set(e){gr("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),yx.defaultSortableChildren=e}}});const yS=new mg,y_=new Uint16Array([0,1,2,0,2,3]);class yE extends yx{constructor(e){super(),this._anchor=new mR(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new gN(0xffffff),this._tintRGB=null,this.tint=0xffffff,this.blendMode=dD.NORMAL,this._cachedTint=0xffffff,this.uvs=null,this.texture=e||vp.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=y_,this.pluginName="batch",this.isSprite=!0,this._roundPixels=dY.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=0xffffff,this._width&&(this.scale.x=gz(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=gz(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){let e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;let t=this.transform.worldTransform,n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,l=t.ty,u=this.vertexData,c=e.trim,d=e.orig,p=this._anchor,h=0,f=0,g=0,m=0;if(c?(h=(f=c.x-p._x*d.width)+c.width,g=(m=c.y-p._y*d.height)+c.height):(h=(f=-p._x*d.width)+d.width,g=(m=-p._y*d.height)+d.height),u[0]=n*f+o*m+s,u[1]=a*m+i*f+l,u[2]=n*h+o*m+s,u[3]=a*m+i*h+l,u[4]=n*h+o*g+s,u[5]=a*g+i*h+l,u[6]=n*f+o*g+s,u[7]=a*g+i*f+l,this._roundPixels){let e=dY.RESOLUTION;for(let t=0;t<u.length;++t)u[t]=Math.round(u[t]*e)/e}}calculateTrimmedVertices(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;let e=this._texture,t=this.vertexTrimmedData,n=e.orig,i=this._anchor,o=this.transform.worldTransform,a=o.a,s=o.b,l=o.c,u=o.d,c=o.tx,d=o.ty,p=-i._x*n.width,h=p+n.width,f=-i._y*n.height,g=f+n.height;if(t[0]=a*p+l*f+c,t[1]=u*f+s*p+d,t[2]=a*h+l*f+c,t[3]=u*f+s*h+d,t[4]=a*h+l*g+c,t[5]=u*g+s*h+d,t[6]=a*p+l*g+c,t[7]=u*g+s*p+d,this._roundPixels){let e=dY.RESOLUTION;for(let n=0;n<t.length;++n)t[n]=Math.round(t[n]*e)/e}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){let e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))}getLocalBounds(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new yg),this._localBounds.minX=-(this._texture.orig.width*this._anchor._x),this._localBounds.minY=-(this._texture.orig.height*this._anchor._y),this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new mv),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,yS);let t=this._texture.orig.width,n=this._texture.orig.height,i=-t*this.anchor.x,o=0;return yS.x>=i&&yS.x<i+t&&(o=-n*this.anchor.y,yS.y>=o&&yS.y<o+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:null==e?void 0:e.texture){let t="boolean"==typeof e?e:null==e?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){return new yE(e instanceof vp?e:vp.from(e,t))}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){let t=gz(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){let t=gz(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||vp.EMPTY,this._cachedTint=0xffffff,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const yT=new mS;ym.prototype._cacheAsBitmap=!1,ym.prototype._cacheData=null,ym.prototype._cacheAsBitmapResolution=null,ym.prototype._cacheAsBitmapMultisample=null;class yO{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ym.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){let t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new yO),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),ym.prototype._renderCached=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},ym.prototype._initCachedDisplayObject=function(e){var t,n;if(null!=(t=this._cacheData)&&t.sprite)return;let i=this.alpha;this.alpha=1,e.batch.flush();let o=this.getLocalBounds(new mv,!0);if(null!=(n=this.filters)&&n.length){let e=this.filters[0].padding;o.pad(e)}let a=this.cacheAsBitmapResolution||e.resolution;o.ceil(a),o.width=Math.max(o.width,1/a),o.height=Math.max(o.height,1/a);let s=e.renderTexture.current,l=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,d=vh.create({width:o.width,height:o.height,resolution:a,multisample:this.cacheAsBitmapMultisample??e.multisample}),p=`cacheAsBitmap_${++gU}`;this._cacheData.textureCacheId=p,me.addToCache(d.baseTexture,p),vp.addToCache(d,p);let h=this.transform.localTransform.copyTo(yT).invert().translate(-o.x,-o.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=c,e.renderTexture.bind(s,l,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;let f=new yE(d);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(o.x/o.width),f.anchor.y=-(o.y/o.height),f.alpha=i,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)},ym.prototype._renderCachedCanvas=function(e){this.visible&&!(this.worldAlpha<=0)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},ym.prototype._initCachedDisplayObjectCanvas=function(e){var t;if(null!=(t=this._cacheData)&&t.sprite)return;let n=this.getLocalBounds(new mv,!0),i=this.alpha;this.alpha=1;let o=e.canvasContext.activeContext,a=e._projTransform,s=this.cacheAsBitmapResolution||e.resolution;n.ceil(s),n.width=Math.max(n.width,1/s),n.height=Math.max(n.height,1/s);let l=vh.create({width:n.width,height:n.height,resolution:s}),u=`cacheAsBitmap_${++gU}`;this._cacheData.textureCacheId=u,me.addToCache(l.baseTexture,u),vp.addToCache(l,u),this.transform.localTransform.copyTo(yT),yT.invert(),yT.tx-=n.x,yT.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:l,clear:!0,transform:yT,skipUpdateTransform:!1}),e.canvasContext.activeContext=o,e._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;let c=new yE(l);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(n.x/n.width),c.anchor.y=-(n.y/n.height),c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},ym.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ym.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ym.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,me.removeFromCache(this._cacheData.textureCacheId),vp.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ym.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},ym.prototype.name=null,yx.prototype.getChildByName=function(e,t){for(let t=0,n=this.children.length;t<n;t++)if(this.children[t].name===e)return this.children[t];if(t)for(let t=0,n=this.children.length;t<n;t++){let n=this.children[t];if(!n.getChildByName)continue;let i=n.getChildByName(e,!0);if(i)return i}return null},ym.prototype.getGlobalPosition=function(e=new mg,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var yI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;const yP={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yC=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`),yA=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;class yR extends ve{constructor(e,t=8,n=4,i=ve.defaultResolution,o=5){super(function(e,t){let n=Math.ceil(e/2),i=yA,o="",a;a=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let t=0;t<e;t++){let e=a.replace("%index%",t.toString());o+=e=e.replace("%sampleIndex%",`${t-(n-1)}.0`),o+=`
`}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o,e),function(e){let t;let n=yP[e],i=n.length,o=yC,a="";for(let o=0;o<e;o++){let s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());t=o,o>=i&&(t=e-o-1),a+=s=s.replace("%value%",n[t].toString()),a+=`
`}return(o=o.replace("%blur%",a)).replace("%size%",e.toString())}(o)),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=t}apply(e,t,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/t.width):this.uniforms.strength=1/n.height*(n.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,i);else{let o=e.getFilterTexture(),a=e.renderer,s=t,l=o;this.state.blend=!1,e.applyFilter(this,s,l,dH.CLEAR);for(let t=1;t<this.passes-1;t++){e.bindAndClear(s,dH.BLIT),this.uniforms.uSampler=l;let t=l;l=s,s=t,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}var yk=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class yD extends ve{constructor(){super(yi,yk,{m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1}),this.alpha=1}_loadMatrix(e,t=!1){let n=e;t&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){let t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)}tint(e,t){let[n,i,o]=gN.shared.setValue(e).toArray();this._loadMatrix([n,0,0,0,0,0,i,0,0,0,0,0,o,0,0,0,0,0,1,0],t)}greyscale(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){let n=Math.cos(e=(e||0)/180*Math.PI),i=Math.sin(e),o=1/3,a=(0,Math.sqrt)(1/3);this._loadMatrix([n+(1-n)*o,o*(1-n)-a*i,o*(1-n)+a*i,0,0,o*(1-n)+a*i,n+o*(1-n),o*(1-n)-a*i,0,0,o*(1-n)-a*i,o*(1-n)+a*i,n+o*(1-n),0,0,0,0,0,1,0],t)}contrast(e,t){let n=(e||0)+1,i=-.5*(n-1);this._loadMatrix([n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0],t)}saturate(e=0,t){let n=2*e/3+1,i=-((n-1)*.5);this._loadMatrix([n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0],t)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,n,i,o){e=e||.2,t=t||.15,n=n||0xffe580,i=i||3375104;let a=gN.shared,[s,l,u]=a.setValue(n).toArray(),[c,d,p]=a.setValue(i).toArray(),h=[.3,.59,.11,0,0,s,l,u,e,0,c,d,p,t,0,s-c,l-d,u-p,0,0];this._loadMatrix(h,o)}night(e,t){let n=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}yD.prototype.grayscale=yD.prototype.greyscale;var yN=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,yM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,yL=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,yj=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,yF=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;const yB={AlphaFilter:class extends ve{constructor(e=1){super(yn,yI,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}},BlurFilter:class extends ve{constructor(e=8,t=4,n=ve.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new yR(!0,e,t,n,i),this.blurYFilter=new yR(!1,e,t,n,i),this.resolution=n,this.quality=t,this.blur=e,this.repeatEdgePixels=!1}apply(e,t,n,i){let o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){let o=e.getFilterTexture();this.blurXFilter.apply(e,t,o,dH.CLEAR),this.blurYFilter.apply(e,o,n,i),e.returnFilterTexture(o)}else a?this.blurYFilter.apply(e,t,n,i):this.blurXFilter.apply(e,t,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}},BlurFilterPass:yR,ColorMatrixFilter:yD,DisplacementFilter:class extends ve{constructor(e,t){let n=new mS;e.renderable=!1,super(yM,yN,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,null==t&&(t=20),this.scale=new mg(t,t)}apply(e,t,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;let o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),s=Math.sqrt(o.c*o.c+o.d*o.d);0!==a&&0!==s&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/s,this.uniforms.rotation[3]=o.d/s),e.applyFilter(this,t,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}},FXAAFilter:class extends ve{constructor(){super(yj,yL)}},NoiseFilter:class extends ve{constructor(e=.5,t=Math.random()){super(yi,yF,{uNoise:0,uSeed:0}),this.noise=e,this.seed=t}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}};Object.entries(yB).forEach(([e,t])=>{Object.defineProperty(yB,e,{get:()=>(gr("7.1.0",`filters.${e} has moved to ${e}`),t)})});const yz=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(v7.system.add(this.tickerUpdate,this,v8.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(v7.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}let e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())}};class yU{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=yU.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new mg,this.page=new mg,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,i,o){throw Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class yW extends yU{constructor(){super(...arguments),this.client=new mg,this.movement=new mg,this.offset=new mg,this.global=new mg,this.screen=new mg}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,i,o,a,s,l,u,c,d,p,h,f,g){throw Error("Method not implemented.")}}class yH extends yW{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw Error("getPredictedEvents is not supported!")}}class yV extends yW{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}yV.DOM_DELTA_PIXEL=0,yV.DOM_DELTA_LINE=1,yV.DOM_DELTA_PAGE=2;const yG=new mg,y$=new mg;class yq{constructor(e){this.dispatch=new ps,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=/* @__PURE__ */new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;let t=this.mappingTable[e.type];if(t)for(let n=0,i=t.length;n<i;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){yz.pauseUpdate=!0;let n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,yG.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,t){if(!e.target)return;let n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,o=n.length-1;i<o;i++)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(0===n.length)return;e.eventPhase=e.BUBBLING_PHASE;let i=Array.isArray(t)?t:[t];for(let t=n.length-1;t>=0;t--)i.forEach(i=>{e.currentTarget=n[t],this.notifyTarget(e,i)})}propagationPath(e){let t=[e];for(let n=0;n<2048&&e!==this.rootTarget;n++){if(!e.parent)throw Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,i,o,a=!1){let s=!1;if(this._interactivePrune(e))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(yz.pauseUpdate=!1),e.interactiveChildren&&e.children){let l=e.children;for(let u=l.length-1;u>=0;u--){let c=l[u],d=this.hitTestMoveRecursive(c,this._isInteractive(t)?t:c.eventMode,n,i,o,a||o(e,n));if(d){if(d.length>0&&!d[d.length-1].parent)continue;let t=e.isInteractive();(d.length>0||t)&&(t&&this._allInteractiveElements.push(e),d.push(e)),0===this._hitElements.length&&(this._hitElements=d),s=!0}}}let l=this._isInteractive(t),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:s?this._hitElements:l&&!o(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,t,n,i,o){if(this._interactivePrune(e)||o(e,n))return null;if(("dynamic"===e.eventMode||"dynamic"===t)&&(yz.pauseUpdate=!1),e.interactiveChildren&&e.children){let a=e.children;for(let s=a.length-1;s>=0;s--){let l=a[s],u=this.hitTestRecursive(l,this._isInteractive(t)?t:l.eventMode,n,i,o);if(u){if(u.length>0&&!u[u.length-1].parent)continue;let t=e.isInteractive();return(u.length>0||t)&&u.push(e),u}}}let a=this._isInteractive(t),s=e.isInteractive();return a&&i(e,n)?s?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||"none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var n;if(e.hitArea&&(e.worldTransform.applyInverse(t,y$),!e.hitArea.contains(y$.x,y$.y)))return!0;if(e._mask){let i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!(null!=(n=i.containsPoint)&&n.call(i,t)))return!0}return!1}hitTestFn(e,t){return"passive"!==e.eventMode&&(!!e.hitArea||!!e.containsPoint&&e.containsPoint(t))}notifyTarget(e,t){var n,i;t=t??e.type;let o=`on${t}`;null==(i=(n=e.currentTarget)[o])||i.call(n,e);let a=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,a),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){let e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var t,n;if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;let i=this.createPointerEvent(e);this._isPointerMoveEvent=!1;let o="mouse"===i.pointerType||"pen"===i.pointerType,a=this.trackingData(e.pointerId),s=this.findMountedTarget(a.overTargets);if((null==(t=a.overTargets)?void 0:t.length)>0&&s!==i.target){let t="mousemove"===e.type?"mouseout":"pointerout",n=this.createPointerEvent(e,t,s);if(this.dispatchEvent(n,"pointerout"),o&&this.dispatchEvent(n,"mouseout"),!i.composedPath().includes(s)){let t=this.createPointerEvent(e,"pointerleave",s);for(t.eventPhase=t.AT_TARGET;t.target&&!i.composedPath().includes(t.target);)t.currentTarget=t.target,this.notifyTarget(t),o&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(n)}if(s!==i.target){let t="mousemove"===e.type?"mouseover":"pointerover",n=this.clonePointerEvent(i,t);this.dispatchEvent(n,"pointerover"),o&&this.dispatchEvent(n,"mouseover");let a=null==s?void 0:s.parent;for(;a&&a!==this.rootTarget.parent&&a!==i.target;)a=a.parent;if(!a||a===this.rootTarget.parent){let e=this.clonePointerEvent(i,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==s&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),o&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(n)}let l=[],u=this.enableGlobalMoveEvents??!0;this.moveOnAll?l.push("pointermove"):this.dispatchEvent(i,"pointermove"),u&&l.push("globalpointermove"),"touch"===i.pointerType&&(this.moveOnAll?l.splice(1,0,"touchmove"):this.dispatchEvent(i,"touchmove"),u&&l.push("globaltouchmove")),o&&(this.moveOnAll?l.splice(1,0,"mousemove"):this.dispatchEvent(i,"mousemove"),u&&l.push("globalmousemove"),this.cursor=null==(n=i.target)?void 0:n.cursor),l.length>0&&this.all(i,l),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=i.composedPath(),this.freeEvent(i)}mapPointerOver(e){var t;if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let n=this.trackingData(e.pointerId),i=this.createPointerEvent(e),o="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),o&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=null==(t=i.target)?void 0:t.cursor);let a=this.clonePointerEvent(i,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),o&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;n.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId);if(t.overTargets){let n="mouse"===e.pointerType||"pen"===e.pointerType,i=this.findMountedTarget(t.overTargets),o=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(o),n&&this.dispatchEvent(o,"mouseout");let a=this.createPointerEvent(e,"pointerleave",i);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),n&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;t.overTargets=null,this.freeEvent(o),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){let e=2===n.button;this.dispatchEvent(n,e?"rightup":"mouseup")}let i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]),a=o;if(o&&!n.composedPath().includes(o)){let t=o;for(;t&&!n.composedPath().includes(t);){if(n.currentTarget=t,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){let e=2===n.button;this.notifyTarget(n,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete i.pressTargetsByButton[e.button],a=t}if(a){let o=this.clonePointerEvent(n,"click");o.target=a,o.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:o.target,timeStamp:t});let s=i.clicksByButton[e.button];if(s.target===o.target&&t-s.timeStamp<200?++s.clickCount:s.clickCount=1,s.target=o.target,s.timeStamp=t,o.detail=s.clickCount,"mouse"===o.pointerType){let e=2===o.button;this.dispatchEvent(o,e?"rightclick":"click")}else"touch"===o.pointerType&&this.dispatchEvent(o,"tap");this.dispatchEvent(o,"pointertap"),this.freeEvent(o)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof yH)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}let t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let o=n;for(;o;)i.currentTarget=o,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType?this.notifyTarget(i,"touchendoutside"):("mouse"===i.pointerType||"pen"===i.pointerType)&&this.notifyTarget(i,2===i.button?"rightupoutside":"mouseupoutside"),o=o.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof yV)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}let t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){let i=this.allocateEvent(yH);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],"string"==typeof t&&(i.type=t),i}createWheelEvent(e){let t=this.allocateEvent(yV);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){let n=this.allocateEvent(yH);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof yH&&t instanceof yH&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof yW&&t instanceof yW&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);let t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw Error("It is illegal to free an event not managed by this EventBoundary!");let t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){let n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive()){if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,o=n.length;i<o&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(t,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}}const yX={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},yY=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new yq(null),yz.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new yH(null),this.rootWheelEvent=new yV(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...e.defaultEventFeatures},{set:(e,t,n)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=n),e[t]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){let{view:n,resolution:i}=this.renderer;this.setTargetElement(n),this.resolution=i,e._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;let n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let e=0,n=t.length;e<n;e++){let n=t[e],i=this.bootstrapEvent(this.rootPointerEvent,n);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,yz.pointerMoved();let t=this.normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){let n=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);let n=t!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let e=0,t=i.length;e<t;e++){let t=this.bootstrapEvent(this.rootPointerEvent,i[e]);t.type+=n,this.rootBoundary.mapEvent(t)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=this.normalizeToPointerData(e);for(let e=0,n=t.length;e<n;e++){let n=this.bootstrapEvent(this.rootPointerEvent,t[e]);this.rootBoundary.mapEvent(n)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;let t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,yz.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;yz.addTickerListener();let e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;yz.removeTickerListener();let e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){let i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(t-i.left)*(this.domElement.width/i.width)*o,e.y=(n-i.top)*(this.domElement.height/i.height)*o}normalizeToPointerData(e){let t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){let i=e.changedTouches[n];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent)))&&(typeof e.isPrimary>"u"&&(e.isPrimary=!0),typeof e.width>"u"&&(e.width=1),typeof e.height>"u"&&(e.height=1),typeof e.tiltX>"u"&&(e.tiltX=0),typeof e.tiltY>"u"&&(e.tiltY=0),typeof e.pointerType>"u"&&(e.pointerType="mouse"),typeof e.pointerId>"u"&&(e.pointerId=1),typeof e.pressure>"u"&&(e.pressure=.5),typeof e.twist>"u"&&(e.twist=0),typeof e.tangentialPressure>"u"&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t}normalizeWheelEvent(e){let t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=yX[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};function yK(e){return"dynamic"===e||"static"===e}yY.extension={name:"events",type:[gK.RendererSystem,gK.CanvasRendererSystem]},yY.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},gQ.add(yY),ym.mixin({onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??yK(yY.defaultEventMode)},set interactive(r){gr("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??yY.defaultEventMode},set eventMode(r){this._internalInteractive=yK(r),this._internalEventMode=r},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,n){let i="boolean"==typeof n&&n||"object"==typeof n&&n.capture,o="object"==typeof n?n.signal:void 0,a="object"==typeof n&&!0===n.once,s="function"==typeof t?void 0:t;e=i?`${e}capture`:e;let l="function"==typeof t?t:t.handleEvent,u=this;o&&o.addEventListener("abort",()=>{u.off(e,l,s)}),a?u.once(e,l,s):u.on(e,l,s)},removeEventListener(e,t,n){let i="boolean"==typeof n&&n||"object"==typeof n&&n.capture,o="function"==typeof t?void 0:t;e=i?`${e}capture`:e,t="function"==typeof t?t:t.handleEvent,this.off(e,t,o)},dispatchEvent(e){if(!(e instanceof yU))throw Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}}),ym.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});class yZ{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(pn.tablet||pn.phone)&&this.createTouchHook();let t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex="2",this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){let e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex="2",e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null==(e=this.renderer.view.parentNode)||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null==(e=this.div.parentNode)||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);let t=e.children;if(t)for(let e=0;e<t.length;e++)this.updateAccessibleObjects(t[e])}update(){let e=performance.now();if(pn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);let{x:t,y:n,width:i,height:o}=this.renderer.view.getBoundingClientRect(),{width:a,height:s,resolution:l}=this.renderer,u=i/a*l,c=o/s*l,d=this.div;d.style.left=`${t}px`,d.style.top=`${n}px`,d.style.width=`${a}px`,d.style.height=`${s}px`;for(let e=0;e<this.children.length;e++){let t=this.children[e];if(t.renderId!==this.renderId)t._accessibleActive=!1,gB(this.children,e,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,e--;else{d=t._accessibleDiv;let e=t.hitArea,n=t.worldTransform;t.hitArea?(d.style.left=`${(n.tx+e.x*n.a)*u}px`,d.style.top=`${(n.ty+e.y*n.d)*c}px`,d.style.width=`${e.width*n.a*u}px`,d.style.height=`${e.height*n.d*c}px`):(e=t.getBounds(),this.capHitArea(e),d.style.left=`${e.x*u}px`,d.style.top=`${e.y*c}px`,d.style.width=`${e.width*u}px`,d.style.height=`${e.height*c}px`,d.title!==t.accessibleTitle&&null!==t.accessibleTitle&&(d.title=t.accessibleTitle),d.getAttribute("aria-label")!==t.accessibleHint&&null!==t.accessibleHint&&d.setAttribute("aria-label",t.accessibleHint)),(t.accessibleTitle!==d.title||t.tabIndex!==d.tabIndex)&&(d.title=t.accessibleTitle,d.tabIndex=t.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);let{width:t,height:n}=this.renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex="2",t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,t){let{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,o=Object.assign(new yU(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,t.forEach(e=>i.dispatchEvent(o,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this.activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}yZ.extension={name:"accessibility",type:[gK.RendererPlugin,gK.CanvasRendererPlugin]},gQ.add(yZ);const yJ=class e{constructor(t){this.stage=new yx,t=Object.assign({forceCanvas:!1},t),this.renderer=yr(t),e._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var e;return null==(e=this.renderer)?void 0:e.view}get screen(){var e;return null==(e=this.renderer)?void 0:e.screen}destroy(t,n){let i=e._plugins.slice(0);i.reverse(),i.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};yJ._plugins=[],gQ.handleByList(gK.Application,yJ._plugins);class yQ{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{let e,t;if(this._resizeTo){if(this.cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{let{clientWidth:n,clientHeight:i}=this._resizeTo;e=n,t=i}this.renderer.resize(e,t),this.render()}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}yQ.extension=gK.Application,gQ.add(yQ);const y0={loader:gK.LoadParser,resolver:gK.ResolveParser,cache:gK.CacheParser,detection:gK.DetectionParser};gQ.handle(gK.Asset,e=>{let t=e.ref;Object.entries(y0).filter(([e])=>!!t[e]).forEach(([e,n])=>gQ.add(Object.assign(t[e],{extension:t[e].extension??n})))},e=>{let t=e.ref;Object.keys(y0).filter(e=>!!t[e]).forEach(e=>gQ.remove(t[e]))});class y1{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function y2(e,t){if(Array.isArray(t)){for(let n of t)if(e.startsWith(`data:${n}`))return!0;return!1}return e.startsWith(`data:${t}`)}function y3(e,t){let n=e.split("?")[0],i=go.extname(n).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}const y5=(e,t,n=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(e=>"string"==typeof e||n?t(e):e):e),y4=(e,t)=>{let n=t.split("?")[1];return n&&(e+=`?${n}`),e},y6=e=>!Array.isArray(e),y8=new class{constructor(){this._parsers=[],this._cache=/* @__PURE__ */new Map,this._cacheMap=/* @__PURE__ */new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){let t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){let n;let i=y5(e);for(let e=0;e<this.parsers.length;e++){let o=this.parsers[e];if(o.test(t)){n=o.getCacheableAssets(i,t);break}}n||(n={},i.forEach(e=>{n[e]=t}));let o=Object.keys(n),a={cacheKeys:o,keys:i};i.forEach(e=>{this._cacheMap.set(e,a)}),o.forEach(e=>{this._cache.has(e)&&this._cache.get(e)!==t&&console.warn("[Cache] already has key:",e),this._cache.set(e,n[e])}),t instanceof vp&&i.forEach(e=>{t.baseTexture!==vp.EMPTY.baseTexture&&me.addToCache(t.baseTexture,e),vp.addToCache(t,e)})}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}let t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}};class y9{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let n={promise:null,parser:null};return n.promise=(async()=>{var i,o;let a=null,s=null;if(t.loadParser&&((s=this._parserHash[t.loadParser])||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let n=0;n<this.parsers.length;n++){let o=this.parsers[n];if(o.load&&null!=(i=o.test)&&i.call(o,e,t,this)){s=o;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await s.load(e,t,this),n.parser=s;for(let e=0;e<this.parsers.length;e++){let i=this.parsers[e];i.parse&&i.parse&&await (null==(o=i.testParse)?void 0:o.call(i,a,t,this))&&(a=await i.parse(a,t,this)||a,n.parser=i)}return a})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0,i={},o=y6(e),a=y5(e,e=>({alias:[e],src:e})),s=a.length,l=a.map(async e=>{let o=go.toAbsolute(e.src);if(!i[e.src])try{this.promiseCache[o]||(this.promiseCache[o]=this._getLoadPromiseAndParser(o,e)),i[e.src]=await this.promiseCache[o].promise,t&&t(++n/s)}catch(t){throw delete this.promiseCache[o],delete i[e.src],Error(`[Loader.load] Failed to load ${o}.
${t}`)}});return await Promise.all(l),o?i[a[0].src]:i}async unload(e){let t=y5(e,e=>({alias:[e],src:e})).map(async e=>{var t,n;let i=go.toAbsolute(e.src),o=this.promiseCache[i];if(o){let a=await o.promise;delete this.promiseCache[i],null==(n=null==(t=o.parser)?void 0:t.unload)||n.call(t,a,e,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var y7=((U=y7||{})[U.Low=0]="Low",U[U.Normal=1]="Normal",U[U.High=2]="High",U);const be={extension:{type:gK.LoadParser,priority:y7.Low},name:"loadJson",test:e=>y2(e,"application/json")||y3(e,".json"),load:async e=>await (await dY.ADAPTER.fetch(e)).json()};gQ.add(be);const bt={name:"loadTxt",extension:{type:gK.LoadParser,priority:y7.Low},test:e=>y2(e,"text/plain")||y3(e,".txt"),load:async e=>await (await dY.ADAPTER.fetch(e)).text()};gQ.add(bt);const br=["normal","bold","100","200","300","400","500","600","700","800","900"],bn=[".ttf",".otf",".woff",".woff2"],bi=["font/ttf","font/otf","font/woff","font/woff2"],bo=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i,ba=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/,bs={extension:{type:gK.LoadParser,priority:y7.Low},name:"loadWebFont",test:e=>y2(e,bi)||y3(e,bn),async load(e,t){var n,i,o;let a=dY.ADAPTER.getFontFaceSet();if(a){let s=[],l=(null==(n=t.data)?void 0:n.family)??function(e){let t=go.extname(e),n=go.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)),i=n.length>0;for(let e of n)if(!e.match(bo)){i=!1;break}let o=n.join(" ");return i||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}(e),u=(null==(o=null==(i=t.data)?void 0:i.weights)?void 0:o.filter(e=>br.includes(e)))??["normal"],c=t.data??{};for(let t=0;t<u.length;t++){let n=u[t],i=new FontFace(l,`url(${ba.test(e)?e:encodeURI(e)})`,{...c,weight:n});await i.load(),a.add(i),s.push(i)}return 1===s.length?s[0]:s}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(e=>dY.ADAPTER.getFontFaceSet().delete(e))}};gQ.add(bs);const bl=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let bu=null,bc=class{constructor(){bu||(bu=URL.createObjectURL(new Blob([bl],{type:"application/javascript"}))),this.worker=new Worker(bu)}};bc.revokeObjectURL=function(){bu&&(URL.revokeObjectURL(bu),bu=null)};const bd=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let bp=null;class bh{constructor(){bp||(bp=URL.createObjectURL(new Blob([bd],{type:"application/javascript"}))),this.worker=new Worker(bp)}}bh.revokeObjectURL=function(){bp&&(URL.revokeObjectURL(bp),bp=null)};let bf=0,bg;const bm=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{let{worker:t}=new bc;t.addEventListener("message",n=>{t.terminate(),bc.revokeObjectURL(),e(n.data)})})),this._isImageBitmapSupported}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){void 0===bg&&(bg=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<bg&&(this._createdWorkers++,(e=new bh().worker).addEventListener("message",e=>{this.complete(e.data),this.returnWorker(e.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){void 0!==e.error?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();let n=new Promise((n,i)=>{this.queue.push({id:e,arguments:t,resolve:n,reject:i})});return this.next(),n}next(){if(!this.queue.length)return;let e=this.getWorker();if(!e)return;let t=this.queue.pop(),n=t.id;this.resolveHash[bf]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:bf++,id:n})}};function bv(e,t,n){e.resource.internal=!0;let i=new vp(e),o=()=>{delete t.promiseCache[n],y8.has(n)&&y8.remove(n)};return i.baseTexture.once("destroyed",()=>{n in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),o())}),i.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),i}const by=[".jpeg",".jpg",".png",".webp",".avif"],bb=["image/jpeg","image/png","image/webp","image/avif"];async function bw(e){let t=await dY.ADAPTER.fetch(e);if(!t.ok)throw Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);let n=await t.blob();return await createImageBitmap(n)}const bx={name:"loadTextures",extension:{type:gK.LoadParser,priority:y7.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>y2(e,bb)||y3(e,by),async load(e,t,n){var i;let o;let a=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;o=a?this.config.preferWorkers&&await bm.isImageBitmapSupported()?await bm.loadImageBitmap(e):await bw(e):await new Promise((t,n)=>{let i=new Image;i.crossOrigin=this.config.crossOrigin,i.src=e,i.complete?t(i):(i.onload=()=>t(i),i.onerror=e=>n(e))});let s={...t.data};s.resolution??(s.resolution=gY(e)),a&&(null==(i=s.resourceOptions)?void 0:i.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);let l=new me(o,s);return l.resource.src=e,bv(l,n,e)},unload(e){e.destroy(!0)}};gQ.add(bx);const bS={extension:{type:gK.LoadParser,priority:y7.High},name:"loadSVG",test:e=>y2(e,"image/svg+xml")||y3(e,".svg"),testParse:async e=>yh.test(e),async parse(e,t,n){var i;let o=new yh(e,null==(i=null==t?void 0:t.data)?void 0:i.resourceOptions);await o.load();let a=new me(o,{resolution:gY(e),...null==t?void 0:t.data});return a.resource.src=t.src,bv(a,n,t.src)},load:async(e,t)=>(await dY.ADAPTER.fetch(e)).text(),unload:bx.unload};gQ.add(bS);const b_=[".mp4",".m4v",".webm",".ogv"],bE=["video/mp4","video/webm","video/ogg"],bT={name:"loadVideo",extension:{type:gK.LoadParser,priority:y7.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test:e=>y2(e,bE)||y3(e,b_),async load(e,t,n){var i;let o;let a=await (await dY.ADAPTER.fetch(e)).blob(),s=URL.createObjectURL(a);try{let a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...null==(i=null==t?void 0:t.data)?void 0:i.resourceOptions,autoLoad:!0},l=new yf(s,a);await l.load();let u=new me(l,{alphaMode:await ga(),resolution:gY(e),...null==t?void 0:t.data});u.resource.src=e,(o=bv(u,n,e)).baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(e){throw URL.revokeObjectURL(s),e}return o},unload(e){e.destroy(!0)}};gQ.add(bT);class bO{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){"string"==typeof e?this._defaultSearchParams=e:this._defaultSearchParams=Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}getAlias(e){let{alias:t,name:n,src:i,srcs:o}=e;return y5(t||n||i||o,e=>"string"==typeof e?e:Array.isArray(e)?e.map(e=>(null==e?void 0:e.src)??(null==e?void 0:e.srcs)??e):null!=e&&e.src||null!=e&&e.srcs?e.src??e.srcs:e,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){let n=[];Array.isArray(t)?t.forEach(t=>{let i;let o=t.src??t.srcs,a=t.alias??t.name;if("string"==typeof a){let t=this._createBundleAssetId(e,a);n.push(t),i=[a,t]}else{let t=a.map(t=>this._createBundleAssetId(e,t));n.push(...t),i=[...a,...t]}this.add({...t,alias:i,src:o})}):Object.keys(t).forEach(i=>{let o=[i,this._createBundleAssetId(e,i)];if("string"==typeof t[i])this.add({alias:o,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:o,src:t[i]});else{let e=t[i],n=e.src??e.srcs;this.add({...e,alias:o,src:Array.isArray(n)?n:[n]})}n.push(...o)}),this._bundles[e]=n}add(e,t,n,i,o){let a;let s=[];"string"==typeof e||Array.isArray(e)&&"string"==typeof e[0]?(gr("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),s.push({alias:e,src:t,data:n,format:i,loadParser:o})):Array.isArray(e)?s.push(...e):s.push(e),a=e=>{this.hasKey(e)&&console.warn(`[Resolver] already has key: ${e} overwriting`)},y5(s).forEach(e=>{let{src:t,srcs:n}=e,{data:i,format:o,loadParser:s}=e,l=y5(t||n).map(e=>"string"==typeof e?function(e){let t=e.match(/\{(.*?)\}/g),n=[];if(t){let i=[];t.forEach(e=>{let t=e.substring(1,e.length-1).split(",");i.push(t)}),function e(t,n,i,o,a){let s=n[i];for(let l=0;l<s.length;l++){let u=s[l];i<n.length-1?e(t.replace(o[i],u),n,i+1,o,a):a.push(t.replace(o[i],u))}}(e,i,0,t,n)}else n.push(e);return n}(e):Array.isArray(e)?e:[e]),u=this.getAlias(e);Array.isArray(u)?u.forEach(a):a(u);let c=[];l.forEach(e=>{e.forEach(e=>{let t={};if("object"!=typeof e){t.src=e;for(let n=0;n<this._parsers.length;n++){let i=this._parsers[n];if(i.test(e)){t=i.parse(e);break}}}else i=e.data??i,o=e.format??o,s=e.loadParser??s,t={...t,...e};if(!u)throw Error(`[Resolver] alias is undefined for this asset: ${t.src}`);t=this.buildResolvedAsset(t,{aliases:u,data:i,format:o,loadParser:s}),c.push(t)})}),u.forEach(e=>{this._assetMap[e]=c})})}resolveBundle(e){let t=y6(e);e=y5(e);let n={};return e.forEach(e=>{let t=this._bundles[e];if(t){let i=this.resolve(t),o={};for(let t in i){let n=i[t];o[this._extractAssetIdFromBundle(e,t)]=n}n[e]=o}}),t?n[e[0]]:n}resolveUrl(e){let t=this.resolve(e);if("string"!=typeof e){let e={};for(let n in t)e[n]=t[n].src;return e}return t.src}resolve(e){let t=y6(e);e=y5(e);let n={};return e.forEach(e=>{if(!this._resolverHash[e]){if(this._assetMap[e]){let t=this._assetMap[e],n=t[0],i=this._getPreferredOrder(t);null==i||i.priority.forEach(e=>{i.params[e].forEach(n=>{let i=t.filter(t=>!!t[e]&&t[e]===n);i.length&&(t=i)})}),this._resolverHash[e]=t[0]??n}else this._resolverHash[e]=this.buildResolvedAsset({alias:[e],src:e},{})}n[e]=this._resolverHash[e]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let t=e[0],n=this._preferredOrder.find(e=>e.params.format.includes(t.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){let{aliases:n,data:i,loadParser:o,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=go.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=o??e.loadParser,e.format=a??e.format??go.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}const bI=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new bO,this.loader=new y9,this.cache=y8,this._backgroundLoader=new y1(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var t,n;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}let i=(null==(t=e.texturePreference)?void 0:t.resolution)??1,o=await this._detectFormats({preferredFormats:null==(n=e.texturePreference)?void 0:n.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:"number"==typeof i?[i]:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,i,o){this.resolver.add(e,t,n,i,o)}async load(e,t){this._initialized||await this.init();let n=y6(e),i=y5(e).map(e=>{if("string"!=typeof e){let t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),o=this.resolver.resolve(i),a=await this._mapLoadToResolve(o,t);return n?a[i[0]]:a}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;"string"==typeof e&&(n=!0,e=[e]);let i=this.resolver.resolveBundle(e),o={},a=Object.keys(i),s=0,l=0,u=()=>{null==t||t(++s/l)},c=a.map(e=>{let t=i[e];return l+=Object.keys(t).length,this._mapLoadToResolve(t,u).then(t=>{o[e]=t})});return await Promise.all(c),n?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"==typeof e&&(e=[e]),Object.values(this.resolver.resolveBundle(e)).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return y8.get(e);let t={};for(let n=0;n<e.length;n++)t[n]=y8.get(e[n]);return t}async _mapLoadToResolve(e,t){let n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;let o=await this.loader.load(n,t);this._backgroundLoader.active=!0;let a={};return n.forEach((e,t)=>{let n=o[e.src],s=[e.src];e.alias&&s.push(...e.alias),a[i[t]]=n,y8.set(s,n)}),a}async unload(e){this._initialized||await this.init();let t=y5(e).map(e=>"string"!=typeof e?e.src:e),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=y5(e);let t=this.resolver.resolveBundle(e),n=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(n)}async _unloadFromResolved(e){let t=Object.values(e);t.forEach(e=>{y8.remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];for(let n of(e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]),e.detections))e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((e,n)=>t.indexOf(e)===n)}get detections(){return this._detections}get preferWorkers(){return bx.config.preferWorkers}set preferWorkers(e){gr("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(n=>{t.config[n]=e[n]})})}};gQ.handleByList(gK.LoadParser,bI.loader.parsers).handleByList(gK.ResolveParser,bI.resolver.parsers).handleByList(gK.CacheParser,bI.cache.parsers).handleByList(gK.DetectionParser,bI.detections);const bP={extension:gK.CacheParser,test:e=>Array.isArray(e)&&e.every(e=>e instanceof vp),getCacheableAssets:(e,t)=>{let n={};return e.forEach(e=>{t.forEach((t,i)=>{n[e+(0===i?"":i+1)]=t})}),n}};async function bC(e){if("Image"in globalThis)return new Promise(t=>{let n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let t=await (await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}gQ.add(bP);const bA={extension:{type:gK.DetectionParser,priority:1},test:async()=>bC("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)};gQ.add(bA);const bR={extension:{type:gK.DetectionParser,priority:0},test:async()=>bC("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};gQ.add(bR);const bk=["png","jpg","jpeg"],bD={extension:{type:gK.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...bk],remove:async e=>e.filter(e=>!bk.includes(e))};gQ.add(bD);const bN="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function bM(e){return!bN&&""!==document.createElement("video").canPlayType(e)}const bL={extension:{type:gK.DetectionParser,priority:0},test:async()=>bM("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)};gQ.add(bL);const bj={extension:{type:gK.DetectionParser,priority:0},test:async()=>bM("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)};gQ.add(bj);const bF={extension:{type:gK.DetectionParser,priority:0},test:async()=>bM("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)};gQ.add(bF);const bB={extension:gK.ResolveParser,test:bx.test,parse:e=>{var t;return{resolution:parseFloat((null==(t=dY.RETINA_PREFIX.exec(e))?void 0:t[1])??"1"),format:go.extname(e).slice(1),src:e}}};gQ.add(bB);var bz=((W=bz||{})[W.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",W[W.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",W[W.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",W[W.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",W[W.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",W[W.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",W[W.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",W[W.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",W[W.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",W[W.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",W[W.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",W[W.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",W[W.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",W[W.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",W[W.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",W[W.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",W[W.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",W[W.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",W[W.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",W[W.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",W[W.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",W[W.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",W[W.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",W[W.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",W[W.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",W[W.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",W[W.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",W[W.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",W[W.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",W[W.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",W[W.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",W);const bU={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};function bW(){c={bptc:u.getExtension("EXT_texture_compression_bptc"),astc:u.getExtension("WEBGL_compressed_texture_astc"),etc:u.getExtension("WEBGL_compressed_texture_etc"),s3tc:u.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:u.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:u.getExtension("WEBGL_compressed_texture_pvrtc")||u.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:u.getExtension("WEBGL_compressed_texture_etc1"),atc:u.getExtension("WEBGL_compressed_texture_atc")}}const bH={extension:{type:gK.DetectionParser,priority:2},test:async()=>{let e=dY.ADAPTER.createCanvas().getContext("webgl");return e?(u=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{c||bW();let t=[];for(let e in c)c[e]&&t.push(e);return[...t,...e]},remove:async e=>(c||bW(),e.filter(e=>!(e in c)))};gQ.add(bH);class bV extends g8{constructor(e,t={width:1,height:1,autoLoad:!0}){let n,i;"string"==typeof e?(n=e,i=new Uint8Array):(n=null,i=e),super(i,t),this.origin=n,this.buffer=i?new g0(i):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==t.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load||(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new g0(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this))),this._load}}class bG extends bV{constructor(e,t){super(e,t),this.format=t.format,this.levels=t.levels||1,this._width=t.width,this._height=t.height,this._extension=bG._formatToExtension(this.format),(t.levelBuffers||this.buffer)&&(this._levelBuffers=t.levelBuffers||bG._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,t,n){let i=e.gl;if(!e.context.extensions[this._extension])throw Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let e=0,t=this.levels;e<t;e++){let{levelID:t,levelWidth:n,levelHeight:o,levelBuffer:a}=this._levelBuffers[e];i.compressedTexImage2D(i.TEXTURE_2D,t,this.format,n,o,0,a)}return!0}onBlobLoaded(){this._levelBuffers=bG._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(36196===e)return"etc1";if(35986===e||35987===e||34798===e)return"atc";if(e>=36492&&e<=36495)return"bptc";if(37808===e)return"astc";throw Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,t,n,i,o,a,s){let l=Array(n),u=e.byteOffset,c=a,d=s,p=c+i-1&~(i-1),h=d+o-1&~(o-1),f=p*h*bU[t];for(let a=0;a<n;a++)l[a]={levelID:a,levelWidth:n>1?c:p,levelHeight:n>1?d:h,levelBuffer:new Uint8Array(e.buffer,u,f)},u+=f,d=d>>1||1,f=(p=(c=c>>1||1)+i-1&~(i-1))*(h=d+o-1&~(o-1))*bU[t];return l}}const b$={FOURCC:2},bq={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},bX={0x31545844:bz.COMPRESSED_RGBA_S3TC_DXT1_EXT,0x33545844:bz.COMPRESSED_RGBA_S3TC_DXT3_EXT,0x35545844:bz.COMPRESSED_RGBA_S3TC_DXT5_EXT},bY={70:bz.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:bz.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:bz.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:bz.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:bz.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:bz.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:bz.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:bz.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:bz.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:bz.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:bz.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:bz.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:bz.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT},bK=[171,75,84,88,32,49,49,187,13,10,26,10],bZ={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},bJ={[dj.UNSIGNED_BYTE]:1,[dj.UNSIGNED_SHORT]:2,[dj.INT]:4,[dj.UNSIGNED_INT]:4,[dj.FLOAT]:4,[dj.HALF_FLOAT]:8},bQ={[dM.RGBA]:4,[dM.RGB]:3,[dM.RG]:2,[dM.RED]:1,[dM.LUMINANCE]:1,[dM.LUMINANCE_ALPHA]:2,[dM.ALPHA]:1},b0={[dj.UNSIGNED_SHORT_4_4_4_4]:2,[dj.UNSIGNED_SHORT_5_5_5_1]:2,[dj.UNSIGNED_SHORT_5_6_5]:2},b1={extension:{type:gK.LoadParser,priority:y7.High},name:"loadDDS",test:e=>y3(e,".dds"),async load(e,t,n){let i=(function(e){let t=new Uint32Array(e);if(0x20534444!==t[0])throw Error("Invalid DDS file magic word");let n=new Uint32Array(e,0,124/Uint32Array.BYTES_PER_ELEMENT),i=n[3],o=n[4],a=n[7],s=new Uint32Array(e,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),l=s[1];if(4&l){let n=s[b$.FOURCC];if(0x30315844!==n){let t=bX[n];return[new bG(new Uint8Array(e,128),{format:t,width:o,height:i,levels:a})]}let l=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),u=l[bq.DXGI_FORMAT],c=l[bq.RESOURCE_DIMENSION],d=l[bq.MISC_FLAG],p=l[bq.ARRAY_SIZE],h=bY[u];if(void 0===h)throw Error(`DDSParser cannot parse texture data with DXGI format ${u}`);if(4===d)throw Error("DDSParser does not support cubemap textures");if(6===c)throw Error("DDSParser does not supported 3D texture data");let f=[];if(1===p)f.push(new Uint8Array(e,148));else{let t=bU[h],n=0,s=o,l=i;for(let e=0;e<a;e++)n+=Math.max(1,s+3&-4)*Math.max(1,l+3&-4)*t,s>>>=1,l>>>=1;let u=148;for(let t=0;t<p;t++)f.push(new Uint8Array(e,u,n)),u+=n}return f.map(e=>new bG(e,{format:h,width:o,height:i,levels:a}))}throw 64&l?Error("DDSParser does not support uncompressed texture data."):512&l?Error("DDSParser does not supported YUV uncompressed texture data."):131072&l?Error("DDSParser does not support single-channel (lumninance) texture data!"):2&l?Error("DDSParser does not support single-channel (alpha) texture data!"):Error("DDSParser failed to load a texture file due to an unknown reason!")})(await (await dY.ADAPTER.fetch(e)).arrayBuffer()).map(i=>bv(new me(i,{mipmap:dU.OFF,alphaMode:dW.NO_PREMULTIPLIED_ALPHA,resolution:gY(e),...t.data}),n,e));return 1===i.length?i[0]:i},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};gQ.add(b1);const b2={extension:{type:gK.LoadParser,priority:y7.High},name:"loadKTX",test:e=>y3(e,".ktx"),async load(e,t,n){let i=await (await dY.ADAPTER.fetch(e)).arrayBuffer(),{compressed:o,uncompressed:a,kvData:s}=function(e,t,n=!1){let i;let o=new DataView(t);if(!function(e,t){for(let n=0;n<bK.length;n++)if(t.getUint8(n)!==bK[n])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}(e,o))return null;let a=0x4030201===o.getUint32(bZ.ENDIANNESS,!0),s=o.getUint32(bZ.GL_TYPE,a),l=o.getUint32(bZ.GL_FORMAT,a),u=o.getUint32(bZ.GL_INTERNAL_FORMAT,a),c=o.getUint32(bZ.PIXEL_WIDTH,a),d=o.getUint32(bZ.PIXEL_HEIGHT,a)||1,p=o.getUint32(bZ.PIXEL_DEPTH,a)||1,h=o.getUint32(bZ.NUMBER_OF_ARRAY_ELEMENTS,a)||1,f=o.getUint32(bZ.NUMBER_OF_FACES,a),g=o.getUint32(bZ.NUMBER_OF_MIPMAP_LEVELS,a),m=o.getUint32(bZ.BYTES_OF_KEY_VALUE_DATA,a);if(0===d||1!==p)throw Error("Only 2D textures are supported");if(1!==f)throw Error("CubeTextures are not supported by KTXLoader yet!");if(1!==h)throw Error("WebGL does not support array textures");let v=c+3&-4,y=d+3&-4,b=Array(h),w=c*d;if(0===s&&(w=v*y),void 0===(i=0!==s?bJ[s]?bJ[s]*bQ[l]:b0[s]:bU[u]))throw Error("Unable to resolve the pixel format stored in the *.ktx file!");let x=n?function(e,t,n){let i=/* @__PURE__ */new Map,o=0;for(;o<t;){let a=e.getUint32(64+o,n),s=64+o+4,l=3-(a+3)%4;if(0===a||a>t-o){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<a&&0!==e.getUint8(s+u);u++);if(-1===u){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}let c=new TextDecoder().decode(new Uint8Array(e.buffer,s,u)),d=new DataView(e.buffer,s+u+1,a-u-1);i.set(c,d),o+=4+a+l}return i}(o,m,a):null,S=w*i,_=c,E=d,T=v,O=y,I=64+m;for(let e=0;e<g;e++){let n=o.getUint32(I,a),l=I+4;for(let n=0;n<h;n++){let i=b[n];i||(i=b[n]=Array(g)),i[e]={levelID:e,levelWidth:g>1||0!==s?_:T,levelHeight:g>1||0!==s?E:O,levelBuffer:new Uint8Array(t,l,S)},l+=S}I+=n+4,I=I%4!=0?I+4-I%4:I,E=E>>1||1,S=(T=(_=_>>1||1)+4-1&-4)*(O=E+4-1&-4)*i}return 0!==s?{uncompressed:b.map(e=>{let t=e[0].levelBuffer,n=!1;return s===dj.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):s===dj.UNSIGNED_INT?(n=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):s===dj.INT&&(n=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new g8(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:s,format:n?function(e){switch(e){case dM.RGBA:return dM.RGBA_INTEGER;case dM.RGB:return dM.RGB_INTEGER;case dM.RG:return dM.RG_INTEGER;case dM.RED:return dM.RED_INTEGER;default:return e}}(l):l}}),kvData:x}:{compressed:b.map(e=>new bG(null,{format:u,width:c,height:d,levels:g,levelBuffers:e})),kvData:x}}(e,i),l=o??a,u={mipmap:dU.OFF,alphaMode:dW.NO_PREMULTIPLIED_ALPHA,resolution:gY(e),...t.data},c=l.map(t=>{l===a&&Object.assign(u,{type:t.type,format:t.format});let i=new me(t.resource??t,u);return i.ktxKeyValueData=s,bv(i,n,e)});return 1===c.length?c[0]:c},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};gQ.add(b2);const b3=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],b5={extension:gK.ResolveParser,test:e=>["basis","ktx","dds"].includes(go.extname(e).slice(1)),parse:e=>{var t,n;let i=e.split("."),o=i.pop();if(["ktx","dds"].includes(o)){let n=i.pop();if(b3.includes(n))return{resolution:parseFloat((null==(t=dY.RETINA_PREFIX.exec(e))?void 0:t[1])??"1"),format:n,src:e}}return{resolution:parseFloat((null==(n=dY.RETINA_PREFIX.exec(e))?void 0:n[1])??"1"),format:o,src:e}}};gQ.add(b5);const b4=new mv,b6=class e{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var e;let t=null==(e=this.renderer)?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(e,t,n,i){let o=new Image;return o.src=await this.base64(e,t,n,i),o}async base64(e,t,n,i){let o=this.canvas(e,i);if(void 0!==o.toBlob)return new Promise((e,i)=>{o.toBlob(t=>{if(!t){i(Error("ICanvas.toBlob failed!"));return}let n=new FileReader;n.onload=()=>e(n.result),n.onerror=i,n.readAsDataURL(t)},t,n)});if(void 0!==o.toDataURL)return o.toDataURL(t,n);if(void 0!==o.convertToBlob){let e=await o.convertToBlob({type:t,quality:n});return new Promise((t,n)=>{let i=new FileReader;i.onload=()=>t(i.result),i.onerror=n,i.readAsDataURL(e)})}throw Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,n){let{pixels:i,width:o,height:a,flipY:s,premultipliedAlpha:l}=this._rawPixels(t,n);s&&e._flipY(i,o,a),l&&e._unpremultiplyAlpha(i);let u=new g$(o,a,1),c=new ImageData(new Uint8ClampedArray(i.buffer),o,a);return u.context.putImageData(c,0,0),u.canvas}pixels(t,n){let{pixels:i,width:o,height:a,flipY:s,premultipliedAlpha:l}=this._rawPixels(t,n);return s&&e._flipY(i,o,a),l&&e._unpremultiplyAlpha(i),i}_rawPixels(e,t){let n=this.renderer;if(!n)throw Error("The Extract has already been destroyed");let i,o=!1,a=!1,s,l=!1;e&&(e instanceof vh?s=e:(s=n.generateTexture(e,{region:t,resolution:n.resolution,multisample:n.multisample}),l=!0,t&&(b4.width=t.width,b4.height=t.height,t=b4)));let u=n.gl;if(s){if(i=s.baseTexture.resolution,t=t??s.frame,o=!1,a=s.baseTexture.alphaMode>0&&s.baseTexture.format===dM.RGBA,!l){n.renderTexture.bind(s);let e=s.framebuffer.glFramebuffers[n.CONTEXT_UID];e.blitFramebuffer&&n.framebuffer.bind(e.blitFramebuffer)}}else i=n.resolution,t||((t=b4).width=n.width/i,t.height=n.height/i),o=!0,a=this._rendererPremultipliedAlpha,n.renderTexture.bind();let c=Math.max(Math.round(t.width*i),1),d=Math.max(Math.round(t.height*i),1),p=new Uint8Array(4*c*d);return u.readPixels(Math.round(t.x*i),Math.round(t.y*i),c,d,u.RGBA,u.UNSIGNED_BYTE,p),l&&(null==s||s.destroy(!0)),{pixels:p,width:c,height:d,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,t,n){let i=t<<2,o=n>>1,a=new Uint8Array(i);for(let t=0;t<o;t++){let o=t*i,s=(n-t-1)*i;a.set(e.subarray(o,o+i)),e.copyWithin(o,s,s+i),e.set(a,s)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));let t=e.length;for(let n=0;n<t;n+=4){let t=e[n+3];if(0!==t){let i=255.001/t;e[n]=e[n]*i+.5,e[n+1]=e[n+1]*i+.5,e[n+2]=e[n+2]*i+.5}}}};b6.extension={name:"extract",type:gK.RendererSystem},gQ.add(b6);const b8={build(e){let t,n,i,o,a,s;let l=e.points;if(e.type===mf.CIRC){let l=e.shape;t=l.x,n=l.y,a=s=l.radius,i=o=0}else if(e.type===mf.ELIP){let l=e.shape;t=l.x,n=l.y,a=l.width,s=l.height,i=o=0}else{let l=e.shape,u=l.width/2,c=l.height/2;t=l.x+u,n=l.y+c,a=s=Math.max(0,Math.min(l.radius,Math.min(u,c))),i=u-a,o=c-s}if(!(a>=0&&s>=0&&i>=0&&o>=0)){l.length=0;return}let u=Math.ceil(2.3*Math.sqrt(a+s)),c=8*u+(i?4:0)+(o?4:0);if(l.length=c,0===c)return;if(0===u){l.length=8,l[0]=l[6]=t+i,l[1]=l[3]=n+o,l[2]=l[4]=t-i,l[5]=l[7]=n-o;return}let d=0,p=4*u+(i?2:0)+2,h=p,f=c;{let e=i+a,s=o,u=t+e,c=t-e,g=n+s;if(l[d++]=u,l[d++]=g,l[--p]=g,l[--p]=c,o){let e=n-s;l[h++]=c,l[h++]=e,l[--f]=e,l[--f]=u}}for(let e=1;e<u;e++){let c=Math.PI/2*(e/u),g=i+Math.cos(c)*a,m=o+Math.sin(c)*s,v=t+g,y=t-g,b=n+m,w=n-m;l[d++]=v,l[d++]=b,l[--p]=b,l[--p]=y,l[h++]=y,l[h++]=w,l[--f]=w,l[--f]=v}{let e=i,a=o+s,u=t+e,c=t-e,p=n+a,h=n-a;l[d++]=u,l[d++]=p,l[--f]=h,l[--f]=u,i&&(l[d++]=c,l[d++]=p,l[--f]=h,l[--f]=c)}},triangulate(e,t){let n,i;let o=e.points,a=t.points,s=t.indices;if(0===o.length)return;let l=a.length/2,u=l;if(e.type!==mf.RREC){let t=e.shape;n=t.x,i=t.y}else{let t=e.shape;n=t.x+t.width/2,i=t.y+t.height/2}let c=e.matrix;a.push(e.matrix?c.a*n+c.c*i+c.tx:n,e.matrix?c.b*n+c.d*i+c.ty:i),l++,a.push(o[0],o[1]);for(let e=2;e<o.length;e+=2)a.push(o[e],o[e+1]),s.push(l++,u,l);s.push(u+1,u,l)}};function b9(e,t=!1){let n=e.length;if(n<6)return;let i=0;for(let t=0,o=e[n-2],a=e[n-1];t<n;t+=2){let n=e[t],s=e[t+1];i+=(n-o)*(s+a),o=n,a=s}if(!t&&i>0||t&&i<=0){let t=n/2;for(let i=t+t%2;i<n;i+=2){let t=n-i-2,o=n-i-1,a=i,s=i+1;[e[t],e[a]]=[e[a],e[t]],[e[o],e[s]]=[e[s],e[o]]}}}const b7={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let n=e.points,i=e.holes,o=t.points,a=t.indices;if(n.length>=6){b9(n,!1);let e=[];for(let t=0;t<i.length;t++){let o=i[t];b9(o.points,!0),e.push(n.length/2),n=n.concat(o.points)}let t=pO(n,e,2);if(!t)return;let s=o.length/2;for(let e=0;e<t.length;e+=3)a.push(t[e]+s),a.push(t[e+1]+s),a.push(t[e+2]+s);for(let e=0;e<n.length;e++)o.push(n[e])}}};var we=((H=we||{}).MITER="miter",H.BEVEL="bevel",H.ROUND="round",H),wt=((V=wt||{}).BUTT="butt",V.ROUND="round",V.SQUARE="square",V);const wr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let n=Math.ceil(e/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class wn{static curveTo(e,t,n,i,o,a){let s=a[a.length-2],l=a[a.length-1]-t,u=s-e,c=i-t,d=n-e,p=Math.abs(l*d-u*c);if(p<1e-8||0===o)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;let h=l*l+u*u,f=c*c+d*d,g=l*c+u*d,m=o*Math.sqrt(h)/p,v=o*Math.sqrt(f)/p,y=m*g/h,b=v*g/f,w=m*d+v*u,x=m*c+v*l,S=Math.atan2(l*(v+y)-x,u*(v+y)-w),_=Math.atan2(c*(m+b)-x,d*(m+b)-w);return{cx:w+e,cy:x+t,radius:o,startAngle:S,endAngle:_,anticlockwise:u*c>d*l}}static arc(e,t,n,i,o,a,s,l,u){let c=s-a,d=wr._segmentsCount(Math.abs(c)*o,40*Math.ceil(Math.abs(c)/md)),p=c/(2*d),h=2*p,f=Math.cos(p),g=Math.sin(p),m=d-1,v=m%1/m;for(let e=0;e<=m;++e){let t=p+a+h*(e+v*e),s=Math.cos(t),l=-Math.sin(t);u.push((f*s+g*l)*o+n,(-(f*l)+g*s)*o+i)}}}class wi{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class wo{static curveLength(e,t,n,i,o,a,s,l){let u=0,c=0,d=0,p=0,h=0,f=0,g=0,m=0,v=0,y=0,b=0,w=e,x=t;for(let S=1;S<=10;++S)p=(d=(c=S/10)*c)*c,m=(g=(f=(h=1-c)*h)*h)*e+3*f*c*n+3*h*d*o+p*s,v=g*t+3*f*c*i+3*h*d*a+p*l,y=w-m,b=x-v,w=m,x=v,u+=Math.sqrt(y*y+b*b);return u}static curveTo(e,t,n,i,o,a,s){let l=s[s.length-2],u=s[s.length-1];s.length-=2;let c=wr._segmentsCount(wo.curveLength(l,u,e,t,n,i,o,a)),d=0,p=0,h=0,f=0,g=0;s.push(l,u);for(let m=1,v=0;m<=c;++m)h=(p=(d=1-(v=m/c))*d)*d,g=(f=v*v)*v,s.push(h*l+3*p*v*e+3*d*f*n+g*o,h*u+3*p*v*t+3*d*f*i+g*a)}}function wa(e,t,n,i,o,a,s,l){let u,c;s?(u=i,c=-n):(u=-i,c=n);let d=e-n*o+u,p=t-i*o+c,h=e+n*a+u,f=t+i*a+c;return l.push(d,p,h,f),2}function ws(e,t,n,i,o,a,s,l){let u=n-e,c=i-t,d=Math.atan2(u,c),p=Math.atan2(o-e,a-t);l&&d<p?d+=2*Math.PI:!l&&d>p&&(p+=2*Math.PI);let h=d,f=p-d,g=Math.sqrt(u*u+c*c),m=(15*Math.abs(f)*Math.sqrt(g)/Math.PI>>0)+1,v=f/m;if(h+=v,l){s.push(e,t,n,i);for(let n=1,i=h;n<m;n++,i+=v)s.push(e,t,e+Math.sin(i)*g,t+Math.cos(i)*g);s.push(e,t,o,a)}else{s.push(n,i,e,t);for(let n=1,i=h;n<m;n++,i+=v)s.push(e+Math.sin(i)*g,t+Math.cos(i)*g,e,t);s.push(o,a,e,t)}return 2*m}function wl(e,t){e.lineStyle.native?function(e,t){let n=0,i=e.shape,o=e.points||i.points,a=i.type!==mf.POLY||i.closeStroke;if(0===o.length)return;let s=t.points,l=t.indices,u=o.length/2,c=s.length/2,d=c;for(s.push(o[0],o[1]),n=1;n<u;n++)s.push(o[2*n],o[2*n+1]),l.push(d,d+1),d++;a&&l.push(d,c)}(e,t):function(e,t){let n=e.shape,i=e.points||n.points.slice(),o=t.closePointEps;if(0===i.length)return;let a=e.lineStyle,s=new mg(i[0],i[1]),l=new mg(i[i.length-2],i[i.length-1]),u=n.type!==mf.POLY||n.closeStroke,c=Math.abs(s.x-l.x)<o&&Math.abs(s.y-l.y)<o;if(u){i=i.slice(),c&&(i.pop(),i.pop(),l.set(i[i.length-2],i[i.length-1]));let e=(s.x+l.x)*.5,t=(l.y+s.y)*.5;i.unshift(e,t),i.push(e,t)}let d=t.points,p=i.length/2,h=i.length,f=d.length/2,g=a.width/2,m=g*g,v=a.miterLimit*a.miterLimit,y=i[0],b=i[1],w=i[2],x=i[3],S=0,_=0,E=-(b-x),T=y-w,O=0,I=0,P=Math.sqrt(E*E+T*T);E/=P,T/=P,E*=g,T*=g;let C=a.alignment,A=(1-C)*2,R=2*C;u||(a.cap===wt.ROUND?h+=ws(y-E*(A-R)*.5,b-T*(A-R)*.5,y-E*A,b-T*A,y+E*R,b+T*R,d,!0)+2:a.cap===wt.SQUARE&&(h+=wa(y,b,E,T,A,R,!0,d))),d.push(y-E*A,b-T*A,y+E*R,b+T*R);for(let e=1;e<p-1;++e){y=i[(e-1)*2],b=i[(e-1)*2+1],w=i[2*e],x=i[2*e+1],S=i[(e+1)*2],_=i[(e+1)*2+1],P=Math.sqrt((E=-(b-x))*E+(T=y-w)*T),E/=P,T/=P,E*=g,T*=g,P=Math.sqrt((O=-(x-_))*O+(I=w-S)*I),O/=P,I/=P,O*=g,I*=g;let t=w-y,n=b-x,o=w-S,s=_-x,l=t*o+n*s,u=n*o-s*t,c=u<0;if(Math.abs(u)<.001*Math.abs(l)){d.push(w-E*A,x-T*A,w+E*R,x+T*R),l>=0&&(a.join===we.ROUND?h+=ws(w,x,w-E*A,x-T*A,w-O*A,x-I*A,d,!1)+4:h+=2,d.push(w-O*R,x-I*R,w+O*A,x+I*A));continue}let p=(-E+y)*(-T+x)-(-E+w)*(-T+b),f=(-O+S)*(-I+x)-(-O+w)*(-I+_),C=(t*f-o*p)/u,k=(s*p-n*f)/u,D=(C-w)*(C-w)+(k-x)*(k-x),N=w+(C-w)*A,M=x+(k-x)*A,L=w-(C-w)*R,j=x-(k-x)*R,F=c?A:R,B=D<=Math.min(t*t+n*n,o*o+s*s)+F*F*m,z=a.join;if(z===we.MITER&&D/m>v&&(z=we.BEVEL),B)switch(z){case we.MITER:d.push(N,M,L,j);break;case we.BEVEL:c?d.push(N,M,w+E*R,x+T*R,N,M,w+O*R,x+I*R):d.push(w-E*A,x-T*A,L,j,w-O*A,x-I*A,L,j),h+=2;break;case we.ROUND:c?(d.push(N,M,w+E*R,x+T*R),h+=ws(w,x,w+E*R,x+T*R,w+O*R,x+I*R,d,!0)+4,d.push(N,M,w+O*R,x+I*R)):(d.push(w-E*A,x-T*A,L,j),h+=ws(w,x,w-E*A,x-T*A,w-O*A,x-I*A,d,!1)+4,d.push(w-O*A,x-I*A,L,j))}else{switch(d.push(w-E*A,x-T*A,w+E*R,x+T*R),z){case we.MITER:c?d.push(L,j,L,j):d.push(N,M,N,M),h+=2;break;case we.ROUND:c?h+=ws(w,x,w+E*R,x+T*R,w+O*R,x+I*R,d,!0)+2:h+=ws(w,x,w-E*A,x-T*A,w-O*A,x-I*A,d,!1)+2}d.push(w-O*A,x-I*A,w+O*R,x+I*R),h+=2}}y=i[(p-2)*2],b=i[(p-2)*2+1],w=i[(p-1)*2],P=Math.sqrt((E=-(b-(x=i[(p-1)*2+1])))*E+(T=y-w)*T),E/=P,T/=P,E*=g,T*=g,d.push(w-E*A,x-T*A,w+E*R,x+T*R),u||(a.cap===wt.ROUND?h+=ws(w-E*(A-R)*.5,x-T*(A-R)*.5,w-E*A,x-T*A,w+E*R,x+T*R,d,!1)+2:a.cap===wt.SQUARE&&(h+=wa(w,x,E,T,A,R,!1,d)));let k=t.indices,D=wr.epsilon*wr.epsilon;for(let e=f;e<h+f-2;++e)y=d[2*e],b=d[2*e+1],w=d[(e+1)*2],x=d[(e+1)*2+1],S=d[(e+2)*2],Math.abs(y*(x-(_=d[(e+2)*2+1]))+w*(_-b)+S*(b-x))<D||k.push(e,e+1,e+2)}(e,t)}class wu{static curveLength(e,t,n,i,o,a){let s=e-2*n+o,l=t-2*i+a,u=2*n-2*e,c=2*i-2*t,d=4*(s*s+l*l),p=4*(s*u+l*c),h=u*u+c*c,f=2*Math.sqrt(d+p+h),g=Math.sqrt(d),m=2*d*g,v=2*Math.sqrt(h),y=p/g;return(m*f+g*p*(f-v)+(4*h*d-p*p)*Math.log((2*g+y+f)/(y+v)))/(4*m)}static curveTo(e,t,n,i,o){let a=o[o.length-2],s=o[o.length-1],l=wr._segmentsCount(wu.curveLength(a,s,e,t,n,i)),u=0,c=0;for(let d=1;d<=l;++d){let p=d/l;u=a+(e-a)*p,c=s+(t-s)*p,o.push(u+(e+(n-e)*p-u)*p,c+(t+(i-t)*p-c)*p)}}}const wc={[mf.POLY]:b7,[mf.CIRC]:b8,[mf.ELIP]:b8,[mf.RECT]:{build(e){let t=e.shape,n=t.x,i=t.y,o=t.width,a=t.height,s=e.points;s.length=0,o>=0&&a>=0&&s.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate(e,t){let n=e.points,i=t.points;if(0===n.length)return;let o=i.length/2;i.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),t.indices.push(o,o+1,o+2,o+1,o+2,o+3)}},[mf.RREC]:{build(e){b8.build(e)},triangulate(e,t){b8.triangulate(e,t)}}},wd=[],wp=[];class wh{constructor(e,t=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new wh(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const wf=new mg,wg=class e extends mc{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new yg,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),wp.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t.reset(),wd.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,i=null){let o=new wh(e,t,n,i);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;let n=new wh(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){let t=this.graphicsData;for(let n=0;n<t.length;++n){let i=t[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,wf):wf.copyFrom(e),i.shape.contains(wf.x,wf.y))){let e=!1;if(i.holes){for(let t=0;t<i.holes.length;t++)if(i.holes[t].shape.contains(wf.x,wf.y)){e=!0;break}}if(!e)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;let e=this.uvs,t=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(let o=this.shapeIndex;o<t.length;o++){this.shapeIndex++;let a=t[o],s=a.fillStyle,l=a.lineStyle;wc[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||l.visible)&&this.processHoles(a.holes);for(let t=0;t<2;t++){let o=0===t?s:l;if(!o.visible)continue;let u=o.texture.baseTexture,c=this.indices.length,d=this.points.length/2;u.wrapMode=dz.REPEAT,0===t?this.processFill(a):this.processLine(a);let p=this.points.length/2-d;0!==p&&(n&&!this._compareStyles(i,o)&&(n.end(c,d),n=null),n||((n=wd.pop()||new wi).begin(o,c,d),this.batches.push(n),i=o),this.addUvs(this.points,e,o.texture,d,p,o.matrix))}}let o=this.indices.length,a=this.points.length/2;if(n&&n.end(o,a),0===this.batches.length){this.batchable=!0;return}let s=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&s===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=s?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){let t=this.graphicsData[e],n=t.fillStyle,i=t.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);let e=this.batches;for(let t=0,n=e.length;t<n;t++){let n=e[t];for(let e=0;e<n.size;e++){let t=n.start+e;this.indicesUint16[t]=this.indicesUint16[t]-n.attribStart}}}isBatchable(){if(this.points.length>131070)return!1;let t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE}buildDrawCalls(){let e=++me._globalBatch;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),wp.push(this.drawCalls[e]);this.drawCalls.length=0;let t=this.colors,n=this.textureIds,i=wp.pop();i||((i=new mt).texArray=new m2),i.texArray.count=0,i.start=0,i.size=0,i.type=dN.TRIANGLES;let o=0,a=null,s=0,l=!1,u=dN.TRIANGLES,c=0;this.drawCalls.push(i);for(let d=0;d<this.batches.length;d++){let p=this.batches[d],h=p.style,f=h.texture.baseTexture;!!h.native!==l&&(u=(l=!!h.native)?dN.LINES:dN.TRIANGLES,a=null,o=8,e++),a!==f&&(a=f,f._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=wp.pop())||((i=new mt).texArray=new m2),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),f.touched=1,f._batchEnabled=e,f._batchLocation=o,f.wrapMode=dz.REPEAT,i.texArray.elements[i.texArray.count++]=f,o++)),i.size+=p.size,c+=p.size,s=f._batchLocation,this.addColors(t,h.color,h.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,s,p.attribSize,p.attribStart)}me._globalBatch=e,this.packAttributes()}packAttributes(){let e=this.points,t=this.uvs,n=this.colors,i=this.textureIds,o=new ArrayBuffer(12*e.length),a=new Float32Array(o),s=new Uint32Array(o),l=0;for(let o=0;o<e.length/2;o++)a[l++]=e[2*o],a[l++]=e[2*o+1],a[l++]=t[2*o],a[l++]=t[2*o+1],s[l++]=n[o],a[l++]=i[o];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?b7.triangulate(e,this):wc[e.type].triangulate(e,this)}processLine(e){wl(e,this);for(let t=0;t<e.holes.length;t++)wl(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){let n=e[t];wc[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){let e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){let i=e[2*n],o=e[2*n+1];e[2*n]=t.a*i+t.c*o+t.tx,e[2*n+1]=t.b*i+t.d*o+t.ty}}addColors(e,t,n,i,o=0){let a=gN.shared.setValue(t).toLittleEndianNumber(),s=gN.shared.setValue(a).toPremultiplied(n);e.length=Math.max(e.length,o+i);for(let t=0;t<i;t++)e[o+t]=s}addTextureIds(e,t,n,i=0){e.length=Math.max(e.length,i+n);for(let o=0;o<n;o++)e[i+o]=t}addUvs(e,t,n,i,o,a=null){let s=0,l=t.length,u=n.frame;for(;s<o;){let n=e[(i+s)*2],o=e[(i+s)*2+1];if(a){let e=a.a*n+a.c*o+a.tx;o=a.b*n+a.d*o+a.ty,n=e}s++,t.push(n/u.width,o/u.height)}let c=n.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(t,n,l,o)}adjustUvs(e,t,n,i){let o=t.baseTexture,a=n+2*i,s=t.frame,l=s.width/o.width,u=s.height/o.height,c=s.x/s.width,d=s.y/s.height,p=Math.floor(e[n]+1e-6),h=Math.floor(e[n+1]+1e-6);for(let t=n+2;t<a;t+=2)p=Math.min(p,Math.floor(e[t]+1e-6)),h=Math.min(h,Math.floor(e[t+1]+1e-6));c-=p,d-=h;for(let t=n;t<a;t+=2)e[t]=(e[t]+c)*l,e[t+1]=(e[t+1]+d)*u}};wg.BATCHABLE_SIZE=100;class wm{constructor(){this.color=0xffffff,this.alpha=1,this.texture=vp.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){let e=new wm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=0xffffff,this.alpha=1,this.texture=vp.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class wv extends wm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=wt.BUTT,this.join=we.MITER,this.miterLimit=10}clone(){let e=new wv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=wt.BUTT,this.join=we.MITER,this.miterLimit=10}}const wy={},wb=class e extends yx{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new wm,this._lineStyle=new wv,this._matrix=null,this._holeMode=!1,this.state=g2.for2d(),this._geometry=e||new wg,this._geometry.refCount++,this._transformID=-1,this._tintColor=new gN(0xffffff),this.blendMode=dD.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new e(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,i=.5,o=!1){return"number"==typeof e&&(e={width:e,color:t,alpha:n,alignment:i,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){e=Object.assign({width:0,texture:vp.WHITE,color:null!=e&&e.texture?0xffffff:0,matrix:null,alignment:.5,native:!1,cap:wt.BUTT,join:we.MITER,miterLimit:10},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){let e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new mw,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new mw,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);let n=this.currentPath.points,i=n[n.length-2],o=n[n.length-1];return(i!==e||o!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,i){this._initCurve();let o=this.currentPath.points;return 0===o.length&&this.moveTo(0,0),wu.curveTo(e,t,n,i,o),this}bezierCurveTo(e,t,n,i,o,a){return this._initCurve(),wo.curveTo(e,t,n,i,o,a,this.currentPath.points),this}arcTo(e,t,n,i,o){this._initCurve(e,t);let a=this.currentPath.points,s=wn.curveTo(e,t,n,i,o,a);if(s){let{cx:e,cy:t,radius:n,startAngle:i,endAngle:o,anticlockwise:a}=s;this.arc(e,t,n,i,o,a)}return this}arc(e,t,n,i,o,a=!1){if(i===o||(!a&&o<=i?o+=md:a&&i<=o&&(i+=md),o-i==0))return this;let s=e+Math.cos(i)*n,l=t+Math.sin(i)*n,u=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){let e=Math.abs(c[c.length-2]-s),t=Math.abs(c[c.length-1]-l);e<u&&t<u||c.push(s,l)}else this.moveTo(s,l),c=this.currentPath.points;return wn.arc(s,l,e,t,n,i,o,a,c),this}beginFill(e=0,t){return this.beginTextureFill({texture:vp.WHITE,color:e,alpha:t})}normalizeColor(e){let t=gN.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){e=Object.assign({texture:vp.WHITE,color:0xffffff,matrix:null},e),this.normalizeColor(e),this.currentPath&&this.startPoly();let t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,i){return this.drawShape(new mv(e,t,n,i))}drawRoundedRect(e,t,n,i,o){return this.drawShape(new mx(e,t,n,i,o))}drawCircle(e,t,n){return this.drawShape(new my(e,t,n))}drawEllipse(e,t,n,i){return this.drawShape(new mb(e,t,n,i))}drawPolygon(...e){let t,n=!0,i=e[0];i.points?(n=i.closeStroke,t=i.points):t=Array.isArray(e[0])?e[0]:e;let o=new mw(t);return o.closeStroke=n,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){let e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===mf.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();let t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){let e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){let n=e.batches[i],o=n.style.color,a=new Float32Array(this.vertexData.buffer,8*n.attribStart,2*n.attribSize),s=new Float32Array(e.uvsFloat32.buffer,8*n.attribStart,2*n.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:s,_batchRGB:gN.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=l}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){let n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){let t=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,o=t.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,gN.shared.setValue(this._tintColor).premultiply(i).toArray(o.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let t=0,i=a.length;t<i;t++)this._renderDrawCallDirect(e,n.drawCalls[t])}_renderDrawCallDirect(e,t){let{texArray:n,type:i,size:o,start:a}=t,s=n.count;for(let t=0;t<s;t++)e.texture.bind(n.elements[t],t);e.geometry.draw(i,o,a)}_resolveDirectShader(e){let t=this.shader,n=this.pluginName;if(!t){if(!wy[n]){let{maxTextures:t}=e.plugins[n],i=new Int32Array(t);for(let e=0;e<t;e++)i[e]=e;let o={tint:new Float32Array([1,1,1,1]),translationMatrix:new mS,default:mQ.from({uSamplers:i},!0)},a=e.plugins[n]._shader.program;wy[n]=new m0(a,o)}t=wy[n]}return t}_calculateBounds(){this.finishPoly();let e=this._geometry;if(!e.graphicsData.length)return;let{minX:t,minY:n,maxX:i,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,t,n,i,o)}containsPoint(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t._tintRGB=gN.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){let e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;let t=this.transform.worldTransform,n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,l=t.ty,u=this._geometry.points,c=this.vertexData,d=0;for(let e=0;e<u.length;e+=2){let t=u[e],p=u[e+1];c[d++]=n*t+o*p+s,c[d++]=a*p+i*t+l}}closePath(){let e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};wb.curves=wr,wb._TEMP_POINT=new mg;class ww{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;let t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const wx=new mg,wS=new mw;(class e extends yx{constructor(e,t,n,i=dN.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||g2.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=dY.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(t){let n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===dN.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(e){let t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){let t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;let i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){let e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));let i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,l=i.d,u=i.tx,c=i.ty,d=this.vertexData;for(let e=0;e<d.length/2;e++){let n=t[2*e],i=t[2*e+1];d[2*e]=o*n+s*i+u,d[2*e+1]=a*n+l*i+c}if(this._roundPixels){let e=dY.RESOLUTION;for(let t=0;t<d.length;++t)d[t]=Math.round(d[t]*e)/e}this.vertexDirty=n}calculateUvs(){let e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new ww(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,wx);let t=this.geometry.getBuffer("aVertexPosition").data,n=wS.points,i=this.geometry.getIndex().data,o=i.length,a=4===this.drawMode?3:1;for(let e=0;e+2<o;e+=a){let o=2*i[e],a=2*i[e+1],s=2*i[e+2];if(n[0]=t[o],n[1]=t[o+1],n[2]=t[a],n[3]=t[a+1],n[4]=t[s],n[5]=t[s+1],wS.contains(wx.x,wx.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}}).BATCHABLE_SIZE=100;var w_=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,wE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class wT{constructor(e,t,n){this.geometry=new mu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let i=e[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||dj.FLOAT,offset:i.offset},t[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){let e=this.geometry,t=0;this.indexBuffer=new mn(function(e,t=null){let n=6*e;if((t=t||new Uint16Array(n)).length!==n)throw Error(`Out buffer length is incorrect, got ${t.length} and expected ${n}`);for(let e=0,i=0;e<n;e+=6,i+=4)t[e+0]=i+0,t[e+1]=i+1,t[e+2]=i+2,t[e+3]=i+0,t[e+4]=i+2,t[e+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let e=0;e<this.dynamicProperties.length;++e){let n=this.dynamicProperties[e];n.offset=t,t+=n.size,this.dynamicStride+=n.size}let n=new ArrayBuffer(this.size*this.dynamicStride*16);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new mn(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let e=0;e<this.staticProperties.length;++e){let t=this.staticProperties[e];t.offset=i,i+=t.size,this.staticStride+=t.size}let o=new ArrayBuffer(this.size*this.staticStride*16);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new mn(this.staticData,!0,!1);for(let t=0;t<this.dynamicProperties.length;++t){let n=this.dynamicProperties[t];e.addAttribute(n.attributeName,this.dynamicBuffer,0,n.type===dj.UNSIGNED_BYTE,n.type,4*this.dynamicStride,4*n.offset)}for(let t=0;t<this.staticProperties.length;++t){let n=this.staticProperties[t];e.addAttribute(n.attributeName,this.staticBuffer,0,n.type===dj.UNSIGNED_BYTE,n.type,4*this.staticStride,4*n.offset)}}uploadDynamic(e,t,n){for(let i=0;i<this.dynamicProperties.length;i++){let o=this.dynamicProperties[i];o.uploadFunction(e,t,n,o.type===dj.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let i=0;i<this.staticProperties.length;i++){let o=this.staticProperties[i];o.uploadFunction(e,t,n,o.type===dj.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var wO=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,wI=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class wP extends m3{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new mS,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:dj.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=m0.from(wI,wO,{}),this.state=g2.for2d()}render(e){var t;let n=e.children,i=e._maxSize,o=e._batchSize,a=this.renderer,s=n.length;if(0===s)return;s>i&&!e.autoResize&&(s=i);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));let u=n[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=(t=e.blendMode,gM[c?1:0][t]),a.state.set(this.state);let d=a.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=gN.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let h=!1;for(let t=0,i=0;t<s;t+=o,i+=1){let u=s-t;u>o&&(u=o),i>=l.length&&l.push(this._generateOneMoreBuffer(e));let c=l[i];c.uploadDynamic(n,t,u);let p=e._bufferUpdateIDs[i]||0;(h=h||c._updateID<p)&&(c._updateID=e._updateID,c.uploadStatic(n,t,u)),a.geometry.bind(c.geometry),d.drawElements(d.TRIANGLES,6*u,d.UNSIGNED_SHORT,0)}}generateBuffers(e){let t=[],n=e._maxSize,i=e._batchSize,o=e._properties;for(let e=0;e<n;e+=i)t.push(new wT(this.properties,o,i));return t}_generateOneMoreBuffer(e){let t=e._batchSize,n=e._properties;return new wT(this.properties,n,t)}uploadVertices(e,t,n,i,o,a){let s=0,l=0,u=0,c=0;for(let d=0;d<n;++d){let n=e[t+d],p=n._texture,h=n.scale.x,f=n.scale.y,g=p.trim,m=p.orig;g?(s=(l=g.x-n.anchor.x*m.width)+g.width,u=(c=g.y-n.anchor.y*m.height)+g.height):(s=m.width*(1-n.anchor.x),l=-(m.width*n.anchor.x),u=m.height*(1-n.anchor.y),c=-(m.height*n.anchor.y)),i[a]=l*h,i[a+1]=c*f,i[a+o]=s*h,i[a+o+1]=c*f,i[a+2*o]=s*h,i[a+2*o+1]=u*f,i[a+3*o]=l*h,i[a+3*o+1]=u*f,a+=4*o}}uploadPosition(e,t,n,i,o,a){for(let s=0;s<n;s++){let n=e[t+s].position;i[a]=n.x,i[a+1]=n.y,i[a+o]=n.x,i[a+o+1]=n.y,i[a+2*o]=n.x,i[a+2*o+1]=n.y,i[a+3*o]=n.x,i[a+3*o+1]=n.y,a+=4*o}}uploadRotation(e,t,n,i,o,a){for(let s=0;s<n;s++){let n=e[t+s].rotation;i[a]=n,i[a+o]=n,i[a+2*o]=n,i[a+3*o]=n,a+=4*o}}uploadUvs(e,t,n,i,o,a){for(let s=0;s<n;++s){let n=e[t+s]._texture._uvs;n?(i[a]=n.x0,i[a+1]=n.y0,i[a+o]=n.x1,i[a+o+1]=n.y1,i[a+2*o]=n.x2,i[a+2*o+1]=n.y2,i[a+3*o]=n.x3,i[a+3*o+1]=n.y3):(i[a]=0,i[a+1]=0,i[a+o]=0,i[a+o+1]=0,i[a+2*o]=0,i[a+2*o+1]=0,i[a+3*o]=0,i[a+3*o+1]=0),a+=4*o}}uploadTint(e,t,n,i,o,a){for(let s=0;s<n;++s){let n=e[t+s],l=gN.shared.setValue(n._tintRGB).toPremultiplied(n.alpha,n.texture.baseTexture.alphaMode>0);i[a]=l,i[a+o]=l,i[a+2*o]=l,i[a+3*o]=l,a+=4*o}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}wP.extension={name:"particle",type:gK.RendererPlugin},gQ.add(wP);var wC=((G=wC||{})[G.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",G[G.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",G);const wA={willReadFrequently:!0},wR=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0!==t){let n=dY.ADAPTER.getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(e,t,n,i,o,a,s,l,u){this.text=e,this.style=t,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=l,this.fontProperties=u}static measureText(t,n,i,o=e._canvas){i=i??n.wordWrap;let a=n.toFontString(),s=e.measureFont(a);0===s.fontSize&&(s.fontSize=n.fontSize,s.ascent=n.fontSize);let l=o.getContext("2d",wA);l.font=a;let u=(i?e.wordWrap(t,n,o):t).split(/(?:\r\n|\r|\n)/),c=Array(u.length),d=0;for(let t=0;t<u.length;t++){let i=e._measureText(u[t],n.letterSpacing,l);c[t]=i,d=Math.max(d,i)}let p=d+n.strokeThickness;n.dropShadow&&(p+=n.dropShadowDistance);let h=n.lineHeight||s.fontSize+n.strokeThickness,f=Math.max(h,s.fontSize+2*n.strokeThickness)+n.leading+(u.length-1)*(h+n.leading);return n.dropShadow&&(f+=n.dropShadowDistance),new e(t,n,p,f,u,c,h+n.leading,d,s)}static _measureText(t,n,i){let o=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(i.letterSpacing=`${n}px`,i.textLetterSpacing=`${n}px`,o=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let a=i.measureText(t).width;return a>0&&(o?a-=n:a+=(e.graphemeSegmenter(t).length-1)*n),a}static wordWrap(t,n,i=e._canvas){let o=i.getContext("2d",wA),a=0,s="",l="",u=/* @__PURE__ */Object.create(null),{letterSpacing:c,whiteSpace:d}=n,p=e.collapseSpaces(d),h=e.collapseNewlines(d),f=!p,g=n.wordWrapWidth+c,m=e.tokenize(t);for(let t=0;t<m.length;t++){let i=m[t];if(e.isNewline(i)){if(!h){l+=e.addLine(s),f=!p,s="",a=0;continue}i=" "}if(p){let t=e.isBreakingSpace(i),n=e.isBreakingSpace(s[s.length-1]);if(t&&n)continue}let d=e.getFromCache(i,c,u,o);if(d>g){if(""!==s&&(l+=e.addLine(s),s="",a=0),e.canBreakWords(i,n.breakWords)){let t=e.wordWrapSplit(i);for(let d=0;d<t.length;d++){let p=t[d],h=p,m=1;for(;t[d+m];){let o=t[d+m];if(e.canBreakChars(h,o,i,d,n.breakWords))break;p+=o,h=o,m++}d+=m-1;let v=e.getFromCache(p,c,u,o);v+a>g&&(l+=e.addLine(s),f=!1,s="",a=0),s+=p,a+=v}}else{s.length>0&&(l+=e.addLine(s),s="",a=0);let n=t===m.length-1;l+=e.addLine(i,!n),f=!1,s="",a=0}}else d+a>g&&(f=!1,l+=e.addLine(s),s="",a=0),(s.length>0||!e.isBreakingSpace(i)||f)&&(s+=i,a+=d)}return l+e.addLine(s,!1)}static addLine(t,n=!0){return t=e.trimRight(t),t=n?`${t}
`:t}static getFromCache(t,n,i,o){let a=i[t];return"number"!=typeof a&&(a=e._measureText(t,n,o)+n,i[t]=a),a}static collapseSpaces(e){return"normal"===e||"pre-line"===e}static collapseNewlines(e){return"normal"===e}static trimRight(t){if("string"!=typeof t)return"";for(let n=t.length-1;n>=0;n--){let i=t[n];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static isNewline(t){return"string"==typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return"string"==typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){let n=[],i="";if("string"!=typeof t)return n;for(let o=0;o<t.length;o++){let a=t[o],s=t[o+1];if(e.isBreakingSpace(a,s)||e.isNewline(a)){""!==i&&(n.push(i),i=""),n.push(a);continue}i+=a}return""!==i&&n.push(i),n}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,i,o){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];let n={ascent:0,descent:0,fontSize:0},i=e._canvas,o=e._context;o.font=t;let a=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(o.measureText(a).width),l=Math.ceil(o.measureText(e.BASELINE_SYMBOL).width),u=Math.ceil(e.HEIGHT_MULTIPLIER*l);if(l=l*e.BASELINE_MULTIPLIER|0,0===s||0===u)return e._fonts[t]=n,n;i.width=s,i.height=u,o.fillStyle="#f00",o.fillRect(0,0,s,u),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(a,0,l);let c=o.getImageData(0,0,s,u).data,d=c.length,p=4*s,h=0,f=0,g=!1;for(h=0;h<l;++h){for(let e=0;e<p;e+=4)if(255!==c[f+e]){g=!0;break}if(g)break;f+=p}for(n.ascent=l-h,f=d-p,g=!1,h=u;h>l;--h){for(let e=0;e<p;e+=4)if(255!==c[f+e]){g=!0;break}if(g)break;f-=p}return n.descent=h-l,n.fontSize=n.ascent+n.descent,e._fonts[t]=n,n}static clearMetrics(t=""){t?delete e._fonts[t]:e._fonts={}}static get _canvas(){var t;if(!e.__canvas){let n;try{let i=new OffscreenCanvas(0,0);if(null!=(t=i.getContext("2d",wA))&&t.measureText)return e.__canvas=i,i;n=dY.ADAPTER.createCanvas()}catch{n=dY.ADAPTER.createCanvas()}n.width=n.height=10,e.__canvas=n}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",wA)),e.__context}};wR.METRICS_STRING="|q",wR.BASELINE_SYMBOL="M",wR.BASELINE_MULTIPLIER=1.4,wR.HEIGHT_MULTIPLIER=2,wR.graphemeSegmenter=(()=>{if("function"==typeof(null==Intl?void 0:Intl.Segmenter)){let e=new Intl.Segmenter;return t=>[...e.segment(t)].map(e=>e.segment)}return e=>[...e]})(),wR.experimentalLetterSpacing=!1,wR._fonts={},wR._newlines=[10,13],wR._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const wk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],wD=class e{constructor(e){this.styleID=0,this.reset(),wL(this,e,e)}clone(){let t={};return wL(t,this,e.defaultStyle),new e(t)}reset(){wL(this,e.defaultStyle,e.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){let t=wM(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){let t=wM(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){let t=wM(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){let e="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let e=t.length-1;e>=0;e--){let n=t[e].trim();/([\"\'])[^\'\"]+\1/.test(n)||wk.includes(n)||(n=`"${n}"`),t[e]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};wD.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:wC.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let wN=wD;function wM(e){let t=gN.shared,n=e=>{let n=t.setValue(e);return 1===n.alpha?n.toHex():n.toRgbaString()};return Array.isArray(e)?e.map(n):n(e)}function wL(e,t,n){for(let i in n)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}const wj={texture:!0,children:!1,baseTexture:!0},wF=class e extends yE{constructor(t,n,i){let o=!1;i||(i=dY.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;let a=vp.from(i);a.orig=new mv,a.trim=new mv,super(a),this._ownCanvas=o,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=e.defaultResolution??dY.RESOLUTION,this._autoResolution=e.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=n,this.localStyleID=-1}static get experimentalLetterSpacing(){return wR.experimentalLetterSpacing}static set experimentalLetterSpacing(e){gr("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),wR.experimentalLetterSpacing=e}updateText(e){let t,n;let i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();let o=this.context,a=wR.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,l=a.height,u=a.lines,c=a.lineHeight,d=a.lineWidths,p=a.maxLineWidth,h=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*i.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=i.strokeThickness,o.textBaseline=i.textBaseline,o.lineJoin=i.lineJoin,o.miterLimit=i.miterLimit;let f=i.dropShadow?2:1;for(let e=0;e<f;++e){let s=i.dropShadow&&0===e,f=s?Math.ceil(Math.max(1,l)+2*i.padding):0,g=f*this._resolution;if(s){o.fillStyle="black",o.strokeStyle="black";let e=i.dropShadowColor,t=i.dropShadowBlur*this._resolution,n=i.dropShadowDistance*this._resolution;o.shadowColor=gN.shared.setValue(e).setAlpha(i.dropShadowAlpha).toRgbaString(),o.shadowBlur=t,o.shadowOffsetX=Math.cos(i.dropShadowAngle)*n,o.shadowOffsetY=Math.sin(i.dropShadowAngle)*n+g}else o.fillStyle=this._generateFillStyle(i,u,a),o.strokeStyle=i.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;let m=(c-h.fontSize)/2;c-h.fontSize<0&&(m=0);for(let e=0;e<u.length;e++)t=i.strokeThickness/2,n=i.strokeThickness/2+e*c+h.ascent+m,"right"===i.align?t+=p-d[e]:"center"===i.align&&(t+=(p-d[e])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(u[e],t+i.padding,n+i.padding-f,!0),i.fill&&this.drawLetterSpacing(u[e],t+i.padding,n+i.padding-f)}this.updateTexture()}drawLetterSpacing(e,t,n,i=!1){let o=this._style.letterSpacing,a=!1;if(wR.experimentalLetterSpacingSupported&&(wR.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===o||a){i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let s=t,l=wR.graphemeSegmenter(e),u=this.context.measureText(e).width,c=0;for(let e=0;e<l.length;++e){let t=l[e];i?this.context.strokeText(t,s,n):this.context.fillText(t,s,n);let a="";for(let t=e+1;t<l.length;++t)a+=l[t];s+=u-(c=this.context.measureText(a).width)+o,u=c}}updateTexture(){let e=this.canvas;if(this._style.trim){let t=function(e){let t=function(e){let{width:t,height:n}=e,i=e.getContext("2d",{willReadFrequently:!0});if(null===i)throw TypeError("Failed to get canvas 2D context");let o=i.getImageData(0,0,t,n).data,a=0,s=0,l=t-1,u=n-1;for(;s<n&&gq(o,t,s);)++s;if(s===n)return gW.EMPTY;for(;gq(o,t,u);)--u;for(;gX(o,t,a,s,u);)++a;for(;gX(o,t,l,s,u);)--l;return new gW(a,s,++l,++u)}(e),{width:n,height:i}=t,o=null;if(!t.isEmpty()){let a=e.getContext("2d");if(null===a)throw TypeError("Failed to get canvas 2D context");o=a.getImageData(t.left,t.top,n,i)}return{width:n,height:i,data:o}}(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}let t=this._texture,n=this._style,i=n.trim?0:n.padding,o=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-2*i,t.orig.height=t._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),-1===this._textureID&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){let i;let o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];let a=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,l=this.canvas.width/this._resolution-a-2*s,u=this.canvas.height/this._resolution-a-2*s,c=o.slice(),d=e.fillGradientStops.slice();if(!d.length){let e=c.length+1;for(let t=1;t<e;++t)d.push(t/e)}if(c.unshift(o[0]),d.unshift(0),c.push(o[o.length-1]),d.push(1),e.fillGradientType===wC.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,s,l/2,u+s);let o=n.fontProperties.fontSize+e.strokeThickness;for(let e=0;e<t.length;e++){let a=n.lineHeight*(e-1)+o,s=n.lineHeight*e,l=s;e>0&&a>s&&(l=(s+a)/2);let p=s+o,h=n.lineHeight*(e+1),f=p;e+1<t.length&&h<p&&(f=(p+h)/2);let g=(f-l)/u;for(let e=0;e<c.length;e++){let t=Math.min(1,Math.max(0,l/u+("number"==typeof d[e]?d[e]:e/c.length)*g));t=Number(t.toFixed(5)),i.addColorStop(t,c[e])}}}else{i=this.context.createLinearGradient(s,u/2,l+s,u/2);let e=c.length+1,t=1;for(let n=0;n<c.length;n++){let o;o="number"==typeof d[n]?d[n]:t/e,i.addColorStop(o,c[n]),t++}}return i}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},wj,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);let t=gz(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);let t=gz(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){(e=e||{})instanceof wN?this._style=e:this._style=new wN(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};wF.defaultAutoResolution=!0;class wB{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function wz(e,t){var n;let i=!1;if(null!=(n=null==e?void 0:e._textures)&&n.length){for(let n=0;n<e._textures.length;n++)if(e._textures[n]instanceof vp){let o=e._textures[n].baseTexture;t.includes(o)||(t.push(o),i=!0)}}return i}function wU(e,t){if(e.baseTexture instanceof me){let n=e.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function wW(e,t){if(e._texture&&e._texture instanceof vp){let n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function wH(e,t){return t instanceof wF&&(t.updateText(!0),!0)}function wV(e,t){if(t instanceof wN){let e=t.toFontString();return wR.measureFont(e),!0}return!1}function wG(e,t){if(e instanceof wF){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);let n=e._texture.baseTexture;return t.includes(n)||t.push(n),!0}return!1}function w$(e,t){return e instanceof wN&&(t.includes(e)||t.push(e),!0)}const wq=class e{constructor(t){this.limiter=new wB(e.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(wG),this.registerFindHook(w$),this.registerFindHook(wz),this.registerFindHook(wU),this.registerFindHook(wW),this.registerUploadHook(wH),this.registerUploadHook(wV)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,v7.system.addOnce(this.tick,this,v8.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){let e=this.queue[0],t=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)v7.system.addOnce(this.tick,this,v8.UTILITY);else{this.ticking=!1;let e=this.completes.slice(0);this.completes.length=0;for(let t=0,n=e.length;t<n;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,n=this.addHooks.length;t<n&&!this.addHooks[t](e,this.queue);t++);if(e instanceof yx)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&v7.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};wq.uploadsPerFrame=4;let wX=wq;function wY(e,t){return t instanceof me&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function wK(e,t){if(!(t instanceof wb))return!1;let{geometry:n}=t;t.finishPoly(),n.updateBatches();let{batches:i}=n;for(let t=0;t<i.length;t++){let{texture:n}=i[t].style;n&&wY(e,n.baseTexture)}return n.batchable||e.geometry.bind(n,t._resolveDirectShader(e)),!0}function wZ(e,t){return e instanceof wb&&(t.push(e),!0)}Object.defineProperties(dY,{UPLOADS_PER_FRAME:{get:()=>wX.uploadsPerFrame,set(e){gr("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),wX.uploadsPerFrame=e}}});class wJ extends wX{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(wZ),this.registerUploadHook(wY),this.registerUploadHook(wK)}}wJ.extension={name:"prepare",type:gK.RendererSystem},gQ.add(wJ);var wQ=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,w0=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,w1=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,w2=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,w3=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const w5=new mS;class w4 extends m3{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new vm,this.state=g2.for2d()}contextChange(){let e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=m0.from(w2,w3,t),this.shader=e.context.webGLVersion>1?m0.from(w0,wQ,t):m0.from(w2,w1,t)}render(e){var t;let n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=-(e._width*e.anchor.x),o[1]=o[3]=-(e._height*e.anchor.y),o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);let a=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;(o=i.uvs)[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();let l=e._texture,u=l.baseTexture,c=u.alphaMode>0,d=e.tileTransform.localTransform,p=e.uvMatrix,h=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;h&&(u._glTextures[n.CONTEXT_UID]?h=u.wrapMode!==dz.CLAMP:u.wrapMode===dz.CLAMP&&(u.wrapMode=dz.REPEAT));let f=h?this.simpleShader:this.shader,g=l.width,m=l.height,v=e._width,y=e._height;w5.set(d.a*g/v,d.b*g/y,d.c*m/v,d.d*m/y,d.tx/v,d.ty/y),w5.invert(),h?w5.prepend(p.mapCoord):(f.uniforms.uMapCoord=p.mapCoord.toArray(!0),f.uniforms.uClampFrame=p.uClampFrame,f.uniforms.uClampOffset=p.uClampOffset),f.uniforms.uTransform=w5.toArray(!0),f.uniforms.uColor=gN.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=l,n.shader.bind(f),n.geometry.bind(i),this.state.blendMode=(t=e.blendMode,gM[c?1:0][t]),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}w4.extension={name:"tilingSprite",type:gK.RendererPlugin},gQ.add(w4);const w6=class e{constructor(e,t,n){this.linkedSheets=[],(e instanceof me||e instanceof vp)&&(e={texture:e,data:t,resolutionFilename:n});let{texture:i,data:o,resolutionFilename:a=null,cachePrefix:s=""}=e;this.cachePrefix=s,this._texture=i instanceof vp?i:null,this.baseTexture=i instanceof me?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;let l=this.baseTexture.resource;this.resolution=this._updateResolution(a||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){let{scale:t}=this.data.meta,n=gY(e,null);return null===n&&(n="number"==typeof t?t:parseFloat(t??"1")),1!==n&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t,i=e.BATCH_SIZE;for(;n-t<i&&n<this._frameKeys.length;){let e=this._frameKeys[n],t=this._frames[e],i=t.frame;if(i){let n=null,o=null,a=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,s=new mv(0,0,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution);n=t.rotated?new mv(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.h)/this.resolution,Math.floor(i.w)/this.resolution):new mv(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(o=new mv(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution)),this.textures[e]=new vp(this.baseTexture,n,s,o,t.rotated?2:0,t.anchor,t.borders),vp.addToCache(this.textures[e],this.cachePrefix+e.toString())}n++}}_processAnimations(){let e=this.data.animations||{};for(let t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){let i=e[t][n];this.animations[t].push(this.textures[i])}}}_parseComplete(){let e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(let e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null==(t=this._texture)||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};w6.BATCH_SIZE=1e3;const w8=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],w9={extension:gK.Asset,cache:{test:e=>e instanceof w6,getCacheableAssets:(e,t)=>(function e(t,n,i){let o={};if(t.forEach(e=>{o[e]=n}),Object.keys(n.textures).forEach(e=>{o[`${n.cachePrefix}${e}`]=n.textures[e]}),!i){let i=go.dirname(t[0]);n.linkedSheets.forEach((t,a)=>{Object.assign(o,e([`${i}/${n.data.meta.related_multi_packs[a]}`],t,!0))})}return o})(e,t,!1)},resolver:{test:e=>{let t=e.split("?")[0].split("."),n=t.pop(),i=t.pop();return"json"===n&&w8.includes(i)},parse:e=>{var t;let n=e.split(".");return{resolution:parseFloat((null==(t=dY.RETINA_PREFIX.exec(e))?void 0:t[1])??"1"),format:n[n.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:gK.LoadParser,priority:y7.Normal},testParse:async(e,t)=>".json"===go.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,n){var i,o;let a;let{texture:s,imageFilename:l,cachePrefix:u}=(null==t?void 0:t.data)??{},c=go.dirname(t.src);if(c&&c.lastIndexOf("/")!==c.length-1&&(c+="/"),s&&s.baseTexture)a=s;else{let i=y4(c+(l??e.meta.image),t.src);a=(await n.load([i]))[i]}let d=new w6({texture:a.baseTexture,data:e,resolutionFilename:t.src,cachePrefix:u});await d.parse();let p=null==(i=null==e?void 0:e.meta)?void 0:i.related_multi_packs;if(Array.isArray(p)){let e=[];for(let i of p){if("string"!=typeof i)continue;let a=c+i;null!=(o=t.data)&&o.ignoreMultiPack||(a=y4(a,t.src),e.push(n.load({src:a,data:{ignoreMultiPack:!0}})))}let i=await Promise.all(e);d.linkedSheets=i,i.forEach(e=>{e.linkedSheets=[d].concat(d.linkedSheets.filter(t=>t!==e))})}return d},unload(e){e.destroy(!0)}}};gQ.add(w9);class w7{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class xe{static test(e){return"string"==typeof e&&e.startsWith("info face=")}static parse(e){let t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let e in t){let i=t[e].match(/^[a-z]+/gm)[0],o=t[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(let e in o){let t=o[e].split("="),n=t[0],i=t[1].replace(/"/gm,""),s=parseFloat(i),l=isNaN(s)?i:s;a[n]=l}n[i].push(a)}let i=new w7;return n.info.forEach(e=>i.info.push({face:e.face,size:parseInt(e.size,10)})),n.common.forEach(e=>i.common.push({lineHeight:parseInt(e.lineHeight,10)})),n.page.forEach(e=>i.page.push({id:parseInt(e.id,10),file:e.file})),n.char.forEach(e=>i.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})),n.kerning.forEach(e=>i.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})),n.distanceField.forEach(e=>i.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})),i}}class xt{static test(e){return"string"!=typeof e&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(e){let t=new w7,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let e=0;e<n.length;e++)t.info.push({face:n[e].getAttribute("face"),size:parseInt(n[e].getAttribute("size"),10)});for(let e=0;e<i.length;e++)t.common.push({lineHeight:parseInt(i[e].getAttribute("lineHeight"),10)});for(let e=0;e<o.length;e++)t.page.push({id:parseInt(o[e].getAttribute("id"),10)||0,file:o[e].getAttribute("file")});for(let e=0;e<a.length;e++){let n=a[e];t.char.push({id:parseInt(n.getAttribute("id"),10),page:parseInt(n.getAttribute("page"),10)||0,x:parseInt(n.getAttribute("x"),10),y:parseInt(n.getAttribute("y"),10),width:parseInt(n.getAttribute("width"),10),height:parseInt(n.getAttribute("height"),10),xoffset:parseInt(n.getAttribute("xoffset"),10),yoffset:parseInt(n.getAttribute("yoffset"),10),xadvance:parseInt(n.getAttribute("xadvance"),10)})}for(let e=0;e<s.length;e++)t.kerning.push({first:parseInt(s[e].getAttribute("first"),10),second:parseInt(s[e].getAttribute("second"),10),amount:parseInt(s[e].getAttribute("amount"),10)});for(let e=0;e<l.length;e++)t.distanceField.push({fieldType:l[e].getAttribute("fieldType"),distanceRange:parseInt(l[e].getAttribute("distanceRange"),10)});return t}}class xr{static test(e){return!!("string"==typeof e&&e.includes("<font>"))&&xt.test(dY.ADAPTER.parseXML(e))}static parse(e){return xt.parse(dY.ADAPTER.parseXML(e))}}const xn=[xe,xt,xr];function xi(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}const xo=class e{constructor(e,t,n){var i;let[o]=e.info,[a]=e.common,[s]=e.page,[l]=e.distanceField,u=gY(s.file),c={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/u,this.chars={},this.pageTextures=c;for(let n=0;n<e.page.length;n++){let{id:i,file:o}=e.page[n];c[i]=t instanceof Array?t[n]:t[o],null!=l&&l.fieldType&&"none"!==l.fieldType&&(c[i].baseTexture.alphaMode=dW.NO_PREMULTIPLIED_ALPHA,c[i].baseTexture.mipmap=dU.OFF)}for(let t=0;t<e.char.length;t++){let{id:n,page:i}=e.char[t],{x:o,y:a,width:s,height:l,xoffset:d,yoffset:p,xadvance:h}=e.char[t];o/=u,a/=u,s/=u,l/=u,d/=u,p/=u,h/=u;let f=new mv(o+c[i].frame.x/u,a+c[i].frame.y/u,s,l);this.chars[n]={xOffset:d,yOffset:p,xAdvance:h,kerning:{},texture:new vp(c[i].baseTexture,f),page:i}}for(let t=0;t<e.kerning.length;t++){let{first:n,second:i,amount:o}=e.kerning[t];n/=u,i/=u,o/=u,this.chars[i]&&(this.chars[i].kerning[n]=o)}this.distanceFieldRange=null==l?void 0:l.distanceRange,this.distanceFieldType=(null==(i=null==l?void 0:l.fieldType)?void 0:i.toLowerCase())??"none"}destroy(){for(let e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(let e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(t,n,i){let o;if(t instanceof w7)o=t;else{let e=function(e){for(let t=0;t<xn.length;t++)if(xn[t].test(e))return xn[t];return null}(t);if(!e)throw Error("Unrecognized data format for font.");o=e.parse(t)}n instanceof vp&&(n=[n]);let a=new e(o,n,i);return e.available[a.font]=a,a}static uninstall(t){let n=e.available[t];if(!n)throw Error(`No font found named '${t}'`);n.destroy(),delete e.available[t]}static from(t,n,i){if(!t)throw Error("[BitmapFont] Property `name` is required.");let{chars:o,padding:a,resolution:s,textureWidth:l,textureHeight:u,...c}=Object.assign({},e.defaultOptions,i),d=function(e){"string"==typeof e&&(e=[e]);let t=[];for(let i=0,o=e.length;i<o;i++){let o=e[i];if(Array.isArray(o)){if(2!==o.length)throw Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);let e=o[0].charCodeAt(0),n=o[1].charCodeAt(0);if(n<e)throw Error("[BitmapFont]: Invalid character range.");for(let i=e;i<=n;i++)t.push(String.fromCharCode(i))}else{var n;t.push(...(n=o,Array.from?Array.from(n):n.split("")))}}if(0===t.length)throw Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),p=n instanceof wN?n:new wN(n),h=new w7;h.info[0]={face:p.fontFamily,size:p.fontSize},h.common[0]={lineHeight:p.fontSize};let f=0,g=0,m,v,y,b=0,w=[];for(let e=0;e<d.length;e++){m||((m=dY.ADAPTER.createCanvas()).width=l,m.height=u,v=m.getContext("2d"),y=new me(m,{resolution:s,...c}),w.push(new vp(y)),h.page.push({id:w.length-1,file:""}));let t=d[e],n=wR.measureText(t,p,!1,m),i=n.width,o=Math.ceil(n.height),x=Math.ceil(("italic"===p.fontStyle?2:1)*i);if(g>=u-o*s){if(0===g)throw Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${t}')`);--e,m=null,v=null,y=null,g=0,f=0,b=0;continue}if(b=Math.max(o+n.fontProperties.descent,b),x*s+f>=l){if(0===f)throw Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${t}')`);--e,g+=b*s,g=Math.ceil(g),f=0,b=0;continue}!function(e,t,n,i,o,a,s){let l=n.text,u=n.fontProperties;t.translate(i,o),t.scale(a,a);let c=s.strokeThickness/2,d=-(s.strokeThickness/2);if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,n,i,o,a){let s;let l=n.fill;if(!Array.isArray(l))return l;if(1===l.length)return l[0];let u=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,d=e.width/i-u-2*c,p=e.height/i-u-2*c,h=l.slice(),f=n.fillGradientStops.slice();if(!f.length){let e=h.length+1;for(let t=1;t<e;++t)f.push(t/e)}if(h.unshift(l[0]),f.unshift(0),h.push(l[l.length-1]),f.push(1),n.fillGradientType===wC.LINEAR_VERTICAL){s=t.createLinearGradient(d/2,c,d/2,p+c);let e=0,i=(a.fontProperties.fontSize+n.strokeThickness)/p;for(let t=0;t<o.length;t++){let n=a.lineHeight*t;for(let t=0;t<h.length;t++){let o=Math.max(e,n/p+("number"==typeof f[t]?f[t]:t/h.length)*i);o=Math.min(o,1),s.addColorStop(o,h[t]),e=o}}}else{s=t.createLinearGradient(c,p/2,d+c,p/2);let e=h.length+1,n=1;for(let t=0;t<h.length;t++){let i;i="number"==typeof f[t]?f[t]:n/e,s.addColorStop(i,h[t]),n++}}return s}(e,t,s,a,[l],n),t.strokeStyle=s.stroke,s.dropShadow){let e=s.dropShadowColor,n=s.dropShadowBlur*a,i=s.dropShadowDistance*a;t.shadowColor=gN.shared.setValue(e).setAlpha(s.dropShadowAlpha).toRgbaString(),t.shadowBlur=n,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*i,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*i}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(l,c,d+n.lineHeight-u.descent),s.fill&&t.fillText(l,c,d+n.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}(m,v,n,f,g,s,p);let S=xi(n.text);h.char.push({id:S,page:w.length-1,x:f/s,y:g/s,width:x,height:o,xoffset:0,yoffset:0,xadvance:i-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),f+=(x+2*a)*s,f=Math.ceil(f)}if(!(null!=i&&i.skipKerning))for(let e=0,t=d.length;e<t;e++){let n=d[e];for(let e=0;e<t;e++){let t=d[e],i=v.measureText(n).width,o=v.measureText(t).width,a=v.measureText(n+t).width-(i+o);a&&h.kerning.push({first:xi(n),second:xi(t),amount:a})}}let x=new e(h,w,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=x,x}};xo.ALPHA=[["a","z"],["A","Z"]," "],xo.NUMERIC=[["0","9"]],xo.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],xo.ASCII=[[" ","~"]],xo.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:xo.ALPHANUMERIC},xo.available={};const xa=[".xml",".fnt"],xs={extension:{type:gK.LoadParser,priority:y7.Normal},name:"loadBitmapFont",test:e=>xa.includes(go.extname(e).toLowerCase()),testParse:async e=>xe.test(e)||xr.test(e),async parse(e,t,n){let i=xe.test(e)?xe.parse(e):xr.parse(e),{src:o}=t,{page:a}=i,s=[];for(let e=0;e<a.length;++e){let t=a[e].file,n=go.join(go.dirname(o),t);n=y4(n,o),s.push(n)}let l=await n.load(s),u=s.map(e=>l[e]);return xo.install(i,u,!0)},load:async(e,t)=>(await dY.ADAPTER.fetch(e)).text(),unload(e){e.destroy()}};gQ.add(xs);const xl=class e extends wN{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new e(Object.keys(e.defaultOptions).reduce((e,n)=>({...e,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,0===t.refs&&(t.fontFace&&document.fonts.delete(t.fontFace),delete e.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,n={}){let{availableFonts:i}=e;if(i[t]){let e=i[t];return this._fonts.push(e),e.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return dY.ADAPTER.fetch(t).then(e=>e.blob()).then(async e=>new Promise((t,n)=>{let i=URL.createObjectURL(e),o=new FileReader;o.onload=()=>t([i,o.result]),o.onerror=n,o.readAsDataURL(e)})).then(async([e,o])=>{let a=Object.assign({family:go.basename(t,go.extname(t)),weight:"normal",style:"normal",display:"auto",src:e,dataSrc:o,refs:1,originalUrl:t,fontFace:null},n);i[t]=a,this._fonts.push(a),this.styleID++;let s=new FontFace(a.family,`url(${a.src})`,{weight:a.weight,style:a.style,display:a.display});a.fontFace=s,await s.load(),document.fonts.add(s),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){let t=e.filter(e=>!this._overrides.includes(e));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){let t=e.filter(e=>this._overrides.includes(e));t.length>0&&(this._overrides=this._overrides.filter(e=>!t.includes(e)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style};
                font-display: ${t.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){var t,n;return Array.isArray(e)&&(t=e,gr("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),e=gN.shared.setValue(t).toNumber()),"number"==typeof e?(n=e,gr("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),gN.shared.setValue(n).toHex()):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor),t=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(255*t|0).toString(16).padStart(2,"0"));let o=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${o} ${e}`}reset(){Object.assign(this,e.defaultOptions)}onBeforeDraw(){let{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){let{userAgent:e}=dY.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};xl.availableFonts={},xl.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const xu=class e extends yE{constructor(t="",n={}){super(vp.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;let i=new Image,o=vp.from(i,{scaleMode:dY.SCALE_MODE,resourceOptions:{autoLoad:!1}});o.orig=new mv,o.trim=new mv,this.texture=o;let a="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",l=document.createElementNS(a,"svg"),u=document.createElementNS(a,"foreignObject"),c=document.createElementNS(s,"div"),d=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",l.appendChild(u),this.maxWidth=e.defaultMaxWidth,this.maxHeight=e.defaultMaxHeight,this._domElement=c,this._styleElement=d,this._svgRoot=l,this._foreignObject=u,this._foreignObject.appendChild(d),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=e.defaultAutoResolution,this._resolution=e.defaultResolution??dY.RESOLUTION,this.text=t,this.style=n}measureText(e){var t,n;let{text:i,style:o,resolution:a}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:i,style:o.toCSS(a)}),this._styleElement.textContent=o.toGlobalCSS(),document.body.appendChild(this._svgRoot);let s=this._domElement.getBoundingClientRect();this._svgRoot.remove();let{width:l,height:u}=s;(l>this.maxWidth||u>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");let c=Math.min(this.maxWidth,Math.ceil(l)),d=Math.min(this.maxHeight,Math.ceil(u));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",d.toString()),i!==this._text&&(this._domElement.innerHTML=this._text),o!==this._style&&(Object.assign(this._domElement,{style:null==(t=this._style)?void 0:t.toCSS(a)}),this._styleElement.textContent=null==(n=this._style)?void 0:n.toGlobalCSS()),{width:c+2*o.padding,height:d+2*o.padding}}async updateText(e=!0){let{style:t,_image:n,_loadImage:i}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;let{width:o,height:a}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,o)),n.height=i.height=Math.ceil(Math.max(1,a)),this._updateID++;let s=this._updateID;await new Promise(e=>{i.onload=async()=>{if(s<this._updateID){e();return}await t.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),e()};let o=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(o)}`})}get source(){return this._image}updateTexture(){let{style:e,texture:t,_image:n,resolution:i}=this,{padding:o}=e,{baseTexture:a}=t;t.trim.width=t._frame.width=n.width/i,t.trim.height=t._frame.height=n.height/i,t.trim.x=-o,t.trim.y=-o,t.orig.width=t._frame.width-2*o,t.orig.height=t._frame.height-2*o,this._onTextureUpdate(),a.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,i,o,a,s;"boolean"==typeof t&&(t={children:t}),t=Object.assign({},e.defaultDestroyOptions,t),super.destroy(t),this.ownsStyle&&(null==(n=this._style)||n.cleanFonts()),this._style=null,null==(i=this._svgRoot)||i.remove(),this._svgRoot=null,null==(o=this._domElement)||o.remove(),this._domElement=null,null==(a=this._foreignObject)||a.remove(),this._foreignObject=null,null==(s=this._styleElement)||s.remove(),this._styleElement=null,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=null,this._image.src="",this._image=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);let t=gz(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);let t=gz(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&((e=e||{})instanceof xl?(this.ownsStyle=!1,this._style=e):e instanceof wN?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=xl.from(e)):(this.ownsStyle=!0,this._style=new xl(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(""===e||null==e?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};xu.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},xu.defaultMaxWidth=2024,xu.defaultMaxHeight=2024,xu.defaultAutoResolution=!0;let xc=!1,xd;const xp=e=>({fillStyle:{tint:null!=e&&e.fill?new gN(e.fill).toNumber():0xffffff,alpha:(null==e?void 0:e.fillOpacity)===void 0?.25:Math.min(e.fillOpacity,1)},strokeStyle:{tint:null!=e&&e.stroke?new gN(e.stroke).toNumber():0xffffff,alpha:(null==e?void 0:e.strokeOpacity)===void 0?1:Math.min(e.strokeOpacity,1),lineWidth:(null==e?void 0:e.strokeWidth)===void 0?1.5:e.strokeWidth}}),xh=e=>(t,n,i)=>{let{fillStyle:o,strokeStyle:a}=xp(i),s=new wb;s.beginFill(0xffffff),e(n,s),s.endFill(),s.tint=o.tint,s.alpha=o.alpha,t.addChild(s);let l=new wb,u=1===a.lineWidth?1:a.lineWidth/xd;return l.lineStyle(u,0xffffff,1,.5,1===a.lineWidth),e(n,l),l.tint=a.tint||0xffffff,l.alpha=a.alpha,t.addChild(l),{fill:s,stroke:l,strokeWidth:a.lineWidth}},xf=xh((e,t)=>{let{cx:n,cy:i,rx:o,ry:a}=e.geometry;t.drawEllipse(n,i,o,a)}),xg=xh((e,t)=>{let n=e.geometry.points.reduce((e,t)=>[...e,...t],[]);t.drawPolygon(n)}),xm=xh((e,t)=>{let{x:n,y:i,w:o,h:a}=e.geometry;t.drawRect(n,i,o,a)}),xv=e=>{let t=e.viewport.getContainerSize().x;return e.viewport.getZoom(!0)*t/e.world.getContentFactor()},xy=(e,t,n,i)=>()=>{let o,a;let s=e.viewport.viewportToImageRectangle(e.viewport.getBounds(!0)),l=xv(e);l===xd&&xc||(xc=!0,n.forEach(({stroke:e,strokeWidth:t})=>{let{lineStyle:n}=e.geometry.graphicsData[0];t>1?(xc=l===xd,n.width=t/l,n.native=!1,e.geometry.invalidate()):1!==t||n.native||(n.width=1,n.native=!0,e.geometry.invalidate())})),xd=l;let u=e.viewport.getFlip(),c=Math.PI*e.viewport.getRotation(!0)/180;c<0&&(c+=2*Math.PI),c>2*Math.PI&&(c-=2*Math.PI);let d=u?e.viewport._containerInnerSize.x+s.x*l:-s.x*l,p=-s.y*l;c>0&&c<=Math.PI/2?(o=s.height*l,a=0):c>Math.PI/2&&c<=Math.PI?(o=s.width*l,a=s.height*l):c>Math.PI&&c<=1.5*Math.PI?(o=0,a=s.width*l):(o=0,a=0),t.position.x=o+d*Math.cos(c)-p*Math.sin(c),t.position.y=a+d*Math.sin(c)+p*Math.cos(c),t.scale.set(u?-l:l,l),t.rotation=c,i.render(t)},xb=(e,t)=>{let n=new wb,i=yr({width:t.width,height:t.height,backgroundAlpha:0,view:t,antialias:!0,resolution:2}),o=/* @__PURE__ */new Map,a=/* @__PURE__ */new Set,s,l;xd=xv(e);let u=(e,t)=>{let i;xc=!1;let{selector:a}=e.target,s="function"==typeof l?l(e,t):l;a.type===l8.RECTANGLE?i=xm(n,a,s):a.type===l8.POLYGON?i=xg(n,a,s):a.type===l8.ELLIPSE?i=xf(n,a,s):console.warn(`Unsupported shape type: ${a.type}`),i&&o.set(e.id,{annotation:e,...i})},c=(e,t)=>{let n=o.get(e);n&&(o.delete(e),n.fill.destroy(),n.stroke.destroy(),u(n.annotation,t))};return{addAnnotation:u,destroy:()=>i.destroy(),redraw:xy(e,n,o,i),removeAnnotation:e=>{let t=o.get(e.id);t&&(o.delete(e.id),t.fill.destroy(),t.stroke.destroy())},resize:(e,t)=>{i.resize(e,t),i.render(n)},setFilter:e=>{xc=!1;let{children:t}=n;o.forEach(({fill:i,stroke:o,annotation:s})=>{let l=!e||a.has(s.id)||e(s);l&&!t.includes(i)?(n.addChild(i),n.addChild(o)):!l&&t.includes(i)&&(n.removeChild(i),n.removeChild(o))}),i.render(n)},setHovered:e=>{s!==e&&(s&&c(s,{selected:a.has(s)}),e&&c(e,{selected:a.has(e),hovered:!0}),s=e,i.render(n))},setSelected:e=>{let t=e.selected.map(e=>e.id);[...t.filter(e=>!a.has(e)),...[...a].filter(e=>!t.includes(e))].forEach(e=>c(e,{selected:t.includes(e),hovered:e===s})),a=new Set(t),i.render(n)},setStyle:t=>{if("function"==typeof t)o.forEach(({annotation:e,fill:n,stroke:i,strokeWidth:l},u)=>{l>1&&(xc=!1);let c={selected:a.has(e.id),hovered:s===e.id},{fillStyle:d,strokeStyle:p}=xp(t(e,c));n.tint=d.tint,n.alpha=d.alpha,i.tint=p.tint||0xffffff,i.alpha=p.alpha,o.set(e.id,{annotation:e,fill:n,stroke:i,strokeWidth:p.lineWidth})});else{let{fillStyle:e,strokeStyle:n}=xp(t);n.lineWidth>1&&(xc=!1),o.forEach(({annotation:t,fill:i,stroke:a,strokeWidth:s},l)=>{i.tint=e.tint,i.alpha=e.alpha,a.tint=n.tint||0xffffff,a.alpha=n.alpha,o.set(t.id,{annotation:t,fill:i,stroke:a,strokeWidth:n.lineWidth})})}l=t,i.render(n),xy(e,n,o,i)()},setVisible:e=>{e?t.classList.remove("hidden"):t.classList.add("hidden")},updateAnnotation:(e,t,n)=>{xc=!1;let i=o.get(e.id);i&&(o.delete(e.id),i.fill.destroy(),i.stroke.destroy(),u(t,n))}}};function xw(e,t,n){let i,o,a,s,l,{filter:u}=t,{state:c}=t,{style:d}=t,{viewer:p}=t,{visible:h=!0}=t,{store:f,hover:g,selection:m,viewport:v}=c;c3(e,g,e=>n(11,s=e)),c3(e,m,e=>n(8,l=e));let y=dl(),b=e=>{let t=new/*@__PURE__*/(Y(s0)).Point(e.x,e.y),{x:n,y:i}=p.viewport.pointFromPixel(t);return p.viewport.viewportToImageCoordinates(n,i)},w=e=>{let{x:t,y:n}=e.position;o={x:t,y:n}},x=e=>t=>{let{x:n,y:o}=b(new/*@__PURE__*/(Y(s0)).Point(t.offsetX,t.offsetY)),a=f.getAt(n,o);a&&(!u||u(a))?(e.classList.add("hover"),s!==a.id&&(g.set(a.id),i.setHovered(a.id))):(e.classList.remove("hover"),s&&(g.set(void 0),i.setHovered(void 0)))},S=e=>{if(!o)return;let t=e.originalEvent,{x:n,y:i}=e.position,a=n-o.x,s=i-o.y;if(5>Math.sqrt(a*a+s*s)){let{x:n,y:i}=b(e.position),o=f.getAt(n,i);o?y("click",{originalEvent:t,annotation:o}):y("click",{originalEvent:t})}o=void 0};return ds(()=>{var e;let{offsetWidth:t,offsetHeight:o}=p.canvas,s=document.createElement("canvas");s.width=t,s.height=o,s.className="a9s-gl-canvas",null==(e=p.element.querySelector(".openseadragon-canvas"))||e.appendChild(s),n(7,i=xb(p,s));let l=x(s);s.addEventListener("pointermove",l);let u=new ResizeObserver(e=>{try{let{width:t,height:n}=e[0].contentRect;s.width=t,s.height=n,i.resize(t,n)}catch{console.warn("WebGL canvas already disposed")}});u.observe(s);let c=()=>{let e=p.viewport.getBounds(),{x:t,y:n,width:i,height:o}=a=p.viewport.viewportToImageRectangle(e),s=f.getIntersecting(t,n,i,o);v.set(s.map(e=>e.id))};p.addHandler("canvas-press",w),p.addHandler("canvas-release",S),p.addHandler("update-viewport",i.redraw),p.addHandler("animation-finish",c);let d=e=>e.filter(e=>un(e)),h=e=>un(e.oldValue)&&un(e.newValue),g=e=>{let{created:t,updated:n,deleted:o}=e.changes;if(d(t||[]).forEach(e=>i.addAnnotation(e)),d(o||[]).forEach(e=>i.removeAnnotation(e)),(n||[]).filter(e=>h(e)).forEach(({oldValue:e,newValue:t})=>i.updateAnnotation(e,t)),a){let{x:e,y:t,width:n,height:i}=a,o=f.getIntersecting(e,t,n,i);v.set(o.map(e=>e.id))}else v.set(f.all().map(e=>e.id));i.redraw()};return f.observe(g),()=>{var e;s.removeEventListener("pointermove",l),u.disconnect(),p.removeHandler("canvas-press",w),p.removeHandler("canvas-release",S),p.removeHandler("update-viewport",i.redraw),p.removeHandler("animation-finish",c),f.unobserve(g),i.destroy(),null==(e=s.parentNode)||e.removeChild(s)}}),e.$$set=e=>{"filter"in e&&n(2,u=e.filter),"state"in e&&n(3,c=e.state),"style"in e&&n(4,d=e.style),"viewer"in e&&n(5,p=e.viewer),"visible"in e&&n(6,h=e.visible)},e.$$.update=()=>{132&e.$$.dirty&&(null==i||i.setFilter(u)),384&e.$$.dirty&&(null==i||i.setSelected(l)),144&e.$$.dirty&&(null==i||i.setStyle(d)),192&e.$$.dirty&&(null==i||i.setVisible(h))},[g,m,u,c,d,p,h,i,l]}class xx extends dC{constructor(e){super(),dP(this,e,xw,null,c2,{filter:2,state:3,style:4,viewer:5,visible:6})}}for(var xS=[],x_=0;x_<256;++x_)xS.push((x_+256).toString(16).slice(1));var xE,xT,xO,xI,xP,xC,xA,xR=new Uint8Array(16);const xk={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var xD=(($=xD||{}).ELLIPSE="ELLIPSE",$.POLYGON="POLYGON",$.RECTANGLE="RECTANGLE",$);xD.ELLIPSE,xD.POLYGON,xD.RECTANGLE,!(typeof window>"u"||typeof navigator>"u")&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints),xD.RECTANGLE,xD.POLYGON;const xN=(e,t)=>{let n="function"==typeof t?t(e):t;if(n){let{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:a}=n,s="";return e&&(s+=`fill:${e};fill-opacity:${t||"0.25"};`),i&&(s+=`stroke:${i};stroke-width:${o||"1"};stroke-opacity:${a||"1"};`),s}};function xM(e,t,n){let i;let o=dl(),{annotation:a}=t,{editor:s}=t,{style:l}=t,{target:u}=t,{transform:c}=t,{viewportScale:d}=t,p;return ds(()=>(n(6,p=new s({target:u,props:{shape:a.target.selector,computedStyle:i,transform:c,viewportScale:d}})),p.$on("change",e=>{p.$$set({shape:e.detail}),o("change",e.detail)}),p.$on("grab",e=>o("grab",e.detail)),p.$on("release",e=>o("release",e.detail)),()=>{p.$destroy()})),e.$$set=e=>{"annotation"in e&&n(0,a=e.annotation),"editor"in e&&n(1,s=e.editor),"style"in e&&n(2,l=e.style),"target"in e&&n(3,u=e.target),"transform"in e&&n(4,c=e.transform),"viewportScale"in e&&n(5,d=e.viewportScale)},e.$$.update=()=>{5&e.$$.dirty&&n(7,i=xN(a,l)),65&e.$$.dirty&&a&&(null==p||p.$set({shape:a.target.selector})),80&e.$$.dirty&&p&&p.$set({transform:c}),96&e.$$.dirty&&p&&p.$set({viewportScale:d}),192&e.$$.dirty&&p&&i&&p.$set({computedStyle:i})},[a,s,l,u,c,d,p,i]}class xL extends dC{constructor(e){super(),dP(this,e,xM,null,c2,{annotation:0,editor:1,style:2,target:3,transform:4,viewportScale:5})}}typeof navigator>"u"||navigator.userAgent.indexOf("Mac OS X");const xj=e=>({transform:2&e,scale:1&e}),xF=e=>({transform:e[1],scale:e[0]});function xB(e){let t;let n=e[4].default,i=function(e,t,n,i){if(e){let o=c5(e,t,n,i);return e[0](o)}}(n,e,e[3],xF);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,[o]){i&&i.p&&(!t||11&o)&&function(e,t,n,i,o,a){if(o){let s=c5(t,n,i,a);e.p(s,o)}}(i,n,e,e[3],t?function(e,t,n,i){if(e[2]&&i){let o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){let e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(n,e[3],o,xj):function(e){if(e.ctx.length>32){let t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return -1}(e[3]),xF)},i(e){t||(dS(i,e),t=!0)},o(e){d_(i,e),t=!1},d(e){i&&i.d(e)}}}function xz(e,t,n){let{$$slots:i={},$$scope:o}=t,{viewer:a}=t,s=1,l,u=()=>{let e=a.viewport.getContainerSize().x,t=a.viewport.getZoom(!0),i=a.viewport.getFlip(),o=a.viewport.pixelFromPoint(new/*@__PURE__*/(Y(s0)).Point(0,0),!0);i&&(o.x=e-o.x);let u=t*e/a.world.getContentFactor(),c=a.viewport.getRotation(!0);n(1,l=`translate(${o.x}, ${o.y}) scale(${i?-u:u}, ${u}) rotate(${c})`),n(0,s=t*e/a.world.getContentFactor())};return ds(()=>(a.addHandler("update-viewport",u),()=>{a.removeHandler("update-viewport",u)})),e.$$set=e=>{"viewer"in e&&n(2,a=e.viewer),"$$scope"in e&&n(3,o=e.$$scope)},[s,l,a,o,i]}class xU extends dC{constructor(e){super(),dP(this,e,xz,xB,c2,{viewer:2})}}function xW(e,t,n){let i=dl(),{drawingMode:o}=t,{target:a}=t,{tool:s}=t,{transform:l}=t,{viewer:u}=t,{viewportScale:c}=t,d;return ds(()=>{let e=a.closest("svg"),t=[];return n(6,d=new s({target:a,props:{addEventListener:(n,i,o)=>{if(null==e||e.addEventListener(n,i,o),t.push(()=>null==e?void 0:e.removeEventListener(n,i,o)),"pointerup"===n||"dblclick"===n){let e=e=>{let{originalEvent:t}=e;i(t)},o="pointerup"===n?"canvas-click":"canvas-double-click";u.addHandler(o,e),t.push(()=>u.removeHandler(o,e))}else if("pointermove"===n){let e=e=>{let{originalEvent:t}=e;i(t)};u.addHandler("canvas-drag",e),t.push(()=>u.removeHandler("canvas-drag",e))}},drawingMode:o,transform:l,viewportScale:c}})),d.$on("create",e=>i("create",e.detail)),()=>{t.forEach(e=>e()),d.$destroy()}}),e.$$set=e=>{"drawingMode"in e&&n(0,o=e.drawingMode),"target"in e&&n(1,a=e.target),"tool"in e&&n(2,s=e.tool),"transform"in e&&n(3,l=e.transform),"viewer"in e&&n(4,u=e.viewer),"viewportScale"in e&&n(5,c=e.viewportScale)},e.$$.update=()=>{72&e.$$.dirty&&d&&d.$set({transform:l}),96&e.$$.dirty&&d&&d.$set({viewportScale:c})},[o,a,s,l,u,c,d]}class xH extends dC{constructor(e){super(),dP(this,e,xW,null,c2,{drawingMode:0,target:1,tool:2,transform:3,viewer:4,viewportScale:5})}}function xV(e,t,n){let i=e.slice();i[33]=t[n];let o=i[14](i[33].target.selector);return i[34]=o,i}function xG(e){let t=e[2],n,i,o=xq(e);return{c(){o.c(),n=dr()},m(e,t){o.m(e,t),c8(e,n,t),i=!0},p(e,i){4&i[0]&&c2(t,t=e[2])?(dw(),d_(o,1,1,cZ),dx(),(o=xq(e)).c(),dS(o,1),o.m(n.parentNode,n)):o.p(e,i)},i(e){i||(dS(o),i=!0)},o(e){d_(o),i=!1},d(e){e&&c9(n),o.d(e)}}}function x$(e){let t,n,i=dE(e[6].filter(e[23])),o=[];for(let t=0;t<i.length;t+=1)o[t]=xK(xV(e,i,t));let a=e=>d_(o[e],1,1,()=>{o[e]=null});return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dr()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);c8(e,t,i),n=!0},p(e,n){if(24162&n[0]|2&n[1]){let s;for(s=0,i=dE(e[6].filter(e[23]));s<i.length;s+=1){let a=xV(e,i,s);o[s]?(o[s].p(a,n),dS(o[s],1)):(o[s]=xK(a),o[s].c(),dS(o[s],1),o[s].m(t.parentNode,t))}for(dw(),s=i.length;s<o.length;s+=1)a(s);dx()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)dS(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)d_(o[e]);n=!1},d(e){e&&c9(t),c7(o,e)}}}function xq(e){let t,n;return(t=new xH({props:{target:e[5],tool:e[7],drawingMode:e[4],transform:{elementToImage:e[9]},viewer:e[3],viewportScale:e[32]}})).$on("create",e[13]),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(e,n){let i={};32&n[0]&&(i.target=e[5]),128&n[0]&&(i.tool=e[7]),16&n[0]&&(i.drawingMode=e[4]),8&n[0]&&(i.viewer=e[3]),2&n[1]&&(i.viewportScale=e[32]),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function xX(e){let t=e[33].id,n,i,o=xY(e);return{c(){o.c(),n=dr()},m(e,t){o.m(e,t),c8(e,n,t),i=!0},p(e,i){64&i[0]&&c2(t,t=e[33].id)?(dw(),d_(o,1,1,cZ),dx(),(o=xY(e)).c(),dS(o,1),o.m(n.parentNode,n)):o.p(e,i)},i(e){i||(dS(o),i=!0)},o(e){d_(o),i=!1},d(e){e&&c9(n),o.d(e)}}}function xY(e){let t,n;return(t=new xL({props:{target:e[5],editor:e[14](e[33].target.selector),annotation:e[33],style:e[1],transform:{elementToImage:e[9]},viewportScale:e[32]}})).$on("grab",e[10]),t.$on("change",function(){c1(e[12](e[33]))&&e[12](e[33]).apply(this,arguments)}),t.$on("release",e[11]),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(n,i){e=n;let o={};32&i[0]&&(o.target=e[5]),64&i[0]&&(o.editor=e[14](e[33].target.selector)),64&i[0]&&(o.annotation=e[33]),2&i[0]&&(o.style=e[1]),2&i[1]&&(o.viewportScale=e[32]),t.$set(o)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function xK(e){let t,n,i=e[34]&&xX(e);return{c(){i&&i.c(),t=dr()},m(e,o){i&&i.m(e,o),c8(e,t,o),n=!0},p(e,n){e[34]?i?(i.p(e,n),64&n[0]&&dS(i,1)):((i=xX(e)).c(),dS(i,1),i.m(t.parentNode,t)):i&&(dw(),d_(i,1,1,()=>{i=null}),dx())},i(e){n||(dS(i),n=!0)},o(e){d_(i),n=!1},d(e){e&&c9(t),i&&i.d(e)}}}function xZ(e){let t,n,i,o,a,s;let l=[x$,xG],u=[];function c(e,t){return e[5]&&e[6]?0:e[5]&&e[7]&&e[0]?1:-1}return~(i=c(e))&&(o=u[i]=l[i](e)),{c(){t=de("svg"),n=de("g"),o&&o.c(),dn(n,"transform",a=e[31]),dn(n,"class","svelte-190cqdf"),dn(t,"class","a9s-annotationlayer a9s-osd-drawinglayer svelte-190cqdf"),di(t,"drawing",e[0])},m(o,a){c8(o,t,a),c6(t,n),~i&&u[i].m(n,null),e[24](n),s=!0},p(e,d){let p=i;(i=c(e))===p?~i&&u[i].p(e,d):(o&&(dw(),d_(u[p],1,1,()=>{u[p]=null}),dx()),~i?((o=u[i])?o.p(e,d):(o=u[i]=l[i](e)).c(),dS(o,1),o.m(n,null)):o=null),(!s||1&d[1]&&a!==(a=e[31]))&&dn(n,"transform",a),(!s||1&d[0])&&di(t,"drawing",e[0])},i(e){s||(dS(o),s=!0)},o(e){d_(o),s=!1},d(n){n&&c9(t),~i&&u[i].d(),e[24](null)}}}function xJ(e){let t,n;return t=new xU({props:{viewer:e[3],$$slots:{default:[xZ,({transform:e,scale:t})=>({31:e,32:t}),({transform:e,scale:t})=>[0,(e?1:0)|(t?2:0)]]},$$scope:{ctx:e}}}),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(e,n){let i={};8&n[0]&&(i.viewer=e[3]),255&n[0]|67&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function xQ(e,t,n){let i,o,a,s,l,u,c,d,{drawingEnabled:p}=t,{filter:h}=t,{preferredDrawingMode:f}=t,{state:g}=t,{style:m}=t,{toolName:v=cP()[0]}=t,{user:y}=t,{viewer:b}=t,w=navigator.userAgent.match(/firefox|fxios/i),{store:x,selection:S,hover:_}=g;c3(e,S,e=>n(22,d=e));let E=e=>{x.unobserve(o);let t=e.filter(({editable:e})=>e).map(({id:e})=>e);if(t.length>0){if(n(6,a=t.map(e=>x.getAnnotation(e))),o=e=>{let{updated:t}=e.changes;n(6,a=(t||[]).map(e=>e.newValue))},x.observe(o,{annotations:t}),w){let{width:e}=b.viewport.viewerElementToViewportRectangle(new/*@__PURE__*/(Y(s0)).Rect(0,0,1,1));b.viewport.panBy(new/*@__PURE__*/(Y(s0)).Point(Math.abs(e/10),0))}}else n(6,a=void 0)},T=(e,t)=>{let{x:n,y:i}=b.viewport.viewerElementToImageCoordinates(new/*@__PURE__*/(Y(s0)).Point(e,t));return[n,i]};return e.$$set=e=>{"drawingEnabled"in e&&n(0,p=e.drawingEnabled),"filter"in e&&n(15,h=e.filter),"preferredDrawingMode"in e&&n(16,f=e.preferredDrawingMode),"state"in e&&n(17,g=e.state),"style"in e&&n(1,m=e.style),"toolName"in e&&n(2,v=e.toolName),"user"in e&&n(18,y=e.user),"viewer"in e&&n(3,b=e.viewer)},e.$$.update=()=>{4&e.$$.dirty[0]&&n(7,{tool:l,opts:u}=cC(v)||{tool:void 0,opts:void 0},l,(n(21,u),n(2,v))),2162688&e.$$.dirty[0]&&n(4,c=(null==u?void 0:u.drawingMode)||f),25&e.$$.dirty[0]&&(p&&"drag"===c?b.setMouseNavEnabled(!1):b.setMouseNavEnabled(!0)),1&e.$$.dirty[0]&&p&&S.clear(),4194329&e.$$.dirty[0]&&0===d.selected.length&&"drag"===c&&p&&b.setMouseNavEnabled(!1),4194304&e.$$.dirty[0]&&E(d.selected)},[p,m,v,b,c,i,a,l,S,T,e=>{b.setMouseNavEnabled(!1),s=e.timeStamp},e=>{if(b.setMouseNavEnabled(!0),performance.now()-(s||0)<300){let{offsetX:t,offsetY:n}=e.detail,[i,o]=T(t,n),s=x.getAt(i,o);s&&(!h||h(s))&&!a.find(e=>e.id===s.id)&&(_.set(s.id),S.setSelected(s.id))}},e=>t=>{var n;let{target:i}=e,o=(null==(n=i.creator)?void 0:n.id)!==y.id||!i.created||/* @__PURE__ */new Date().getTime()-i.created.getTime()>6e5;x.updateTarget({...i,selector:t.detail,created:o?i.created:/* @__PURE__ */new Date,updated:o?/* @__PURE__ */new Date:void 0,updatedBy:o?y:void 0})},e=>{let t=function(e,t,n){if(xk.randomUUID&&!e)return xk.randomUUID();var i=(e=e||{}).random||(e.rng||function(){if(!xA&&!(xA="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xA(xR)})();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return(xS[e[t+0]]+xS[e[t+1]]+xS[e[t+2]]+xS[e[t+3]]+"-"+xS[e[t+4]]+xS[e[t+5]]+"-"+xS[e[t+6]]+xS[e[t+7]]+"-"+xS[e[t+8]]+xS[e[t+9]]+"-"+xS[e[t+10]]+xS[e[t+11]]+xS[e[t+12]]+xS[e[t+13]]+xS[e[t+14]]+xS[e[t+15]]).toLowerCase()}(i)}(),n={id:t,bodies:[],target:{annotation:t,selector:e.detail,creator:y,created:/* @__PURE__ */new Date}};x.addAnnotation(n),S.setSelected(n.id),b.setMouseNavEnabled(!0)},e=>cp(e),h,f,g,y,()=>v,()=>p,u,d,e=>un(e),function(e){dc[e?"unshift":"push"](()=>{n(5,i=e)})}]}class x0 extends dC{constructor(e){super(),dP(this,e,xQ,xJ,c2,{drawingEnabled:0,filter:15,preferredDrawingMode:16,state:17,style:1,toolName:2,user:18,viewer:3,getDrawingTool:19,isDrawingEnabled:20},null,[-1,-1])}get getDrawingTool(){return this.$$.ctx[19]}get isDrawingEnabled(){return this.$$.ctx[20]}}function x1(e){let t,n,i,o,a,s,l,u=e[2].appearance.label+"",c,d,p,h;return{c(){t=de("g"),n=de("rect"),l=de("text"),c=dt(u),dn(n,"class","a9s-presence-label-bg svelte-1rehw2p"),dn(n,"x",e[0]),dn(n,"y",i=e[1]-18/e[3]),dn(n,"height",o=18/e[3]),dn(n,"fill",a=e[2].appearance.color),dn(n,"stroke",s=e[2].appearance.color),dn(l,"font-size",d=12/e[3]),dn(l,"x",p=e[0]+Math.round(5/e[3])),dn(l,"y",h=e[1]-5/e[3]),dn(l,"class","svelte-1rehw2p"),dn(t,"class","a9s-presence-label")},m(i,o){c8(i,t,o),c6(t,n),c6(t,l),c6(l,c),e[6](t)},p(e,[t]){var f,g;1&t&&dn(n,"x",e[0]),10&t&&i!==(i=e[1]-18/e[3])&&dn(n,"y",i),8&t&&o!==(o=18/e[3])&&dn(n,"height",o),4&t&&a!==(a=e[2].appearance.color)&&dn(n,"fill",a),4&t&&s!==(s=e[2].appearance.color)&&dn(n,"stroke",s),4&t&&u!==(u=e[2].appearance.label+"")&&(f=c,g=""+(g=u),f.data!==g&&(f.data=g)),8&t&&d!==(d=12/e[3])&&dn(l,"font-size",d),9&t&&p!==(p=e[0]+Math.round(5/e[3]))&&dn(l,"x",p),10&t&&h!==(h=e[1]-5/e[3])&&dn(l,"y",h)},i:cZ,o:cZ,d(n){n&&c9(t),e[6](null)}}}function x2(e,t,n){let{x:i}=t,{y:o}=t,{user:a}=t,{scale:s}=t,{hAlign:l=null}=t,u,c=e=>{let t=u.querySelector("text"),n=u.querySelector("rect"),i=t.getBBox().width+10/e;"CENTER"===l&&u.setAttribute("style",`transform: translateX(-${i/2}px)`),n.setAttribute("width",`${i}`)};return e.$$set=e=>{"x"in e&&n(0,i=e.x),"y"in e&&n(1,o=e.y),"user"in e&&n(2,a=e.user),"scale"in e&&n(3,s=e.scale),"hAlign"in e&&n(5,l=e.hAlign)},e.$$.update=()=>{24&e.$$.dirty&&u&&c(s)},[i,o,a,s,u,l,function(e){dc[e?"unshift":"push"](()=>{n(4,u=e)})}]}class x3 extends dC{constructor(e){super(),dP(this,e,x2,x1,c2,{x:0,y:1,user:2,scale:3,hAlign:5})}}function x5(e){let t,n,i,o,a,s;return n=new x3({props:{scale:e[1],user:e[0],x:e[3][0],y:e[3][1],hAlign:"CENTER"}}),{c(){t=de("g"),dT(n.$$.fragment),dn(i=de("polygon"),"class","a9s-presence-shape a9s-presence-polygon svelte-fgq4n0"),dn(i,"stroke",o=e[0].appearance.color),dn(i,"fill","transparent"),dn(i,"points",a=e[2].points.map(x4).join(" ")),dn(t,"class","a9s-presence-overlay")},m(e,o){c8(e,t,o),dO(n,t,null),c6(t,i),s=!0},p(e,[t]){let l={};2&t&&(l.scale=e[1]),1&t&&(l.user=e[0]),8&t&&(l.x=e[3][0]),8&t&&(l.y=e[3][1]),n.$set(l),(!s||1&t&&o!==(o=e[0].appearance.color))&&dn(i,"stroke",o),(!s||4&t&&a!==(a=e[2].points.map(x4).join(" ")))&&dn(i,"points",a)},i(e){s||(dS(n.$$.fragment,e),s=!0)},o(e){d_(n.$$.fragment,e),s=!1},d(e){e&&c9(t),dI(n)}}}const x4=e=>e.join(",");function x6(e,t,n){let i,o,{annotation:a}=t,{user:s}=t,{scale:l}=t,u=e=>{let[t,...n]=e.points;return n.forEach(([e,n])=>{n<t[1]&&(t=[e,n])}),t};return e.$$set=e=>{"annotation"in e&&n(4,a=e.annotation),"user"in e&&n(0,s=e.user),"scale"in e&&n(1,l=e.scale)},e.$$.update=()=>{16&e.$$.dirty&&n(2,i=a.target.selector.geometry),4&e.$$.dirty&&n(3,o=u(i))},[s,l,i,o,a]}class x8 extends dC{constructor(e){super(),dP(this,e,x6,x5,c2,{annotation:4,user:0,scale:1})}}function x9(e){let t,n,i,o,a,s,l,u,c;return n=new x3({props:{scale:e[1],user:e[0],x:e[2].x,y:e[2].y}}),{c(){t=de("g"),dT(n.$$.fragment),dn(i=de("rect"),"class","a9s-presence-shape a9s-presence-rectangle svelte-gze948"),dn(i,"stroke",o=e[0].appearance.color),dn(i,"fill","transparent"),dn(i,"x",a=e[2].x),dn(i,"y",s=e[2].y),dn(i,"width",l=e[2].w),dn(i,"height",u=e[2].h),dn(t,"class","a9s-presence-overlay")},m(e,o){c8(e,t,o),dO(n,t,null),c6(t,i),c=!0},p(e,[t]){let d={};2&t&&(d.scale=e[1]),1&t&&(d.user=e[0]),4&t&&(d.x=e[2].x),4&t&&(d.y=e[2].y),n.$set(d),(!c||1&t&&o!==(o=e[0].appearance.color))&&dn(i,"stroke",o),(!c||4&t&&a!==(a=e[2].x))&&dn(i,"x",a),(!c||4&t&&s!==(s=e[2].y))&&dn(i,"y",s),(!c||4&t&&l!==(l=e[2].w))&&dn(i,"width",l),(!c||4&t&&u!==(u=e[2].h))&&dn(i,"height",u)},i(e){c||(dS(n.$$.fragment,e),c=!0)},o(e){d_(n.$$.fragment,e),c=!1},d(e){e&&c9(t),dI(n)}}}function x7(e,t,n){let i,{annotation:o}=t,{user:a}=t,{scale:s}=t;return e.$$set=e=>{"annotation"in e&&n(3,o=e.annotation),"user"in e&&n(0,a=e.user),"scale"in e&&n(1,s=e.scale)},e.$$.update=()=>{8&e.$$.dirty&&n(2,i=o.target.selector.geometry)},[a,s,i,o]}class Se extends dC{constructor(e){super(),dP(this,e,x7,x9,c2,{annotation:3,user:0,scale:1})}}const{Boolean:St}=c4;function Sr(e,t,n){let i=e.slice();return i[8]=t[n],i}function Sn(e){let t,n;return t=new xU({props:{viewer:e[0],$$slots:{default:[Sl,({transform:e,scale:t})=>({6:e,7:t}),({transform:e,scale:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}}}),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(e,n){let i={};1&n&&(i.viewer=e[0]),2244&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function Si(e){let t,n,i=dE(e[2]),o=[];for(let t=0;t<i.length;t+=1)o[t]=Ss(Sr(e,i,t));let a=e=>d_(o[e],1,1,()=>{o[e]=null});return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dr()},m(e,i){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,i);c8(e,t,i),n=!0},p(e,n){if(132&n){let s;for(s=0,i=dE(e[2]);s<i.length;s+=1){let a=Sr(e,i,s);o[s]?(o[s].p(a,n),dS(o[s],1)):(o[s]=Ss(a),o[s].c(),dS(o[s],1),o[s].m(t.parentNode,t))}for(dw(),s=i.length;s<o.length;s+=1)a(s);dx()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)dS(o[e]);n=!0}},o(e){o=o.filter(St);for(let e=0;e<o.length;e+=1)d_(o[e]);n=!1},d(e){e&&c9(t),c7(o,e)}}}function So(e){let t,n;return t=new x8({props:{annotation:e[8].annotation,user:e[8].selectedBy,scale:e[7]}}),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(e,n){let i={};4&n&&(i.annotation=e[8].annotation),4&n&&(i.user=e[8].selectedBy),128&n&&(i.scale=e[7]),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function Sa(e){let t,n;return t=new Se({props:{annotation:e[8].annotation,user:e[8].selectedBy,scale:e[7]}}),{c(){dT(t.$$.fragment)},m(e,i){dO(t,e,i),n=!0},p(e,n){let i={};4&n&&(i.annotation=e[8].annotation),4&n&&(i.user=e[8].selectedBy),128&n&&(i.scale=e[7]),t.$set(i)},i(e){n||(dS(t.$$.fragment,e),n=!0)},o(e){d_(t.$$.fragment,e),n=!1},d(e){dI(t,e)}}}function Ss(e){let t,n,i,o;let a=[Sa,So],s=[];function l(e,t){return e[8].annotation.target.selector.type===l8.RECTANGLE?0:e[8].annotation.target.selector.type===l8.POLYGON?1:-1}return~(t=l(e))&&(n=s[t]=a[t](e)),{c(){n&&n.c(),i=dr()},m(e,n){~t&&s[t].m(e,n),c8(e,i,n),o=!0},p(e,o){let u=t;(t=l(e))===u?~t&&s[t].p(e,o):(n&&(dw(),d_(s[u],1,1,()=>{s[u]=null}),dx()),~t?((n=s[t])?n.p(e,o):(n=s[t]=a[t](e)).c(),dS(n,1),n.m(i.parentNode,i)):n=null)},i(e){o||(dS(n),o=!0)},o(e){d_(n),o=!1},d(e){e&&c9(i),~t&&s[t].d(e)}}}function Sl(e){let t,n,i,o,a=e[2].length>0&&Si(e);return{c(){t=de("svg"),n=de("g"),a&&a.c(),dn(n,"transform",i=e[6]),dn(t,"class","a9s-osd-presencelayer svelte-1krwc4m")},m(e,i){c8(e,t,i),c6(t,n),a&&a.m(n,null),o=!0},p(e,t){e[2].length>0?a?(a.p(e,t),4&t&&dS(a,1)):((a=Si(e)).c(),dS(a,1),a.m(n,null)):a&&(dw(),d_(a,1,1,()=>{a=null}),dx()),(!o||64&t&&i!==(i=e[6]))&&dn(n,"transform",i)},i(e){o||(dS(a),o=!0)},o(e){d_(a),o=!1},d(e){e&&c9(t),a&&a.d()}}}function Su(e){let t=!!e[1],n,i,o=t&&Sn(e);return{c(){o&&o.c(),n=dr()},m(e,t){o&&o.m(e,t),c8(e,n,t),i=!0},p(e,[i]){2&i&&(t=!!e[1]),t?o?(o.p(e,i),2&i&&dS(o,1)):((o=Sn(e)).c(),dS(o,1),o.m(n.parentNode,n)):o&&(dw(),d_(o,1,1,()=>{o=null}),dx())},i(e){i||(dS(o),i=!0)},o(e){d_(o),i=!1},d(e){e&&c9(n),o&&o.d(e)}}}function Sc(e,t,n){var i;let{store:o}=t,{viewer:a}=t,{provider:s}=t,l=[],u,c=(e,t)=>{n(2,l=[...l.filter(({selectedBy:t})=>t.presenceKey!==e.presenceKey),...(t||[]).map(t=>({annotation:o.getAnnotation(t),selectedBy:e}))].filter(({annotation:e})=>(e||console.warn("Selection event on unknown annotation"),!!e))),u&&o.unobserve(u),u=e=>{let{deleted:t,updated:i}=e.changes,o=new Set((t||[]).map(e=>e.id));n(2,l=l.filter(({annotation:e})=>!o.has(e.id)).map(e=>{let t=(i||[]).find(t=>t.oldValue.id===e.annotation.id);return t?{selectedBy:e.selectedBy,annotation:t.newValue}:e}))},o.observe(u,{annotations:l.map(e=>e.annotation.id)})};return i=()=>{u&&o.unobserve(u)},da().$$.on_destroy.push(i),e.$$set=e=>{"store"in e&&n(3,o=e.store),"viewer"in e&&n(0,a=e.viewer),"provider"in e&&n(1,s=e.provider)},e.$$.update=()=>{2&e.$$.dirty&&s&&s.on("selectionChange",c)},[a,s,l,o]}class Sd extends dC{constructor(e){super(),dP(this,e,Sc,Su,c2,{store:3,viewer:0,provider:1})}}const Sp=(e,t)=>{"auto"===t?e.addHandler("open",t=>{let n=e.world.getItemCount();e.world.getItemAt(n-1).addOnceHandler("fully-loaded-change",t=>{let{fullyLoaded:n}=t;if(n){let t=cq(e.canvas.querySelector("canvas"));e.element.setAttribute("data-theme",t)}})}):e.element.setAttribute("data-theme",t)},Sh=(e,t,n)=>(i,o={})=>{let a="string"==typeof i?i:i.id,s=t.getAnnotation(a);if(!s||!un(s))return;let l=e.container.getBoundingClientRect(),{padding:u}=o,[c,d,p,h]=u?Array.isArray(u)?u:[u,u,u,u]:[0,0,0,0];c/=l.height,d/=l.width,p/=l.height,h/=l.width;let{minX:f,minY:g,maxX:m,maxY:v}=s.target.selector.geometry.bounds,y=m-f,b=v-g,w=f-h*y,x=g-c*b,S=y+(d+h)*y,_=b+(c+p)*b,E=e.viewport.imageToViewportRectangle(w,x,S,_);e.viewport[n](E,o.immediately)},Sf=(e,t)=>Sh(e,t,"fitBounds"),Sg=(e,t)=>Sh(e,t,"fitBoundsWithConstraints"),Sm=(e,t={})=>{let n=cX(t,{drawingEnabled:!1,drawingMode:ci?"drag":"click",userSelectAction:s8.EDIT,theme:"light"}),i=cG(n),{hover:o,selection:a,store:s}=i,l=lu(s),u=lc(i,l,n.adapter,n.autoSave),c=lm(),d=n.drawingEnabled,p=n.drawingMode,h=cK(l,e.element),f=new xx({target:e.element,props:{state:i,viewer:e,style:n.style,filter:void 0}}),g=new Sd({target:e.element.querySelector(".openseadragon-canvas"),props:{provider:void 0,store:s,viewer:e}}),m=new x0({target:e.element.querySelector(".openseadragon-canvas"),props:{drawingEnabled:!!d,filter:void 0,preferredDrawingMode:p,state:i,style:n.style,user:c,viewer:e}});f.$on("click",e=>{let{originalEvent:t,annotation:n}=e.detail;n&&!("click"===p&&d)?a.userSelect(n.id,t):a.isEmpty()||a.clear()}),e.element.addEventListener("pointerdown",e=>{if(o.current){let t=s.getAnnotation(o.current);u.emit("clickAnnotation",t,e)}}),Sp(e,n.theme);let v=lp(i,l,n.adapter),y=Sf(e,s),b=Sg(e,s);return{...v,cancelDrawing:()=>{m.$set({drawingEnabled:!1}),setTimeout(()=>m.$set({drawingEnabled:!0}),1)},destroy:()=>{f.$destroy(),g.$destroy(),m.$destroy(),h.destroy(),l.destroy()},fitBounds:y,fitBoundsWithConstraints:b,getDrawingTool:()=>m.getDrawingTool(),getUser:()=>c,isDrawingEnabled:()=>m.isDrawingEnabled(),listDrawingTools:cP,on:u.on,off:u.off,registerDrawingTool:(e,t,n)=>cA(e,t,n),registerShapeEditor:(e,t)=>ch(e,t),setDrawingEnabled:e=>{d=e,m.$set({drawingEnabled:d})},setDrawingTool:e=>{if(!cC(e))throw`No drawing tool named ${e}`;m.$set({toolName:e})},setFilter:e=>{f.$set({filter:e}),m.$set({filter:e})},setPresenceProvider:e=>g.$set({provider:e}),setStyle:e=>{f.$set({style:e}),m.$set({style:e})},setTheme:t=>Sp(e,t),setUser:e=>{c=e,m.$set({user:e})},setVisible:e=>f.$set({visible:e}),state:i,viewer:e}},Sv=(0,sz.createContext)({viewer:null,setViewer:null}),Sy=e=>{let{children:t,tool:n,...i}=e,[o,a]=(0,sz.useState)(),{anno:s,setAnno:l}=(0,sz.useContext)(sY);return(0,sz.useEffect)(()=>{if(null!=o&&o.element){let t=Sm(o,i);return void 0!==e.drawingEnabled&&t.setDrawingEnabled(e.drawingEnabled),e.filter&&t.setFilter(e.filter),e.style&&t.setStyle(e.style),e.tool&&t.setDrawingTool(e.tool),l(t),()=>{t.destroy(),l(void 0)}}},[o]),(0,sz.useEffect)(()=>{s&&s.setDrawingEnabled(e.drawingEnabled)},[e.drawingEnabled]),(0,sz.useEffect)(()=>{s&&s.setFilter(e.filter)},[e.filter]),(0,sz.useEffect)(()=>{s&&s.setStyle(e.style)},[e.style]),(0,sz.useEffect)(()=>{s&&s.setDrawingTool(n)},[n]),(0,sz.useEffect)(()=>{s&&s.setUserSelectAction(e.userSelectAction)},[e.userSelectAction]),/* @__PURE__ */sH.jsx(Sv.Provider,{value:{viewer:o,setViewer:a},children:e.children})},Sb=e=>/*#__PURE__*/(0,sB.jsxs)(Sy,{children:[/*#__PURE__*/(0,sB.jsx)(e.TargetComponent,{...e}),/*#__PURE__*/(0,sB.jsx)(sQ,{})]});var au=ee("hJg9G");({viewer:function(e,t){return new sF(e,Array.isArray(t)?{plugins:t}:t)}}).viewer({id:"mirador-test",windows:[{manifestId:"https://iiif.io/api/cookbook/recipe/0266-full-canvas-annotation/manifest.json",thumbnailNavigationPosition:"right",allowClose:!1}],window:{allowWindowSideBar:!1,sideBarPanel:"",sideBarOpen:!0},workspace:{type:"not-mosaic-or-elastic"}},[{component:function(e){return/*#__PURE__*/(0,sB.jsx)(sK,{children:/*#__PURE__*/(0,sB.jsx)(Sb,{...e})})},target:"OpenSeadragonViewer",mode:"wrap",mapDispatchToProps:(e,t)=>({testProps:t}),mapStateToProps:(e,{windowId:t})=>{let n=(0,sd.getAnnotations)(e),i=(0,au.getCurrentCanvas)(e,{windowId:t}),o=n[i.id],a={};for(let[e,n]of Object.entries(o))n.json&&"AnnotationPage"===n.json.type&&(a[t]||(a[t]=[]),a[t].push(...n.json.items));return{manifestId:(0,al.getWindow)(e,{windowId:t}).manifestId,annotations:a[t]||[],currentCanvas:i}}}]);
//# sourceMappingURL=index.da0850b3.js.map
